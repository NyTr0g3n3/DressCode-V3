(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function JA(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Bv={exports:{}},bc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JE;function nO(){if(JE)return bc;JE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,s,o){var u=null;if(o!==void 0&&(u=""+o),s.key!==void 0&&(u=""+s.key),"key"in s){o={};for(var f in s)f!=="key"&&(o[f]=s[f])}else o=s;return s=o.ref,{$$typeof:t,type:r,key:u,ref:s!==void 0?s:null,props:o}}return bc.Fragment=e,bc.jsx=n,bc.jsxs=n,bc}var e1;function rO(){return e1||(e1=1,Bv.exports=nO()),Bv.exports}var y=rO(),Fv={exports:{}},ze={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t1;function iO(){if(t1)return ze;t1=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),_=Symbol.iterator;function E(B){return B===null||typeof B!="object"?null:(B=_&&B[_]||B["@@iterator"],typeof B=="function"?B:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,j={};function U(B,Z,ee){this.props=B,this.context=Z,this.refs=j,this.updater=ee||C}U.prototype.isReactComponent={},U.prototype.setState=function(B,Z){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,Z,"setState")},U.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function M(){}M.prototype=U.prototype;function z(B,Z,ee){this.props=B,this.context=Z,this.refs=j,this.updater=ee||C}var G=z.prototype=new M;G.constructor=z,N(G,U.prototype),G.isPureReactComponent=!0;var K=Array.isArray;function H(){}var A={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function I(B,Z,ee){var re=ee.ref;return{$$typeof:t,type:B,key:Z,ref:re!==void 0?re:null,props:ee}}function L(B,Z){return I(B.type,Z,B.props)}function V(B){return typeof B=="object"&&B!==null&&B.$$typeof===t}function O(B){var Z={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(ee){return Z[ee]})}var P=/\/+/g;function xe(B,Z){return typeof B=="object"&&B!==null&&B.key!=null?O(""+B.key):Z.toString(36)}function De(B){switch(B.status){case"fulfilled":return B.value;case"rejected":throw B.reason;default:switch(typeof B.status=="string"?B.then(H,H):(B.status="pending",B.then(function(Z){B.status==="pending"&&(B.status="fulfilled",B.value=Z)},function(Z){B.status==="pending"&&(B.status="rejected",B.reason=Z)})),B.status){case"fulfilled":return B.value;case"rejected":throw B.reason}}throw B}function Q(B,Z,ee,re,de){var je=typeof B;(je==="undefined"||je==="boolean")&&(B=null);var Se=!1;if(B===null)Se=!0;else switch(je){case"bigint":case"string":case"number":Se=!0;break;case"object":switch(B.$$typeof){case t:case e:Se=!0;break;case g:return Se=B._init,Q(Se(B._payload),Z,ee,re,de)}}if(Se)return de=de(B),Se=re===""?"."+xe(B,0):re,K(de)?(ee="",Se!=null&&(ee=Se.replace(P,"$&/")+"/"),Q(de,Z,ee,"",function(Vn){return Vn})):de!=null&&(V(de)&&(de=L(de,ee+(de.key==null||B&&B.key===de.key?"":(""+de.key).replace(P,"$&/")+"/")+Se)),Z.push(de)),1;Se=0;var Dt=re===""?".":re+":";if(K(B))for(var Et=0;Et<B.length;Et++)re=B[Et],je=Dt+xe(re,Et),Se+=Q(re,Z,ee,je,de);else if(Et=E(B),typeof Et=="function")for(B=Et.call(B),Et=0;!(re=B.next()).done;)re=re.value,je=Dt+xe(re,Et++),Se+=Q(re,Z,ee,je,de);else if(je==="object"){if(typeof B.then=="function")return Q(De(B),Z,ee,re,de);throw Z=String(B),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return Se}function se(B,Z,ee){if(B==null)return B;var re=[],de=0;return Q(B,re,"","",function(je){return Z.call(ee,je,de++)}),re}function fe(B){if(B._status===-1){var Z=B._result;Z=Z(),Z.then(function(ee){(B._status===0||B._status===-1)&&(B._status=1,B._result=ee)},function(ee){(B._status===0||B._status===-1)&&(B._status=2,B._result=ee)}),B._status===-1&&(B._status=0,B._result=Z)}if(B._status===1)return B._result.default;throw B._result}var we=typeof reportError=="function"?reportError:function(B){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof B=="object"&&B!==null&&typeof B.message=="string"?String(B.message):String(B),error:B});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",B);return}console.error(B)},Ee={map:se,forEach:function(B,Z,ee){se(B,function(){Z.apply(this,arguments)},ee)},count:function(B){var Z=0;return se(B,function(){Z++}),Z},toArray:function(B){return se(B,function(Z){return Z})||[]},only:function(B){if(!V(B))throw Error("React.Children.only expected to receive a single React element child.");return B}};return ze.Activity=b,ze.Children=Ee,ze.Component=U,ze.Fragment=n,ze.Profiler=s,ze.PureComponent=z,ze.StrictMode=r,ze.Suspense=h,ze.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=A,ze.__COMPILER_RUNTIME={__proto__:null,c:function(B){return A.H.useMemoCache(B)}},ze.cache=function(B){return function(){return B.apply(null,arguments)}},ze.cacheSignal=function(){return null},ze.cloneElement=function(B,Z,ee){if(B==null)throw Error("The argument must be a React element, but you passed "+B+".");var re=N({},B.props),de=B.key;if(Z!=null)for(je in Z.key!==void 0&&(de=""+Z.key),Z)!S.call(Z,je)||je==="key"||je==="__self"||je==="__source"||je==="ref"&&Z.ref===void 0||(re[je]=Z[je]);var je=arguments.length-2;if(je===1)re.children=ee;else if(1<je){for(var Se=Array(je),Dt=0;Dt<je;Dt++)Se[Dt]=arguments[Dt+2];re.children=Se}return I(B.type,de,re)},ze.createContext=function(B){return B={$$typeof:u,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null},B.Provider=B,B.Consumer={$$typeof:o,_context:B},B},ze.createElement=function(B,Z,ee){var re,de={},je=null;if(Z!=null)for(re in Z.key!==void 0&&(je=""+Z.key),Z)S.call(Z,re)&&re!=="key"&&re!=="__self"&&re!=="__source"&&(de[re]=Z[re]);var Se=arguments.length-2;if(Se===1)de.children=ee;else if(1<Se){for(var Dt=Array(Se),Et=0;Et<Se;Et++)Dt[Et]=arguments[Et+2];de.children=Dt}if(B&&B.defaultProps)for(re in Se=B.defaultProps,Se)de[re]===void 0&&(de[re]=Se[re]);return I(B,je,de)},ze.createRef=function(){return{current:null}},ze.forwardRef=function(B){return{$$typeof:f,render:B}},ze.isValidElement=V,ze.lazy=function(B){return{$$typeof:g,_payload:{_status:-1,_result:B},_init:fe}},ze.memo=function(B,Z){return{$$typeof:d,type:B,compare:Z===void 0?null:Z}},ze.startTransition=function(B){var Z=A.T,ee={};A.T=ee;try{var re=B(),de=A.S;de!==null&&de(ee,re),typeof re=="object"&&re!==null&&typeof re.then=="function"&&re.then(H,we)}catch(je){we(je)}finally{Z!==null&&ee.types!==null&&(Z.types=ee.types),A.T=Z}},ze.unstable_useCacheRefresh=function(){return A.H.useCacheRefresh()},ze.use=function(B){return A.H.use(B)},ze.useActionState=function(B,Z,ee){return A.H.useActionState(B,Z,ee)},ze.useCallback=function(B,Z){return A.H.useCallback(B,Z)},ze.useContext=function(B){return A.H.useContext(B)},ze.useDebugValue=function(){},ze.useDeferredValue=function(B,Z){return A.H.useDeferredValue(B,Z)},ze.useEffect=function(B,Z){return A.H.useEffect(B,Z)},ze.useEffectEvent=function(B){return A.H.useEffectEvent(B)},ze.useId=function(){return A.H.useId()},ze.useImperativeHandle=function(B,Z,ee){return A.H.useImperativeHandle(B,Z,ee)},ze.useInsertionEffect=function(B,Z){return A.H.useInsertionEffect(B,Z)},ze.useLayoutEffect=function(B,Z){return A.H.useLayoutEffect(B,Z)},ze.useMemo=function(B,Z){return A.H.useMemo(B,Z)},ze.useOptimistic=function(B,Z){return A.H.useOptimistic(B,Z)},ze.useReducer=function(B,Z,ee){return A.H.useReducer(B,Z,ee)},ze.useRef=function(B){return A.H.useRef(B)},ze.useState=function(B){return A.H.useState(B)},ze.useSyncExternalStore=function(B,Z,ee){return A.H.useSyncExternalStore(B,Z,ee)},ze.useTransition=function(){return A.H.useTransition()},ze.version="19.2.3",ze}var n1;function z0(){return n1||(n1=1,Fv.exports=iO()),Fv.exports}var D=z0();const Sn=JA(D);var Hv={exports:{}},_c={},qv={exports:{}},Gv={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r1;function sO(){return r1||(r1=1,(function(t){function e(Q,se){var fe=Q.length;Q.push(se);e:for(;0<fe;){var we=fe-1>>>1,Ee=Q[we];if(0<s(Ee,se))Q[we]=se,Q[fe]=Ee,fe=we;else break e}}function n(Q){return Q.length===0?null:Q[0]}function r(Q){if(Q.length===0)return null;var se=Q[0],fe=Q.pop();if(fe!==se){Q[0]=fe;e:for(var we=0,Ee=Q.length,B=Ee>>>1;we<B;){var Z=2*(we+1)-1,ee=Q[Z],re=Z+1,de=Q[re];if(0>s(ee,fe))re<Ee&&0>s(de,ee)?(Q[we]=de,Q[re]=fe,we=re):(Q[we]=ee,Q[Z]=fe,we=Z);else if(re<Ee&&0>s(de,fe))Q[we]=de,Q[re]=fe,we=re;else break e}}return se}function s(Q,se){var fe=Q.sortIndex-se.sortIndex;return fe!==0?fe:Q.id-se.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,f=u.now();t.unstable_now=function(){return u.now()-f}}var h=[],d=[],g=1,b=null,_=3,E=!1,C=!1,N=!1,j=!1,U=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;function G(Q){for(var se=n(d);se!==null;){if(se.callback===null)r(d);else if(se.startTime<=Q)r(d),se.sortIndex=se.expirationTime,e(h,se);else break;se=n(d)}}function K(Q){if(N=!1,G(Q),!C)if(n(h)!==null)C=!0,H||(H=!0,O());else{var se=n(d);se!==null&&De(K,se.startTime-Q)}}var H=!1,A=-1,S=5,I=-1;function L(){return j?!0:!(t.unstable_now()-I<S)}function V(){if(j=!1,H){var Q=t.unstable_now();I=Q;var se=!0;try{e:{C=!1,N&&(N=!1,M(A),A=-1),E=!0;var fe=_;try{t:{for(G(Q),b=n(h);b!==null&&!(b.expirationTime>Q&&L());){var we=b.callback;if(typeof we=="function"){b.callback=null,_=b.priorityLevel;var Ee=we(b.expirationTime<=Q);if(Q=t.unstable_now(),typeof Ee=="function"){b.callback=Ee,G(Q),se=!0;break t}b===n(h)&&r(h),G(Q)}else r(h);b=n(h)}if(b!==null)se=!0;else{var B=n(d);B!==null&&De(K,B.startTime-Q),se=!1}}break e}finally{b=null,_=fe,E=!1}se=void 0}}finally{se?O():H=!1}}}var O;if(typeof z=="function")O=function(){z(V)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,xe=P.port2;P.port1.onmessage=V,O=function(){xe.postMessage(null)}}else O=function(){U(V,0)};function De(Q,se){A=U(function(){Q(t.unstable_now())},se)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Q){Q.callback=null},t.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<Q?Math.floor(1e3/Q):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_next=function(Q){switch(_){case 1:case 2:case 3:var se=3;break;default:se=_}var fe=_;_=se;try{return Q()}finally{_=fe}},t.unstable_requestPaint=function(){j=!0},t.unstable_runWithPriority=function(Q,se){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var fe=_;_=Q;try{return se()}finally{_=fe}},t.unstable_scheduleCallback=function(Q,se,fe){var we=t.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?we+fe:we):fe=we,Q){case 1:var Ee=-1;break;case 2:Ee=250;break;case 5:Ee=1073741823;break;case 4:Ee=1e4;break;default:Ee=5e3}return Ee=fe+Ee,Q={id:g++,callback:se,priorityLevel:Q,startTime:fe,expirationTime:Ee,sortIndex:-1},fe>we?(Q.sortIndex=fe,e(d,Q),n(h)===null&&Q===n(d)&&(N?(M(A),A=-1):N=!0,De(K,fe-we))):(Q.sortIndex=Ee,e(h,Q),C||E||(C=!0,H||(H=!0,O()))),Q},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(Q){var se=_;return function(){var fe=_;_=se;try{return Q.apply(this,arguments)}finally{_=fe}}}})(Gv)),Gv}var i1;function aO(){return i1||(i1=1,qv.exports=sO()),qv.exports}var $v={exports:{}},nr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s1;function oO(){if(s1)return nr;s1=1;var t=z0();function e(h){var d="https://react.dev/errors/"+h;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)d+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+h+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(h,d,g){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:b==null?null:""+b,children:h,containerInfo:d,implementation:g}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(h,d){if(h==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return nr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,nr.createPortal=function(h,d){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return o(h,d,null,g)},nr.flushSync=function(h){var d=u.T,g=r.p;try{if(u.T=null,r.p=2,h)return h()}finally{u.T=d,r.p=g,r.d.f()}},nr.preconnect=function(h,d){typeof h=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(h,d))},nr.prefetchDNS=function(h){typeof h=="string"&&r.d.D(h)},nr.preinit=function(h,d){if(typeof h=="string"&&d&&typeof d.as=="string"){var g=d.as,b=f(g,d.crossOrigin),_=typeof d.integrity=="string"?d.integrity:void 0,E=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;g==="style"?r.d.S(h,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:b,integrity:_,fetchPriority:E}):g==="script"&&r.d.X(h,{crossOrigin:b,integrity:_,fetchPriority:E,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},nr.preinitModule=function(h,d){if(typeof h=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var g=f(d.as,d.crossOrigin);r.d.M(h,{crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(h)},nr.preload=function(h,d){if(typeof h=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var g=d.as,b=f(g,d.crossOrigin);r.d.L(h,g,{crossOrigin:b,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},nr.preloadModule=function(h,d){if(typeof h=="string")if(d){var g=f(d.as,d.crossOrigin);r.d.m(h,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(h)},nr.requestFormReset=function(h){r.d.r(h)},nr.unstable_batchedUpdates=function(h,d){return h(d)},nr.useFormState=function(h,d,g){return u.H.useFormState(h,d,g)},nr.useFormStatus=function(){return u.H.useHostTransitionStatus()},nr.version="19.2.3",nr}var a1;function e2(){if(a1)return $v.exports;a1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),$v.exports=oO(),$v.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o1;function lO(){if(o1)return _c;o1=1;var t=aO(),e=z0(),n=e2();function r(i){var a="https://react.dev/errors/"+i;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var a=i,l=i;if(i.alternate)for(;a.return;)a=a.return;else{i=a;do a=i,(a.flags&4098)!==0&&(l=a.return),i=a.return;while(i)}return a.tag===3?l:null}function u(i){if(i.tag===13){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function f(i){if(i.tag===31){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function h(i){if(o(i)!==i)throw Error(r(188))}function d(i){var a=i.alternate;if(!a){if(a=o(i),a===null)throw Error(r(188));return a!==i?null:i}for(var l=i,c=a;;){var p=l.return;if(p===null)break;var v=p.alternate;if(v===null){if(c=p.return,c!==null){l=c;continue}break}if(p.child===v.child){for(v=p.child;v;){if(v===l)return h(p),i;if(v===c)return h(p),a;v=v.sibling}throw Error(r(188))}if(l.return!==c.return)l=p,c=v;else{for(var w=!1,R=p.child;R;){if(R===l){w=!0,l=p,c=v;break}if(R===c){w=!0,c=p,l=v;break}R=R.sibling}if(!w){for(R=v.child;R;){if(R===l){w=!0,l=v,c=p;break}if(R===c){w=!0,c=v,l=p;break}R=R.sibling}if(!w)throw Error(r(189))}}if(l.alternate!==c)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?i:a}function g(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i;for(i=i.child;i!==null;){if(a=g(i),a!==null)return a;i=i.sibling}return null}var b=Object.assign,_=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),M=Symbol.for("react.consumer"),z=Symbol.for("react.context"),G=Symbol.for("react.forward_ref"),K=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function O(i){return i===null||typeof i!="object"?null:(i=V&&i[V]||i["@@iterator"],typeof i=="function"?i:null)}var P=Symbol.for("react.client.reference");function xe(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===P?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case N:return"Fragment";case U:return"Profiler";case j:return"StrictMode";case K:return"Suspense";case H:return"SuspenseList";case I:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case C:return"Portal";case z:return i.displayName||"Context";case M:return(i._context.displayName||"Context")+".Consumer";case G:var a=i.render;return i=i.displayName,i||(i=a.displayName||a.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case A:return a=i.displayName||null,a!==null?a:xe(i.type)||"Memo";case S:a=i._payload,i=i._init;try{return xe(i(a))}catch{}}return null}var De=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},we=[],Ee=-1;function B(i){return{current:i}}function Z(i){0>Ee||(i.current=we[Ee],we[Ee]=null,Ee--)}function ee(i,a){Ee++,we[Ee]=i.current,i.current=a}var re=B(null),de=B(null),je=B(null),Se=B(null);function Dt(i,a){switch(ee(je,a),ee(de,i),ee(re,null),a.nodeType){case 9:case 11:i=(i=a.documentElement)&&(i=i.namespaceURI)?wE(i):0;break;default:if(i=a.tagName,a=a.namespaceURI)a=wE(a),i=EE(a,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}Z(re),ee(re,i)}function Et(){Z(re),Z(de),Z(je)}function Vn(i){i.memoizedState!==null&&ee(Se,i);var a=re.current,l=EE(a,i.type);a!==l&&(ee(de,i),ee(re,l))}function wr(i){de.current===i&&(Z(re),Z(de)),Se.current===i&&(Z(Se),pc._currentValue=fe)}var Pt,Ln;function xn(i){if(Pt===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);Pt=a&&a[1]||"",Ln=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Pt+i+Ln}var Cn=!1;function Rn(i,a){if(!i||Cn)return"";Cn=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(a){var oe=function(){throw Error()};if(Object.defineProperty(oe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(oe,[])}catch(te){var J=te}Reflect.construct(i,[],oe)}else{try{oe.call()}catch(te){J=te}i.call(oe.prototype)}}else{try{throw Error()}catch(te){J=te}(oe=i())&&typeof oe.catch=="function"&&oe.catch(function(){})}}catch(te){if(te&&J&&typeof te.stack=="string")return[te.stack,J.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=c.DetermineComponentFrameRoot(),w=v[0],R=v[1];if(w&&R){var F=w.split(`
`),X=R.split(`
`);for(p=c=0;c<F.length&&!F[c].includes("DetermineComponentFrameRoot");)c++;for(;p<X.length&&!X[p].includes("DetermineComponentFrameRoot");)p++;if(c===F.length||p===X.length)for(c=F.length-1,p=X.length-1;1<=c&&0<=p&&F[c]!==X[p];)p--;for(;1<=c&&0<=p;c--,p--)if(F[c]!==X[p]){if(c!==1||p!==1)do if(c--,p--,0>p||F[c]!==X[p]){var ie=`
`+F[c].replace(" at new "," at ");return i.displayName&&ie.includes("<anonymous>")&&(ie=ie.replace("<anonymous>",i.displayName)),ie}while(1<=c&&0<=p);break}}}finally{Cn=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?xn(l):""}function Qn(i,a){switch(i.tag){case 26:case 27:case 5:return xn(i.type);case 16:return xn("Lazy");case 13:return i.child!==a&&a!==null?xn("Suspense Fallback"):xn("Suspense");case 19:return xn("SuspenseList");case 0:case 15:return Rn(i.type,!1);case 11:return Rn(i.type.render,!1);case 1:return Rn(i.type,!0);case 31:return xn("Activity");default:return""}}function Pr(i){try{var a="",l=null;do a+=Qn(i,l),l=i,i=i.return;while(i);return a}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var Mr=Object.prototype.hasOwnProperty,Xn=t.unstable_scheduleCallback,fr=t.unstable_cancelCallback,Er=t.unstable_shouldYield,Vr=t.unstable_requestPaint,bt=t.unstable_now,hn=t.unstable_getCurrentPriorityLevel,Fe=t.unstable_ImmediatePriority,Ot=t.unstable_UserBlockingPriority,lt=t.unstable_NormalPriority,Gt=t.unstable_LowPriority,vi=t.unstable_IdlePriority,Ya=t.log,wn=t.unstable_setDisableYieldValue,hr=null,an=null;function ue(i){if(typeof Ya=="function"&&wn(i),an&&typeof an.setStrictMode=="function")try{an.setStrictMode(hr,i)}catch{}}var ye=Math.clz32?Math.clz32:Je,ve=Math.log,ge=Math.LN2;function Je(i){return i>>>=0,i===0?32:31-(ve(i)/ge|0)|0}var Le=256,Ce=262144,et=4194304;function Ge(i){var a=i&42;if(a!==0)return a;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function ke(i,a,l){var c=i.pendingLanes;if(c===0)return 0;var p=0,v=i.suspendedLanes,w=i.pingedLanes;i=i.warmLanes;var R=c&134217727;return R!==0?(c=R&~v,c!==0?p=Ge(c):(w&=R,w!==0?p=Ge(w):l||(l=R&~i,l!==0&&(p=Ge(l))))):(R=c&~v,R!==0?p=Ge(R):w!==0?p=Ge(w):l||(l=c&~i,l!==0&&(p=Ge(l)))),p===0?0:a!==0&&a!==p&&(a&v)===0&&(v=p&-p,l=a&-a,v>=l||v===32&&(l&4194048)!==0)?a:p}function He(i,a){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&a)===0}function Qt(i,a){switch(i){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function En(){var i=et;return et<<=1,(et&62914560)===0&&(et=4194304),i}function $t(i){for(var a=[],l=0;31>l;l++)a.push(i);return a}function Tt(i,a){i.pendingLanes|=a,a!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function ut(i,a,l,c,p,v){var w=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var R=i.entanglements,F=i.expirationTimes,X=i.hiddenUpdates;for(l=w&~l;0<l;){var ie=31-ye(l),oe=1<<ie;R[ie]=0,F[ie]=-1;var J=X[ie];if(J!==null)for(X[ie]=null,ie=0;ie<J.length;ie++){var te=J[ie];te!==null&&(te.lane&=-536870913)}l&=~oe}c!==0&&Un(i,c,0),v!==0&&p===0&&i.tag!==0&&(i.suspendedLanes|=v&~(w&~a))}function Un(i,a,l){i.pendingLanes|=a,i.suspendedLanes&=~a;var c=31-ye(a);i.entangledLanes|=a,i.entanglements[c]=i.entanglements[c]|1073741824|l&261930}function It(i,a){var l=i.entangledLanes|=a;for(i=i.entanglements;l;){var c=31-ye(l),p=1<<c;p&a|i[c]&a&&(i[c]|=a),l&=~p}}function In(i,a){var l=a&-a;return l=(l&42)!==0?1:Tr(l),(l&(i.suspendedLanes|a))!==0?0:l}function Tr(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Xt(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function zn(){var i=se.p;return i!==0?i:(i=window.event,i===void 0?32:$E(i.type))}function yi(i,a){var l=se.p;try{return se.p=i,a()}finally{se.p=l}}var Nn=Math.random().toString(36).slice(2),_t="__reactFiber$"+Nn,he="__reactProps$"+Nn,Re="__reactContainer$"+Nn,Ke="__reactEvents$"+Nn,Mt="__reactListeners$"+Nn,Lr="__reactHandles$"+Nn,Ur="__reactResources$"+Nn,Zn="__reactMarker$"+Nn;function Jn(i){delete i[_t],delete i[he],delete i[Ke],delete i[Mt],delete i[Lr]}function er(i){var a=i[_t];if(a)return a;for(var l=i.parentNode;l;){if(a=l[Re]||l[_t]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(i=NE(i);i!==null;){if(l=i[_t])return l;i=NE(i)}return a}i=l,l=i.parentNode}return null}function ei(i){if(i=i[_t]||i[Re]){var a=i.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return i}return null}function Pi(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i.stateNode;throw Error(r(33))}function dr(i){var a=i[Ur];return a||(a=i[Ur]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Ht(i){i[Zn]=!0}var bi=new Set,_i={};function mr(i,a){Mi(i,a),Mi(i+"Capture",a)}function Mi(i,a){for(_i[i]=a,i=0;i<a.length;i++)bi.add(a[i])}var Fp=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Au={},Cu={};function Xf(i){return Mr.call(Cu,i)?!0:Mr.call(Au,i)?!1:Fp.test(i)?Cu[i]=!0:(Au[i]=!0,!1)}function Ps(i,a,l){if(Xf(a))if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(a);return;case"boolean":var c=a.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){i.removeAttribute(a);return}}i.setAttribute(a,""+l)}}function Ms(i,a,l){if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttribute(a,""+l)}}function ti(i,a,l,c){if(c===null)i.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(a,l,""+c)}}function pr(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Zf(i){var a=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Hp(i,a,l){var c=Object.getOwnPropertyDescriptor(i.constructor.prototype,a);if(!i.hasOwnProperty(a)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var p=c.get,v=c.set;return Object.defineProperty(i,a,{configurable:!0,get:function(){return p.call(this)},set:function(w){l=""+w,v.call(this,w)}}),Object.defineProperty(i,a,{enumerable:c.enumerable}),{getValue:function(){return l},setValue:function(w){l=""+w},stopTracking:function(){i._valueTracker=null,delete i[a]}}}}function Yo(i){if(!i._valueTracker){var a=Zf(i)?"checked":"value";i._valueTracker=Hp(i,a,""+i[a])}}function Ru(i){if(!i)return!1;var a=i._valueTracker;if(!a)return!0;var l=a.getValue(),c="";return i&&(c=Zf(i)?i.checked?"true":"false":i.value),i=c,i!==l?(a.setValue(i),!0):!1}function Wo(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var ns=/[\n"\\]/g;function Zt(i){return i.replace(ns,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Vs(i,a,l,c,p,v,w,R){i.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?i.type=w:i.removeAttribute("type"),a!=null?w==="number"?(a===0&&i.value===""||i.value!=a)&&(i.value=""+pr(a)):i.value!==""+pr(a)&&(i.value=""+pr(a)):w!=="submit"&&w!=="reset"||i.removeAttribute("value"),a!=null?Qo(i,w,pr(a)):l!=null?Qo(i,w,pr(l)):c!=null&&i.removeAttribute("value"),p==null&&v!=null&&(i.defaultChecked=!!v),p!=null&&(i.checked=p&&typeof p!="function"&&typeof p!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?i.name=""+pr(R):i.removeAttribute("name")}function Wa(i,a,l,c,p,v,w,R){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(i.type=v),a!=null||l!=null){if(!(v!=="submit"&&v!=="reset"||a!=null)){Yo(i);return}l=l!=null?""+pr(l):"",a=a!=null?""+pr(a):l,R||a===i.value||(i.value=a),i.defaultValue=a}c=c??p,c=typeof c!="function"&&typeof c!="symbol"&&!!c,i.checked=R?i.checked:!!c,i.defaultChecked=!!c,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(i.name=w),Yo(i)}function Qo(i,a,l){a==="number"&&Wo(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function ct(i,a,l,c){if(i=i.options,a){a={};for(var p=0;p<l.length;p++)a["$"+l[p]]=!0;for(l=0;l<i.length;l++)p=a.hasOwnProperty("$"+i[l].value),i[l].selected!==p&&(i[l].selected=p),p&&c&&(i[l].defaultSelected=!0)}else{for(l=""+pr(l),a=null,p=0;p<i.length;p++){if(i[p].value===l){i[p].selected=!0,c&&(i[p].defaultSelected=!0);return}a!==null||i[p].disabled||(a=i[p])}a!==null&&(a.selected=!0)}}function Qa(i,a,l){if(a!=null&&(a=""+pr(a),a!==i.value&&(i.value=a),l==null)){i.defaultValue!==a&&(i.defaultValue=a);return}i.defaultValue=l!=null?""+pr(l):""}function Ls(i,a,l,c){if(a==null){if(c!=null){if(l!=null)throw Error(r(92));if(De(c)){if(1<c.length)throw Error(r(93));c=c[0]}l=c}l==null&&(l=""),a=l}l=pr(a),i.defaultValue=l,c=i.textContent,c===l&&c!==""&&c!==null&&(i.value=c),Yo(i)}function ni(i,a){if(a){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=a;return}}i.textContent=a}var qp=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Iu(i,a,l){var c=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?i.setProperty(a,""):a==="float"?i.cssFloat="":i[a]="":c?i.setProperty(a,l):typeof l!="number"||l===0||qp.has(a)?a==="float"?i.cssFloat=l:i[a]=(""+l).trim():i[a]=l+"px"}function Jf(i,a,l){if(a!=null&&typeof a!="object")throw Error(r(62));if(i=i.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||a!=null&&a.hasOwnProperty(c)||(c.indexOf("--")===0?i.setProperty(c,""):c==="float"?i.cssFloat="":i[c]="");for(var p in a)c=a[p],a.hasOwnProperty(p)&&l[p]!==c&&Iu(i,p,c)}else for(var v in a)a.hasOwnProperty(v)&&Iu(i,v,a[v])}function Nu(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gp=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),$p=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Vi(i){return $p.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function kn(){}var Xo=null;function Zo(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var rs=null,zr=null;function eh(i){var a=ei(i);if(a&&(i=a.stateNode)){var l=i[he]||null;e:switch(i=a.stateNode,a.type){case"input":if(Vs(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Zt(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var c=l[a];if(c!==i&&c.form===i.form){var p=c[he]||null;if(!p)throw Error(r(90));Vs(c,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(a=0;a<l.length;a++)c=l[a],c.form===i.form&&Ru(c)}break e;case"textarea":Qa(i,l.value,l.defaultValue);break e;case"select":a=l.value,a!=null&&ct(i,!!l.multiple,a,!1)}}}var ku=!1;function th(i,a,l){if(ku)return i(a,l);ku=!0;try{var c=i(a);return c}finally{if(ku=!1,(rs!==null||zr!==null)&&(Xh(),rs&&(a=rs,i=zr,zr=rs=null,eh(a),i)))for(a=0;a<i.length;a++)eh(i[a])}}function Sr(i,a){var l=i.stateNode;if(l===null)return null;var c=l[he]||null;if(c===null)return null;l=c[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(i=i.type,c=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!c;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(r(231,a,typeof l));return l}var xi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Du=!1;if(xi)try{var Li={};Object.defineProperty(Li,"passive",{get:function(){Du=!0}}),window.addEventListener("test",Li,Li),window.removeEventListener("test",Li,Li)}catch{Du=!1}var Br=null,Jo=null,Ui=null;function Us(){if(Ui)return Ui;var i,a=Jo,l=a.length,c,p="value"in Br?Br.value:Br.textContent,v=p.length;for(i=0;i<l&&a[i]===p[i];i++);var w=l-i;for(c=1;c<=w&&a[l-c]===p[v-c];c++);return Ui=p.slice(i,1<c?1-c:void 0)}function Xa(i){var a=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&a===13&&(i=13)):i=a,i===10&&(i=13),32<=i||i===13?i:0}function zs(){return!0}function Vt(){return!1}function tr(i){function a(l,c,p,v,w){this._reactName=l,this._targetInst=p,this.type=c,this.nativeEvent=v,this.target=w,this.currentTarget=null;for(var R in i)i.hasOwnProperty(R)&&(l=i[R],this[R]=l?l(v):v[R]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?zs:Vt,this.isPropagationStopped=Vt,this}return b(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=zs)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=zs)},persist:function(){},isPersistent:zs}),a}var is={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Za=tr(is),Bs=b({},is,{view:0,detail:0}),nh=tr(Bs),Fs,el,gr,Ja=b({},Bs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qs,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==gr&&(gr&&i.type==="mousemove"?(Fs=i.screenX-gr.screenX,el=i.screenY-gr.screenY):el=Fs=0,gr=i),Fs)},movementY:function(i){return"movementY"in i?i.movementY:el}}),rh=tr(Ja),eo=b({},Ja,{dataTransfer:0}),ih=tr(eo),Ou=b({},Bs,{relatedTarget:0}),Hs=tr(Ou),sh=b({},is,{animationName:0,elapsedTime:0,pseudoElement:0}),tl=tr(sh),Kp=b({},is,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),ah=tr(Kp),to=b({},is,{data:0}),ju=tr(to),oh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Pu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lh(i){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(i):(i=Mu[i])?!!a[i]:!1}function qs(){return lh}var uh=b({},Bs,{key:function(i){if(i.key){var a=oh[i.key]||i.key;if(a!=="Unidentified")return a}return i.type==="keypress"?(i=Xa(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Pu[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qs,charCode:function(i){return i.type==="keypress"?Xa(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Xa(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),ch=tr(uh),ss=b({},Ja,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vu=tr(ss),fh=b({},Bs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qs}),hh=tr(fh),dh=b({},is,{propertyName:0,elapsedTime:0,pseudoElement:0}),nl=tr(dh),vr=b({},Ja,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),mh=tr(vr),ph=b({},is,{newState:0,oldState:0}),Gs=tr(ph),m=[9,13,27,32],x=xi&&"CompositionEvent"in window,T=null;xi&&"documentMode"in document&&(T=document.documentMode);var k=xi&&"TextEvent"in window&&!T,Y=xi&&(!x||T&&8<T&&11>=T),ne=" ",me=!1;function gt(i,a){switch(i){case"keyup":return m.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dn(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Ye=!1;function Dn(i,a){switch(i){case"compositionend":return dn(a);case"keypress":return a.which!==32?null:(me=!0,ne);case"textInput":return i=a.data,i===ne&&me?null:i;default:return null}}function On(i,a){if(Ye)return i==="compositionend"||!x&&gt(i,a)?(i=Us(),Ui=Jo=Br=null,Ye=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Y&&a.locale!=="ko"?null:a.data;default:return null}}var $s={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ar(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a==="input"?!!$s[i.type]:a==="textarea"}function no(i,a,l,c){rs?zr?zr.push(c):zr=[c]:rs=c,a=id(a,"onChange"),0<a.length&&(l=new Za("onChange","change",null,l,c),i.push({event:l,listeners:a}))}var as=null,Lu=null;function Ik(i){gE(i,0)}function gh(i){var a=Pi(i);if(Ru(a))return i}function P_(i,a){if(i==="change")return a}var M_=!1;if(xi){var Yp;if(xi){var Wp="oninput"in document;if(!Wp){var V_=document.createElement("div");V_.setAttribute("oninput","return;"),Wp=typeof V_.oninput=="function"}Yp=Wp}else Yp=!1;M_=Yp&&(!document.documentMode||9<document.documentMode)}function L_(){as&&(as.detachEvent("onpropertychange",U_),Lu=as=null)}function U_(i){if(i.propertyName==="value"&&gh(Lu)){var a=[];no(a,Lu,i,Zo(i)),th(Ik,a)}}function Nk(i,a,l){i==="focusin"?(L_(),as=a,Lu=l,as.attachEvent("onpropertychange",U_)):i==="focusout"&&L_()}function kk(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return gh(Lu)}function Dk(i,a){if(i==="click")return gh(a)}function Ok(i,a){if(i==="input"||i==="change")return gh(a)}function jk(i,a){return i===a&&(i!==0||1/i===1/a)||i!==i&&a!==a}var Fr=typeof Object.is=="function"?Object.is:jk;function Uu(i,a){if(Fr(i,a))return!0;if(typeof i!="object"||i===null||typeof a!="object"||a===null)return!1;var l=Object.keys(i),c=Object.keys(a);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var p=l[c];if(!Mr.call(a,p)||!Fr(i[p],a[p]))return!1}return!0}function z_(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function B_(i,a){var l=z_(i);i=0;for(var c;l;){if(l.nodeType===3){if(c=i+l.textContent.length,i<=a&&c>=a)return{node:l,offset:a-i};i=c}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=z_(l)}}function F_(i,a){return i&&a?i===a?!0:i&&i.nodeType===3?!1:a&&a.nodeType===3?F_(i,a.parentNode):"contains"in i?i.contains(a):i.compareDocumentPosition?!!(i.compareDocumentPosition(a)&16):!1:!1}function H_(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var a=Wo(i.document);a instanceof i.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)i=a.contentWindow;else break;a=Wo(i.document)}return a}function Qp(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a&&(a==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||a==="textarea"||i.contentEditable==="true")}var Pk=xi&&"documentMode"in document&&11>=document.documentMode,rl=null,Xp=null,zu=null,Zp=!1;function q_(i,a,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Zp||rl==null||rl!==Wo(c)||(c=rl,"selectionStart"in c&&Qp(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),zu&&Uu(zu,c)||(zu=c,c=id(Xp,"onSelect"),0<c.length&&(a=new Za("onSelect","select",null,a,l),i.push({event:a,listeners:c}),a.target=rl)))}function ro(i,a){var l={};return l[i.toLowerCase()]=a.toLowerCase(),l["Webkit"+i]="webkit"+a,l["Moz"+i]="moz"+a,l}var il={animationend:ro("Animation","AnimationEnd"),animationiteration:ro("Animation","AnimationIteration"),animationstart:ro("Animation","AnimationStart"),transitionrun:ro("Transition","TransitionRun"),transitionstart:ro("Transition","TransitionStart"),transitioncancel:ro("Transition","TransitionCancel"),transitionend:ro("Transition","TransitionEnd")},Jp={},G_={};xi&&(G_=document.createElement("div").style,"AnimationEvent"in window||(delete il.animationend.animation,delete il.animationiteration.animation,delete il.animationstart.animation),"TransitionEvent"in window||delete il.transitionend.transition);function io(i){if(Jp[i])return Jp[i];if(!il[i])return i;var a=il[i],l;for(l in a)if(a.hasOwnProperty(l)&&l in G_)return Jp[i]=a[l];return i}var $_=io("animationend"),K_=io("animationiteration"),Y_=io("animationstart"),Mk=io("transitionrun"),Vk=io("transitionstart"),Lk=io("transitioncancel"),W_=io("transitionend"),Q_=new Map,eg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");eg.push("scrollEnd");function wi(i,a){Q_.set(i,a),mr(a,[i])}var vh=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},ri=[],sl=0,tg=0;function yh(){for(var i=sl,a=tg=sl=0;a<i;){var l=ri[a];ri[a++]=null;var c=ri[a];ri[a++]=null;var p=ri[a];ri[a++]=null;var v=ri[a];if(ri[a++]=null,c!==null&&p!==null){var w=c.pending;w===null?p.next=p:(p.next=w.next,w.next=p),c.pending=p}v!==0&&X_(l,p,v)}}function bh(i,a,l,c){ri[sl++]=i,ri[sl++]=a,ri[sl++]=l,ri[sl++]=c,tg|=c,i.lanes|=c,i=i.alternate,i!==null&&(i.lanes|=c)}function ng(i,a,l,c){return bh(i,a,l,c),_h(i)}function so(i,a){return bh(i,null,null,a),_h(i)}function X_(i,a,l){i.lanes|=l;var c=i.alternate;c!==null&&(c.lanes|=l);for(var p=!1,v=i.return;v!==null;)v.childLanes|=l,c=v.alternate,c!==null&&(c.childLanes|=l),v.tag===22&&(i=v.stateNode,i===null||i._visibility&1||(p=!0)),i=v,v=v.return;return i.tag===3?(v=i.stateNode,p&&a!==null&&(p=31-ye(l),i=v.hiddenUpdates,c=i[p],c===null?i[p]=[a]:c.push(a),a.lane=l|536870912),v):null}function _h(i){if(50<lc)throw lc=0,fv=null,Error(r(185));for(var a=i.return;a!==null;)i=a,a=i.return;return i.tag===3?i.stateNode:null}var al={};function Uk(i,a,l,c){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hr(i,a,l,c){return new Uk(i,a,l,c)}function rg(i){return i=i.prototype,!(!i||!i.isReactComponent)}function os(i,a){var l=i.alternate;return l===null?(l=Hr(i.tag,a,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=a,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&65011712,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,a=i.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function Z_(i,a){i.flags&=65011714;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=a,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,a=l.dependencies,i.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),i}function xh(i,a,l,c,p,v){var w=0;if(c=i,typeof i=="function")rg(i)&&(w=1);else if(typeof i=="string")w=qD(i,l,re.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case I:return i=Hr(31,l,a,p),i.elementType=I,i.lanes=v,i;case N:return ao(l.children,p,v,a);case j:w=8,p|=24;break;case U:return i=Hr(12,l,a,p|2),i.elementType=U,i.lanes=v,i;case K:return i=Hr(13,l,a,p),i.elementType=K,i.lanes=v,i;case H:return i=Hr(19,l,a,p),i.elementType=H,i.lanes=v,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case z:w=10;break e;case M:w=9;break e;case G:w=11;break e;case A:w=14;break e;case S:w=16,c=null;break e}w=29,l=Error(r(130,i===null?"null":typeof i,"")),c=null}return a=Hr(w,l,a,p),a.elementType=i,a.type=c,a.lanes=v,a}function ao(i,a,l,c){return i=Hr(7,i,c,a),i.lanes=l,i}function ig(i,a,l){return i=Hr(6,i,null,a),i.lanes=l,i}function J_(i){var a=Hr(18,null,null,0);return a.stateNode=i,a}function sg(i,a,l){return a=Hr(4,i.children!==null?i.children:[],i.key,a),a.lanes=l,a.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},a}var ex=new WeakMap;function ii(i,a){if(typeof i=="object"&&i!==null){var l=ex.get(i);return l!==void 0?l:(a={value:i,source:a,stack:Pr(a)},ex.set(i,a),a)}return{value:i,source:a,stack:Pr(a)}}var ol=[],ll=0,wh=null,Bu=0,si=[],ai=0,Ks=null,zi=1,Bi="";function ls(i,a){ol[ll++]=Bu,ol[ll++]=wh,wh=i,Bu=a}function tx(i,a,l){si[ai++]=zi,si[ai++]=Bi,si[ai++]=Ks,Ks=i;var c=zi;i=Bi;var p=32-ye(c)-1;c&=~(1<<p),l+=1;var v=32-ye(a)+p;if(30<v){var w=p-p%5;v=(c&(1<<w)-1).toString(32),c>>=w,p-=w,zi=1<<32-ye(a)+p|l<<p|c,Bi=v+i}else zi=1<<v|l<<p|c,Bi=i}function ag(i){i.return!==null&&(ls(i,1),tx(i,1,0))}function og(i){for(;i===wh;)wh=ol[--ll],ol[ll]=null,Bu=ol[--ll],ol[ll]=null;for(;i===Ks;)Ks=si[--ai],si[ai]=null,Bi=si[--ai],si[ai]=null,zi=si[--ai],si[ai]=null}function nx(i,a){si[ai++]=zi,si[ai++]=Bi,si[ai++]=Ks,zi=a.id,Bi=a.overflow,Ks=i}var Bn=null,Lt=null,st=!1,Ys=null,oi=!1,lg=Error(r(519));function Ws(i){var a=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Fu(ii(a,i)),lg}function rx(i){var a=i.stateNode,l=i.type,c=i.memoizedProps;switch(a[_t]=i,a[he]=c,l){case"dialog":Xe("cancel",a),Xe("close",a);break;case"iframe":case"object":case"embed":Xe("load",a);break;case"video":case"audio":for(l=0;l<cc.length;l++)Xe(cc[l],a);break;case"source":Xe("error",a);break;case"img":case"image":case"link":Xe("error",a),Xe("load",a);break;case"details":Xe("toggle",a);break;case"input":Xe("invalid",a),Wa(a,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":Xe("invalid",a);break;case"textarea":Xe("invalid",a),Ls(a,c.value,c.defaultValue,c.children)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||c.suppressHydrationWarning===!0||_E(a.textContent,l)?(c.popover!=null&&(Xe("beforetoggle",a),Xe("toggle",a)),c.onScroll!=null&&Xe("scroll",a),c.onScrollEnd!=null&&Xe("scrollend",a),c.onClick!=null&&(a.onclick=kn),a=!0):a=!1,a||Ws(i,!0)}function ix(i){for(Bn=i.return;Bn;)switch(Bn.tag){case 5:case 31:case 13:oi=!1;return;case 27:case 3:oi=!0;return;default:Bn=Bn.return}}function ul(i){if(i!==Bn)return!1;if(!st)return ix(i),st=!0,!1;var a=i.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||Av(i.type,i.memoizedProps)),l=!l),l&&Lt&&Ws(i),ix(i),a===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));Lt=IE(i)}else if(a===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));Lt=IE(i)}else a===27?(a=Lt,ua(i.type)?(i=kv,kv=null,Lt=i):Lt=a):Lt=Bn?ui(i.stateNode.nextSibling):null;return!0}function oo(){Lt=Bn=null,st=!1}function ug(){var i=Ys;return i!==null&&(Nr===null?Nr=i:Nr.push.apply(Nr,i),Ys=null),i}function Fu(i){Ys===null?Ys=[i]:Ys.push(i)}var cg=B(null),lo=null,us=null;function Qs(i,a,l){ee(cg,a._currentValue),a._currentValue=l}function cs(i){i._currentValue=cg.current,Z(cg)}function fg(i,a,l){for(;i!==null;){var c=i.alternate;if((i.childLanes&a)!==a?(i.childLanes|=a,c!==null&&(c.childLanes|=a)):c!==null&&(c.childLanes&a)!==a&&(c.childLanes|=a),i===l)break;i=i.return}}function hg(i,a,l,c){var p=i.child;for(p!==null&&(p.return=i);p!==null;){var v=p.dependencies;if(v!==null){var w=p.child;v=v.firstContext;e:for(;v!==null;){var R=v;v=p;for(var F=0;F<a.length;F++)if(R.context===a[F]){v.lanes|=l,R=v.alternate,R!==null&&(R.lanes|=l),fg(v.return,l,i),c||(w=null);break e}v=R.next}}else if(p.tag===18){if(w=p.return,w===null)throw Error(r(341));w.lanes|=l,v=w.alternate,v!==null&&(v.lanes|=l),fg(w,l,i),w=null}else w=p.child;if(w!==null)w.return=p;else for(w=p;w!==null;){if(w===i){w=null;break}if(p=w.sibling,p!==null){p.return=w.return,w=p;break}w=w.return}p=w}}function cl(i,a,l,c){i=null;for(var p=a,v=!1;p!==null;){if(!v){if((p.flags&524288)!==0)v=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var w=p.alternate;if(w===null)throw Error(r(387));if(w=w.memoizedProps,w!==null){var R=p.type;Fr(p.pendingProps.value,w.value)||(i!==null?i.push(R):i=[R])}}else if(p===Se.current){if(w=p.alternate,w===null)throw Error(r(387));w.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(i!==null?i.push(pc):i=[pc])}p=p.return}i!==null&&hg(a,i,l,c),a.flags|=262144}function Eh(i){for(i=i.firstContext;i!==null;){if(!Fr(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function uo(i){lo=i,us=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Fn(i){return sx(lo,i)}function Th(i,a){return lo===null&&uo(i),sx(i,a)}function sx(i,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},us===null){if(i===null)throw Error(r(308));us=a,i.dependencies={lanes:0,firstContext:a},i.flags|=524288}else us=us.next=a;return l}var zk=typeof AbortController<"u"?AbortController:function(){var i=[],a=this.signal={aborted:!1,addEventListener:function(l,c){i.push(c)}};this.abort=function(){a.aborted=!0,i.forEach(function(l){return l()})}},Bk=t.unstable_scheduleCallback,Fk=t.unstable_NormalPriority,mn={$$typeof:z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function dg(){return{controller:new zk,data:new Map,refCount:0}}function Hu(i){i.refCount--,i.refCount===0&&Bk(Fk,function(){i.controller.abort()})}var qu=null,mg=0,fl=0,hl=null;function Hk(i,a){if(qu===null){var l=qu=[];mg=0,fl=vv(),hl={status:"pending",value:void 0,then:function(c){l.push(c)}}}return mg++,a.then(ax,ax),a}function ax(){if(--mg===0&&qu!==null){hl!==null&&(hl.status="fulfilled");var i=qu;qu=null,fl=0,hl=null;for(var a=0;a<i.length;a++)(0,i[a])()}}function qk(i,a){var l=[],c={status:"pending",value:null,reason:null,then:function(p){l.push(p)}};return i.then(function(){c.status="fulfilled",c.value=a;for(var p=0;p<l.length;p++)(0,l[p])(a)},function(p){for(c.status="rejected",c.reason=p,p=0;p<l.length;p++)(0,l[p])(void 0)}),c}var ox=Q.S;Q.S=function(i,a){qw=bt(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&Hk(i,a),ox!==null&&ox(i,a)};var co=B(null);function pg(){var i=co.current;return i!==null?i:Nt.pooledCache}function Sh(i,a){a===null?ee(co,co.current):ee(co,a.pool)}function lx(){var i=pg();return i===null?null:{parent:mn._currentValue,pool:i}}var dl=Error(r(460)),gg=Error(r(474)),Ah=Error(r(542)),Ch={then:function(){}};function ux(i){return i=i.status,i==="fulfilled"||i==="rejected"}function cx(i,a,l){switch(l=i[l],l===void 0?i.push(a):l!==a&&(a.then(kn,kn),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,hx(i),i;default:if(typeof a.status=="string")a.then(kn,kn);else{if(i=Nt,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=a,i.status="pending",i.then(function(c){if(a.status==="pending"){var p=a;p.status="fulfilled",p.value=c}},function(c){if(a.status==="pending"){var p=a;p.status="rejected",p.reason=c}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,hx(i),i}throw ho=a,dl}}function fo(i){try{var a=i._init;return a(i._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(ho=l,dl):l}}var ho=null;function fx(){if(ho===null)throw Error(r(459));var i=ho;return ho=null,i}function hx(i){if(i===dl||i===Ah)throw Error(r(483))}var ml=null,Gu=0;function Rh(i){var a=Gu;return Gu+=1,ml===null&&(ml=[]),cx(ml,i,a)}function $u(i,a){a=a.props.ref,i.ref=a!==void 0?a:null}function Ih(i,a){throw a.$$typeof===_?Error(r(525)):(i=Object.prototype.toString.call(a),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i)))}function dx(i){function a($,q){if(i){var W=$.deletions;W===null?($.deletions=[q],$.flags|=16):W.push(q)}}function l($,q){if(!i)return null;for(;q!==null;)a($,q),q=q.sibling;return null}function c($){for(var q=new Map;$!==null;)$.key!==null?q.set($.key,$):q.set($.index,$),$=$.sibling;return q}function p($,q){return $=os($,q),$.index=0,$.sibling=null,$}function v($,q,W){return $.index=W,i?(W=$.alternate,W!==null?(W=W.index,W<q?($.flags|=67108866,q):W):($.flags|=67108866,q)):($.flags|=1048576,q)}function w($){return i&&$.alternate===null&&($.flags|=67108866),$}function R($,q,W,ae){return q===null||q.tag!==6?(q=ig(W,$.mode,ae),q.return=$,q):(q=p(q,W),q.return=$,q)}function F($,q,W,ae){var Ie=W.type;return Ie===N?ie($,q,W.props.children,ae,W.key):q!==null&&(q.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===S&&fo(Ie)===q.type)?(q=p(q,W.props),$u(q,W),q.return=$,q):(q=xh(W.type,W.key,W.props,null,$.mode,ae),$u(q,W),q.return=$,q)}function X($,q,W,ae){return q===null||q.tag!==4||q.stateNode.containerInfo!==W.containerInfo||q.stateNode.implementation!==W.implementation?(q=sg(W,$.mode,ae),q.return=$,q):(q=p(q,W.children||[]),q.return=$,q)}function ie($,q,W,ae,Ie){return q===null||q.tag!==7?(q=ao(W,$.mode,ae,Ie),q.return=$,q):(q=p(q,W),q.return=$,q)}function oe($,q,W){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return q=ig(""+q,$.mode,W),q.return=$,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case E:return W=xh(q.type,q.key,q.props,null,$.mode,W),$u(W,q),W.return=$,W;case C:return q=sg(q,$.mode,W),q.return=$,q;case S:return q=fo(q),oe($,q,W)}if(De(q)||O(q))return q=ao(q,$.mode,W,null),q.return=$,q;if(typeof q.then=="function")return oe($,Rh(q),W);if(q.$$typeof===z)return oe($,Th($,q),W);Ih($,q)}return null}function J($,q,W,ae){var Ie=q!==null?q.key:null;if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return Ie!==null?null:R($,q,""+W,ae);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case E:return W.key===Ie?F($,q,W,ae):null;case C:return W.key===Ie?X($,q,W,ae):null;case S:return W=fo(W),J($,q,W,ae)}if(De(W)||O(W))return Ie!==null?null:ie($,q,W,ae,null);if(typeof W.then=="function")return J($,q,Rh(W),ae);if(W.$$typeof===z)return J($,q,Th($,W),ae);Ih($,W)}return null}function te($,q,W,ae,Ie){if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return $=$.get(W)||null,R(q,$,""+ae,Ie);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case E:return $=$.get(ae.key===null?W:ae.key)||null,F(q,$,ae,Ie);case C:return $=$.get(ae.key===null?W:ae.key)||null,X(q,$,ae,Ie);case S:return ae=fo(ae),te($,q,W,ae,Ie)}if(De(ae)||O(ae))return $=$.get(W)||null,ie(q,$,ae,Ie,null);if(typeof ae.then=="function")return te($,q,W,Rh(ae),Ie);if(ae.$$typeof===z)return te($,q,W,Th(q,ae),Ie);Ih(q,ae)}return null}function Te($,q,W,ae){for(var Ie=null,ft=null,Ae=q,$e=q=0,nt=null;Ae!==null&&$e<W.length;$e++){Ae.index>$e?(nt=Ae,Ae=null):nt=Ae.sibling;var ht=J($,Ae,W[$e],ae);if(ht===null){Ae===null&&(Ae=nt);break}i&&Ae&&ht.alternate===null&&a($,Ae),q=v(ht,q,$e),ft===null?Ie=ht:ft.sibling=ht,ft=ht,Ae=nt}if($e===W.length)return l($,Ae),st&&ls($,$e),Ie;if(Ae===null){for(;$e<W.length;$e++)Ae=oe($,W[$e],ae),Ae!==null&&(q=v(Ae,q,$e),ft===null?Ie=Ae:ft.sibling=Ae,ft=Ae);return st&&ls($,$e),Ie}for(Ae=c(Ae);$e<W.length;$e++)nt=te(Ae,$,$e,W[$e],ae),nt!==null&&(i&&nt.alternate!==null&&Ae.delete(nt.key===null?$e:nt.key),q=v(nt,q,$e),ft===null?Ie=nt:ft.sibling=nt,ft=nt);return i&&Ae.forEach(function(ma){return a($,ma)}),st&&ls($,$e),Ie}function Oe($,q,W,ae){if(W==null)throw Error(r(151));for(var Ie=null,ft=null,Ae=q,$e=q=0,nt=null,ht=W.next();Ae!==null&&!ht.done;$e++,ht=W.next()){Ae.index>$e?(nt=Ae,Ae=null):nt=Ae.sibling;var ma=J($,Ae,ht.value,ae);if(ma===null){Ae===null&&(Ae=nt);break}i&&Ae&&ma.alternate===null&&a($,Ae),q=v(ma,q,$e),ft===null?Ie=ma:ft.sibling=ma,ft=ma,Ae=nt}if(ht.done)return l($,Ae),st&&ls($,$e),Ie;if(Ae===null){for(;!ht.done;$e++,ht=W.next())ht=oe($,ht.value,ae),ht!==null&&(q=v(ht,q,$e),ft===null?Ie=ht:ft.sibling=ht,ft=ht);return st&&ls($,$e),Ie}for(Ae=c(Ae);!ht.done;$e++,ht=W.next())ht=te(Ae,$,$e,ht.value,ae),ht!==null&&(i&&ht.alternate!==null&&Ae.delete(ht.key===null?$e:ht.key),q=v(ht,q,$e),ft===null?Ie=ht:ft.sibling=ht,ft=ht);return i&&Ae.forEach(function(tO){return a($,tO)}),st&&ls($,$e),Ie}function Ct($,q,W,ae){if(typeof W=="object"&&W!==null&&W.type===N&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case E:e:{for(var Ie=W.key;q!==null;){if(q.key===Ie){if(Ie=W.type,Ie===N){if(q.tag===7){l($,q.sibling),ae=p(q,W.props.children),ae.return=$,$=ae;break e}}else if(q.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===S&&fo(Ie)===q.type){l($,q.sibling),ae=p(q,W.props),$u(ae,W),ae.return=$,$=ae;break e}l($,q);break}else a($,q);q=q.sibling}W.type===N?(ae=ao(W.props.children,$.mode,ae,W.key),ae.return=$,$=ae):(ae=xh(W.type,W.key,W.props,null,$.mode,ae),$u(ae,W),ae.return=$,$=ae)}return w($);case C:e:{for(Ie=W.key;q!==null;){if(q.key===Ie)if(q.tag===4&&q.stateNode.containerInfo===W.containerInfo&&q.stateNode.implementation===W.implementation){l($,q.sibling),ae=p(q,W.children||[]),ae.return=$,$=ae;break e}else{l($,q);break}else a($,q);q=q.sibling}ae=sg(W,$.mode,ae),ae.return=$,$=ae}return w($);case S:return W=fo(W),Ct($,q,W,ae)}if(De(W))return Te($,q,W,ae);if(O(W)){if(Ie=O(W),typeof Ie!="function")throw Error(r(150));return W=Ie.call(W),Oe($,q,W,ae)}if(typeof W.then=="function")return Ct($,q,Rh(W),ae);if(W.$$typeof===z)return Ct($,q,Th($,W),ae);Ih($,W)}return typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint"?(W=""+W,q!==null&&q.tag===6?(l($,q.sibling),ae=p(q,W),ae.return=$,$=ae):(l($,q),ae=ig(W,$.mode,ae),ae.return=$,$=ae),w($)):l($,q)}return function($,q,W,ae){try{Gu=0;var Ie=Ct($,q,W,ae);return ml=null,Ie}catch(Ae){if(Ae===dl||Ae===Ah)throw Ae;var ft=Hr(29,Ae,null,$.mode);return ft.lanes=ae,ft.return=$,ft}finally{}}}var mo=dx(!0),mx=dx(!1),Xs=!1;function vg(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function yg(i,a){i=i.updateQueue,a.updateQueue===i&&(a.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Zs(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Js(i,a,l){var c=i.updateQueue;if(c===null)return null;if(c=c.shared,(mt&2)!==0){var p=c.pending;return p===null?a.next=a:(a.next=p.next,p.next=a),c.pending=a,a=_h(i),X_(i,null,l),a}return bh(i,c,a,l),_h(i)}function Ku(i,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var c=a.lanes;c&=i.pendingLanes,l|=c,a.lanes=l,It(i,l)}}function bg(i,a){var l=i.updateQueue,c=i.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var p=null,v=null;if(l=l.firstBaseUpdate,l!==null){do{var w={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};v===null?p=v=w:v=v.next=w,l=l.next}while(l!==null);v===null?p=v=a:v=v.next=a}else p=v=a;l={baseState:c.baseState,firstBaseUpdate:p,lastBaseUpdate:v,shared:c.shared,callbacks:c.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=a:i.next=a,l.lastBaseUpdate=a}var _g=!1;function Yu(){if(_g){var i=hl;if(i!==null)throw i}}function Wu(i,a,l,c){_g=!1;var p=i.updateQueue;Xs=!1;var v=p.firstBaseUpdate,w=p.lastBaseUpdate,R=p.shared.pending;if(R!==null){p.shared.pending=null;var F=R,X=F.next;F.next=null,w===null?v=X:w.next=X,w=F;var ie=i.alternate;ie!==null&&(ie=ie.updateQueue,R=ie.lastBaseUpdate,R!==w&&(R===null?ie.firstBaseUpdate=X:R.next=X,ie.lastBaseUpdate=F))}if(v!==null){var oe=p.baseState;w=0,ie=X=F=null,R=v;do{var J=R.lane&-536870913,te=J!==R.lane;if(te?(tt&J)===J:(c&J)===J){J!==0&&J===fl&&(_g=!0),ie!==null&&(ie=ie.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});e:{var Te=i,Oe=R;J=a;var Ct=l;switch(Oe.tag){case 1:if(Te=Oe.payload,typeof Te=="function"){oe=Te.call(Ct,oe,J);break e}oe=Te;break e;case 3:Te.flags=Te.flags&-65537|128;case 0:if(Te=Oe.payload,J=typeof Te=="function"?Te.call(Ct,oe,J):Te,J==null)break e;oe=b({},oe,J);break e;case 2:Xs=!0}}J=R.callback,J!==null&&(i.flags|=64,te&&(i.flags|=8192),te=p.callbacks,te===null?p.callbacks=[J]:te.push(J))}else te={lane:J,tag:R.tag,payload:R.payload,callback:R.callback,next:null},ie===null?(X=ie=te,F=oe):ie=ie.next=te,w|=J;if(R=R.next,R===null){if(R=p.shared.pending,R===null)break;te=R,R=te.next,te.next=null,p.lastBaseUpdate=te,p.shared.pending=null}}while(!0);ie===null&&(F=oe),p.baseState=F,p.firstBaseUpdate=X,p.lastBaseUpdate=ie,v===null&&(p.shared.lanes=0),ia|=w,i.lanes=w,i.memoizedState=oe}}function px(i,a){if(typeof i!="function")throw Error(r(191,i));i.call(a)}function gx(i,a){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)px(l[i],a)}var pl=B(null),Nh=B(0);function vx(i,a){i=bs,ee(Nh,i),ee(pl,a),bs=i|a.baseLanes}function xg(){ee(Nh,bs),ee(pl,pl.current)}function wg(){bs=Nh.current,Z(pl),Z(Nh)}var qr=B(null),li=null;function ea(i){var a=i.alternate;ee(on,on.current&1),ee(qr,i),li===null&&(a===null||pl.current!==null||a.memoizedState!==null)&&(li=i)}function Eg(i){ee(on,on.current),ee(qr,i),li===null&&(li=i)}function yx(i){i.tag===22?(ee(on,on.current),ee(qr,i),li===null&&(li=i)):ta()}function ta(){ee(on,on.current),ee(qr,qr.current)}function Gr(i){Z(qr),li===i&&(li=null),Z(on)}var on=B(0);function kh(i){for(var a=i;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||Iv(l)||Nv(l)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var fs=0,qe=null,St=null,pn=null,Dh=!1,gl=!1,po=!1,Oh=0,Qu=0,vl=null,Gk=0;function Jt(){throw Error(r(321))}function Tg(i,a){if(a===null)return!1;for(var l=0;l<a.length&&l<i.length;l++)if(!Fr(i[l],a[l]))return!1;return!0}function Sg(i,a,l,c,p,v){return fs=v,qe=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Q.H=i===null||i.memoizedState===null?tw:zg,po=!1,v=l(c,p),po=!1,gl&&(v=_x(a,l,c,p)),bx(i),v}function bx(i){Q.H=Ju;var a=St!==null&&St.next!==null;if(fs=0,pn=St=qe=null,Dh=!1,Qu=0,vl=null,a)throw Error(r(300));i===null||gn||(i=i.dependencies,i!==null&&Eh(i)&&(gn=!0))}function _x(i,a,l,c){qe=i;var p=0;do{if(gl&&(vl=null),Qu=0,gl=!1,25<=p)throw Error(r(301));if(p+=1,pn=St=null,i.updateQueue!=null){var v=i.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}Q.H=nw,v=a(l,c)}while(gl);return v}function $k(){var i=Q.H,a=i.useState()[0];return a=typeof a.then=="function"?Xu(a):a,i=i.useState()[0],(St!==null?St.memoizedState:null)!==i&&(qe.flags|=1024),a}function Ag(){var i=Oh!==0;return Oh=0,i}function Cg(i,a,l){a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~l}function Rg(i){if(Dh){for(i=i.memoizedState;i!==null;){var a=i.queue;a!==null&&(a.pending=null),i=i.next}Dh=!1}fs=0,pn=St=qe=null,gl=!1,Qu=Oh=0,vl=null}function yr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pn===null?qe.memoizedState=pn=i:pn=pn.next=i,pn}function ln(){if(St===null){var i=qe.alternate;i=i!==null?i.memoizedState:null}else i=St.next;var a=pn===null?qe.memoizedState:pn.next;if(a!==null)pn=a,St=i;else{if(i===null)throw qe.alternate===null?Error(r(467)):Error(r(310));St=i,i={memoizedState:St.memoizedState,baseState:St.baseState,baseQueue:St.baseQueue,queue:St.queue,next:null},pn===null?qe.memoizedState=pn=i:pn=pn.next=i}return pn}function jh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Xu(i){var a=Qu;return Qu+=1,vl===null&&(vl=[]),i=cx(vl,i,a),a=qe,(pn===null?a.memoizedState:pn.next)===null&&(a=a.alternate,Q.H=a===null||a.memoizedState===null?tw:zg),i}function Ph(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Xu(i);if(i.$$typeof===z)return Fn(i)}throw Error(r(438,String(i)))}function Ig(i){var a=null,l=qe.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var c=qe.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(a={data:c.data.map(function(p){return p.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=jh(),qe.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(i),c=0;c<i;c++)l[c]=L;return a.index++,l}function hs(i,a){return typeof a=="function"?a(i):a}function Mh(i){var a=ln();return Ng(a,St,i)}function Ng(i,a,l){var c=i.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=l;var p=i.baseQueue,v=c.pending;if(v!==null){if(p!==null){var w=p.next;p.next=v.next,v.next=w}a.baseQueue=p=v,c.pending=null}if(v=i.baseState,p===null)i.memoizedState=v;else{a=p.next;var R=w=null,F=null,X=a,ie=!1;do{var oe=X.lane&-536870913;if(oe!==X.lane?(tt&oe)===oe:(fs&oe)===oe){var J=X.revertLane;if(J===0)F!==null&&(F=F.next={lane:0,revertLane:0,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),oe===fl&&(ie=!0);else if((fs&J)===J){X=X.next,J===fl&&(ie=!0);continue}else oe={lane:0,revertLane:X.revertLane,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},F===null?(R=F=oe,w=v):F=F.next=oe,qe.lanes|=J,ia|=J;oe=X.action,po&&l(v,oe),v=X.hasEagerState?X.eagerState:l(v,oe)}else J={lane:oe,revertLane:X.revertLane,gesture:X.gesture,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},F===null?(R=F=J,w=v):F=F.next=J,qe.lanes|=oe,ia|=oe;X=X.next}while(X!==null&&X!==a);if(F===null?w=v:F.next=R,!Fr(v,i.memoizedState)&&(gn=!0,ie&&(l=hl,l!==null)))throw l;i.memoizedState=v,i.baseState=w,i.baseQueue=F,c.lastRenderedState=v}return p===null&&(c.lanes=0),[i.memoizedState,c.dispatch]}function kg(i){var a=ln(),l=a.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=i;var c=l.dispatch,p=l.pending,v=a.memoizedState;if(p!==null){l.pending=null;var w=p=p.next;do v=i(v,w.action),w=w.next;while(w!==p);Fr(v,a.memoizedState)||(gn=!0),a.memoizedState=v,a.baseQueue===null&&(a.baseState=v),l.lastRenderedState=v}return[v,c]}function xx(i,a,l){var c=qe,p=ln(),v=st;if(v){if(l===void 0)throw Error(r(407));l=l()}else l=a();var w=!Fr((St||p).memoizedState,l);if(w&&(p.memoizedState=l,gn=!0),p=p.queue,jg(Tx.bind(null,c,p,i),[i]),p.getSnapshot!==a||w||pn!==null&&pn.memoizedState.tag&1){if(c.flags|=2048,yl(9,{destroy:void 0},Ex.bind(null,c,p,l,a),null),Nt===null)throw Error(r(349));v||(fs&127)!==0||wx(c,a,l)}return l}function wx(i,a,l){i.flags|=16384,i={getSnapshot:a,value:l},a=qe.updateQueue,a===null?(a=jh(),qe.updateQueue=a,a.stores=[i]):(l=a.stores,l===null?a.stores=[i]:l.push(i))}function Ex(i,a,l,c){a.value=l,a.getSnapshot=c,Sx(a)&&Ax(i)}function Tx(i,a,l){return l(function(){Sx(a)&&Ax(i)})}function Sx(i){var a=i.getSnapshot;i=i.value;try{var l=a();return!Fr(i,l)}catch{return!0}}function Ax(i){var a=so(i,2);a!==null&&kr(a,i,2)}function Dg(i){var a=yr();if(typeof i=="function"){var l=i;if(i=l(),po){ue(!0);try{l()}finally{ue(!1)}}}return a.memoizedState=a.baseState=i,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hs,lastRenderedState:i},a}function Cx(i,a,l,c){return i.baseState=l,Ng(i,St,typeof c=="function"?c:hs)}function Kk(i,a,l,c,p){if(Uh(i))throw Error(r(485));if(i=a.action,i!==null){var v={payload:p,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){v.listeners.push(w)}};Q.T!==null?l(!0):v.isTransition=!1,c(v),l=a.pending,l===null?(v.next=a.pending=v,Rx(a,v)):(v.next=l.next,a.pending=l.next=v)}}function Rx(i,a){var l=a.action,c=a.payload,p=i.state;if(a.isTransition){var v=Q.T,w={};Q.T=w;try{var R=l(p,c),F=Q.S;F!==null&&F(w,R),Ix(i,a,R)}catch(X){Og(i,a,X)}finally{v!==null&&w.types!==null&&(v.types=w.types),Q.T=v}}else try{v=l(p,c),Ix(i,a,v)}catch(X){Og(i,a,X)}}function Ix(i,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){Nx(i,a,c)},function(c){return Og(i,a,c)}):Nx(i,a,l)}function Nx(i,a,l){a.status="fulfilled",a.value=l,kx(a),i.state=l,a=i.pending,a!==null&&(l=a.next,l===a?i.pending=null:(l=l.next,a.next=l,Rx(i,l)))}function Og(i,a,l){var c=i.pending;if(i.pending=null,c!==null){c=c.next;do a.status="rejected",a.reason=l,kx(a),a=a.next;while(a!==c)}i.action=null}function kx(i){i=i.listeners;for(var a=0;a<i.length;a++)(0,i[a])()}function Dx(i,a){return a}function Ox(i,a){if(st){var l=Nt.formState;if(l!==null){e:{var c=qe;if(st){if(Lt){t:{for(var p=Lt,v=oi;p.nodeType!==8;){if(!v){p=null;break t}if(p=ui(p.nextSibling),p===null){p=null;break t}}v=p.data,p=v==="F!"||v==="F"?p:null}if(p){Lt=ui(p.nextSibling),c=p.data==="F!";break e}}Ws(c)}c=!1}c&&(a=l[0])}}return l=yr(),l.memoizedState=l.baseState=a,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dx,lastRenderedState:a},l.queue=c,l=Zx.bind(null,qe,c),c.dispatch=l,c=Dg(!1),v=Ug.bind(null,qe,!1,c.queue),c=yr(),p={state:a,dispatch:null,action:i,pending:null},c.queue=p,l=Kk.bind(null,qe,p,v,l),p.dispatch=l,c.memoizedState=i,[a,l,!1]}function jx(i){var a=ln();return Px(a,St,i)}function Px(i,a,l){if(a=Ng(i,a,Dx)[0],i=Mh(hs)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var c=Xu(a)}catch(w){throw w===dl?Ah:w}else c=a;a=ln();var p=a.queue,v=p.dispatch;return l!==a.memoizedState&&(qe.flags|=2048,yl(9,{destroy:void 0},Yk.bind(null,p,l),null)),[c,v,i]}function Yk(i,a){i.action=a}function Mx(i){var a=ln(),l=St;if(l!==null)return Px(a,l,i);ln(),a=a.memoizedState,l=ln();var c=l.queue.dispatch;return l.memoizedState=i,[a,c,!1]}function yl(i,a,l,c){return i={tag:i,create:l,deps:c,inst:a,next:null},a=qe.updateQueue,a===null&&(a=jh(),qe.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=i.next=i:(c=l.next,l.next=i,i.next=c,a.lastEffect=i),i}function Vx(){return ln().memoizedState}function Vh(i,a,l,c){var p=yr();qe.flags|=i,p.memoizedState=yl(1|a,{destroy:void 0},l,c===void 0?null:c)}function Lh(i,a,l,c){var p=ln();c=c===void 0?null:c;var v=p.memoizedState.inst;St!==null&&c!==null&&Tg(c,St.memoizedState.deps)?p.memoizedState=yl(a,v,l,c):(qe.flags|=i,p.memoizedState=yl(1|a,v,l,c))}function Lx(i,a){Vh(8390656,8,i,a)}function jg(i,a){Lh(2048,8,i,a)}function Wk(i){qe.flags|=4;var a=qe.updateQueue;if(a===null)a=jh(),qe.updateQueue=a,a.events=[i];else{var l=a.events;l===null?a.events=[i]:l.push(i)}}function Ux(i){var a=ln().memoizedState;return Wk({ref:a,nextImpl:i}),function(){if((mt&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}function zx(i,a){return Lh(4,2,i,a)}function Bx(i,a){return Lh(4,4,i,a)}function Fx(i,a){if(typeof a=="function"){i=i();var l=a(i);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return i=i(),a.current=i,function(){a.current=null}}function Hx(i,a,l){l=l!=null?l.concat([i]):null,Lh(4,4,Fx.bind(null,a,i),l)}function Pg(){}function qx(i,a){var l=ln();a=a===void 0?null:a;var c=l.memoizedState;return a!==null&&Tg(a,c[1])?c[0]:(l.memoizedState=[i,a],i)}function Gx(i,a){var l=ln();a=a===void 0?null:a;var c=l.memoizedState;if(a!==null&&Tg(a,c[1]))return c[0];if(c=i(),po){ue(!0);try{i()}finally{ue(!1)}}return l.memoizedState=[c,a],c}function Mg(i,a,l){return l===void 0||(fs&1073741824)!==0&&(tt&261930)===0?i.memoizedState=a:(i.memoizedState=l,i=$w(),qe.lanes|=i,ia|=i,l)}function $x(i,a,l,c){return Fr(l,a)?l:pl.current!==null?(i=Mg(i,l,c),Fr(i,a)||(gn=!0),i):(fs&42)===0||(fs&1073741824)!==0&&(tt&261930)===0?(gn=!0,i.memoizedState=l):(i=$w(),qe.lanes|=i,ia|=i,a)}function Kx(i,a,l,c,p){var v=se.p;se.p=v!==0&&8>v?v:8;var w=Q.T,R={};Q.T=R,Ug(i,!1,a,l);try{var F=p(),X=Q.S;if(X!==null&&X(R,F),F!==null&&typeof F=="object"&&typeof F.then=="function"){var ie=qk(F,c);Zu(i,a,ie,Yr(i))}else Zu(i,a,c,Yr(i))}catch(oe){Zu(i,a,{then:function(){},status:"rejected",reason:oe},Yr())}finally{se.p=v,w!==null&&R.types!==null&&(w.types=R.types),Q.T=w}}function Qk(){}function Vg(i,a,l,c){if(i.tag!==5)throw Error(r(476));var p=Yx(i).queue;Kx(i,p,a,fe,l===null?Qk:function(){return Wx(i),l(c)})}function Yx(i){var a=i.memoizedState;if(a!==null)return a;a={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hs,lastRenderedState:fe},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hs,lastRenderedState:l},next:null},i.memoizedState=a,i=i.alternate,i!==null&&(i.memoizedState=a),a}function Wx(i){var a=Yx(i);a.next===null&&(a=i.alternate.memoizedState),Zu(i,a.next.queue,{},Yr())}function Lg(){return Fn(pc)}function Qx(){return ln().memoizedState}function Xx(){return ln().memoizedState}function Xk(i){for(var a=i.return;a!==null;){switch(a.tag){case 24:case 3:var l=Yr();i=Zs(l);var c=Js(a,i,l);c!==null&&(kr(c,a,l),Ku(c,a,l)),a={cache:dg()},i.payload=a;return}a=a.return}}function Zk(i,a,l){var c=Yr();l={lane:c,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Uh(i)?Jx(a,l):(l=ng(i,a,l,c),l!==null&&(kr(l,i,c),ew(l,a,c)))}function Zx(i,a,l){var c=Yr();Zu(i,a,l,c)}function Zu(i,a,l,c){var p={lane:c,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Uh(i))Jx(a,p);else{var v=i.alternate;if(i.lanes===0&&(v===null||v.lanes===0)&&(v=a.lastRenderedReducer,v!==null))try{var w=a.lastRenderedState,R=v(w,l);if(p.hasEagerState=!0,p.eagerState=R,Fr(R,w))return bh(i,a,p,0),Nt===null&&yh(),!1}catch{}finally{}if(l=ng(i,a,p,c),l!==null)return kr(l,i,c),ew(l,a,c),!0}return!1}function Ug(i,a,l,c){if(c={lane:2,revertLane:vv(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Uh(i)){if(a)throw Error(r(479))}else a=ng(i,l,c,2),a!==null&&kr(a,i,2)}function Uh(i){var a=i.alternate;return i===qe||a!==null&&a===qe}function Jx(i,a){gl=Dh=!0;var l=i.pending;l===null?a.next=a:(a.next=l.next,l.next=a),i.pending=a}function ew(i,a,l){if((l&4194048)!==0){var c=a.lanes;c&=i.pendingLanes,l|=c,a.lanes=l,It(i,l)}}var Ju={readContext:Fn,use:Ph,useCallback:Jt,useContext:Jt,useEffect:Jt,useImperativeHandle:Jt,useLayoutEffect:Jt,useInsertionEffect:Jt,useMemo:Jt,useReducer:Jt,useRef:Jt,useState:Jt,useDebugValue:Jt,useDeferredValue:Jt,useTransition:Jt,useSyncExternalStore:Jt,useId:Jt,useHostTransitionStatus:Jt,useFormState:Jt,useActionState:Jt,useOptimistic:Jt,useMemoCache:Jt,useCacheRefresh:Jt};Ju.useEffectEvent=Jt;var tw={readContext:Fn,use:Ph,useCallback:function(i,a){return yr().memoizedState=[i,a===void 0?null:a],i},useContext:Fn,useEffect:Lx,useImperativeHandle:function(i,a,l){l=l!=null?l.concat([i]):null,Vh(4194308,4,Fx.bind(null,a,i),l)},useLayoutEffect:function(i,a){return Vh(4194308,4,i,a)},useInsertionEffect:function(i,a){Vh(4,2,i,a)},useMemo:function(i,a){var l=yr();a=a===void 0?null:a;var c=i();if(po){ue(!0);try{i()}finally{ue(!1)}}return l.memoizedState=[c,a],c},useReducer:function(i,a,l){var c=yr();if(l!==void 0){var p=l(a);if(po){ue(!0);try{l(a)}finally{ue(!1)}}}else p=a;return c.memoizedState=c.baseState=p,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:p},c.queue=i,i=i.dispatch=Zk.bind(null,qe,i),[c.memoizedState,i]},useRef:function(i){var a=yr();return i={current:i},a.memoizedState=i},useState:function(i){i=Dg(i);var a=i.queue,l=Zx.bind(null,qe,a);return a.dispatch=l,[i.memoizedState,l]},useDebugValue:Pg,useDeferredValue:function(i,a){var l=yr();return Mg(l,i,a)},useTransition:function(){var i=Dg(!1);return i=Kx.bind(null,qe,i.queue,!0,!1),yr().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,a,l){var c=qe,p=yr();if(st){if(l===void 0)throw Error(r(407));l=l()}else{if(l=a(),Nt===null)throw Error(r(349));(tt&127)!==0||wx(c,a,l)}p.memoizedState=l;var v={value:l,getSnapshot:a};return p.queue=v,Lx(Tx.bind(null,c,v,i),[i]),c.flags|=2048,yl(9,{destroy:void 0},Ex.bind(null,c,v,l,a),null),l},useId:function(){var i=yr(),a=Nt.identifierPrefix;if(st){var l=Bi,c=zi;l=(c&~(1<<32-ye(c)-1)).toString(32)+l,a="_"+a+"R_"+l,l=Oh++,0<l&&(a+="H"+l.toString(32)),a+="_"}else l=Gk++,a="_"+a+"r_"+l.toString(32)+"_";return i.memoizedState=a},useHostTransitionStatus:Lg,useFormState:Ox,useActionState:Ox,useOptimistic:function(i){var a=yr();a.memoizedState=a.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=Ug.bind(null,qe,!0,l),l.dispatch=a,[i,a]},useMemoCache:Ig,useCacheRefresh:function(){return yr().memoizedState=Xk.bind(null,qe)},useEffectEvent:function(i){var a=yr(),l={impl:i};return a.memoizedState=l,function(){if((mt&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}},zg={readContext:Fn,use:Ph,useCallback:qx,useContext:Fn,useEffect:jg,useImperativeHandle:Hx,useInsertionEffect:zx,useLayoutEffect:Bx,useMemo:Gx,useReducer:Mh,useRef:Vx,useState:function(){return Mh(hs)},useDebugValue:Pg,useDeferredValue:function(i,a){var l=ln();return $x(l,St.memoizedState,i,a)},useTransition:function(){var i=Mh(hs)[0],a=ln().memoizedState;return[typeof i=="boolean"?i:Xu(i),a]},useSyncExternalStore:xx,useId:Qx,useHostTransitionStatus:Lg,useFormState:jx,useActionState:jx,useOptimistic:function(i,a){var l=ln();return Cx(l,St,i,a)},useMemoCache:Ig,useCacheRefresh:Xx};zg.useEffectEvent=Ux;var nw={readContext:Fn,use:Ph,useCallback:qx,useContext:Fn,useEffect:jg,useImperativeHandle:Hx,useInsertionEffect:zx,useLayoutEffect:Bx,useMemo:Gx,useReducer:kg,useRef:Vx,useState:function(){return kg(hs)},useDebugValue:Pg,useDeferredValue:function(i,a){var l=ln();return St===null?Mg(l,i,a):$x(l,St.memoizedState,i,a)},useTransition:function(){var i=kg(hs)[0],a=ln().memoizedState;return[typeof i=="boolean"?i:Xu(i),a]},useSyncExternalStore:xx,useId:Qx,useHostTransitionStatus:Lg,useFormState:Mx,useActionState:Mx,useOptimistic:function(i,a){var l=ln();return St!==null?Cx(l,St,i,a):(l.baseState=i,[i,l.queue.dispatch])},useMemoCache:Ig,useCacheRefresh:Xx};nw.useEffectEvent=Ux;function Bg(i,a,l,c){a=i.memoizedState,l=l(c,a),l=l==null?a:b({},a,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var Fg={enqueueSetState:function(i,a,l){i=i._reactInternals;var c=Yr(),p=Zs(c);p.payload=a,l!=null&&(p.callback=l),a=Js(i,p,c),a!==null&&(kr(a,i,c),Ku(a,i,c))},enqueueReplaceState:function(i,a,l){i=i._reactInternals;var c=Yr(),p=Zs(c);p.tag=1,p.payload=a,l!=null&&(p.callback=l),a=Js(i,p,c),a!==null&&(kr(a,i,c),Ku(a,i,c))},enqueueForceUpdate:function(i,a){i=i._reactInternals;var l=Yr(),c=Zs(l);c.tag=2,a!=null&&(c.callback=a),a=Js(i,c,l),a!==null&&(kr(a,i,l),Ku(a,i,l))}};function rw(i,a,l,c,p,v,w){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(c,v,w):a.prototype&&a.prototype.isPureReactComponent?!Uu(l,c)||!Uu(p,v):!0}function iw(i,a,l,c){i=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,c),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,c),a.state!==i&&Fg.enqueueReplaceState(a,a.state,null)}function go(i,a){var l=a;if("ref"in a){l={};for(var c in a)c!=="ref"&&(l[c]=a[c])}if(i=i.defaultProps){l===a&&(l=b({},l));for(var p in i)l[p]===void 0&&(l[p]=i[p])}return l}function sw(i){vh(i)}function aw(i){console.error(i)}function ow(i){vh(i)}function zh(i,a){try{var l=i.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(c){setTimeout(function(){throw c})}}function lw(i,a,l){try{var c=i.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Hg(i,a,l){return l=Zs(l),l.tag=3,l.payload={element:null},l.callback=function(){zh(i,a)},l}function uw(i){return i=Zs(i),i.tag=3,i}function cw(i,a,l,c){var p=l.type.getDerivedStateFromError;if(typeof p=="function"){var v=c.value;i.payload=function(){return p(v)},i.callback=function(){lw(a,l,c)}}var w=l.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(i.callback=function(){lw(a,l,c),typeof p!="function"&&(sa===null?sa=new Set([this]):sa.add(this));var R=c.stack;this.componentDidCatch(c.value,{componentStack:R!==null?R:""})})}function Jk(i,a,l,c,p){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(a=l.alternate,a!==null&&cl(a,l,p,!0),l=qr.current,l!==null){switch(l.tag){case 31:case 13:return li===null?Zh():l.alternate===null&&en===0&&(en=3),l.flags&=-257,l.flags|=65536,l.lanes=p,c===Ch?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([c]):a.add(c),mv(i,c,p)),!1;case 22:return l.flags|=65536,c===Ch?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([c]):l.add(c)),mv(i,c,p)),!1}throw Error(r(435,l.tag))}return mv(i,c,p),Zh(),!1}if(st)return a=qr.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=p,c!==lg&&(i=Error(r(422),{cause:c}),Fu(ii(i,l)))):(c!==lg&&(a=Error(r(423),{cause:c}),Fu(ii(a,l))),i=i.current.alternate,i.flags|=65536,p&=-p,i.lanes|=p,c=ii(c,l),p=Hg(i.stateNode,c,p),bg(i,p),en!==4&&(en=2)),!1;var v=Error(r(520),{cause:c});if(v=ii(v,l),oc===null?oc=[v]:oc.push(v),en!==4&&(en=2),a===null)return!0;c=ii(c,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,i=p&-p,l.lanes|=i,i=Hg(l.stateNode,c,i),bg(l,i),!1;case 1:if(a=l.type,v=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(sa===null||!sa.has(v))))return l.flags|=65536,p&=-p,l.lanes|=p,p=uw(p),cw(p,i,l,c),bg(l,p),!1}l=l.return}while(l!==null);return!1}var qg=Error(r(461)),gn=!1;function Hn(i,a,l,c){a.child=i===null?mx(a,null,l,c):mo(a,i.child,l,c)}function fw(i,a,l,c,p){l=l.render;var v=a.ref;if("ref"in c){var w={};for(var R in c)R!=="ref"&&(w[R]=c[R])}else w=c;return uo(a),c=Sg(i,a,l,w,v,p),R=Ag(),i!==null&&!gn?(Cg(i,a,p),ds(i,a,p)):(st&&R&&ag(a),a.flags|=1,Hn(i,a,c,p),a.child)}function hw(i,a,l,c,p){if(i===null){var v=l.type;return typeof v=="function"&&!rg(v)&&v.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=v,dw(i,a,v,c,p)):(i=xh(l.type,null,c,a,a.mode,p),i.ref=a.ref,i.return=a,a.child=i)}if(v=i.child,!Zg(i,p)){var w=v.memoizedProps;if(l=l.compare,l=l!==null?l:Uu,l(w,c)&&i.ref===a.ref)return ds(i,a,p)}return a.flags|=1,i=os(v,c),i.ref=a.ref,i.return=a,a.child=i}function dw(i,a,l,c,p){if(i!==null){var v=i.memoizedProps;if(Uu(v,c)&&i.ref===a.ref)if(gn=!1,a.pendingProps=c=v,Zg(i,p))(i.flags&131072)!==0&&(gn=!0);else return a.lanes=i.lanes,ds(i,a,p)}return Gg(i,a,l,c,p)}function mw(i,a,l,c){var p=c.children,v=i!==null?i.memoizedState:null;if(i===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((a.flags&128)!==0){if(v=v!==null?v.baseLanes|l:l,i!==null){for(c=a.child=i.child,p=0;c!==null;)p=p|c.lanes|c.childLanes,c=c.sibling;c=p&~v}else c=0,a.child=null;return pw(i,a,v,l,c)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},i!==null&&Sh(a,v!==null?v.cachePool:null),v!==null?vx(a,v):xg(),yx(a);else return c=a.lanes=536870912,pw(i,a,v!==null?v.baseLanes|l:l,l,c)}else v!==null?(Sh(a,v.cachePool),vx(a,v),ta(),a.memoizedState=null):(i!==null&&Sh(a,null),xg(),ta());return Hn(i,a,p,l),a.child}function ec(i,a){return i!==null&&i.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function pw(i,a,l,c,p){var v=pg();return v=v===null?null:{parent:mn._currentValue,pool:v},a.memoizedState={baseLanes:l,cachePool:v},i!==null&&Sh(a,null),xg(),yx(a),i!==null&&cl(i,a,c,!0),a.childLanes=p,null}function Bh(i,a){return a=Hh({mode:a.mode,children:a.children},i.mode),a.ref=i.ref,i.child=a,a.return=i,a}function gw(i,a,l){return mo(a,i.child,null,l),i=Bh(a,a.pendingProps),i.flags|=2,Gr(a),a.memoizedState=null,i}function eD(i,a,l){var c=a.pendingProps,p=(a.flags&128)!==0;if(a.flags&=-129,i===null){if(st){if(c.mode==="hidden")return i=Bh(a,c),a.lanes=536870912,ec(null,i);if(Eg(a),(i=Lt)?(i=RE(i,oi),i=i!==null&&i.data==="&"?i:null,i!==null&&(a.memoizedState={dehydrated:i,treeContext:Ks!==null?{id:zi,overflow:Bi}:null,retryLane:536870912,hydrationErrors:null},l=J_(i),l.return=a,a.child=l,Bn=a,Lt=null)):i=null,i===null)throw Ws(a);return a.lanes=536870912,null}return Bh(a,c)}var v=i.memoizedState;if(v!==null){var w=v.dehydrated;if(Eg(a),p)if(a.flags&256)a.flags&=-257,a=gw(i,a,l);else if(a.memoizedState!==null)a.child=i.child,a.flags|=128,a=null;else throw Error(r(558));else if(gn||cl(i,a,l,!1),p=(l&i.childLanes)!==0,gn||p){if(c=Nt,c!==null&&(w=In(c,l),w!==0&&w!==v.retryLane))throw v.retryLane=w,so(i,w),kr(c,i,w),qg;Zh(),a=gw(i,a,l)}else i=v.treeContext,Lt=ui(w.nextSibling),Bn=a,st=!0,Ys=null,oi=!1,i!==null&&nx(a,i),a=Bh(a,c),a.flags|=4096;return a}return i=os(i.child,{mode:c.mode,children:c.children}),i.ref=a.ref,a.child=i,i.return=a,i}function Fh(i,a){var l=a.ref;if(l===null)i!==null&&i.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(i===null||i.ref!==l)&&(a.flags|=4194816)}}function Gg(i,a,l,c,p){return uo(a),l=Sg(i,a,l,c,void 0,p),c=Ag(),i!==null&&!gn?(Cg(i,a,p),ds(i,a,p)):(st&&c&&ag(a),a.flags|=1,Hn(i,a,l,p),a.child)}function vw(i,a,l,c,p,v){return uo(a),a.updateQueue=null,l=_x(a,c,l,p),bx(i),c=Ag(),i!==null&&!gn?(Cg(i,a,v),ds(i,a,v)):(st&&c&&ag(a),a.flags|=1,Hn(i,a,l,v),a.child)}function yw(i,a,l,c,p){if(uo(a),a.stateNode===null){var v=al,w=l.contextType;typeof w=="object"&&w!==null&&(v=Fn(w)),v=new l(c,v),a.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=Fg,a.stateNode=v,v._reactInternals=a,v=a.stateNode,v.props=c,v.state=a.memoizedState,v.refs={},vg(a),w=l.contextType,v.context=typeof w=="object"&&w!==null?Fn(w):al,v.state=a.memoizedState,w=l.getDerivedStateFromProps,typeof w=="function"&&(Bg(a,l,w,c),v.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(w=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),w!==v.state&&Fg.enqueueReplaceState(v,v.state,null),Wu(a,c,v,p),Yu(),v.state=a.memoizedState),typeof v.componentDidMount=="function"&&(a.flags|=4194308),c=!0}else if(i===null){v=a.stateNode;var R=a.memoizedProps,F=go(l,R);v.props=F;var X=v.context,ie=l.contextType;w=al,typeof ie=="object"&&ie!==null&&(w=Fn(ie));var oe=l.getDerivedStateFromProps;ie=typeof oe=="function"||typeof v.getSnapshotBeforeUpdate=="function",R=a.pendingProps!==R,ie||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(R||X!==w)&&iw(a,v,c,w),Xs=!1;var J=a.memoizedState;v.state=J,Wu(a,c,v,p),Yu(),X=a.memoizedState,R||J!==X||Xs?(typeof oe=="function"&&(Bg(a,l,oe,c),X=a.memoizedState),(F=Xs||rw(a,l,F,c,J,X,w))?(ie||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(a.flags|=4194308)):(typeof v.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=c,a.memoizedState=X),v.props=c,v.state=X,v.context=w,c=F):(typeof v.componentDidMount=="function"&&(a.flags|=4194308),c=!1)}else{v=a.stateNode,yg(i,a),w=a.memoizedProps,ie=go(l,w),v.props=ie,oe=a.pendingProps,J=v.context,X=l.contextType,F=al,typeof X=="object"&&X!==null&&(F=Fn(X)),R=l.getDerivedStateFromProps,(X=typeof R=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(w!==oe||J!==F)&&iw(a,v,c,F),Xs=!1,J=a.memoizedState,v.state=J,Wu(a,c,v,p),Yu();var te=a.memoizedState;w!==oe||J!==te||Xs||i!==null&&i.dependencies!==null&&Eh(i.dependencies)?(typeof R=="function"&&(Bg(a,l,R,c),te=a.memoizedState),(ie=Xs||rw(a,l,ie,c,J,te,F)||i!==null&&i.dependencies!==null&&Eh(i.dependencies))?(X||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(c,te,F),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(c,te,F)),typeof v.componentDidUpdate=="function"&&(a.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof v.componentDidUpdate!="function"||w===i.memoizedProps&&J===i.memoizedState||(a.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||w===i.memoizedProps&&J===i.memoizedState||(a.flags|=1024),a.memoizedProps=c,a.memoizedState=te),v.props=c,v.state=te,v.context=F,c=ie):(typeof v.componentDidUpdate!="function"||w===i.memoizedProps&&J===i.memoizedState||(a.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||w===i.memoizedProps&&J===i.memoizedState||(a.flags|=1024),c=!1)}return v=c,Fh(i,a),c=(a.flags&128)!==0,v||c?(v=a.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:v.render(),a.flags|=1,i!==null&&c?(a.child=mo(a,i.child,null,p),a.child=mo(a,null,l,p)):Hn(i,a,l,p),a.memoizedState=v.state,i=a.child):i=ds(i,a,p),i}function bw(i,a,l,c){return oo(),a.flags|=256,Hn(i,a,l,c),a.child}var $g={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Kg(i){return{baseLanes:i,cachePool:lx()}}function Yg(i,a,l){return i=i!==null?i.childLanes&~l:0,a&&(i|=Kr),i}function _w(i,a,l){var c=a.pendingProps,p=!1,v=(a.flags&128)!==0,w;if((w=v)||(w=i!==null&&i.memoizedState===null?!1:(on.current&2)!==0),w&&(p=!0,a.flags&=-129),w=(a.flags&32)!==0,a.flags&=-33,i===null){if(st){if(p?ea(a):ta(),(i=Lt)?(i=RE(i,oi),i=i!==null&&i.data!=="&"?i:null,i!==null&&(a.memoizedState={dehydrated:i,treeContext:Ks!==null?{id:zi,overflow:Bi}:null,retryLane:536870912,hydrationErrors:null},l=J_(i),l.return=a,a.child=l,Bn=a,Lt=null)):i=null,i===null)throw Ws(a);return Nv(i)?a.lanes=32:a.lanes=536870912,null}var R=c.children;return c=c.fallback,p?(ta(),p=a.mode,R=Hh({mode:"hidden",children:R},p),c=ao(c,p,l,null),R.return=a,c.return=a,R.sibling=c,a.child=R,c=a.child,c.memoizedState=Kg(l),c.childLanes=Yg(i,w,l),a.memoizedState=$g,ec(null,c)):(ea(a),Wg(a,R))}var F=i.memoizedState;if(F!==null&&(R=F.dehydrated,R!==null)){if(v)a.flags&256?(ea(a),a.flags&=-257,a=Qg(i,a,l)):a.memoizedState!==null?(ta(),a.child=i.child,a.flags|=128,a=null):(ta(),R=c.fallback,p=a.mode,c=Hh({mode:"visible",children:c.children},p),R=ao(R,p,l,null),R.flags|=2,c.return=a,R.return=a,c.sibling=R,a.child=c,mo(a,i.child,null,l),c=a.child,c.memoizedState=Kg(l),c.childLanes=Yg(i,w,l),a.memoizedState=$g,a=ec(null,c));else if(ea(a),Nv(R)){if(w=R.nextSibling&&R.nextSibling.dataset,w)var X=w.dgst;w=X,c=Error(r(419)),c.stack="",c.digest=w,Fu({value:c,source:null,stack:null}),a=Qg(i,a,l)}else if(gn||cl(i,a,l,!1),w=(l&i.childLanes)!==0,gn||w){if(w=Nt,w!==null&&(c=In(w,l),c!==0&&c!==F.retryLane))throw F.retryLane=c,so(i,c),kr(w,i,c),qg;Iv(R)||Zh(),a=Qg(i,a,l)}else Iv(R)?(a.flags|=192,a.child=i.child,a=null):(i=F.treeContext,Lt=ui(R.nextSibling),Bn=a,st=!0,Ys=null,oi=!1,i!==null&&nx(a,i),a=Wg(a,c.children),a.flags|=4096);return a}return p?(ta(),R=c.fallback,p=a.mode,F=i.child,X=F.sibling,c=os(F,{mode:"hidden",children:c.children}),c.subtreeFlags=F.subtreeFlags&65011712,X!==null?R=os(X,R):(R=ao(R,p,l,null),R.flags|=2),R.return=a,c.return=a,c.sibling=R,a.child=c,ec(null,c),c=a.child,R=i.child.memoizedState,R===null?R=Kg(l):(p=R.cachePool,p!==null?(F=mn._currentValue,p=p.parent!==F?{parent:F,pool:F}:p):p=lx(),R={baseLanes:R.baseLanes|l,cachePool:p}),c.memoizedState=R,c.childLanes=Yg(i,w,l),a.memoizedState=$g,ec(i.child,c)):(ea(a),l=i.child,i=l.sibling,l=os(l,{mode:"visible",children:c.children}),l.return=a,l.sibling=null,i!==null&&(w=a.deletions,w===null?(a.deletions=[i],a.flags|=16):w.push(i)),a.child=l,a.memoizedState=null,l)}function Wg(i,a){return a=Hh({mode:"visible",children:a},i.mode),a.return=i,i.child=a}function Hh(i,a){return i=Hr(22,i,null,a),i.lanes=0,i}function Qg(i,a,l){return mo(a,i.child,null,l),i=Wg(a,a.pendingProps.children),i.flags|=2,a.memoizedState=null,i}function xw(i,a,l){i.lanes|=a;var c=i.alternate;c!==null&&(c.lanes|=a),fg(i.return,a,l)}function Xg(i,a,l,c,p,v){var w=i.memoizedState;w===null?i.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:p,treeForkCount:v}:(w.isBackwards=a,w.rendering=null,w.renderingStartTime=0,w.last=c,w.tail=l,w.tailMode=p,w.treeForkCount=v)}function ww(i,a,l){var c=a.pendingProps,p=c.revealOrder,v=c.tail;c=c.children;var w=on.current,R=(w&2)!==0;if(R?(w=w&1|2,a.flags|=128):w&=1,ee(on,w),Hn(i,a,c,l),c=st?Bu:0,!R&&i!==null&&(i.flags&128)!==0)e:for(i=a.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&xw(i,l,a);else if(i.tag===19)xw(i,l,a);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(p){case"forwards":for(l=a.child,p=null;l!==null;)i=l.alternate,i!==null&&kh(i)===null&&(p=l),l=l.sibling;l=p,l===null?(p=a.child,a.child=null):(p=l.sibling,l.sibling=null),Xg(a,!1,p,l,v,c);break;case"backwards":case"unstable_legacy-backwards":for(l=null,p=a.child,a.child=null;p!==null;){if(i=p.alternate,i!==null&&kh(i)===null){a.child=p;break}i=p.sibling,p.sibling=l,l=p,p=i}Xg(a,!0,l,null,v,c);break;case"together":Xg(a,!1,null,null,void 0,c);break;default:a.memoizedState=null}return a.child}function ds(i,a,l){if(i!==null&&(a.dependencies=i.dependencies),ia|=a.lanes,(l&a.childLanes)===0)if(i!==null){if(cl(i,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(i!==null&&a.child!==i.child)throw Error(r(153));if(a.child!==null){for(i=a.child,l=os(i,i.pendingProps),a.child=l,l.return=a;i.sibling!==null;)i=i.sibling,l=l.sibling=os(i,i.pendingProps),l.return=a;l.sibling=null}return a.child}function Zg(i,a){return(i.lanes&a)!==0?!0:(i=i.dependencies,!!(i!==null&&Eh(i)))}function tD(i,a,l){switch(a.tag){case 3:Dt(a,a.stateNode.containerInfo),Qs(a,mn,i.memoizedState.cache),oo();break;case 27:case 5:Vn(a);break;case 4:Dt(a,a.stateNode.containerInfo);break;case 10:Qs(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,Eg(a),null;break;case 13:var c=a.memoizedState;if(c!==null)return c.dehydrated!==null?(ea(a),a.flags|=128,null):(l&a.child.childLanes)!==0?_w(i,a,l):(ea(a),i=ds(i,a,l),i!==null?i.sibling:null);ea(a);break;case 19:var p=(i.flags&128)!==0;if(c=(l&a.childLanes)!==0,c||(cl(i,a,l,!1),c=(l&a.childLanes)!==0),p){if(c)return ww(i,a,l);a.flags|=128}if(p=a.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),ee(on,on.current),c)break;return null;case 22:return a.lanes=0,mw(i,a,l,a.pendingProps);case 24:Qs(a,mn,i.memoizedState.cache)}return ds(i,a,l)}function Ew(i,a,l){if(i!==null)if(i.memoizedProps!==a.pendingProps)gn=!0;else{if(!Zg(i,l)&&(a.flags&128)===0)return gn=!1,tD(i,a,l);gn=(i.flags&131072)!==0}else gn=!1,st&&(a.flags&1048576)!==0&&tx(a,Bu,a.index);switch(a.lanes=0,a.tag){case 16:e:{var c=a.pendingProps;if(i=fo(a.elementType),a.type=i,typeof i=="function")rg(i)?(c=go(i,c),a.tag=1,a=yw(null,a,i,c,l)):(a.tag=0,a=Gg(null,a,i,c,l));else{if(i!=null){var p=i.$$typeof;if(p===G){a.tag=11,a=fw(null,a,i,c,l);break e}else if(p===A){a.tag=14,a=hw(null,a,i,c,l);break e}}throw a=xe(i)||i,Error(r(306,a,""))}}return a;case 0:return Gg(i,a,a.type,a.pendingProps,l);case 1:return c=a.type,p=go(c,a.pendingProps),yw(i,a,c,p,l);case 3:e:{if(Dt(a,a.stateNode.containerInfo),i===null)throw Error(r(387));c=a.pendingProps;var v=a.memoizedState;p=v.element,yg(i,a),Wu(a,c,null,l);var w=a.memoizedState;if(c=w.cache,Qs(a,mn,c),c!==v.cache&&hg(a,[mn],l,!0),Yu(),c=w.element,v.isDehydrated)if(v={element:c,isDehydrated:!1,cache:w.cache},a.updateQueue.baseState=v,a.memoizedState=v,a.flags&256){a=bw(i,a,c,l);break e}else if(c!==p){p=ii(Error(r(424)),a),Fu(p),a=bw(i,a,c,l);break e}else{switch(i=a.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(Lt=ui(i.firstChild),Bn=a,st=!0,Ys=null,oi=!0,l=mx(a,null,c,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(oo(),c===p){a=ds(i,a,l);break e}Hn(i,a,c,l)}a=a.child}return a;case 26:return Fh(i,a),i===null?(l=jE(a.type,null,a.pendingProps,null))?a.memoizedState=l:st||(l=a.type,i=a.pendingProps,c=sd(je.current).createElement(l),c[_t]=a,c[he]=i,qn(c,l,i),Ht(c),a.stateNode=c):a.memoizedState=jE(a.type,i.memoizedProps,a.pendingProps,i.memoizedState),null;case 27:return Vn(a),i===null&&st&&(c=a.stateNode=kE(a.type,a.pendingProps,je.current),Bn=a,oi=!0,p=Lt,ua(a.type)?(kv=p,Lt=ui(c.firstChild)):Lt=p),Hn(i,a,a.pendingProps.children,l),Fh(i,a),i===null&&(a.flags|=4194304),a.child;case 5:return i===null&&st&&((p=c=Lt)&&(c=kD(c,a.type,a.pendingProps,oi),c!==null?(a.stateNode=c,Bn=a,Lt=ui(c.firstChild),oi=!1,p=!0):p=!1),p||Ws(a)),Vn(a),p=a.type,v=a.pendingProps,w=i!==null?i.memoizedProps:null,c=v.children,Av(p,v)?c=null:w!==null&&Av(p,w)&&(a.flags|=32),a.memoizedState!==null&&(p=Sg(i,a,$k,null,null,l),pc._currentValue=p),Fh(i,a),Hn(i,a,c,l),a.child;case 6:return i===null&&st&&((i=l=Lt)&&(l=DD(l,a.pendingProps,oi),l!==null?(a.stateNode=l,Bn=a,Lt=null,i=!0):i=!1),i||Ws(a)),null;case 13:return _w(i,a,l);case 4:return Dt(a,a.stateNode.containerInfo),c=a.pendingProps,i===null?a.child=mo(a,null,c,l):Hn(i,a,c,l),a.child;case 11:return fw(i,a,a.type,a.pendingProps,l);case 7:return Hn(i,a,a.pendingProps,l),a.child;case 8:return Hn(i,a,a.pendingProps.children,l),a.child;case 12:return Hn(i,a,a.pendingProps.children,l),a.child;case 10:return c=a.pendingProps,Qs(a,a.type,c.value),Hn(i,a,c.children,l),a.child;case 9:return p=a.type._context,c=a.pendingProps.children,uo(a),p=Fn(p),c=c(p),a.flags|=1,Hn(i,a,c,l),a.child;case 14:return hw(i,a,a.type,a.pendingProps,l);case 15:return dw(i,a,a.type,a.pendingProps,l);case 19:return ww(i,a,l);case 31:return eD(i,a,l);case 22:return mw(i,a,l,a.pendingProps);case 24:return uo(a),c=Fn(mn),i===null?(p=pg(),p===null&&(p=Nt,v=dg(),p.pooledCache=v,v.refCount++,v!==null&&(p.pooledCacheLanes|=l),p=v),a.memoizedState={parent:c,cache:p},vg(a),Qs(a,mn,p)):((i.lanes&l)!==0&&(yg(i,a),Wu(a,null,null,l),Yu()),p=i.memoizedState,v=a.memoizedState,p.parent!==c?(p={parent:c,cache:c},a.memoizedState=p,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=p),Qs(a,mn,c)):(c=v.cache,Qs(a,mn,c),c!==p.cache&&hg(a,[mn],l,!0))),Hn(i,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(r(156,a.tag))}function ms(i){i.flags|=4}function Jg(i,a,l,c,p){if((a=(i.mode&32)!==0)&&(a=!1),a){if(i.flags|=16777216,(p&335544128)===p)if(i.stateNode.complete)i.flags|=8192;else if(Qw())i.flags|=8192;else throw ho=Ch,gg}else i.flags&=-16777217}function Tw(i,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!UE(a))if(Qw())i.flags|=8192;else throw ho=Ch,gg}function qh(i,a){a!==null&&(i.flags|=4),i.flags&16384&&(a=i.tag!==22?En():536870912,i.lanes|=a,wl|=a)}function tc(i,a){if(!st)switch(i.tailMode){case"hidden":a=i.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?a||i.tail===null?i.tail=null:i.tail.sibling=null:c.sibling=null}}function Ut(i){var a=i.alternate!==null&&i.alternate.child===i.child,l=0,c=0;if(a)for(var p=i.child;p!==null;)l|=p.lanes|p.childLanes,c|=p.subtreeFlags&65011712,c|=p.flags&65011712,p.return=i,p=p.sibling;else for(p=i.child;p!==null;)l|=p.lanes|p.childLanes,c|=p.subtreeFlags,c|=p.flags,p.return=i,p=p.sibling;return i.subtreeFlags|=c,i.childLanes=l,a}function nD(i,a,l){var c=a.pendingProps;switch(og(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ut(a),null;case 1:return Ut(a),null;case 3:return l=a.stateNode,c=null,i!==null&&(c=i.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),cs(mn),Et(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(ul(a)?ms(a):i===null||i.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,ug())),Ut(a),null;case 26:var p=a.type,v=a.memoizedState;return i===null?(ms(a),v!==null?(Ut(a),Tw(a,v)):(Ut(a),Jg(a,p,null,c,l))):v?v!==i.memoizedState?(ms(a),Ut(a),Tw(a,v)):(Ut(a),a.flags&=-16777217):(i=i.memoizedProps,i!==c&&ms(a),Ut(a),Jg(a,p,i,c,l)),null;case 27:if(wr(a),l=je.current,p=a.type,i!==null&&a.stateNode!=null)i.memoizedProps!==c&&ms(a);else{if(!c){if(a.stateNode===null)throw Error(r(166));return Ut(a),null}i=re.current,ul(a)?rx(a):(i=kE(p,c,l),a.stateNode=i,ms(a))}return Ut(a),null;case 5:if(wr(a),p=a.type,i!==null&&a.stateNode!=null)i.memoizedProps!==c&&ms(a);else{if(!c){if(a.stateNode===null)throw Error(r(166));return Ut(a),null}if(v=re.current,ul(a))rx(a);else{var w=sd(je.current);switch(v){case 1:v=w.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:v=w.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":v=w.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":v=w.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":v=w.createElement("div"),v.innerHTML="<script><\/script>",v=v.removeChild(v.firstChild);break;case"select":v=typeof c.is=="string"?w.createElement("select",{is:c.is}):w.createElement("select"),c.multiple?v.multiple=!0:c.size&&(v.size=c.size);break;default:v=typeof c.is=="string"?w.createElement(p,{is:c.is}):w.createElement(p)}}v[_t]=a,v[he]=c;e:for(w=a.child;w!==null;){if(w.tag===5||w.tag===6)v.appendChild(w.stateNode);else if(w.tag!==4&&w.tag!==27&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===a)break e;for(;w.sibling===null;){if(w.return===null||w.return===a)break e;w=w.return}w.sibling.return=w.return,w=w.sibling}a.stateNode=v;e:switch(qn(v,p,c),p){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&ms(a)}}return Ut(a),Jg(a,a.type,i===null?null:i.memoizedProps,a.pendingProps,l),null;case 6:if(i&&a.stateNode!=null)i.memoizedProps!==c&&ms(a);else{if(typeof c!="string"&&a.stateNode===null)throw Error(r(166));if(i=je.current,ul(a)){if(i=a.stateNode,l=a.memoizedProps,c=null,p=Bn,p!==null)switch(p.tag){case 27:case 5:c=p.memoizedProps}i[_t]=a,i=!!(i.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||_E(i.nodeValue,l)),i||Ws(a,!0)}else i=sd(i).createTextNode(c),i[_t]=a,a.stateNode=i}return Ut(a),null;case 31:if(l=a.memoizedState,i===null||i.memoizedState!==null){if(c=ul(a),l!==null){if(i===null){if(!c)throw Error(r(318));if(i=a.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[_t]=a}else oo(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Ut(a),i=!1}else l=ug(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=l),i=!0;if(!i)return a.flags&256?(Gr(a),a):(Gr(a),null);if((a.flags&128)!==0)throw Error(r(558))}return Ut(a),null;case 13:if(c=a.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(p=ul(a),c!==null&&c.dehydrated!==null){if(i===null){if(!p)throw Error(r(318));if(p=a.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(r(317));p[_t]=a}else oo(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Ut(a),p=!1}else p=ug(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=p),p=!0;if(!p)return a.flags&256?(Gr(a),a):(Gr(a),null)}return Gr(a),(a.flags&128)!==0?(a.lanes=l,a):(l=c!==null,i=i!==null&&i.memoizedState!==null,l&&(c=a.child,p=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(p=c.alternate.memoizedState.cachePool.pool),v=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(v=c.memoizedState.cachePool.pool),v!==p&&(c.flags|=2048)),l!==i&&l&&(a.child.flags|=8192),qh(a,a.updateQueue),Ut(a),null);case 4:return Et(),i===null&&xv(a.stateNode.containerInfo),Ut(a),null;case 10:return cs(a.type),Ut(a),null;case 19:if(Z(on),c=a.memoizedState,c===null)return Ut(a),null;if(p=(a.flags&128)!==0,v=c.rendering,v===null)if(p)tc(c,!1);else{if(en!==0||i!==null&&(i.flags&128)!==0)for(i=a.child;i!==null;){if(v=kh(i),v!==null){for(a.flags|=128,tc(c,!1),i=v.updateQueue,a.updateQueue=i,qh(a,i),a.subtreeFlags=0,i=l,l=a.child;l!==null;)Z_(l,i),l=l.sibling;return ee(on,on.current&1|2),st&&ls(a,c.treeForkCount),a.child}i=i.sibling}c.tail!==null&&bt()>Wh&&(a.flags|=128,p=!0,tc(c,!1),a.lanes=4194304)}else{if(!p)if(i=kh(v),i!==null){if(a.flags|=128,p=!0,i=i.updateQueue,a.updateQueue=i,qh(a,i),tc(c,!0),c.tail===null&&c.tailMode==="hidden"&&!v.alternate&&!st)return Ut(a),null}else 2*bt()-c.renderingStartTime>Wh&&l!==536870912&&(a.flags|=128,p=!0,tc(c,!1),a.lanes=4194304);c.isBackwards?(v.sibling=a.child,a.child=v):(i=c.last,i!==null?i.sibling=v:a.child=v,c.last=v)}return c.tail!==null?(i=c.tail,c.rendering=i,c.tail=i.sibling,c.renderingStartTime=bt(),i.sibling=null,l=on.current,ee(on,p?l&1|2:l&1),st&&ls(a,c.treeForkCount),i):(Ut(a),null);case 22:case 23:return Gr(a),wg(),c=a.memoizedState!==null,i!==null?i.memoizedState!==null!==c&&(a.flags|=8192):c&&(a.flags|=8192),c?(l&536870912)!==0&&(a.flags&128)===0&&(Ut(a),a.subtreeFlags&6&&(a.flags|=8192)):Ut(a),l=a.updateQueue,l!==null&&qh(a,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),c=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),c!==l&&(a.flags|=2048),i!==null&&Z(co),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),cs(mn),Ut(a),null;case 25:return null;case 30:return null}throw Error(r(156,a.tag))}function rD(i,a){switch(og(a),a.tag){case 1:return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 3:return cs(mn),Et(),i=a.flags,(i&65536)!==0&&(i&128)===0?(a.flags=i&-65537|128,a):null;case 26:case 27:case 5:return wr(a),null;case 31:if(a.memoizedState!==null){if(Gr(a),a.alternate===null)throw Error(r(340));oo()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 13:if(Gr(a),i=a.memoizedState,i!==null&&i.dehydrated!==null){if(a.alternate===null)throw Error(r(340));oo()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 19:return Z(on),null;case 4:return Et(),null;case 10:return cs(a.type),null;case 22:case 23:return Gr(a),wg(),i!==null&&Z(co),i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 24:return cs(mn),null;case 25:return null;default:return null}}function Sw(i,a){switch(og(a),a.tag){case 3:cs(mn),Et();break;case 26:case 27:case 5:wr(a);break;case 4:Et();break;case 31:a.memoizedState!==null&&Gr(a);break;case 13:Gr(a);break;case 19:Z(on);break;case 10:cs(a.type);break;case 22:case 23:Gr(a),wg(),i!==null&&Z(co);break;case 24:cs(mn)}}function nc(i,a){try{var l=a.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var p=c.next;l=p;do{if((l.tag&i)===i){c=void 0;var v=l.create,w=l.inst;c=v(),w.destroy=c}l=l.next}while(l!==p)}}catch(R){wt(a,a.return,R)}}function na(i,a,l){try{var c=a.updateQueue,p=c!==null?c.lastEffect:null;if(p!==null){var v=p.next;c=v;do{if((c.tag&i)===i){var w=c.inst,R=w.destroy;if(R!==void 0){w.destroy=void 0,p=a;var F=l,X=R;try{X()}catch(ie){wt(p,F,ie)}}}c=c.next}while(c!==v)}}catch(ie){wt(a,a.return,ie)}}function Aw(i){var a=i.updateQueue;if(a!==null){var l=i.stateNode;try{gx(a,l)}catch(c){wt(i,i.return,c)}}}function Cw(i,a,l){l.props=go(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(c){wt(i,a,c)}}function rc(i,a){try{var l=i.ref;if(l!==null){switch(i.tag){case 26:case 27:case 5:var c=i.stateNode;break;case 30:c=i.stateNode;break;default:c=i.stateNode}typeof l=="function"?i.refCleanup=l(c):l.current=c}}catch(p){wt(i,a,p)}}function Fi(i,a){var l=i.ref,c=i.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(p){wt(i,a,p)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(p){wt(i,a,p)}else l.current=null}function Rw(i){var a=i.type,l=i.memoizedProps,c=i.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break e;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(p){wt(i,i.return,p)}}function ev(i,a,l){try{var c=i.stateNode;SD(c,i.type,l,a),c[he]=a}catch(p){wt(i,i.return,p)}}function Iw(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&ua(i.type)||i.tag===4}function tv(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Iw(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&ua(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function nv(i,a,l){var c=i.tag;if(c===5||c===6)i=i.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(i,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(i),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=kn));else if(c!==4&&(c===27&&ua(i.type)&&(l=i.stateNode,a=null),i=i.child,i!==null))for(nv(i,a,l),i=i.sibling;i!==null;)nv(i,a,l),i=i.sibling}function Gh(i,a,l){var c=i.tag;if(c===5||c===6)i=i.stateNode,a?l.insertBefore(i,a):l.appendChild(i);else if(c!==4&&(c===27&&ua(i.type)&&(l=i.stateNode),i=i.child,i!==null))for(Gh(i,a,l),i=i.sibling;i!==null;)Gh(i,a,l),i=i.sibling}function Nw(i){var a=i.stateNode,l=i.memoizedProps;try{for(var c=i.type,p=a.attributes;p.length;)a.removeAttributeNode(p[0]);qn(a,c,l),a[_t]=i,a[he]=l}catch(v){wt(i,i.return,v)}}var ps=!1,vn=!1,rv=!1,kw=typeof WeakSet=="function"?WeakSet:Set,jn=null;function iD(i,a){if(i=i.containerInfo,Tv=hd,i=H_(i),Qp(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var p=c.anchorOffset,v=c.focusNode;c=c.focusOffset;try{l.nodeType,v.nodeType}catch{l=null;break e}var w=0,R=-1,F=-1,X=0,ie=0,oe=i,J=null;t:for(;;){for(var te;oe!==l||p!==0&&oe.nodeType!==3||(R=w+p),oe!==v||c!==0&&oe.nodeType!==3||(F=w+c),oe.nodeType===3&&(w+=oe.nodeValue.length),(te=oe.firstChild)!==null;)J=oe,oe=te;for(;;){if(oe===i)break t;if(J===l&&++X===p&&(R=w),J===v&&++ie===c&&(F=w),(te=oe.nextSibling)!==null)break;oe=J,J=oe.parentNode}oe=te}l=R===-1||F===-1?null:{start:R,end:F}}else l=null}l=l||{start:0,end:0}}else l=null;for(Sv={focusedElem:i,selectionRange:l},hd=!1,jn=a;jn!==null;)if(a=jn,i=a.child,(a.subtreeFlags&1028)!==0&&i!==null)i.return=a,jn=i;else for(;jn!==null;){switch(a=jn,v=a.alternate,i=a.flags,a.tag){case 0:if((i&4)!==0&&(i=a.updateQueue,i=i!==null?i.events:null,i!==null))for(l=0;l<i.length;l++)p=i[l],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&v!==null){i=void 0,l=a,p=v.memoizedProps,v=v.memoizedState,c=l.stateNode;try{var Te=go(l.type,p);i=c.getSnapshotBeforeUpdate(Te,v),c.__reactInternalSnapshotBeforeUpdate=i}catch(Oe){wt(l,l.return,Oe)}}break;case 3:if((i&1024)!==0){if(i=a.stateNode.containerInfo,l=i.nodeType,l===9)Rv(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Rv(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=a.sibling,i!==null){i.return=a.return,jn=i;break}jn=a.return}}function Dw(i,a,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:vs(i,l),c&4&&nc(5,l);break;case 1:if(vs(i,l),c&4)if(i=l.stateNode,a===null)try{i.componentDidMount()}catch(w){wt(l,l.return,w)}else{var p=go(l.type,a.memoizedProps);a=a.memoizedState;try{i.componentDidUpdate(p,a,i.__reactInternalSnapshotBeforeUpdate)}catch(w){wt(l,l.return,w)}}c&64&&Aw(l),c&512&&rc(l,l.return);break;case 3:if(vs(i,l),c&64&&(i=l.updateQueue,i!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{gx(i,a)}catch(w){wt(l,l.return,w)}}break;case 27:a===null&&c&4&&Nw(l);case 26:case 5:vs(i,l),a===null&&c&4&&Rw(l),c&512&&rc(l,l.return);break;case 12:vs(i,l);break;case 31:vs(i,l),c&4&&Pw(i,l);break;case 13:vs(i,l),c&4&&Mw(i,l),c&64&&(i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(l=dD.bind(null,l),OD(i,l))));break;case 22:if(c=l.memoizedState!==null||ps,!c){a=a!==null&&a.memoizedState!==null||vn,p=ps;var v=vn;ps=c,(vn=a)&&!v?ys(i,l,(l.subtreeFlags&8772)!==0):vs(i,l),ps=p,vn=v}break;case 30:break;default:vs(i,l)}}function Ow(i){var a=i.alternate;a!==null&&(i.alternate=null,Ow(a)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(a=i.stateNode,a!==null&&Jn(a)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var qt=null,Cr=!1;function gs(i,a,l){for(l=l.child;l!==null;)jw(i,a,l),l=l.sibling}function jw(i,a,l){if(an&&typeof an.onCommitFiberUnmount=="function")try{an.onCommitFiberUnmount(hr,l)}catch{}switch(l.tag){case 26:vn||Fi(l,a),gs(i,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:vn||Fi(l,a);var c=qt,p=Cr;ua(l.type)&&(qt=l.stateNode,Cr=!1),gs(i,a,l),hc(l.stateNode),qt=c,Cr=p;break;case 5:vn||Fi(l,a);case 6:if(c=qt,p=Cr,qt=null,gs(i,a,l),qt=c,Cr=p,qt!==null)if(Cr)try{(qt.nodeType===9?qt.body:qt.nodeName==="HTML"?qt.ownerDocument.body:qt).removeChild(l.stateNode)}catch(v){wt(l,a,v)}else try{qt.removeChild(l.stateNode)}catch(v){wt(l,a,v)}break;case 18:qt!==null&&(Cr?(i=qt,AE(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,l.stateNode),Nl(i)):AE(qt,l.stateNode));break;case 4:c=qt,p=Cr,qt=l.stateNode.containerInfo,Cr=!0,gs(i,a,l),qt=c,Cr=p;break;case 0:case 11:case 14:case 15:na(2,l,a),vn||na(4,l,a),gs(i,a,l);break;case 1:vn||(Fi(l,a),c=l.stateNode,typeof c.componentWillUnmount=="function"&&Cw(l,a,c)),gs(i,a,l);break;case 21:gs(i,a,l);break;case 22:vn=(c=vn)||l.memoizedState!==null,gs(i,a,l),vn=c;break;default:gs(i,a,l)}}function Pw(i,a){if(a.memoizedState===null&&(i=a.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Nl(i)}catch(l){wt(a,a.return,l)}}}function Mw(i,a){if(a.memoizedState===null&&(i=a.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Nl(i)}catch(l){wt(a,a.return,l)}}function sD(i){switch(i.tag){case 31:case 13:case 19:var a=i.stateNode;return a===null&&(a=i.stateNode=new kw),a;case 22:return i=i.stateNode,a=i._retryCache,a===null&&(a=i._retryCache=new kw),a;default:throw Error(r(435,i.tag))}}function $h(i,a){var l=sD(i);a.forEach(function(c){if(!l.has(c)){l.add(c);var p=mD.bind(null,i,c);c.then(p,p)}})}function Rr(i,a){var l=a.deletions;if(l!==null)for(var c=0;c<l.length;c++){var p=l[c],v=i,w=a,R=w;e:for(;R!==null;){switch(R.tag){case 27:if(ua(R.type)){qt=R.stateNode,Cr=!1;break e}break;case 5:qt=R.stateNode,Cr=!1;break e;case 3:case 4:qt=R.stateNode.containerInfo,Cr=!0;break e}R=R.return}if(qt===null)throw Error(r(160));jw(v,w,p),qt=null,Cr=!1,v=p.alternate,v!==null&&(v.return=null),p.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)Vw(a,i),a=a.sibling}var Ei=null;function Vw(i,a){var l=i.alternate,c=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Rr(a,i),Ir(i),c&4&&(na(3,i,i.return),nc(3,i),na(5,i,i.return));break;case 1:Rr(a,i),Ir(i),c&512&&(vn||l===null||Fi(l,l.return)),c&64&&ps&&(i=i.updateQueue,i!==null&&(c=i.callbacks,c!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var p=Ei;if(Rr(a,i),Ir(i),c&512&&(vn||l===null||Fi(l,l.return)),c&4){var v=l!==null?l.memoizedState:null;if(c=i.memoizedState,l===null)if(c===null)if(i.stateNode===null){e:{c=i.type,l=i.memoizedProps,p=p.ownerDocument||p;t:switch(c){case"title":v=p.getElementsByTagName("title")[0],(!v||v[Zn]||v[_t]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=p.createElement(c),p.head.insertBefore(v,p.querySelector("head > title"))),qn(v,c,l),v[_t]=i,Ht(v),c=v;break e;case"link":var w=VE("link","href",p).get(c+(l.href||""));if(w){for(var R=0;R<w.length;R++)if(v=w[R],v.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&v.getAttribute("rel")===(l.rel==null?null:l.rel)&&v.getAttribute("title")===(l.title==null?null:l.title)&&v.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){w.splice(R,1);break t}}v=p.createElement(c),qn(v,c,l),p.head.appendChild(v);break;case"meta":if(w=VE("meta","content",p).get(c+(l.content||""))){for(R=0;R<w.length;R++)if(v=w[R],v.getAttribute("content")===(l.content==null?null:""+l.content)&&v.getAttribute("name")===(l.name==null?null:l.name)&&v.getAttribute("property")===(l.property==null?null:l.property)&&v.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&v.getAttribute("charset")===(l.charSet==null?null:l.charSet)){w.splice(R,1);break t}}v=p.createElement(c),qn(v,c,l),p.head.appendChild(v);break;default:throw Error(r(468,c))}v[_t]=i,Ht(v),c=v}i.stateNode=c}else LE(p,i.type,i.stateNode);else i.stateNode=ME(p,c,i.memoizedProps);else v!==c?(v===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):v.count--,c===null?LE(p,i.type,i.stateNode):ME(p,c,i.memoizedProps)):c===null&&i.stateNode!==null&&ev(i,i.memoizedProps,l.memoizedProps)}break;case 27:Rr(a,i),Ir(i),c&512&&(vn||l===null||Fi(l,l.return)),l!==null&&c&4&&ev(i,i.memoizedProps,l.memoizedProps);break;case 5:if(Rr(a,i),Ir(i),c&512&&(vn||l===null||Fi(l,l.return)),i.flags&32){p=i.stateNode;try{ni(p,"")}catch(Te){wt(i,i.return,Te)}}c&4&&i.stateNode!=null&&(p=i.memoizedProps,ev(i,p,l!==null?l.memoizedProps:p)),c&1024&&(rv=!0);break;case 6:if(Rr(a,i),Ir(i),c&4){if(i.stateNode===null)throw Error(r(162));c=i.memoizedProps,l=i.stateNode;try{l.nodeValue=c}catch(Te){wt(i,i.return,Te)}}break;case 3:if(ld=null,p=Ei,Ei=ad(a.containerInfo),Rr(a,i),Ei=p,Ir(i),c&4&&l!==null&&l.memoizedState.isDehydrated)try{Nl(a.containerInfo)}catch(Te){wt(i,i.return,Te)}rv&&(rv=!1,Lw(i));break;case 4:c=Ei,Ei=ad(i.stateNode.containerInfo),Rr(a,i),Ir(i),Ei=c;break;case 12:Rr(a,i),Ir(i);break;case 31:Rr(a,i),Ir(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,$h(i,c)));break;case 13:Rr(a,i),Ir(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Yh=bt()),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,$h(i,c)));break;case 22:p=i.memoizedState!==null;var F=l!==null&&l.memoizedState!==null,X=ps,ie=vn;if(ps=X||p,vn=ie||F,Rr(a,i),vn=ie,ps=X,Ir(i),c&8192)e:for(a=i.stateNode,a._visibility=p?a._visibility&-2:a._visibility|1,p&&(l===null||F||ps||vn||vo(i)),l=null,a=i;;){if(a.tag===5||a.tag===26){if(l===null){F=l=a;try{if(v=F.stateNode,p)w=v.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{R=F.stateNode;var oe=F.memoizedProps.style,J=oe!=null&&oe.hasOwnProperty("display")?oe.display:null;R.style.display=J==null||typeof J=="boolean"?"":(""+J).trim()}}catch(Te){wt(F,F.return,Te)}}}else if(a.tag===6){if(l===null){F=a;try{F.stateNode.nodeValue=p?"":F.memoizedProps}catch(Te){wt(F,F.return,Te)}}}else if(a.tag===18){if(l===null){F=a;try{var te=F.stateNode;p?CE(te,!0):CE(F.stateNode,!1)}catch(Te){wt(F,F.return,Te)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===i)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break e;for(;a.sibling===null;){if(a.return===null||a.return===i)break e;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}c&4&&(c=i.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,$h(i,l))));break;case 19:Rr(a,i),Ir(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,$h(i,c)));break;case 30:break;case 21:break;default:Rr(a,i),Ir(i)}}function Ir(i){var a=i.flags;if(a&2){try{for(var l,c=i.return;c!==null;){if(Iw(c)){l=c;break}c=c.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var p=l.stateNode,v=tv(i);Gh(i,v,p);break;case 5:var w=l.stateNode;l.flags&32&&(ni(w,""),l.flags&=-33);var R=tv(i);Gh(i,R,w);break;case 3:case 4:var F=l.stateNode.containerInfo,X=tv(i);nv(i,X,F);break;default:throw Error(r(161))}}catch(ie){wt(i,i.return,ie)}i.flags&=-3}a&4096&&(i.flags&=-4097)}function Lw(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var a=i;Lw(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),i=i.sibling}}function vs(i,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)Dw(i,a.alternate,a),a=a.sibling}function vo(i){for(i=i.child;i!==null;){var a=i;switch(a.tag){case 0:case 11:case 14:case 15:na(4,a,a.return),vo(a);break;case 1:Fi(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&Cw(a,a.return,l),vo(a);break;case 27:hc(a.stateNode);case 26:case 5:Fi(a,a.return),vo(a);break;case 22:a.memoizedState===null&&vo(a);break;case 30:vo(a);break;default:vo(a)}i=i.sibling}}function ys(i,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var c=a.alternate,p=i,v=a,w=v.flags;switch(v.tag){case 0:case 11:case 15:ys(p,v,l),nc(4,v);break;case 1:if(ys(p,v,l),c=v,p=c.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(X){wt(c,c.return,X)}if(c=v,p=c.updateQueue,p!==null){var R=c.stateNode;try{var F=p.shared.hiddenCallbacks;if(F!==null)for(p.shared.hiddenCallbacks=null,p=0;p<F.length;p++)px(F[p],R)}catch(X){wt(c,c.return,X)}}l&&w&64&&Aw(v),rc(v,v.return);break;case 27:Nw(v);case 26:case 5:ys(p,v,l),l&&c===null&&w&4&&Rw(v),rc(v,v.return);break;case 12:ys(p,v,l);break;case 31:ys(p,v,l),l&&w&4&&Pw(p,v);break;case 13:ys(p,v,l),l&&w&4&&Mw(p,v);break;case 22:v.memoizedState===null&&ys(p,v,l),rc(v,v.return);break;case 30:break;default:ys(p,v,l)}a=a.sibling}}function iv(i,a){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(i=a.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&Hu(l))}function sv(i,a){i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&Hu(i))}function Ti(i,a,l,c){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Uw(i,a,l,c),a=a.sibling}function Uw(i,a,l,c){var p=a.flags;switch(a.tag){case 0:case 11:case 15:Ti(i,a,l,c),p&2048&&nc(9,a);break;case 1:Ti(i,a,l,c);break;case 3:Ti(i,a,l,c),p&2048&&(i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&Hu(i)));break;case 12:if(p&2048){Ti(i,a,l,c),i=a.stateNode;try{var v=a.memoizedProps,w=v.id,R=v.onPostCommit;typeof R=="function"&&R(w,a.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(F){wt(a,a.return,F)}}else Ti(i,a,l,c);break;case 31:Ti(i,a,l,c);break;case 13:Ti(i,a,l,c);break;case 23:break;case 22:v=a.stateNode,w=a.alternate,a.memoizedState!==null?v._visibility&2?Ti(i,a,l,c):ic(i,a):v._visibility&2?Ti(i,a,l,c):(v._visibility|=2,bl(i,a,l,c,(a.subtreeFlags&10256)!==0||!1)),p&2048&&iv(w,a);break;case 24:Ti(i,a,l,c),p&2048&&sv(a.alternate,a);break;default:Ti(i,a,l,c)}}function bl(i,a,l,c,p){for(p=p&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var v=i,w=a,R=l,F=c,X=w.flags;switch(w.tag){case 0:case 11:case 15:bl(v,w,R,F,p),nc(8,w);break;case 23:break;case 22:var ie=w.stateNode;w.memoizedState!==null?ie._visibility&2?bl(v,w,R,F,p):ic(v,w):(ie._visibility|=2,bl(v,w,R,F,p)),p&&X&2048&&iv(w.alternate,w);break;case 24:bl(v,w,R,F,p),p&&X&2048&&sv(w.alternate,w);break;default:bl(v,w,R,F,p)}a=a.sibling}}function ic(i,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=i,c=a,p=c.flags;switch(c.tag){case 22:ic(l,c),p&2048&&iv(c.alternate,c);break;case 24:ic(l,c),p&2048&&sv(c.alternate,c);break;default:ic(l,c)}a=a.sibling}}var sc=8192;function _l(i,a,l){if(i.subtreeFlags&sc)for(i=i.child;i!==null;)zw(i,a,l),i=i.sibling}function zw(i,a,l){switch(i.tag){case 26:_l(i,a,l),i.flags&sc&&i.memoizedState!==null&&GD(l,Ei,i.memoizedState,i.memoizedProps);break;case 5:_l(i,a,l);break;case 3:case 4:var c=Ei;Ei=ad(i.stateNode.containerInfo),_l(i,a,l),Ei=c;break;case 22:i.memoizedState===null&&(c=i.alternate,c!==null&&c.memoizedState!==null?(c=sc,sc=16777216,_l(i,a,l),sc=c):_l(i,a,l));break;default:_l(i,a,l)}}function Bw(i){var a=i.alternate;if(a!==null&&(i=a.child,i!==null)){a.child=null;do a=i.sibling,i.sibling=null,i=a;while(i!==null)}}function ac(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var c=a[l];jn=c,Hw(c,i)}Bw(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Fw(i),i=i.sibling}function Fw(i){switch(i.tag){case 0:case 11:case 15:ac(i),i.flags&2048&&na(9,i,i.return);break;case 3:ac(i);break;case 12:ac(i);break;case 22:var a=i.stateNode;i.memoizedState!==null&&a._visibility&2&&(i.return===null||i.return.tag!==13)?(a._visibility&=-3,Kh(i)):ac(i);break;default:ac(i)}}function Kh(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var c=a[l];jn=c,Hw(c,i)}Bw(i)}for(i=i.child;i!==null;){switch(a=i,a.tag){case 0:case 11:case 15:na(8,a,a.return),Kh(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,Kh(a));break;default:Kh(a)}i=i.sibling}}function Hw(i,a){for(;jn!==null;){var l=jn;switch(l.tag){case 0:case 11:case 15:na(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Hu(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,jn=c;else e:for(l=i;jn!==null;){c=jn;var p=c.sibling,v=c.return;if(Ow(c),c===l){jn=null;break e}if(p!==null){p.return=v,jn=p;break e}jn=v}}}var aD={getCacheForType:function(i){var a=Fn(mn),l=a.data.get(i);return l===void 0&&(l=i(),a.data.set(i,l)),l},cacheSignal:function(){return Fn(mn).controller.signal}},oD=typeof WeakMap=="function"?WeakMap:Map,mt=0,Nt=null,Qe=null,tt=0,xt=0,$r=null,ra=!1,xl=!1,av=!1,bs=0,en=0,ia=0,yo=0,ov=0,Kr=0,wl=0,oc=null,Nr=null,lv=!1,Yh=0,qw=0,Wh=1/0,Qh=null,sa=null,Tn=0,aa=null,El=null,_s=0,uv=0,cv=null,Gw=null,lc=0,fv=null;function Yr(){return(mt&2)!==0&&tt!==0?tt&-tt:Q.T!==null?vv():zn()}function $w(){if(Kr===0)if((tt&536870912)===0||st){var i=Ce;Ce<<=1,(Ce&3932160)===0&&(Ce=262144),Kr=i}else Kr=536870912;return i=qr.current,i!==null&&(i.flags|=32),Kr}function kr(i,a,l){(i===Nt&&(xt===2||xt===9)||i.cancelPendingCommit!==null)&&(Tl(i,0),oa(i,tt,Kr,!1)),Tt(i,l),((mt&2)===0||i!==Nt)&&(i===Nt&&((mt&2)===0&&(yo|=l),en===4&&oa(i,tt,Kr,!1)),Hi(i))}function Kw(i,a,l){if((mt&6)!==0)throw Error(r(327));var c=!l&&(a&127)===0&&(a&i.expiredLanes)===0||He(i,a),p=c?cD(i,a):dv(i,a,!0),v=c;do{if(p===0){xl&&!c&&oa(i,a,0,!1);break}else{if(l=i.current.alternate,v&&!lD(l)){p=dv(i,a,!1),v=!1;continue}if(p===2){if(v=a,i.errorRecoveryDisabledLanes&v)var w=0;else w=i.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){a=w;e:{var R=i;p=oc;var F=R.current.memoizedState.isDehydrated;if(F&&(Tl(R,w).flags|=256),w=dv(R,w,!1),w!==2){if(av&&!F){R.errorRecoveryDisabledLanes|=v,yo|=v,p=4;break e}v=Nr,Nr=p,v!==null&&(Nr===null?Nr=v:Nr.push.apply(Nr,v))}p=w}if(v=!1,p!==2)continue}}if(p===1){Tl(i,0),oa(i,a,0,!0);break}e:{switch(c=i,v=p,v){case 0:case 1:throw Error(r(345));case 4:if((a&4194048)!==a)break;case 6:oa(c,a,Kr,!ra);break e;case 2:Nr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((a&62914560)===a&&(p=Yh+300-bt(),10<p)){if(oa(c,a,Kr,!ra),ke(c,0,!0)!==0)break e;_s=a,c.timeoutHandle=TE(Yw.bind(null,c,l,Nr,Qh,lv,a,Kr,yo,wl,ra,v,"Throttled",-0,0),p);break e}Yw(c,l,Nr,Qh,lv,a,Kr,yo,wl,ra,v,null,-0,0)}}break}while(!0);Hi(i)}function Yw(i,a,l,c,p,v,w,R,F,X,ie,oe,J,te){if(i.timeoutHandle=-1,oe=a.subtreeFlags,oe&8192||(oe&16785408)===16785408){oe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:kn},zw(a,v,oe);var Te=(v&62914560)===v?Yh-bt():(v&4194048)===v?qw-bt():0;if(Te=$D(oe,Te),Te!==null){_s=v,i.cancelPendingCommit=Te(nE.bind(null,i,a,v,l,c,p,w,R,F,ie,oe,null,J,te)),oa(i,v,w,!X);return}}nE(i,a,v,l,c,p,w,R,F)}function lD(i){for(var a=i;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var p=l[c],v=p.getSnapshot;p=p.value;try{if(!Fr(v(),p))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function oa(i,a,l,c){a&=~ov,a&=~yo,i.suspendedLanes|=a,i.pingedLanes&=~a,c&&(i.warmLanes|=a),c=i.expirationTimes;for(var p=a;0<p;){var v=31-ye(p),w=1<<v;c[v]=-1,p&=~w}l!==0&&Un(i,l,a)}function Xh(){return(mt&6)===0?(uc(0),!1):!0}function hv(){if(Qe!==null){if(xt===0)var i=Qe.return;else i=Qe,us=lo=null,Rg(i),ml=null,Gu=0,i=Qe;for(;i!==null;)Sw(i.alternate,i),i=i.return;Qe=null}}function Tl(i,a){var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,RD(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),_s=0,hv(),Nt=i,Qe=l=os(i.current,null),tt=a,xt=0,$r=null,ra=!1,xl=He(i,a),av=!1,wl=Kr=ov=yo=ia=en=0,Nr=oc=null,lv=!1,(a&8)!==0&&(a|=a&32);var c=i.entangledLanes;if(c!==0)for(i=i.entanglements,c&=a;0<c;){var p=31-ye(c),v=1<<p;a|=i[p],c&=~v}return bs=a,yh(),l}function Ww(i,a){qe=null,Q.H=Ju,a===dl||a===Ah?(a=fx(),xt=3):a===gg?(a=fx(),xt=4):xt=a===qg?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,$r=a,Qe===null&&(en=1,zh(i,ii(a,i.current)))}function Qw(){var i=qr.current;return i===null?!0:(tt&4194048)===tt?li===null:(tt&62914560)===tt||(tt&536870912)!==0?i===li:!1}function Xw(){var i=Q.H;return Q.H=Ju,i===null?Ju:i}function Zw(){var i=Q.A;return Q.A=aD,i}function Zh(){en=4,ra||(tt&4194048)!==tt&&qr.current!==null||(xl=!0),(ia&134217727)===0&&(yo&134217727)===0||Nt===null||oa(Nt,tt,Kr,!1)}function dv(i,a,l){var c=mt;mt|=2;var p=Xw(),v=Zw();(Nt!==i||tt!==a)&&(Qh=null,Tl(i,a)),a=!1;var w=en;e:do try{if(xt!==0&&Qe!==null){var R=Qe,F=$r;switch(xt){case 8:hv(),w=6;break e;case 3:case 2:case 9:case 6:qr.current===null&&(a=!0);var X=xt;if(xt=0,$r=null,Sl(i,R,F,X),l&&xl){w=0;break e}break;default:X=xt,xt=0,$r=null,Sl(i,R,F,X)}}uD(),w=en;break}catch(ie){Ww(i,ie)}while(!0);return a&&i.shellSuspendCounter++,us=lo=null,mt=c,Q.H=p,Q.A=v,Qe===null&&(Nt=null,tt=0,yh()),w}function uD(){for(;Qe!==null;)Jw(Qe)}function cD(i,a){var l=mt;mt|=2;var c=Xw(),p=Zw();Nt!==i||tt!==a?(Qh=null,Wh=bt()+500,Tl(i,a)):xl=He(i,a);e:do try{if(xt!==0&&Qe!==null){a=Qe;var v=$r;t:switch(xt){case 1:xt=0,$r=null,Sl(i,a,v,1);break;case 2:case 9:if(ux(v)){xt=0,$r=null,eE(a);break}a=function(){xt!==2&&xt!==9||Nt!==i||(xt=7),Hi(i)},v.then(a,a);break e;case 3:xt=7;break e;case 4:xt=5;break e;case 7:ux(v)?(xt=0,$r=null,eE(a)):(xt=0,$r=null,Sl(i,a,v,7));break;case 5:var w=null;switch(Qe.tag){case 26:w=Qe.memoizedState;case 5:case 27:var R=Qe;if(w?UE(w):R.stateNode.complete){xt=0,$r=null;var F=R.sibling;if(F!==null)Qe=F;else{var X=R.return;X!==null?(Qe=X,Jh(X)):Qe=null}break t}}xt=0,$r=null,Sl(i,a,v,5);break;case 6:xt=0,$r=null,Sl(i,a,v,6);break;case 8:hv(),en=6;break e;default:throw Error(r(462))}}fD();break}catch(ie){Ww(i,ie)}while(!0);return us=lo=null,Q.H=c,Q.A=p,mt=l,Qe!==null?0:(Nt=null,tt=0,yh(),en)}function fD(){for(;Qe!==null&&!Er();)Jw(Qe)}function Jw(i){var a=Ew(i.alternate,i,bs);i.memoizedProps=i.pendingProps,a===null?Jh(i):Qe=a}function eE(i){var a=i,l=a.alternate;switch(a.tag){case 15:case 0:a=vw(l,a,a.pendingProps,a.type,void 0,tt);break;case 11:a=vw(l,a,a.pendingProps,a.type.render,a.ref,tt);break;case 5:Rg(a);default:Sw(l,a),a=Qe=Z_(a,bs),a=Ew(l,a,bs)}i.memoizedProps=i.pendingProps,a===null?Jh(i):Qe=a}function Sl(i,a,l,c){us=lo=null,Rg(a),ml=null,Gu=0;var p=a.return;try{if(Jk(i,p,a,l,tt)){en=1,zh(i,ii(l,i.current)),Qe=null;return}}catch(v){if(p!==null)throw Qe=p,v;en=1,zh(i,ii(l,i.current)),Qe=null;return}a.flags&32768?(st||c===1?i=!0:xl||(tt&536870912)!==0?i=!1:(ra=i=!0,(c===2||c===9||c===3||c===6)&&(c=qr.current,c!==null&&c.tag===13&&(c.flags|=16384))),tE(a,i)):Jh(a)}function Jh(i){var a=i;do{if((a.flags&32768)!==0){tE(a,ra);return}i=a.return;var l=nD(a.alternate,a,bs);if(l!==null){Qe=l;return}if(a=a.sibling,a!==null){Qe=a;return}Qe=a=i}while(a!==null);en===0&&(en=5)}function tE(i,a){do{var l=rD(i.alternate,i);if(l!==null){l.flags&=32767,Qe=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(i=i.sibling,i!==null)){Qe=i;return}Qe=i=l}while(i!==null);en=6,Qe=null}function nE(i,a,l,c,p,v,w,R,F){i.cancelPendingCommit=null;do ed();while(Tn!==0);if((mt&6)!==0)throw Error(r(327));if(a!==null){if(a===i.current)throw Error(r(177));if(v=a.lanes|a.childLanes,v|=tg,ut(i,l,v,w,R,F),i===Nt&&(Qe=Nt=null,tt=0),El=a,aa=i,_s=l,uv=v,cv=p,Gw=c,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,pD(lt,function(){return oE(),null})):(i.callbackNode=null,i.callbackPriority=0),c=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||c){c=Q.T,Q.T=null,p=se.p,se.p=2,w=mt,mt|=4;try{iD(i,a,l)}finally{mt=w,se.p=p,Q.T=c}}Tn=1,rE(),iE(),sE()}}function rE(){if(Tn===1){Tn=0;var i=aa,a=El,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=Q.T,Q.T=null;var c=se.p;se.p=2;var p=mt;mt|=4;try{Vw(a,i);var v=Sv,w=H_(i.containerInfo),R=v.focusedElem,F=v.selectionRange;if(w!==R&&R&&R.ownerDocument&&F_(R.ownerDocument.documentElement,R)){if(F!==null&&Qp(R)){var X=F.start,ie=F.end;if(ie===void 0&&(ie=X),"selectionStart"in R)R.selectionStart=X,R.selectionEnd=Math.min(ie,R.value.length);else{var oe=R.ownerDocument||document,J=oe&&oe.defaultView||window;if(J.getSelection){var te=J.getSelection(),Te=R.textContent.length,Oe=Math.min(F.start,Te),Ct=F.end===void 0?Oe:Math.min(F.end,Te);!te.extend&&Oe>Ct&&(w=Ct,Ct=Oe,Oe=w);var $=B_(R,Oe),q=B_(R,Ct);if($&&q&&(te.rangeCount!==1||te.anchorNode!==$.node||te.anchorOffset!==$.offset||te.focusNode!==q.node||te.focusOffset!==q.offset)){var W=oe.createRange();W.setStart($.node,$.offset),te.removeAllRanges(),Oe>Ct?(te.addRange(W),te.extend(q.node,q.offset)):(W.setEnd(q.node,q.offset),te.addRange(W))}}}}for(oe=[],te=R;te=te.parentNode;)te.nodeType===1&&oe.push({element:te,left:te.scrollLeft,top:te.scrollTop});for(typeof R.focus=="function"&&R.focus(),R=0;R<oe.length;R++){var ae=oe[R];ae.element.scrollLeft=ae.left,ae.element.scrollTop=ae.top}}hd=!!Tv,Sv=Tv=null}finally{mt=p,se.p=c,Q.T=l}}i.current=a,Tn=2}}function iE(){if(Tn===2){Tn=0;var i=aa,a=El,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=Q.T,Q.T=null;var c=se.p;se.p=2;var p=mt;mt|=4;try{Dw(i,a.alternate,a)}finally{mt=p,se.p=c,Q.T=l}}Tn=3}}function sE(){if(Tn===4||Tn===3){Tn=0,Vr();var i=aa,a=El,l=_s,c=Gw;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Tn=5:(Tn=0,El=aa=null,aE(i,i.pendingLanes));var p=i.pendingLanes;if(p===0&&(sa=null),Xt(l),a=a.stateNode,an&&typeof an.onCommitFiberRoot=="function")try{an.onCommitFiberRoot(hr,a,void 0,(a.current.flags&128)===128)}catch{}if(c!==null){a=Q.T,p=se.p,se.p=2,Q.T=null;try{for(var v=i.onRecoverableError,w=0;w<c.length;w++){var R=c[w];v(R.value,{componentStack:R.stack})}}finally{Q.T=a,se.p=p}}(_s&3)!==0&&ed(),Hi(i),p=i.pendingLanes,(l&261930)!==0&&(p&42)!==0?i===fv?lc++:(lc=0,fv=i):lc=0,uc(0)}}function aE(i,a){(i.pooledCacheLanes&=a)===0&&(a=i.pooledCache,a!=null&&(i.pooledCache=null,Hu(a)))}function ed(){return rE(),iE(),sE(),oE()}function oE(){if(Tn!==5)return!1;var i=aa,a=uv;uv=0;var l=Xt(_s),c=Q.T,p=se.p;try{se.p=32>l?32:l,Q.T=null,l=cv,cv=null;var v=aa,w=_s;if(Tn=0,El=aa=null,_s=0,(mt&6)!==0)throw Error(r(331));var R=mt;if(mt|=4,Fw(v.current),Uw(v,v.current,w,l),mt=R,uc(0,!1),an&&typeof an.onPostCommitFiberRoot=="function")try{an.onPostCommitFiberRoot(hr,v)}catch{}return!0}finally{se.p=p,Q.T=c,aE(i,a)}}function lE(i,a,l){a=ii(l,a),a=Hg(i.stateNode,a,2),i=Js(i,a,2),i!==null&&(Tt(i,2),Hi(i))}function wt(i,a,l){if(i.tag===3)lE(i,i,l);else for(;a!==null;){if(a.tag===3){lE(a,i,l);break}else if(a.tag===1){var c=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(sa===null||!sa.has(c))){i=ii(l,i),l=uw(2),c=Js(a,l,2),c!==null&&(cw(l,c,a,i),Tt(c,2),Hi(c));break}}a=a.return}}function mv(i,a,l){var c=i.pingCache;if(c===null){c=i.pingCache=new oD;var p=new Set;c.set(a,p)}else p=c.get(a),p===void 0&&(p=new Set,c.set(a,p));p.has(l)||(av=!0,p.add(l),i=hD.bind(null,i,a,l),a.then(i,i))}function hD(i,a,l){var c=i.pingCache;c!==null&&c.delete(a),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,Nt===i&&(tt&l)===l&&(en===4||en===3&&(tt&62914560)===tt&&300>bt()-Yh?(mt&2)===0&&Tl(i,0):ov|=l,wl===tt&&(wl=0)),Hi(i)}function uE(i,a){a===0&&(a=En()),i=so(i,a),i!==null&&(Tt(i,a),Hi(i))}function dD(i){var a=i.memoizedState,l=0;a!==null&&(l=a.retryLane),uE(i,l)}function mD(i,a){var l=0;switch(i.tag){case 31:case 13:var c=i.stateNode,p=i.memoizedState;p!==null&&(l=p.retryLane);break;case 19:c=i.stateNode;break;case 22:c=i.stateNode._retryCache;break;default:throw Error(r(314))}c!==null&&c.delete(a),uE(i,l)}function pD(i,a){return Xn(i,a)}var td=null,Al=null,pv=!1,nd=!1,gv=!1,la=0;function Hi(i){i!==Al&&i.next===null&&(Al===null?td=Al=i:Al=Al.next=i),nd=!0,pv||(pv=!0,vD())}function uc(i,a){if(!gv&&nd){gv=!0;do for(var l=!1,c=td;c!==null;){if(i!==0){var p=c.pendingLanes;if(p===0)var v=0;else{var w=c.suspendedLanes,R=c.pingedLanes;v=(1<<31-ye(42|i)+1)-1,v&=p&~(w&~R),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(l=!0,dE(c,v))}else v=tt,v=ke(c,c===Nt?v:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(v&3)===0||He(c,v)||(l=!0,dE(c,v));c=c.next}while(l);gv=!1}}function gD(){cE()}function cE(){nd=pv=!1;var i=0;la!==0&&CD()&&(i=la);for(var a=bt(),l=null,c=td;c!==null;){var p=c.next,v=fE(c,a);v===0?(c.next=null,l===null?td=p:l.next=p,p===null&&(Al=l)):(l=c,(i!==0||(v&3)!==0)&&(nd=!0)),c=p}Tn!==0&&Tn!==5||uc(i),la!==0&&(la=0)}function fE(i,a){for(var l=i.suspendedLanes,c=i.pingedLanes,p=i.expirationTimes,v=i.pendingLanes&-62914561;0<v;){var w=31-ye(v),R=1<<w,F=p[w];F===-1?((R&l)===0||(R&c)!==0)&&(p[w]=Qt(R,a)):F<=a&&(i.expiredLanes|=R),v&=~R}if(a=Nt,l=tt,l=ke(i,i===a?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c=i.callbackNode,l===0||i===a&&(xt===2||xt===9)||i.cancelPendingCommit!==null)return c!==null&&c!==null&&fr(c),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||He(i,l)){if(a=l&-l,a===i.callbackPriority)return a;switch(c!==null&&fr(c),Xt(l)){case 2:case 8:l=Ot;break;case 32:l=lt;break;case 268435456:l=vi;break;default:l=lt}return c=hE.bind(null,i),l=Xn(l,c),i.callbackPriority=a,i.callbackNode=l,a}return c!==null&&c!==null&&fr(c),i.callbackPriority=2,i.callbackNode=null,2}function hE(i,a){if(Tn!==0&&Tn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var l=i.callbackNode;if(ed()&&i.callbackNode!==l)return null;var c=tt;return c=ke(i,i===Nt?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c===0?null:(Kw(i,c,a),fE(i,bt()),i.callbackNode!=null&&i.callbackNode===l?hE.bind(null,i):null)}function dE(i,a){if(ed())return null;Kw(i,a,!0)}function vD(){ID(function(){(mt&6)!==0?Xn(Fe,gD):cE()})}function vv(){if(la===0){var i=fl;i===0&&(i=Le,Le<<=1,(Le&261888)===0&&(Le=256)),la=i}return la}function mE(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Vi(""+i)}function pE(i,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,i.id&&l.setAttribute("form",i.id),a.parentNode.insertBefore(l,a),i=new FormData(i),l.parentNode.removeChild(l),i}function yD(i,a,l,c,p){if(a==="submit"&&l&&l.stateNode===p){var v=mE((p[he]||null).action),w=c.submitter;w&&(a=(a=w[he]||null)?mE(a.formAction):w.getAttribute("formAction"),a!==null&&(v=a,w=null));var R=new Za("action","action",null,c,p);i.push({event:R,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(la!==0){var F=w?pE(p,w):new FormData(p);Vg(l,{pending:!0,data:F,method:p.method,action:v},null,F)}}else typeof v=="function"&&(R.preventDefault(),F=w?pE(p,w):new FormData(p),Vg(l,{pending:!0,data:F,method:p.method,action:v},v,F))},currentTarget:p}]})}}for(var yv=0;yv<eg.length;yv++){var bv=eg[yv],bD=bv.toLowerCase(),_D=bv[0].toUpperCase()+bv.slice(1);wi(bD,"on"+_D)}wi($_,"onAnimationEnd"),wi(K_,"onAnimationIteration"),wi(Y_,"onAnimationStart"),wi("dblclick","onDoubleClick"),wi("focusin","onFocus"),wi("focusout","onBlur"),wi(Mk,"onTransitionRun"),wi(Vk,"onTransitionStart"),wi(Lk,"onTransitionCancel"),wi(W_,"onTransitionEnd"),Mi("onMouseEnter",["mouseout","mouseover"]),Mi("onMouseLeave",["mouseout","mouseover"]),Mi("onPointerEnter",["pointerout","pointerover"]),Mi("onPointerLeave",["pointerout","pointerover"]),mr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),mr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),mr("onBeforeInput",["compositionend","keypress","textInput","paste"]),mr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),mr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),mr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xD=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(cc));function gE(i,a){a=(a&4)!==0;for(var l=0;l<i.length;l++){var c=i[l],p=c.event;c=c.listeners;e:{var v=void 0;if(a)for(var w=c.length-1;0<=w;w--){var R=c[w],F=R.instance,X=R.currentTarget;if(R=R.listener,F!==v&&p.isPropagationStopped())break e;v=R,p.currentTarget=X;try{v(p)}catch(ie){vh(ie)}p.currentTarget=null,v=F}else for(w=0;w<c.length;w++){if(R=c[w],F=R.instance,X=R.currentTarget,R=R.listener,F!==v&&p.isPropagationStopped())break e;v=R,p.currentTarget=X;try{v(p)}catch(ie){vh(ie)}p.currentTarget=null,v=F}}}}function Xe(i,a){var l=a[Ke];l===void 0&&(l=a[Ke]=new Set);var c=i+"__bubble";l.has(c)||(vE(a,i,2,!1),l.add(c))}function _v(i,a,l){var c=0;a&&(c|=4),vE(l,i,c,a)}var rd="_reactListening"+Math.random().toString(36).slice(2);function xv(i){if(!i[rd]){i[rd]=!0,bi.forEach(function(l){l!=="selectionchange"&&(xD.has(l)||_v(l,!1,i),_v(l,!0,i))});var a=i.nodeType===9?i:i.ownerDocument;a===null||a[rd]||(a[rd]=!0,_v("selectionchange",!1,a))}}function vE(i,a,l,c){switch($E(a)){case 2:var p=WD;break;case 8:p=QD;break;default:p=Mv}l=p.bind(null,a,l,i),p=void 0,!Du||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(p=!0),c?p!==void 0?i.addEventListener(a,l,{capture:!0,passive:p}):i.addEventListener(a,l,!0):p!==void 0?i.addEventListener(a,l,{passive:p}):i.addEventListener(a,l,!1)}function wv(i,a,l,c,p){var v=c;if((a&1)===0&&(a&2)===0&&c!==null)e:for(;;){if(c===null)return;var w=c.tag;if(w===3||w===4){var R=c.stateNode.containerInfo;if(R===p)break;if(w===4)for(w=c.return;w!==null;){var F=w.tag;if((F===3||F===4)&&w.stateNode.containerInfo===p)return;w=w.return}for(;R!==null;){if(w=er(R),w===null)return;if(F=w.tag,F===5||F===6||F===26||F===27){c=v=w;continue e}R=R.parentNode}}c=c.return}th(function(){var X=v,ie=Zo(l),oe=[];e:{var J=Q_.get(i);if(J!==void 0){var te=Za,Te=i;switch(i){case"keypress":if(Xa(l)===0)break e;case"keydown":case"keyup":te=ch;break;case"focusin":Te="focus",te=Hs;break;case"focusout":Te="blur",te=Hs;break;case"beforeblur":case"afterblur":te=Hs;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":te=rh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":te=ih;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":te=hh;break;case $_:case K_:case Y_:te=tl;break;case W_:te=nl;break;case"scroll":case"scrollend":te=nh;break;case"wheel":te=mh;break;case"copy":case"cut":case"paste":te=ah;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":te=Vu;break;case"toggle":case"beforetoggle":te=Gs}var Oe=(a&4)!==0,Ct=!Oe&&(i==="scroll"||i==="scrollend"),$=Oe?J!==null?J+"Capture":null:J;Oe=[];for(var q=X,W;q!==null;){var ae=q;if(W=ae.stateNode,ae=ae.tag,ae!==5&&ae!==26&&ae!==27||W===null||$===null||(ae=Sr(q,$),ae!=null&&Oe.push(fc(q,ae,W))),Ct)break;q=q.return}0<Oe.length&&(J=new te(J,Te,null,l,ie),oe.push({event:J,listeners:Oe}))}}if((a&7)===0){e:{if(J=i==="mouseover"||i==="pointerover",te=i==="mouseout"||i==="pointerout",J&&l!==Xo&&(Te=l.relatedTarget||l.fromElement)&&(er(Te)||Te[Re]))break e;if((te||J)&&(J=ie.window===ie?ie:(J=ie.ownerDocument)?J.defaultView||J.parentWindow:window,te?(Te=l.relatedTarget||l.toElement,te=X,Te=Te?er(Te):null,Te!==null&&(Ct=o(Te),Oe=Te.tag,Te!==Ct||Oe!==5&&Oe!==27&&Oe!==6)&&(Te=null)):(te=null,Te=X),te!==Te)){if(Oe=rh,ae="onMouseLeave",$="onMouseEnter",q="mouse",(i==="pointerout"||i==="pointerover")&&(Oe=Vu,ae="onPointerLeave",$="onPointerEnter",q="pointer"),Ct=te==null?J:Pi(te),W=Te==null?J:Pi(Te),J=new Oe(ae,q+"leave",te,l,ie),J.target=Ct,J.relatedTarget=W,ae=null,er(ie)===X&&(Oe=new Oe($,q+"enter",Te,l,ie),Oe.target=W,Oe.relatedTarget=Ct,ae=Oe),Ct=ae,te&&Te)t:{for(Oe=wD,$=te,q=Te,W=0,ae=$;ae;ae=Oe(ae))W++;ae=0;for(var Ie=q;Ie;Ie=Oe(Ie))ae++;for(;0<W-ae;)$=Oe($),W--;for(;0<ae-W;)q=Oe(q),ae--;for(;W--;){if($===q||q!==null&&$===q.alternate){Oe=$;break t}$=Oe($),q=Oe(q)}Oe=null}else Oe=null;te!==null&&yE(oe,J,te,Oe,!1),Te!==null&&Ct!==null&&yE(oe,Ct,Te,Oe,!0)}}e:{if(J=X?Pi(X):window,te=J.nodeName&&J.nodeName.toLowerCase(),te==="select"||te==="input"&&J.type==="file")var ft=P_;else if(Ar(J))if(M_)ft=Ok;else{ft=kk;var Ae=Nk}else te=J.nodeName,!te||te.toLowerCase()!=="input"||J.type!=="checkbox"&&J.type!=="radio"?X&&Nu(X.elementType)&&(ft=P_):ft=Dk;if(ft&&(ft=ft(i,X))){no(oe,ft,l,ie);break e}Ae&&Ae(i,J,X),i==="focusout"&&X&&J.type==="number"&&X.memoizedProps.value!=null&&Qo(J,"number",J.value)}switch(Ae=X?Pi(X):window,i){case"focusin":(Ar(Ae)||Ae.contentEditable==="true")&&(rl=Ae,Xp=X,zu=null);break;case"focusout":zu=Xp=rl=null;break;case"mousedown":Zp=!0;break;case"contextmenu":case"mouseup":case"dragend":Zp=!1,q_(oe,l,ie);break;case"selectionchange":if(Pk)break;case"keydown":case"keyup":q_(oe,l,ie)}var $e;if(x)e:{switch(i){case"compositionstart":var nt="onCompositionStart";break e;case"compositionend":nt="onCompositionEnd";break e;case"compositionupdate":nt="onCompositionUpdate";break e}nt=void 0}else Ye?gt(i,l)&&(nt="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(nt="onCompositionStart");nt&&(Y&&l.locale!=="ko"&&(Ye||nt!=="onCompositionStart"?nt==="onCompositionEnd"&&Ye&&($e=Us()):(Br=ie,Jo="value"in Br?Br.value:Br.textContent,Ye=!0)),Ae=id(X,nt),0<Ae.length&&(nt=new ju(nt,i,null,l,ie),oe.push({event:nt,listeners:Ae}),$e?nt.data=$e:($e=dn(l),$e!==null&&(nt.data=$e)))),($e=k?Dn(i,l):On(i,l))&&(nt=id(X,"onBeforeInput"),0<nt.length&&(Ae=new ju("onBeforeInput","beforeinput",null,l,ie),oe.push({event:Ae,listeners:nt}),Ae.data=$e)),yD(oe,i,X,l,ie)}gE(oe,a)})}function fc(i,a,l){return{instance:i,listener:a,currentTarget:l}}function id(i,a){for(var l=a+"Capture",c=[];i!==null;){var p=i,v=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||v===null||(p=Sr(i,l),p!=null&&c.unshift(fc(i,p,v)),p=Sr(i,a),p!=null&&c.push(fc(i,p,v))),i.tag===3)return c;i=i.return}return[]}function wD(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function yE(i,a,l,c,p){for(var v=a._reactName,w=[];l!==null&&l!==c;){var R=l,F=R.alternate,X=R.stateNode;if(R=R.tag,F!==null&&F===c)break;R!==5&&R!==26&&R!==27||X===null||(F=X,p?(X=Sr(l,v),X!=null&&w.unshift(fc(l,X,F))):p||(X=Sr(l,v),X!=null&&w.push(fc(l,X,F)))),l=l.return}w.length!==0&&i.push({event:a,listeners:w})}var ED=/\r\n?/g,TD=/\u0000|\uFFFD/g;function bE(i){return(typeof i=="string"?i:""+i).replace(ED,`
`).replace(TD,"")}function _E(i,a){return a=bE(a),bE(i)===a}function At(i,a,l,c,p,v){switch(l){case"children":typeof c=="string"?a==="body"||a==="textarea"&&c===""||ni(i,c):(typeof c=="number"||typeof c=="bigint")&&a!=="body"&&ni(i,""+c);break;case"className":Ms(i,"class",c);break;case"tabIndex":Ms(i,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Ms(i,l,c);break;case"style":Jf(i,c,v);break;case"data":if(a!=="object"){Ms(i,"data",c);break}case"src":case"href":if(c===""&&(a!=="a"||l!=="href")){i.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(l);break}c=Vi(""+c),i.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(l==="formAction"?(a!=="input"&&At(i,a,"name",p.name,p,null),At(i,a,"formEncType",p.formEncType,p,null),At(i,a,"formMethod",p.formMethod,p,null),At(i,a,"formTarget",p.formTarget,p,null)):(At(i,a,"encType",p.encType,p,null),At(i,a,"method",p.method,p,null),At(i,a,"target",p.target,p,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(l);break}c=Vi(""+c),i.setAttribute(l,c);break;case"onClick":c!=null&&(i.onclick=kn);break;case"onScroll":c!=null&&Xe("scroll",i);break;case"onScrollEnd":c!=null&&Xe("scrollend",i);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(l=c.__html,l!=null){if(p.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"multiple":i.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":i.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){i.removeAttribute("xlink:href");break}l=Vi(""+c),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,""+c):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":c===!0?i.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,c):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?i.setAttribute(l,c):i.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?i.removeAttribute(l):i.setAttribute(l,c);break;case"popover":Xe("beforetoggle",i),Xe("toggle",i),Ps(i,"popover",c);break;case"xlinkActuate":ti(i,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":ti(i,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":ti(i,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":ti(i,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":ti(i,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":ti(i,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":ti(i,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":ti(i,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":ti(i,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Ps(i,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Gp.get(l)||l,Ps(i,l,c))}}function Ev(i,a,l,c,p,v){switch(l){case"style":Jf(i,c,v);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(l=c.__html,l!=null){if(p.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"children":typeof c=="string"?ni(i,c):(typeof c=="number"||typeof c=="bigint")&&ni(i,""+c);break;case"onScroll":c!=null&&Xe("scroll",i);break;case"onScrollEnd":c!=null&&Xe("scrollend",i);break;case"onClick":c!=null&&(i.onclick=kn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!_i.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(p=l.endsWith("Capture"),a=l.slice(2,p?l.length-7:void 0),v=i[he]||null,v=v!=null?v[l]:null,typeof v=="function"&&i.removeEventListener(a,v,p),typeof c=="function")){typeof v!="function"&&v!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(a,c,p);break e}l in i?i[l]=c:c===!0?i.setAttribute(l,""):Ps(i,l,c)}}}function qn(i,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Xe("error",i),Xe("load",i);var c=!1,p=!1,v;for(v in l)if(l.hasOwnProperty(v)){var w=l[v];if(w!=null)switch(v){case"src":c=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:At(i,a,v,w,l,null)}}p&&At(i,a,"srcSet",l.srcSet,l,null),c&&At(i,a,"src",l.src,l,null);return;case"input":Xe("invalid",i);var R=v=w=p=null,F=null,X=null;for(c in l)if(l.hasOwnProperty(c)){var ie=l[c];if(ie!=null)switch(c){case"name":p=ie;break;case"type":w=ie;break;case"checked":F=ie;break;case"defaultChecked":X=ie;break;case"value":v=ie;break;case"defaultValue":R=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(r(137,a));break;default:At(i,a,c,ie,l,null)}}Wa(i,v,R,F,X,w,p,!1);return;case"select":Xe("invalid",i),c=w=v=null;for(p in l)if(l.hasOwnProperty(p)&&(R=l[p],R!=null))switch(p){case"value":v=R;break;case"defaultValue":w=R;break;case"multiple":c=R;default:At(i,a,p,R,l,null)}a=v,l=w,i.multiple=!!c,a!=null?ct(i,!!c,a,!1):l!=null&&ct(i,!!c,l,!0);return;case"textarea":Xe("invalid",i),v=p=c=null;for(w in l)if(l.hasOwnProperty(w)&&(R=l[w],R!=null))switch(w){case"value":c=R;break;case"defaultValue":p=R;break;case"children":v=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(r(91));break;default:At(i,a,w,R,l,null)}Ls(i,c,p,v);return;case"option":for(F in l)if(l.hasOwnProperty(F)&&(c=l[F],c!=null))switch(F){case"selected":i.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:At(i,a,F,c,l,null)}return;case"dialog":Xe("beforetoggle",i),Xe("toggle",i),Xe("cancel",i),Xe("close",i);break;case"iframe":case"object":Xe("load",i);break;case"video":case"audio":for(c=0;c<cc.length;c++)Xe(cc[c],i);break;case"image":Xe("error",i),Xe("load",i);break;case"details":Xe("toggle",i);break;case"embed":case"source":case"link":Xe("error",i),Xe("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(X in l)if(l.hasOwnProperty(X)&&(c=l[X],c!=null))switch(X){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:At(i,a,X,c,l,null)}return;default:if(Nu(a)){for(ie in l)l.hasOwnProperty(ie)&&(c=l[ie],c!==void 0&&Ev(i,a,ie,c,l,void 0));return}}for(R in l)l.hasOwnProperty(R)&&(c=l[R],c!=null&&At(i,a,R,c,l,null))}function SD(i,a,l,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,v=null,w=null,R=null,F=null,X=null,ie=null;for(te in l){var oe=l[te];if(l.hasOwnProperty(te)&&oe!=null)switch(te){case"checked":break;case"value":break;case"defaultValue":F=oe;default:c.hasOwnProperty(te)||At(i,a,te,null,c,oe)}}for(var J in c){var te=c[J];if(oe=l[J],c.hasOwnProperty(J)&&(te!=null||oe!=null))switch(J){case"type":v=te;break;case"name":p=te;break;case"checked":X=te;break;case"defaultChecked":ie=te;break;case"value":w=te;break;case"defaultValue":R=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(r(137,a));break;default:te!==oe&&At(i,a,J,te,c,oe)}}Vs(i,w,R,F,X,ie,v,p);return;case"select":te=w=R=J=null;for(v in l)if(F=l[v],l.hasOwnProperty(v)&&F!=null)switch(v){case"value":break;case"multiple":te=F;default:c.hasOwnProperty(v)||At(i,a,v,null,c,F)}for(p in c)if(v=c[p],F=l[p],c.hasOwnProperty(p)&&(v!=null||F!=null))switch(p){case"value":J=v;break;case"defaultValue":R=v;break;case"multiple":w=v;default:v!==F&&At(i,a,p,v,c,F)}a=R,l=w,c=te,J!=null?ct(i,!!l,J,!1):!!c!=!!l&&(a!=null?ct(i,!!l,a,!0):ct(i,!!l,l?[]:"",!1));return;case"textarea":te=J=null;for(R in l)if(p=l[R],l.hasOwnProperty(R)&&p!=null&&!c.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:At(i,a,R,null,c,p)}for(w in c)if(p=c[w],v=l[w],c.hasOwnProperty(w)&&(p!=null||v!=null))switch(w){case"value":J=p;break;case"defaultValue":te=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(r(91));break;default:p!==v&&At(i,a,w,p,c,v)}Qa(i,J,te);return;case"option":for(var Te in l)if(J=l[Te],l.hasOwnProperty(Te)&&J!=null&&!c.hasOwnProperty(Te))switch(Te){case"selected":i.selected=!1;break;default:At(i,a,Te,null,c,J)}for(F in c)if(J=c[F],te=l[F],c.hasOwnProperty(F)&&J!==te&&(J!=null||te!=null))switch(F){case"selected":i.selected=J&&typeof J!="function"&&typeof J!="symbol";break;default:At(i,a,F,J,c,te)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Oe in l)J=l[Oe],l.hasOwnProperty(Oe)&&J!=null&&!c.hasOwnProperty(Oe)&&At(i,a,Oe,null,c,J);for(X in c)if(J=c[X],te=l[X],c.hasOwnProperty(X)&&J!==te&&(J!=null||te!=null))switch(X){case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(r(137,a));break;default:At(i,a,X,J,c,te)}return;default:if(Nu(a)){for(var Ct in l)J=l[Ct],l.hasOwnProperty(Ct)&&J!==void 0&&!c.hasOwnProperty(Ct)&&Ev(i,a,Ct,void 0,c,J);for(ie in c)J=c[ie],te=l[ie],!c.hasOwnProperty(ie)||J===te||J===void 0&&te===void 0||Ev(i,a,ie,J,c,te);return}}for(var $ in l)J=l[$],l.hasOwnProperty($)&&J!=null&&!c.hasOwnProperty($)&&At(i,a,$,null,c,J);for(oe in c)J=c[oe],te=l[oe],!c.hasOwnProperty(oe)||J===te||J==null&&te==null||At(i,a,oe,J,c,te)}function xE(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function AD(){if(typeof performance.getEntriesByType=="function"){for(var i=0,a=0,l=performance.getEntriesByType("resource"),c=0;c<l.length;c++){var p=l[c],v=p.transferSize,w=p.initiatorType,R=p.duration;if(v&&R&&xE(w)){for(w=0,R=p.responseEnd,c+=1;c<l.length;c++){var F=l[c],X=F.startTime;if(X>R)break;var ie=F.transferSize,oe=F.initiatorType;ie&&xE(oe)&&(F=F.responseEnd,w+=ie*(F<R?1:(R-X)/(F-X)))}if(--c,a+=8*(v+w)/(p.duration/1e3),i++,10<i)break}}if(0<i)return a/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Tv=null,Sv=null;function sd(i){return i.nodeType===9?i:i.ownerDocument}function wE(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function EE(i,a){if(i===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&a==="foreignObject"?0:i}function Av(i,a){return i==="textarea"||i==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Cv=null;function CD(){var i=window.event;return i&&i.type==="popstate"?i===Cv?!1:(Cv=i,!0):(Cv=null,!1)}var TE=typeof setTimeout=="function"?setTimeout:void 0,RD=typeof clearTimeout=="function"?clearTimeout:void 0,SE=typeof Promise=="function"?Promise:void 0,ID=typeof queueMicrotask=="function"?queueMicrotask:typeof SE<"u"?function(i){return SE.resolve(null).then(i).catch(ND)}:TE;function ND(i){setTimeout(function(){throw i})}function ua(i){return i==="head"}function AE(i,a){var l=a,c=0;do{var p=l.nextSibling;if(i.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"||l==="/&"){if(c===0){i.removeChild(p),Nl(a);return}c--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")c++;else if(l==="html")hc(i.ownerDocument.documentElement);else if(l==="head"){l=i.ownerDocument.head,hc(l);for(var v=l.firstChild;v;){var w=v.nextSibling,R=v.nodeName;v[Zn]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&v.rel.toLowerCase()==="stylesheet"||l.removeChild(v),v=w}}else l==="body"&&hc(i.ownerDocument.body);l=p}while(l);Nl(a)}function CE(i,a){var l=i;i=0;do{var c=l.nextSibling;if(l.nodeType===1?a?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(a?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),c&&c.nodeType===8)if(l=c.data,l==="/$"){if(i===0)break;i--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||i++;l=c}while(l)}function Rv(i){var a=i.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Rv(l),Jn(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function kD(i,a,l,c){for(;i.nodeType===1;){var p=l;if(i.nodeName.toLowerCase()!==a.toLowerCase()){if(!c&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(c){if(!i[Zn])switch(a){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(v=i.getAttribute("rel"),v==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(v!==p.rel||i.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||i.getAttribute("title")!==(p.title==null?null:p.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(v=i.getAttribute("src"),(v!==(p.src==null?null:p.src)||i.getAttribute("type")!==(p.type==null?null:p.type)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&v&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(a==="input"&&i.type==="hidden"){var v=p.name==null?null:""+p.name;if(p.type==="hidden"&&i.getAttribute("name")===v)return i}else return i;if(i=ui(i.nextSibling),i===null)break}return null}function DD(i,a,l){if(a==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=ui(i.nextSibling),i===null))return null;return i}function RE(i,a){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!a||(i=ui(i.nextSibling),i===null))return null;return i}function Iv(i){return i.data==="$?"||i.data==="$~"}function Nv(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function OD(i,a){var l=i.ownerDocument;if(i.data==="$~")i._reactRetry=a;else if(i.data!=="$?"||l.readyState!=="loading")a();else{var c=function(){a(),l.removeEventListener("DOMContentLoaded",c)};l.addEventListener("DOMContentLoaded",c),i._reactRetry=c}}function ui(i){for(;i!=null;i=i.nextSibling){var a=i.nodeType;if(a===1||a===3)break;if(a===8){if(a=i.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return i}var kv=null;function IE(i){i=i.nextSibling;for(var a=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"||l==="/&"){if(a===0)return ui(i.nextSibling);a--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||a++}i=i.nextSibling}return null}function NE(i){i=i.previousSibling;for(var a=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(a===0)return i;a--}else l!=="/$"&&l!=="/&"||a++}i=i.previousSibling}return null}function kE(i,a,l){switch(a=sd(l),i){case"html":if(i=a.documentElement,!i)throw Error(r(452));return i;case"head":if(i=a.head,!i)throw Error(r(453));return i;case"body":if(i=a.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function hc(i){for(var a=i.attributes;a.length;)i.removeAttributeNode(a[0]);Jn(i)}var ci=new Map,DE=new Set;function ad(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var xs=se.d;se.d={f:jD,r:PD,D:MD,C:VD,L:LD,m:UD,X:BD,S:zD,M:FD};function jD(){var i=xs.f(),a=Xh();return i||a}function PD(i){var a=ei(i);a!==null&&a.tag===5&&a.type==="form"?Wx(a):xs.r(i)}var Cl=typeof document>"u"?null:document;function OE(i,a,l){var c=Cl;if(c&&typeof a=="string"&&a){var p=Zt(a);p='link[rel="'+i+'"][href="'+p+'"]',typeof l=="string"&&(p+='[crossorigin="'+l+'"]'),DE.has(p)||(DE.add(p),i={rel:i,crossOrigin:l,href:a},c.querySelector(p)===null&&(a=c.createElement("link"),qn(a,"link",i),Ht(a),c.head.appendChild(a)))}}function MD(i){xs.D(i),OE("dns-prefetch",i,null)}function VD(i,a){xs.C(i,a),OE("preconnect",i,a)}function LD(i,a,l){xs.L(i,a,l);var c=Cl;if(c&&i&&a){var p='link[rel="preload"][as="'+Zt(a)+'"]';a==="image"&&l&&l.imageSrcSet?(p+='[imagesrcset="'+Zt(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(p+='[imagesizes="'+Zt(l.imageSizes)+'"]')):p+='[href="'+Zt(i)+'"]';var v=p;switch(a){case"style":v=Rl(i);break;case"script":v=Il(i)}ci.has(v)||(i=b({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:i,as:a},l),ci.set(v,i),c.querySelector(p)!==null||a==="style"&&c.querySelector(dc(v))||a==="script"&&c.querySelector(mc(v))||(a=c.createElement("link"),qn(a,"link",i),Ht(a),c.head.appendChild(a)))}}function UD(i,a){xs.m(i,a);var l=Cl;if(l&&i){var c=a&&typeof a.as=="string"?a.as:"script",p='link[rel="modulepreload"][as="'+Zt(c)+'"][href="'+Zt(i)+'"]',v=p;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=Il(i)}if(!ci.has(v)&&(i=b({rel:"modulepreload",href:i},a),ci.set(v,i),l.querySelector(p)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(mc(v)))return}c=l.createElement("link"),qn(c,"link",i),Ht(c),l.head.appendChild(c)}}}function zD(i,a,l){xs.S(i,a,l);var c=Cl;if(c&&i){var p=dr(c).hoistableStyles,v=Rl(i);a=a||"default";var w=p.get(v);if(!w){var R={loading:0,preload:null};if(w=c.querySelector(dc(v)))R.loading=5;else{i=b({rel:"stylesheet",href:i,"data-precedence":a},l),(l=ci.get(v))&&Dv(i,l);var F=w=c.createElement("link");Ht(F),qn(F,"link",i),F._p=new Promise(function(X,ie){F.onload=X,F.onerror=ie}),F.addEventListener("load",function(){R.loading|=1}),F.addEventListener("error",function(){R.loading|=2}),R.loading|=4,od(w,a,c)}w={type:"stylesheet",instance:w,count:1,state:R},p.set(v,w)}}}function BD(i,a){xs.X(i,a);var l=Cl;if(l&&i){var c=dr(l).hoistableScripts,p=Il(i),v=c.get(p);v||(v=l.querySelector(mc(p)),v||(i=b({src:i,async:!0},a),(a=ci.get(p))&&Ov(i,a),v=l.createElement("script"),Ht(v),qn(v,"link",i),l.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},c.set(p,v))}}function FD(i,a){xs.M(i,a);var l=Cl;if(l&&i){var c=dr(l).hoistableScripts,p=Il(i),v=c.get(p);v||(v=l.querySelector(mc(p)),v||(i=b({src:i,async:!0,type:"module"},a),(a=ci.get(p))&&Ov(i,a),v=l.createElement("script"),Ht(v),qn(v,"link",i),l.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},c.set(p,v))}}function jE(i,a,l,c){var p=(p=je.current)?ad(p):null;if(!p)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=Rl(l.href),l=dr(p).hoistableStyles,c=l.get(a),c||(c={type:"style",instance:null,count:0,state:null},l.set(a,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=Rl(l.href);var v=dr(p).hoistableStyles,w=v.get(i);if(w||(p=p.ownerDocument||p,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(i,w),(v=p.querySelector(dc(i)))&&!v._p&&(w.instance=v,w.state.loading=5),ci.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},ci.set(i,l),v||HD(p,i,l,w.state))),a&&c===null)throw Error(r(528,""));return w}if(a&&c!==null)throw Error(r(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Il(l),l=dr(p).hoistableScripts,c=l.get(a),c||(c={type:"script",instance:null,count:0,state:null},l.set(a,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Rl(i){return'href="'+Zt(i)+'"'}function dc(i){return'link[rel="stylesheet"]['+i+"]"}function PE(i){return b({},i,{"data-precedence":i.precedence,precedence:null})}function HD(i,a,l,c){i.querySelector('link[rel="preload"][as="style"]['+a+"]")?c.loading=1:(a=i.createElement("link"),c.preload=a,a.addEventListener("load",function(){return c.loading|=1}),a.addEventListener("error",function(){return c.loading|=2}),qn(a,"link",l),Ht(a),i.head.appendChild(a))}function Il(i){return'[src="'+Zt(i)+'"]'}function mc(i){return"script[async]"+i}function ME(i,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var c=i.querySelector('style[data-href~="'+Zt(l.href)+'"]');if(c)return a.instance=c,Ht(c),c;var p=b({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(i.ownerDocument||i).createElement("style"),Ht(c),qn(c,"style",p),od(c,l.precedence,i),a.instance=c;case"stylesheet":p=Rl(l.href);var v=i.querySelector(dc(p));if(v)return a.state.loading|=4,a.instance=v,Ht(v),v;c=PE(l),(p=ci.get(p))&&Dv(c,p),v=(i.ownerDocument||i).createElement("link"),Ht(v);var w=v;return w._p=new Promise(function(R,F){w.onload=R,w.onerror=F}),qn(v,"link",c),a.state.loading|=4,od(v,l.precedence,i),a.instance=v;case"script":return v=Il(l.src),(p=i.querySelector(mc(v)))?(a.instance=p,Ht(p),p):(c=l,(p=ci.get(v))&&(c=b({},l),Ov(c,p)),i=i.ownerDocument||i,p=i.createElement("script"),Ht(p),qn(p,"link",c),i.head.appendChild(p),a.instance=p);case"void":return null;default:throw Error(r(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(c=a.instance,a.state.loading|=4,od(c,l.precedence,i));return a.instance}function od(i,a,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=c.length?c[c.length-1]:null,v=p,w=0;w<c.length;w++){var R=c[w];if(R.dataset.precedence===a)v=R;else if(v!==p)break}v?v.parentNode.insertBefore(i,v.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(i,a.firstChild))}function Dv(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.title==null&&(i.title=a.title)}function Ov(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.integrity==null&&(i.integrity=a.integrity)}var ld=null;function VE(i,a,l){if(ld===null){var c=new Map,p=ld=new Map;p.set(l,c)}else p=ld,c=p.get(l),c||(c=new Map,p.set(l,c));if(c.has(i))return c;for(c.set(i,null),l=l.getElementsByTagName(i),p=0;p<l.length;p++){var v=l[p];if(!(v[Zn]||v[_t]||i==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var w=v.getAttribute(a)||"";w=i+w;var R=c.get(w);R?R.push(v):c.set(w,[v])}}return c}function LE(i,a,l){i=i.ownerDocument||i,i.head.insertBefore(l,a==="title"?i.querySelector("head > title"):null)}function qD(i,a,l){if(l===1||a.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return i=a.disabled,typeof a.precedence=="string"&&i==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function UE(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function GD(i,a,l,c){if(l.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var p=Rl(c.href),v=a.querySelector(dc(p));if(v){a=v._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(i.count++,i=ud.bind(i),a.then(i,i)),l.state.loading|=4,l.instance=v,Ht(v);return}v=a.ownerDocument||a,c=PE(c),(p=ci.get(p))&&Dv(c,p),v=v.createElement("link"),Ht(v);var w=v;w._p=new Promise(function(R,F){w.onload=R,w.onerror=F}),qn(v,"link",c),l.instance=v}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(l,a),(a=l.state.preload)&&(l.state.loading&3)===0&&(i.count++,l=ud.bind(i),a.addEventListener("load",l),a.addEventListener("error",l))}}var jv=0;function $D(i,a){return i.stylesheets&&i.count===0&&fd(i,i.stylesheets),0<i.count||0<i.imgCount?function(l){var c=setTimeout(function(){if(i.stylesheets&&fd(i,i.stylesheets),i.unsuspend){var v=i.unsuspend;i.unsuspend=null,v()}},6e4+a);0<i.imgBytes&&jv===0&&(jv=62500*AD());var p=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&fd(i,i.stylesheets),i.unsuspend)){var v=i.unsuspend;i.unsuspend=null,v()}},(i.imgBytes>jv?50:800)+a);return i.unsuspend=l,function(){i.unsuspend=null,clearTimeout(c),clearTimeout(p)}}:null}function ud(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)fd(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var cd=null;function fd(i,a){i.stylesheets=null,i.unsuspend!==null&&(i.count++,cd=new Map,a.forEach(KD,i),cd=null,ud.call(i))}function KD(i,a){if(!(a.state.loading&4)){var l=cd.get(i);if(l)var c=l.get(null);else{l=new Map,cd.set(i,l);for(var p=i.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<p.length;v++){var w=p[v];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(l.set(w.dataset.precedence,w),c=w)}c&&l.set(null,c)}p=a.instance,w=p.getAttribute("data-precedence"),v=l.get(w)||c,v===c&&l.set(null,p),l.set(w,p),this.count++,c=ud.bind(this),p.addEventListener("load",c),p.addEventListener("error",c),v?v.parentNode.insertBefore(p,v.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(p,i.firstChild)),a.state.loading|=4}}var pc={$$typeof:z,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function YD(i,a,l,c,p,v,w,R,F){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=$t(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$t(0),this.hiddenUpdates=$t(null),this.identifierPrefix=c,this.onUncaughtError=p,this.onCaughtError=v,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=F,this.incompleteTransitions=new Map}function zE(i,a,l,c,p,v,w,R,F,X,ie,oe){return i=new YD(i,a,l,w,F,X,ie,oe,R),a=1,v===!0&&(a|=24),v=Hr(3,null,null,a),i.current=v,v.stateNode=i,a=dg(),a.refCount++,i.pooledCache=a,a.refCount++,v.memoizedState={element:c,isDehydrated:l,cache:a},vg(v),i}function BE(i){return i?(i=al,i):al}function FE(i,a,l,c,p,v){p=BE(p),c.context===null?c.context=p:c.pendingContext=p,c=Zs(a),c.payload={element:l},v=v===void 0?null:v,v!==null&&(c.callback=v),l=Js(i,c,a),l!==null&&(kr(l,i,a),Ku(l,i,a))}function HE(i,a){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<a?l:a}}function Pv(i,a){HE(i,a),(i=i.alternate)&&HE(i,a)}function qE(i){if(i.tag===13||i.tag===31){var a=so(i,67108864);a!==null&&kr(a,i,67108864),Pv(i,67108864)}}function GE(i){if(i.tag===13||i.tag===31){var a=Yr();a=Tr(a);var l=so(i,a);l!==null&&kr(l,i,a),Pv(i,a)}}var hd=!0;function WD(i,a,l,c){var p=Q.T;Q.T=null;var v=se.p;try{se.p=2,Mv(i,a,l,c)}finally{se.p=v,Q.T=p}}function QD(i,a,l,c){var p=Q.T;Q.T=null;var v=se.p;try{se.p=8,Mv(i,a,l,c)}finally{se.p=v,Q.T=p}}function Mv(i,a,l,c){if(hd){var p=Vv(c);if(p===null)wv(i,a,c,dd,l),KE(i,c);else if(ZD(p,i,a,l,c))c.stopPropagation();else if(KE(i,c),a&4&&-1<XD.indexOf(i)){for(;p!==null;){var v=ei(p);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var w=Ge(v.pendingLanes);if(w!==0){var R=v;for(R.pendingLanes|=2,R.entangledLanes|=2;w;){var F=1<<31-ye(w);R.entanglements[1]|=F,w&=~F}Hi(v),(mt&6)===0&&(Wh=bt()+500,uc(0))}}break;case 31:case 13:R=so(v,2),R!==null&&kr(R,v,2),Xh(),Pv(v,2)}if(v=Vv(c),v===null&&wv(i,a,c,dd,l),v===p)break;p=v}p!==null&&c.stopPropagation()}else wv(i,a,c,null,l)}}function Vv(i){return i=Zo(i),Lv(i)}var dd=null;function Lv(i){if(dd=null,i=er(i),i!==null){var a=o(i);if(a===null)i=null;else{var l=a.tag;if(l===13){if(i=u(a),i!==null)return i;i=null}else if(l===31){if(i=f(a),i!==null)return i;i=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return dd=i,null}function $E(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(hn()){case Fe:return 2;case Ot:return 8;case lt:case Gt:return 32;case vi:return 268435456;default:return 32}default:return 32}}var Uv=!1,ca=null,fa=null,ha=null,gc=new Map,vc=new Map,da=[],XD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function KE(i,a){switch(i){case"focusin":case"focusout":ca=null;break;case"dragenter":case"dragleave":fa=null;break;case"mouseover":case"mouseout":ha=null;break;case"pointerover":case"pointerout":gc.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":vc.delete(a.pointerId)}}function yc(i,a,l,c,p,v){return i===null||i.nativeEvent!==v?(i={blockedOn:a,domEventName:l,eventSystemFlags:c,nativeEvent:v,targetContainers:[p]},a!==null&&(a=ei(a),a!==null&&qE(a)),i):(i.eventSystemFlags|=c,a=i.targetContainers,p!==null&&a.indexOf(p)===-1&&a.push(p),i)}function ZD(i,a,l,c,p){switch(a){case"focusin":return ca=yc(ca,i,a,l,c,p),!0;case"dragenter":return fa=yc(fa,i,a,l,c,p),!0;case"mouseover":return ha=yc(ha,i,a,l,c,p),!0;case"pointerover":var v=p.pointerId;return gc.set(v,yc(gc.get(v)||null,i,a,l,c,p)),!0;case"gotpointercapture":return v=p.pointerId,vc.set(v,yc(vc.get(v)||null,i,a,l,c,p)),!0}return!1}function YE(i){var a=er(i.target);if(a!==null){var l=o(a);if(l!==null){if(a=l.tag,a===13){if(a=u(l),a!==null){i.blockedOn=a,yi(i.priority,function(){GE(l)});return}}else if(a===31){if(a=f(l),a!==null){i.blockedOn=a,yi(i.priority,function(){GE(l)});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function md(i){if(i.blockedOn!==null)return!1;for(var a=i.targetContainers;0<a.length;){var l=Vv(i.nativeEvent);if(l===null){l=i.nativeEvent;var c=new l.constructor(l.type,l);Xo=c,l.target.dispatchEvent(c),Xo=null}else return a=ei(l),a!==null&&qE(a),i.blockedOn=l,!1;a.shift()}return!0}function WE(i,a,l){md(i)&&l.delete(a)}function JD(){Uv=!1,ca!==null&&md(ca)&&(ca=null),fa!==null&&md(fa)&&(fa=null),ha!==null&&md(ha)&&(ha=null),gc.forEach(WE),vc.forEach(WE)}function pd(i,a){i.blockedOn===a&&(i.blockedOn=null,Uv||(Uv=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,JD)))}var gd=null;function QE(i){gd!==i&&(gd=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){gd===i&&(gd=null);for(var a=0;a<i.length;a+=3){var l=i[a],c=i[a+1],p=i[a+2];if(typeof c!="function"){if(Lv(c||l)===null)continue;break}var v=ei(l);v!==null&&(i.splice(a,3),a-=3,Vg(v,{pending:!0,data:p,method:l.method,action:c},c,p))}}))}function Nl(i){function a(F){return pd(F,i)}ca!==null&&pd(ca,i),fa!==null&&pd(fa,i),ha!==null&&pd(ha,i),gc.forEach(a),vc.forEach(a);for(var l=0;l<da.length;l++){var c=da[l];c.blockedOn===i&&(c.blockedOn=null)}for(;0<da.length&&(l=da[0],l.blockedOn===null);)YE(l),l.blockedOn===null&&da.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var p=l[c],v=l[c+1],w=p[he]||null;if(typeof v=="function")w||QE(l);else if(w){var R=null;if(v&&v.hasAttribute("formAction")){if(p=v,w=v[he]||null)R=w.formAction;else if(Lv(p)!==null)continue}else R=w.action;typeof R=="function"?l[c+1]=R:(l.splice(c,3),c-=3),QE(l)}}}function XE(){function i(v){v.canIntercept&&v.info==="react-transition"&&v.intercept({handler:function(){return new Promise(function(w){return p=w})},focusReset:"manual",scroll:"manual"})}function a(){p!==null&&(p(),p=null),c||setTimeout(l,20)}function l(){if(!c&&!navigation.transition){var v=navigation.currentEntry;v&&v.url!=null&&navigation.navigate(v.url,{state:v.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,p=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(l,100),function(){c=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),p!==null&&(p(),p=null)}}}function zv(i){this._internalRoot=i}vd.prototype.render=zv.prototype.render=function(i){var a=this._internalRoot;if(a===null)throw Error(r(409));var l=a.current,c=Yr();FE(l,c,i,a,null,null)},vd.prototype.unmount=zv.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var a=i.containerInfo;FE(i.current,2,null,i,null,null),Xh(),a[Re]=null}};function vd(i){this._internalRoot=i}vd.prototype.unstable_scheduleHydration=function(i){if(i){var a=zn();i={blockedOn:null,target:i,priority:a};for(var l=0;l<da.length&&a!==0&&a<da[l].priority;l++);da.splice(l,0,i),l===0&&YE(i)}};var ZE=e.version;if(ZE!=="19.2.3")throw Error(r(527,ZE,"19.2.3"));se.findDOMNode=function(i){var a=i._reactInternals;if(a===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=d(a),i=i!==null?g(i):null,i=i===null?null:i.stateNode,i};var eO={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yd.isDisabled&&yd.supportsFiber)try{hr=yd.inject(eO),an=yd}catch{}}return _c.createRoot=function(i,a){if(!s(i))throw Error(r(299));var l=!1,c="",p=sw,v=aw,w=ow;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(p=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(w=a.onRecoverableError)),a=zE(i,1,!1,null,null,l,c,null,p,v,w,XE),i[Re]=a.current,xv(i),new zv(a)},_c.hydrateRoot=function(i,a,l){if(!s(i))throw Error(r(299));var c=!1,p="",v=sw,w=aw,R=ow,F=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(v=l.onUncaughtError),l.onCaughtError!==void 0&&(w=l.onCaughtError),l.onRecoverableError!==void 0&&(R=l.onRecoverableError),l.formState!==void 0&&(F=l.formState)),a=zE(i,1,!0,a,l??null,c,p,F,v,w,R,XE),a.context=BE(null),l=a.current,c=Yr(),c=Tr(c),p=Zs(c),p.callback=null,Js(l,p,c),l=c,a.current.lanes=l,Tt(a,l),Hi(a),i[Re]=a.current,xv(i),new vd(a)},_c.version="19.2.3",_c}var l1;function uO(){if(l1)return Hv.exports;l1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Hv.exports=lO(),Hv.exports}var cO=uO();const fO=JA(cO),xc=[{emoji:"",title:"Bienvenue dans Dress Me Up!",description:"Votre assistant mode personnel propuls par l'IA. Dcouvrons ensemble comment a marche."},{emoji:"",title:"Ajoutez vos vtements",description:"Prenez en photo vos vtements. L'IA analysera automatiquement la couleur, la matire et le type."},{emoji:"",title:"Gnrez des tenues",description:"Dcrivez une occasion et l'IA crera des combinaisons parfaites  partir de votre garde-robe."},{emoji:"",title:"Planifiez vos valises",description:"Partez en voyage ? L'IA optimise votre valise selon la dure et la destination."}],hO=({onComplete:t})=>{const[e,n]=D.useState(0),r=()=>{e<xc.length-1?n(e+1):(localStorage.setItem("dressmup_onboarding_complete","true"),t())},s=()=>{localStorage.setItem("dressmup_onboarding_complete","true"),t()},o=xc[e];return y.jsx("div",{className:"fixed inset-0 bg-onyx/90 backdrop-blur-md flex items-center justify-center z-[200] p-4",children:y.jsxs("div",{className:"bg-white dark:bg-raisin-black rounded-2xl shadow-2xl max-w-md w-full overflow-hidden",children:[y.jsx("div",{className:"h-1 bg-gray-200 dark:bg-gray-700",children:y.jsx("div",{className:"h-full bg-gold transition-all duration-300",style:{width:`${(e+1)/xc.length*100}%`}})}),y.jsxs("div",{className:"p-8 text-center",children:[y.jsx("div",{className:"text-6xl mb-6",children:o.emoji}),y.jsx("h2",{className:"text-2xl font-serif font-bold mb-4",children:o.title}),y.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-8",children:o.description}),y.jsx("div",{className:"flex justify-center gap-2 mb-8",children:xc.map((u,f)=>y.jsx("div",{className:`w-2 h-2 rounded-full transition-all ${f===e?"bg-gold w-6":"bg-gray-300 dark:bg-gray-600"}`},f))}),y.jsxs("div",{className:"flex gap-3",children:[y.jsx("button",{onClick:s,className:"flex-1 px-4 py-3 text-gray-500 hover:text-gray-700 dark:hover:text-gray-300 font-medium transition-colors",children:"Passer"}),y.jsx("button",{onClick:r,className:"flex-1 px-4 py-3 bg-gold text-onyx font-bold rounded-xl hover:bg-gold-dark transition-all",children:e<xc.length-1?"Suivant":"Commencer"})]})]})]})})},dO=()=>{};var u1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t2=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},mO=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const o=t[n++];e[r++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=t[n++],u=t[n++],f=t[n++],h=((s&7)<<18|(o&63)<<12|(u&63)<<6|f&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const o=t[n++],u=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(o&63)<<6|u&63)}}return e.join("")},n2={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const o=t[s],u=s+1<t.length,f=u?t[s+1]:0,h=s+2<t.length,d=h?t[s+2]:0,g=o>>2,b=(o&3)<<4|f>>4;let _=(f&15)<<2|d>>6,E=d&63;h||(E=64,u||(_=64)),r.push(n[g],n[b],n[_],n[E])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(t2(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):mO(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const o=n[t.charAt(s++)],f=s<t.length?n[t.charAt(s)]:0;++s;const d=s<t.length?n[t.charAt(s)]:64;++s;const b=s<t.length?n[t.charAt(s)]:64;if(++s,o==null||f==null||d==null||b==null)throw new pO;const _=o<<2|f>>4;if(r.push(_),d!==64){const E=f<<4&240|d>>2;if(r.push(E),b!==64){const C=d<<6&192|b;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class pO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const gO=function(t){const e=t2(t);return n2.encodeByteArray(e,!0)},pm=function(t){return gO(t).replace(/\./g,"")},r2=function(t){try{return n2.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yO=()=>vO().__FIREBASE_DEFAULTS__,bO=()=>{if(typeof process>"u"||typeof u1>"u")return;const t=u1.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},_O=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&r2(t[1]);return e&&JSON.parse(e)},rp=()=>{try{return dO()||yO()||bO()||_O()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},i2=t=>{var e,n;return(n=(e=rp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},B0=t=>{const e=i2(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},s2=()=>{var t;return(t=rp())===null||t===void 0?void 0:t.config},a2=t=>{var e;return(e=rp())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function js(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function ip(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o2(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[pm(JSON.stringify(n)),pm(JSON.stringify(u)),""].join(".")}const Fc={};function wO(){const t={prod:[],emulator:[]};for(const e of Object.keys(Fc))Fc[e]?t.emulator.push(e):t.prod.push(e);return t}function EO(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let c1=!1;function sp(t,e){if(typeof window>"u"||typeof document>"u"||!js(window.location.host)||Fc[t]===e||Fc[t]||c1)return;Fc[t]=e;function n(_){return`__firebase__banner__${_}`}const r="__firebase__banner",o=wO().prod.length>0;function u(){const _=document.getElementById(r);_&&_.remove()}function f(_){_.style.display="flex",_.style.background="#7faaf0",_.style.position="fixed",_.style.bottom="5px",_.style.left="5px",_.style.padding=".5em",_.style.borderRadius="5px",_.style.alignItems="center"}function h(_,E){_.setAttribute("width","24"),_.setAttribute("id",E),_.setAttribute("height","24"),_.setAttribute("viewBox","0 0 24 24"),_.setAttribute("fill","none"),_.style.marginLeft="-6px"}function d(){const _=document.createElement("span");return _.style.cursor="pointer",_.style.marginLeft="16px",_.style.fontSize="24px",_.innerHTML=" &times;",_.onclick=()=>{c1=!0,u()},_}function g(_,E){_.setAttribute("id",E),_.innerText="Learn more",_.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",_.setAttribute("target","__blank"),_.style.paddingLeft="5px",_.style.textDecoration="underline"}function b(){const _=EO(r),E=n("text"),C=document.getElementById(E)||document.createElement("span"),N=n("learnmore"),j=document.getElementById(N)||document.createElement("a"),U=n("preprendIcon"),M=document.getElementById(U)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(_.created){const z=_.element;f(z),g(j,N);const G=d();h(M,U),z.append(M,C,j,G),document.body.appendChild(z)}o?(C.innerText="Preview backend disconnected.",M.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(M.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",E)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function TO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(cr())}function SO(){var t;const e=(t=rp())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function AO(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function CO(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function RO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function IO(){const t=cr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function NO(){return!SO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function kO(){try{return typeof indexedDB=="object"}catch{return!1}}function DO(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var o;e(((o=s.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OO="FirebaseError";class ji extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=OO,Object.setPrototypeOf(this,ji.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,If.prototype.create)}}class If{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,o=this.errors[e],u=o?jO(o,r):"Error",f=`${this.serviceName}: ${u} (${s}).`;return new ji(s,f,r)}}function jO(t,e){return t.replace(PO,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const PO=/\{\$([^}]+)}/g;function MO(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Mo(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const o=t[s],u=e[s];if(f1(o)&&f1(u)){if(!Mo(o,u))return!1}else if(o!==u)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function f1(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nf(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ic(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,o]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(o)}}),e}function Nc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function VO(t,e){const n=new LO(t,e);return n.subscribe.bind(n)}class LO{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");UO(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Kv),s.error===void 0&&(s.error=Kv),s.complete===void 0&&(s.complete=Kv);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function UO(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Kv(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kt(t){return t&&t._delegate?t._delegate:t}class Rs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zO{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new xO;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(FO(e))try{this.getOrInitializeService({instanceIdentifier:wo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:s});r.resolve(o)}catch{}}}}clearInstance(e=wo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=wo){return this.instances.has(e)}getOptions(e=wo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,u]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(o);r===f&&u.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:BO(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=wo){return this.component?this.component.multipleInstances?e:wo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function BO(t){return t===wo?void 0:t}function FO(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new zO(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(rt||(rt={}));const qO={debug:rt.DEBUG,verbose:rt.VERBOSE,info:rt.INFO,warn:rt.WARN,error:rt.ERROR,silent:rt.SILENT},GO=rt.INFO,$O={[rt.DEBUG]:"log",[rt.VERBOSE]:"log",[rt.INFO]:"info",[rt.WARN]:"warn",[rt.ERROR]:"error"},KO=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=$O[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class F0{constructor(e){this.name=e,this._logLevel=GO,this._logHandler=KO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in rt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?qO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,rt.DEBUG,...e),this._logHandler(this,rt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,rt.VERBOSE,...e),this._logHandler(this,rt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,rt.INFO,...e),this._logHandler(this,rt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,rt.WARN,...e),this._logHandler(this,rt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,rt.ERROR,...e),this._logHandler(this,rt.ERROR,...e)}}const YO=(t,e)=>e.some(n=>t instanceof n);let h1,d1;function WO(){return h1||(h1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function QO(){return d1||(d1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const l2=new WeakMap,Ny=new WeakMap,u2=new WeakMap,Yv=new WeakMap,H0=new WeakMap;function XO(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",o),t.removeEventListener("error",u)},o=()=>{n(Aa(t.result)),s()},u=()=>{r(t.error),s()};t.addEventListener("success",o),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&l2.set(n,t)}).catch(()=>{}),H0.set(e,t),e}function ZO(t){if(Ny.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",u),t.removeEventListener("abort",u)},o=()=>{n(),s()},u=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",o),t.addEventListener("error",u),t.addEventListener("abort",u)});Ny.set(t,e)}let ky={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ny.get(t);if(e==="objectStoreNames")return t.objectStoreNames||u2.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Aa(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function JO(t){ky=t(ky)}function e4(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Wv(this),e,...n);return u2.set(r,e.sort?e.sort():[e]),Aa(r)}:QO().includes(t)?function(...e){return t.apply(Wv(this),e),Aa(l2.get(this))}:function(...e){return Aa(t.apply(Wv(this),e))}}function t4(t){return typeof t=="function"?e4(t):(t instanceof IDBTransaction&&ZO(t),YO(t,WO())?new Proxy(t,ky):t)}function Aa(t){if(t instanceof IDBRequest)return XO(t);if(Yv.has(t))return Yv.get(t);const e=t4(t);return e!==t&&(Yv.set(t,e),H0.set(e,t)),e}const Wv=t=>H0.get(t);function n4(t,e,{blocked:n,upgrade:r,blocking:s,terminated:o}={}){const u=indexedDB.open(t,e),f=Aa(u);return r&&u.addEventListener("upgradeneeded",h=>{r(Aa(u.result),h.oldVersion,h.newVersion,Aa(u.transaction),h)}),n&&u.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),f.then(h=>{o&&h.addEventListener("close",()=>o()),s&&h.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),f}const r4=["get","getKey","getAll","getAllKeys","count"],i4=["put","add","delete","clear"],Qv=new Map;function m1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Qv.get(e))return Qv.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=i4.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||r4.includes(n)))return;const o=async function(u,...f){const h=this.transaction(u,s?"readwrite":"readonly");let d=h.store;return r&&(d=d.index(f.shift())),(await Promise.all([d[n](...f),s&&h.done]))[0]};return Qv.set(e,o),o}JO(t=>({...t,get:(e,n,r)=>m1(e,n)||t.get(e,n,r),has:(e,n)=>!!m1(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(a4(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function a4(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Dy="@firebase/app",p1="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Is=new F0("@firebase/app"),o4="@firebase/app-compat",l4="@firebase/analytics-compat",u4="@firebase/analytics",c4="@firebase/app-check-compat",f4="@firebase/app-check",h4="@firebase/auth",d4="@firebase/auth-compat",m4="@firebase/database",p4="@firebase/data-connect",g4="@firebase/database-compat",v4="@firebase/functions",y4="@firebase/functions-compat",b4="@firebase/installations",_4="@firebase/installations-compat",x4="@firebase/messaging",w4="@firebase/messaging-compat",E4="@firebase/performance",T4="@firebase/performance-compat",S4="@firebase/remote-config",A4="@firebase/remote-config-compat",C4="@firebase/storage",R4="@firebase/storage-compat",I4="@firebase/firestore",N4="@firebase/ai",k4="@firebase/firestore-compat",D4="firebase",O4="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oy="[DEFAULT]",j4={[Dy]:"fire-core",[o4]:"fire-core-compat",[u4]:"fire-analytics",[l4]:"fire-analytics-compat",[f4]:"fire-app-check",[c4]:"fire-app-check-compat",[h4]:"fire-auth",[d4]:"fire-auth-compat",[m4]:"fire-rtdb",[p4]:"fire-data-connect",[g4]:"fire-rtdb-compat",[v4]:"fire-fn",[y4]:"fire-fn-compat",[b4]:"fire-iid",[_4]:"fire-iid-compat",[x4]:"fire-fcm",[w4]:"fire-fcm-compat",[E4]:"fire-perf",[T4]:"fire-perf-compat",[S4]:"fire-rc",[A4]:"fire-rc-compat",[C4]:"fire-gcs",[R4]:"fire-gcs-compat",[I4]:"fire-fst",[k4]:"fire-fst-compat",[N4]:"fire-vertex","fire-js":"fire-js",[D4]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gm=new Map,P4=new Map,jy=new Map;function g1(t,e){try{t.container.addComponent(e)}catch(n){Is.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ka(t){const e=t.name;if(jy.has(e))return Is.debug(`There were multiple attempts to register component ${e}.`),!1;jy.set(e,t);for(const n of gm.values())g1(n,t);for(const n of P4.values())g1(n,t);return!0}function kf(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function _r(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ca=new If("app","Firebase",M4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V4{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Rs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ca.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qo=O4;function c2(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Oy,automaticDataCollectionEnabled:!0},e),s=r.name;if(typeof s!="string"||!s)throw Ca.create("bad-app-name",{appName:String(s)});if(n||(n=s2()),!n)throw Ca.create("no-options");const o=gm.get(s);if(o){if(Mo(n,o.options)&&Mo(r,o.config))return o;throw Ca.create("duplicate-app",{appName:s})}const u=new HO(s);for(const h of jy.values())u.addComponent(h);const f=new V4(n,r,u);return gm.set(s,f),f}function ap(t=Oy){const e=gm.get(t);if(!e&&t===Oy&&s2())return c2();if(!e)throw Ca.create("no-app",{appName:t});return e}function pi(t,e,n){var r;let s=(r=j4[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${e}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Is.warn(f.join(" "));return}ka(new Rs(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L4="firebase-heartbeat-database",U4=1,ff="firebase-heartbeat-store";let Xv=null;function f2(){return Xv||(Xv=n4(L4,U4,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ff)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ca.create("idb-open",{originalErrorMessage:t.message})})),Xv}async function z4(t){try{const n=(await f2()).transaction(ff),r=await n.objectStore(ff).get(h2(t));return await n.done,r}catch(e){if(e instanceof ji)Is.warn(e.message);else{const n=Ca.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Is.warn(n.message)}}}async function v1(t,e){try{const r=(await f2()).transaction(ff,"readwrite");await r.objectStore(ff).put(e,h2(t)),await r.done}catch(n){if(n instanceof ji)Is.warn(n.message);else{const r=Ca.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Is.warn(r.message)}}}function h2(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B4=1024,F4=30;class H4{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new G4(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=y1();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(u=>u.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:s}),this._heartbeatsCache.heartbeats.length>F4){const u=$4(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Is.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=y1(),{heartbeatsToSend:r,unsentEntries:s}=q4(this._heartbeatsCache.heartbeats),o=pm(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Is.warn(n),""}}}function y1(){return new Date().toISOString().substring(0,10)}function q4(t,e=B4){const n=[];let r=t.slice();for(const s of t){const o=n.find(u=>u.agent===s.agent);if(o){if(o.dates.push(s.date),b1(n)>e){o.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),b1(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class G4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return kO()?DO().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await z4(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return v1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return v1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function b1(t){return pm(JSON.stringify({version:2,heartbeats:t})).length}function $4(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K4(t){ka(new Rs("platform-logger",e=>new s4(e),"PRIVATE")),ka(new Rs("heartbeat",e=>new H4(e),"PRIVATE")),pi(Dy,p1,t),pi(Dy,p1,"esm2017"),pi("fire-js","")}K4("");function q0(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function d2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Y4=d2,m2=new If("auth","Firebase",d2());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vm=new F0("@firebase/auth");function W4(t,...e){vm.logLevel<=rt.WARN&&vm.warn(`Auth (${qo}): ${t}`,...e)}function Wd(t,...e){vm.logLevel<=rt.ERROR&&vm.error(`Auth (${qo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gi(t,...e){throw $0(t,...e)}function ki(t,...e){return $0(t,...e)}function G0(t,e,n){const r=Object.assign(Object.assign({},Y4()),{[e]:n});return new If("auth","Firebase",r).create(e,{appName:t.name})}function Ss(t){return G0(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Q4(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&gi(t,"argument-error"),G0(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function $0(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return m2.create(t,...e)}function Me(t,e,...n){if(!t)throw $0(e,...n)}function Es(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Wd(e),new Error(e)}function Ns(t,e){t||Es(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Py(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function X4(){return _1()==="http:"||_1()==="https:"}function _1(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(X4()||CO()||"connection"in navigator)?navigator.onLine:!0}function J4(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ns(n>e,"Short delay should be less than long delay!"),this.isMobile=TO()||RO()}get(){return Z4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K0(t,e){Ns(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Es("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Es("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Es("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ej={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tj=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],nj=new Df(3e4,6e4);function Ba(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Fa(t,e,n,r,s={}){return g2(t,s,async()=>{let o={},u={};r&&(e==="GET"?u=r:o={body:JSON.stringify(r)});const f=Nf(Object.assign({key:t.config.apiKey},u)).slice(1),h=await t._getAdditionalHeaders();h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode);const d=Object.assign({method:e,headers:h},o);return AO()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&js(t.emulatorConfig.host)&&(d.credentials="include"),p2.fetch()(await v2(t,t.config.apiHost,n,f),d)})}async function g2(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},ej),e);try{const s=new ij(t),o=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const u=await o.json();if("needConfirmation"in u)throw bd(t,"account-exists-with-different-credential",u);if(o.ok&&!("errorMessage"in u))return u;{const f=o.ok?u.errorMessage:u.error.message,[h,d]=f.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw bd(t,"credential-already-in-use",u);if(h==="EMAIL_EXISTS")throw bd(t,"email-already-in-use",u);if(h==="USER_DISABLED")throw bd(t,"user-disabled",u);const g=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw G0(t,g,d);gi(t,g)}}catch(s){if(s instanceof ji)throw s;gi(t,"network-request-failed",{message:String(s)})}}async function Of(t,e,n,r,s={}){const o=await Fa(t,e,n,r,s);return"mfaPendingCredential"in o&&gi(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function v2(t,e,n,r){const s=`${e}${n}?${r}`,o=t,u=o.config.emulator?K0(t.config,s):`${t.config.apiScheme}://${s}`;return tj.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(u).toString():u}function rj(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class ij{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ki(this.auth,"network-request-failed")),nj.get())})}}function bd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=ki(t,e,r);return s.customData._tokenResponse=n,s}function x1(t){return t!==void 0&&t.enterprise!==void 0}class sj{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return rj(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function aj(t,e){return Fa(t,"GET","/v2/recaptchaConfig",Ba(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oj(t,e){return Fa(t,"POST","/v1/accounts:delete",e)}async function ym(t,e){return Fa(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function lj(t,e=!1){const n=kt(t),r=await n.getIdToken(e),s=Y0(r);Me(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,u=o==null?void 0:o.sign_in_provider;return{claims:s,token:r,authTime:Hc(Zv(s.auth_time)),issuedAtTime:Hc(Zv(s.iat)),expirationTime:Hc(Zv(s.exp)),signInProvider:u||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Zv(t){return Number(t)*1e3}function Y0(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Wd("JWT malformed, contained fewer than 3 sections"),null;try{const s=r2(n);return s?JSON.parse(s):(Wd("Failed to decode base64 JWT payload"),null)}catch(s){return Wd("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function w1(t){const e=Y0(t);return Me(e,"internal-error"),Me(typeof e.exp<"u","internal-error"),Me(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hf(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ji&&uj(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function uj({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cj{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class My{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Hc(this.lastLoginAt),this.creationTime=Hc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bm(t){var e;const n=t.auth,r=await t.getIdToken(),s=await hf(t,ym(n,{idToken:r}));Me(s==null?void 0:s.users.length,n,"internal-error");const o=s.users[0];t._notifyReloadListener(o);const u=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?y2(o.providerUserInfo):[],f=hj(t.providerData,u),h=t.isAnonymous,d=!(t.email&&o.passwordHash)&&!(f!=null&&f.length),g=h?d:!1,b={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new My(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(t,b)}async function fj(t){const e=kt(t);await bm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function hj(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function y2(t){return t.map(e=>{var{providerId:n}=e,r=q0(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dj(t,e){const n=await g2(t,{},async()=>{const r=Nf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:o}=t.config,u=await v2(t,s,"/v1/token",`key=${o}`),f=await t._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const h={method:"POST",headers:f,body:r};return t.emulatorConfig&&js(t.emulatorConfig.host)&&(h.credentials="include"),p2.fetch()(u,h)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function mj(t,e){return Fa(t,"POST","/v2/accounts:revokeToken",Ba(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Me(e.idToken,"internal-error"),Me(typeof e.idToken<"u","internal-error"),Me(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):w1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Me(e.length!==0,"internal-error");const n=w1(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Me(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:o}=await dj(e,n);this.updateTokensAndExpiration(r,s,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:o}=n,u=new Kl;return r&&(Me(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),s&&(Me(typeof s=="string","internal-error",{appName:e}),u.accessToken=s),o&&(Me(typeof o=="number","internal-error",{appName:e}),u.expirationTime=o),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Kl,this.toJSON())}_performRefresh(){return Es("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pa(t,e){Me(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ri{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,o=q0(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new cj(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new My(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await hf(this,this.stsTokenManager.getToken(this.auth,e));return Me(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return lj(this,e)}reload(){return fj(this)}_assign(e){this!==e&&(Me(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ri(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await bm(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(_r(this.auth.app))return Promise.reject(Ss(this.auth));const e=await this.getIdToken();return await hf(this,oj(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,o,u,f,h,d,g;const b=(r=n.displayName)!==null&&r!==void 0?r:void 0,_=(s=n.email)!==null&&s!==void 0?s:void 0,E=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,C=(u=n.photoURL)!==null&&u!==void 0?u:void 0,N=(f=n.tenantId)!==null&&f!==void 0?f:void 0,j=(h=n._redirectEventId)!==null&&h!==void 0?h:void 0,U=(d=n.createdAt)!==null&&d!==void 0?d:void 0,M=(g=n.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:z,emailVerified:G,isAnonymous:K,providerData:H,stsTokenManager:A}=n;Me(z&&A,e,"internal-error");const S=Kl.fromJSON(this.name,A);Me(typeof z=="string",e,"internal-error"),pa(b,e.name),pa(_,e.name),Me(typeof G=="boolean",e,"internal-error"),Me(typeof K=="boolean",e,"internal-error"),pa(E,e.name),pa(C,e.name),pa(N,e.name),pa(j,e.name),pa(U,e.name),pa(M,e.name);const I=new Ri({uid:z,auth:e,email:_,emailVerified:G,displayName:b,isAnonymous:K,photoURL:C,phoneNumber:E,tenantId:N,stsTokenManager:S,createdAt:U,lastLoginAt:M});return H&&Array.isArray(H)&&(I.providerData=H.map(L=>Object.assign({},L))),j&&(I._redirectEventId=j),I}static async _fromIdTokenResponse(e,n,r=!1){const s=new Kl;s.updateFromServerResponse(n);const o=new Ri({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await bm(o),o}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Me(s.localId!==void 0,"internal-error");const o=s.providerUserInfo!==void 0?y2(s.providerUserInfo):[],u=!(s.email&&s.passwordHash)&&!(o!=null&&o.length),f=new Kl;f.updateFromIdToken(r);const h=new Ri({uid:s.localId,auth:e,stsTokenManager:f,isAnonymous:u}),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new My(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(o!=null&&o.length)};return Object.assign(h,d),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E1=new Map;function Ts(t){Ns(t instanceof Function,"Expected a class definition");let e=E1.get(t);return e?(Ns(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,E1.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}b2.type="NONE";const T1=b2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qd(t,e,n){return`firebase:${t}:${e}:${n}`}class Yl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:o}=this.auth;this.fullUserKey=Qd(this.userKey,s.apiKey,o),this.fullPersistenceKey=Qd("persistence",s.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await ym(this.auth,{idToken:e}).catch(()=>{});return n?Ri._fromGetAccountInfoResponse(this.auth,n,e):null}return Ri._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Yl(Ts(T1),e,r);const s=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let o=s[0]||Ts(T1);const u=Qd(r,e.config.apiKey,e.name);let f=null;for(const d of n)try{const g=await d._get(u);if(g){let b;if(typeof g=="string"){const _=await ym(e,{idToken:g}).catch(()=>{});if(!_)break;b=await Ri._fromGetAccountInfoResponse(e,_,g)}else b=Ri._fromJSON(e,g);d!==o&&(f=b),o=d;break}}catch{}const h=s.filter(d=>d._shouldAllowMigration);return!o._shouldAllowMigration||!h.length?new Yl(o,e,r):(o=h[0],f&&await o._set(u,f.toJSON()),await Promise.all(n.map(async d=>{if(d!==o)try{await d._remove(u)}catch{}})),new Yl(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(E2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(_2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(S2(e))return"Blackberry";if(A2(e))return"Webos";if(x2(e))return"Safari";if((e.includes("chrome/")||w2(e))&&!e.includes("edge/"))return"Chrome";if(T2(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function _2(t=cr()){return/firefox\//i.test(t)}function x2(t=cr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function w2(t=cr()){return/crios\//i.test(t)}function E2(t=cr()){return/iemobile/i.test(t)}function T2(t=cr()){return/android/i.test(t)}function S2(t=cr()){return/blackberry/i.test(t)}function A2(t=cr()){return/webos/i.test(t)}function W0(t=cr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function pj(t=cr()){var e;return W0(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function gj(){return IO()&&document.documentMode===10}function C2(t=cr()){return W0(t)||T2(t)||A2(t)||S2(t)||/windows phone/i.test(t)||E2(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R2(t,e=[]){let n;switch(t){case"Browser":n=S1(cr());break;case"Worker":n=`${S1(cr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${qo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vj{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((u,f)=>{try{const h=e(o);u(h)}catch(h){f(h)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yj(t,e={}){return Fa(t,"GET","/v2/passwordPolicy",Ba(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bj=6;class _j{constructor(e){var n,r,s,o;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=u.minPasswordLength)!==null&&n!==void 0?n:bj,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,o,u,f;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(n=h.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),h.isValid&&(h.isValid=(r=h.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),h.isValid&&(h.isValid=(s=h.containsLowercaseLetter)!==null&&s!==void 0?s:!0),h.isValid&&(h.isValid=(o=h.containsUppercaseLetter)!==null&&o!==void 0?o:!0),h.isValid&&(h.isValid=(u=h.containsNumericCharacter)!==null&&u!==void 0?u:!0),h.isValid&&(h.isValid=(f=h.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),h}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xj{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new A1(this),this.idTokenSubscription=new A1(this),this.beforeStateQueue=new vj(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=m2,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ts(n)),this._initializationPromise=this.queue(async()=>{var r,s,o;if(!this._deleted&&(this.persistenceManager=await Yl.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await ym(this,{idToken:e}),r=await Ri._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(_r(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,f=s==null?void 0:s._redirectEventId,h=await this.tryRedirectSignIn(e);(!u||u===f)&&(h!=null&&h.user)&&(s=h.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Me(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await bm(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=J4()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(_r(this.app))return Promise.reject(Ss(this));const n=e?kt(e):null;return n&&Me(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Me(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return _r(this.app)?Promise.reject(Ss(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return _r(this.app)?Promise.reject(Ss(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ts(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await yj(this),n=new _j(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new If("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await mj(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ts(e)||this._popupRedirectResolver;Me(n,this,"argument-error"),this.redirectPersistenceManager=await Yl.create(this,[Ts(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let u=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Me(f,this,"internal-error"),f.then(()=>{u||o(this.currentUser)}),typeof n=="function"){const h=e.addObserver(n,r,s);return()=>{u=!0,h()}}else{const h=e.addObserver(n);return()=>{u=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=R2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;if(_r(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&W4(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ha(t){return kt(t)}class A1{constructor(e){this.auth=e,this.observer=null,this.addObserver=VO(n=>this.observer=n)}get next(){return Me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let op={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function wj(t){op=t}function I2(t){return op.loadJS(t)}function Ej(){return op.recaptchaEnterpriseScript}function Tj(){return op.gapiScript}function Sj(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class Aj{constructor(){this.enterprise=new Cj}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Cj{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Rj="recaptcha-enterprise",N2="NO_RECAPTCHA";class Ij{constructor(e){this.type=Rj,this.auth=Ha(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(u,f)=>{aj(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const d=new sj(h);return o.tenantId==null?o._agentRecaptchaConfig=d:o._tenantRecaptchaConfigs[o.tenantId]=d,u(d.siteKey)}}).catch(h=>{f(h)})})}function s(o,u,f){const h=window.grecaptcha;x1(h)?h.enterprise.ready(()=>{h.enterprise.execute(o,{action:e}).then(d=>{u(d)}).catch(()=>{u(N2)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Aj().execute("siteKey",{action:"verify"}):new Promise((o,u)=>{r(this.auth).then(f=>{if(!n&&x1(window.grecaptcha))s(f,o,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let h=Ej();h.length!==0&&(h+=f),I2(h).then(()=>{s(f,o,u)}).catch(d=>{u(d)})}}).catch(f=>{u(f)})})}}async function C1(t,e,n,r=!1,s=!1){const o=new Ij(t);let u;if(s)u=N2;else try{u=await o.verify(n)}catch{u=await o.verify(n,!0)}const f=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const h=f.phoneEnrollmentInfo.phoneNumber,d=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:d,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const h=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return r?Object.assign(f,{captchaResp:u}):Object.assign(f,{captchaResponse:u}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function Vy(t,e,n,r,s){var o;if(!((o=t._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await C1(t,e,n,n==="getOobCode");return r(t,u)}else return r(t,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await C1(t,e,n,n==="getOobCode");return r(t,f)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nj(t,e){const n=kf(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),o=n.getOptions();if(Mo(o,e??{}))return s;gi(s,"already-initialized")}return n.initialize({options:e})}function kj(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ts);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Dj(t,e,n){const r=Ha(t);Me(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,o=k2(e),{host:u,port:f}=Oj(e),h=f===null?"":`:${f}`,d={url:`${o}//${u}${h}/`},g=Object.freeze({host:u,port:f,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Me(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Me(Mo(d,r.config.emulator)&&Mo(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,js(u)?(ip(`${o}//${u}${h}`),sp("Auth",!0)):jj()}function k2(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Oj(t){const e=k2(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const o=s[1];return{host:o,port:R1(r.substr(o.length+1))}}else{const[o,u]=r.split(":");return{host:o,port:R1(u)}}}function R1(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function jj(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Es("not implemented")}_getIdTokenResponse(e){return Es("not implemented")}_linkToIdToken(e,n){return Es("not implemented")}_getReauthenticationResolver(e){return Es("not implemented")}}async function Pj(t,e){return Fa(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mj(t,e){return Of(t,"POST","/v1/accounts:signInWithPassword",Ba(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vj(t,e){return Of(t,"POST","/v1/accounts:signInWithEmailLink",Ba(t,e))}async function Lj(t,e){return Of(t,"POST","/v1/accounts:signInWithEmailLink",Ba(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df extends Q0{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new df(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new df(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Vy(e,n,"signInWithPassword",Mj);case"emailLink":return Vj(e,{email:this._email,oobCode:this._password});default:gi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Vy(e,r,"signUpPassword",Pj);case"emailLink":return Lj(e,{idToken:n,email:this._email,oobCode:this._password});default:gi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wl(t,e){return Of(t,"POST","/v1/accounts:signInWithIdp",Ba(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uj="http://localhost";class Vo extends Q0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Vo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):gi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,o=q0(n,["providerId","signInMethod"]);if(!r||!s)return null;const u=new Vo(r,s);return u.idToken=o.idToken||void 0,u.accessToken=o.accessToken||void 0,u.secret=o.secret,u.nonce=o.nonce,u.pendingToken=o.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return Wl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Wl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Wl(e,n)}buildRequest(){const e={requestUri:Uj,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Nf(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zj(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Bj(t){const e=Ic(Nc(t)).link,n=e?Ic(Nc(e)).deep_link_id:null,r=Ic(Nc(t)).deep_link_id;return(r?Ic(Nc(r)).link:null)||r||n||e||t}class X0{constructor(e){var n,r,s,o,u,f;const h=Ic(Nc(e)),d=(n=h.apiKey)!==null&&n!==void 0?n:null,g=(r=h.oobCode)!==null&&r!==void 0?r:null,b=zj((s=h.mode)!==null&&s!==void 0?s:null);Me(d&&g&&b,"argument-error"),this.apiKey=d,this.operation=b,this.code=g,this.continueUrl=(o=h.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(u=h.lang)!==null&&u!==void 0?u:null,this.tenantId=(f=h.tenantId)!==null&&f!==void 0?f:null}static parseLink(e){const n=Bj(e);try{return new X0(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{constructor(){this.providerId=pu.PROVIDER_ID}static credential(e,n){return df._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=X0.parseLink(n);return Me(r,"argument-error"),df._fromEmailAndCode(e,r.code,r.tenantId)}}pu.PROVIDER_ID="password";pu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";pu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jf extends Z0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va extends jf{constructor(){super("facebook.com")}static credential(e){return Vo._fromParams({providerId:va.PROVIDER_ID,signInMethod:va.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return va.credentialFromTaggedObject(e)}static credentialFromError(e){return va.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return va.credential(e.oauthAccessToken)}catch{return null}}}va.FACEBOOK_SIGN_IN_METHOD="facebook.com";va.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws extends jf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Vo._fromParams({providerId:ws.PROVIDER_ID,signInMethod:ws.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ws.credentialFromTaggedObject(e)}static credentialFromError(e){return ws.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ws.credential(n,r)}catch{return null}}}ws.GOOGLE_SIGN_IN_METHOD="google.com";ws.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya extends jf{constructor(){super("github.com")}static credential(e){return Vo._fromParams({providerId:ya.PROVIDER_ID,signInMethod:ya.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ya.credentialFromTaggedObject(e)}static credentialFromError(e){return ya.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ya.credential(e.oauthAccessToken)}catch{return null}}}ya.GITHUB_SIGN_IN_METHOD="github.com";ya.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba extends jf{constructor(){super("twitter.com")}static credential(e,n){return Vo._fromParams({providerId:ba.PROVIDER_ID,signInMethod:ba.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ba.credentialFromTaggedObject(e)}static credentialFromError(e){return ba.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ba.credential(n,r)}catch{return null}}}ba.TWITTER_SIGN_IN_METHOD="twitter.com";ba.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fj(t,e){return Of(t,"POST","/v1/accounts:signUp",Ba(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const o=await Ri._fromIdTokenResponse(e,r,s),u=I1(r);return new Lo({user:o,providerId:u,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=I1(r);return new Lo({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function I1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m extends ji{constructor(e,n,r,s){var o;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,_m.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new _m(e,n,r,s)}}function D2(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?_m._fromErrorAndOperation(t,o,e,r):o})}async function Hj(t,e,n=!1){const r=await hf(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Lo._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qj(t,e,n=!1){const{auth:r}=t;if(_r(r.app))return Promise.reject(Ss(r));const s="reauthenticate";try{const o=await hf(t,D2(r,s,e,t),n);Me(o.idToken,r,"internal-error");const u=Y0(o.idToken);Me(u,r,"internal-error");const{sub:f}=u;return Me(t.uid===f,r,"user-mismatch"),Lo._forOperation(t,s,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&gi(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O2(t,e,n=!1){if(_r(t.app))return Promise.reject(Ss(t));const r="signIn",s=await D2(t,r,e),o=await Lo._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(o.user),o}async function Gj(t,e){return O2(Ha(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j2(t){const e=Ha(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function $j(t,e,n){if(_r(t.app))return Promise.reject(Ss(t));const r=Ha(t),u=await Vy(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Fj).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&j2(t),h}),f=await Lo._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(f.user),f}function Kj(t,e,n){return _r(t.app)?Promise.reject(Ss(t)):Gj(kt(t),pu.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&j2(t),r})}function Yj(t,e,n,r){return kt(t).onIdTokenChanged(e,n,r)}function Wj(t,e,n){return kt(t).beforeAuthStateChanged(e,n)}function Qj(t,e,n,r){return kt(t).onAuthStateChanged(e,n,r)}function Jv(t){return kt(t).signOut()}const xm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(xm,"1"),this.storage.removeItem(xm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xj=1e3,Zj=10;class M2 extends P2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=C2(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,f,h)=>{this.notifyListeners(u,h)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const u=this.storage.getItem(r);!n&&this.localCache[r]===u||this.notifyListeners(r,u)},o=this.storage.getItem(r);gj()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,Zj):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Xj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}M2.type="LOCAL";const Jj=M2;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2 extends P2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}V2.type="SESSION";const L2=V2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eP(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new lp(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:o}=n.data,u=this.handlersMap[s];if(!(u!=null&&u.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const f=Array.from(u).map(async d=>d(n.origin,o)),h=await eP(f);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:h})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}lp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tP{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,u;return new Promise((f,h)=>{const d=J0("",20);s.port1.start();const g=setTimeout(()=>{h(new Error("unsupported_event"))},r);u={messageChannel:s,onMessage(b){const _=b;if(_.data.eventId===d)switch(_.data.status){case"ack":clearTimeout(g),o=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),f(_.data.response);break;default:clearTimeout(g),clearTimeout(o),h(new Error("invalid_response"));break}}},this.handlers.add(u),s.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[s.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ki(){return window}function nP(t){Ki().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U2(){return typeof Ki().WorkerGlobalScope<"u"&&typeof Ki().importScripts=="function"}async function rP(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function iP(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function sP(){return U2()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z2="firebaseLocalStorageDb",aP=1,wm="firebaseLocalStorage",B2="fbase_key";class Pf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function up(t,e){return t.transaction([wm],e?"readwrite":"readonly").objectStore(wm)}function oP(){const t=indexedDB.deleteDatabase(z2);return new Pf(t).toPromise()}function Ly(){const t=indexedDB.open(z2,aP);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(wm,{keyPath:B2})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(wm)?e(r):(r.close(),await oP(),e(await Ly()))})})}async function N1(t,e,n){const r=up(t,!0).put({[B2]:e,value:n});return new Pf(r).toPromise()}async function lP(t,e){const n=up(t,!1).get(e),r=await new Pf(n).toPromise();return r===void 0?null:r.value}function k1(t,e){const n=up(t,!0).delete(e);return new Pf(n).toPromise()}const uP=800,cP=3;class F2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ly(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>cP)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return U2()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=lp._getInstance(sP()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await rP(),!this.activeServiceWorker)return;this.sender=new tP(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||iP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ly();return await N1(e,xm,"1"),await k1(e,xm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>N1(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>lP(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>k1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const o=up(s,!1).getAll();return new Pf(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:o}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),uP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}F2.type="LOCAL";const fP=F2;new Df(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H2(t,e){return e?Ts(e):(Me(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb extends Q0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Wl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Wl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Wl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function hP(t){return O2(t.auth,new eb(t),t.bypassAuthState)}function dP(t){const{auth:e,user:n}=t;return Me(n,e,"internal-error"),qj(n,new eb(t),t.bypassAuthState)}async function mP(t){const{auth:e,user:n}=t;return Me(n,e,"internal-error"),Hj(n,new eb(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(e,n,r,s,o=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:o,error:u,type:f}=e;if(u){this.reject(u);return}const h={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(h))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return hP;case"linkViaPopup":case"linkViaRedirect":return mP;case"reauthViaPopup":case"reauthViaRedirect":return dP;default:gi(this.auth,"internal-error")}}resolve(e){Ns(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ns(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pP=new Df(2e3,1e4);async function gP(t,e,n){if(_r(t.app))return Promise.reject(ki(t,"operation-not-supported-in-this-environment"));const r=Ha(t);Q4(t,e,Z0);const s=H2(r,n);return new Co(r,"signInViaPopup",e,s).executeNotNull()}class Co extends q2{constructor(e,n,r,s,o){super(e,n,s,o),this.provider=r,this.authWindow=null,this.pollId=null,Co.currentPopupAction&&Co.currentPopupAction.cancel(),Co.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Me(e,this.auth,"internal-error"),e}async onExecution(){Ns(this.filter.length===1,"Popup operations only handle one event");const e=J0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ki(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ki(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Co.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ki(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,pP.get())};e()}}Co.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vP="pendingRedirect",Xd=new Map;class yP extends q2{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Xd.get(this.auth._key());if(!e){try{const r=await bP(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Xd.set(this.auth._key(),e)}return this.bypassAuthState||Xd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function bP(t,e){const n=wP(e),r=xP(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function _P(t,e){Xd.set(t._key(),e)}function xP(t){return Ts(t._redirectPersistence)}function wP(t){return Qd(vP,t.config.apiKey,t.name)}async function EP(t,e,n=!1){if(_r(t.app))return Promise.reject(Ss(t));const r=Ha(t),s=H2(r,e),u=await new yP(r,s,n).execute();return u&&!n&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TP=600*1e3;class SP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!AP(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!G2(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(ki(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=TP&&this.cachedEventUids.clear(),this.cachedEventUids.has(D1(e))}saveEventToCache(e){this.cachedEventUids.add(D1(e)),this.lastProcessedEventTime=Date.now()}}function D1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function G2({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function AP(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return G2(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CP(t,e={}){return Fa(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,IP=/^https?/;async function NP(t){if(t.config.emulator)return;const{authorizedDomains:e}=await CP(t);for(const n of e)try{if(kP(n))return}catch{}gi(t,"unauthorized-domain")}function kP(t){const e=Py(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===r}if(!IP.test(n))return!1;if(RP.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DP=new Df(3e4,6e4);function O1(){const t=Ki().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function OP(t){return new Promise((e,n)=>{var r,s,o;function u(){O1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{O1(),n(ki(t,"network-request-failed"))},timeout:DP.get()})}if(!((s=(r=Ki().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((o=Ki().gapi)===null||o===void 0)&&o.load)u();else{const f=Sj("iframefcb");return Ki()[f]=()=>{gapi.load?u():n(ki(t,"network-request-failed"))},I2(`${Tj()}?onload=${f}`).catch(h=>n(h))}}).catch(e=>{throw Zd=null,e})}let Zd=null;function jP(t){return Zd=Zd||OP(t),Zd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PP=new Df(5e3,15e3),MP="__/auth/iframe",VP="emulator/auth/iframe",LP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},UP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function zP(t){const e=t.config;Me(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?K0(e,VP):`https://${t.config.authDomain}/${MP}`,r={apiKey:e.apiKey,appName:t.name,v:qo},s=UP.get(t.config.apiHost);s&&(r.eid=s);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Nf(r).slice(1)}`}async function BP(t){const e=await jP(t),n=Ki().gapi;return Me(n,t,"internal-error"),e.open({where:document.body,url:zP(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:LP,dontclear:!0},r=>new Promise(async(s,o)=>{await r.restyle({setHideOnLeave:!1});const u=ki(t,"network-request-failed"),f=Ki().setTimeout(()=>{o(u)},PP.get());function h(){Ki().clearTimeout(f),s(r)}r.ping(h).then(h,()=>{o(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},HP=500,qP=600,GP="_blank",$P="http://localhost";class j1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function KP(t,e,n,r=HP,s=qP){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let f="";const h=Object.assign(Object.assign({},FP),{width:r.toString(),height:s.toString(),top:o,left:u}),d=cr().toLowerCase();n&&(f=w2(d)?GP:n),_2(d)&&(e=e||$P,h.scrollbars="yes");const g=Object.entries(h).reduce((_,[E,C])=>`${_}${E}=${C},`,"");if(pj(d)&&f!=="_self")return YP(e||"",f),new j1(null);const b=window.open(e||"",f,g);Me(b,t,"popup-blocked");try{b.focus()}catch{}return new j1(b)}function YP(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WP="__/auth/handler",QP="emulator/auth/handler",XP=encodeURIComponent("fac");async function P1(t,e,n,r,s,o){Me(t.config.authDomain,t,"auth-domain-config-required"),Me(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:qo,eventId:s};if(e instanceof Z0){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",MO(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,b]of Object.entries({}))u[g]=b}if(e instanceof jf){const g=e.getScopes().filter(b=>b!=="");g.length>0&&(u.scopes=g.join(","))}t.tenantId&&(u.tid=t.tenantId);const f=u;for(const g of Object.keys(f))f[g]===void 0&&delete f[g];const h=await t._getAppCheckToken(),d=h?`#${XP}=${encodeURIComponent(h)}`:"";return`${ZP(t)}?${Nf(f).slice(1)}${d}`}function ZP({config:t}){return t.emulator?K0(t,QP):`https://${t.authDomain}/${WP}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ey="webStorageSupport";class JP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=L2,this._completeRedirectFn=EP,this._overrideRedirectResult=_P}async _openPopup(e,n,r,s){var o;Ns((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const u=await P1(e,n,r,Py(),s);return KP(e,u,J0())}async _openRedirect(e,n,r,s){await this._originValidation(e);const o=await P1(e,n,r,Py(),s);return nP(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:o}=this.eventManagers[n];return s?Promise.resolve(s):(Ns(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await BP(e),r=new SP(e);return n.register("authEvent",s=>(Me(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ey,{type:ey},s=>{var o;const u=(o=s==null?void 0:s[0])===null||o===void 0?void 0:o[ey];u!==void 0&&n(!!u),gi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=NP(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return C2()||x2()||W0()}}const eM=JP;var M1="@firebase/auth",V1="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nM(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function rM(t){ka(new Rs("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:u,authDomain:f}=r.options;Me(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:u,authDomain:f,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:R2(t)},d=new xj(r,s,o,h);return kj(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ka(new Rs("auth-internal",e=>{const n=Ha(e.getProvider("auth").getImmediate());return(r=>new tM(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),pi(M1,V1,nM(t)),pi(M1,V1,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iM=300,sM=a2("authIdTokenMaxAge")||iM;let L1=null;const aM=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>sM)return;const s=n==null?void 0:n.token;L1!==s&&(L1=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function oM(t=ap()){const e=kf(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Nj(t,{popupRedirectResolver:eM,persistence:[fP,Jj,L2]}),r=a2("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const u=aM(o.toString());Wj(n,u,()=>u(n.currentUser)),Yj(n,f=>u(f))}}const s=i2("auth");return s&&Dj(n,`http://${s}`),n}function lM(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}wj({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const o=ki("internal-error");o.customData=s,n(o)},r.type="text/javascript",r.charset="UTF-8",lM().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});rM("Browser");var uM="firebase",cM="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pi(uM,cM,"app");var U1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ra,$2;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,S){function I(){}I.prototype=S.prototype,A.D=S.prototype,A.prototype=new I,A.prototype.constructor=A,A.C=function(L,V,O){for(var P=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)P[xe-2]=arguments[xe];return S.prototype[V].apply(L,P)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(A,S,I){I||(I=0);var L=Array(16);if(typeof S=="string")for(var V=0;16>V;++V)L[V]=S.charCodeAt(I++)|S.charCodeAt(I++)<<8|S.charCodeAt(I++)<<16|S.charCodeAt(I++)<<24;else for(V=0;16>V;++V)L[V]=S[I++]|S[I++]<<8|S[I++]<<16|S[I++]<<24;S=A.g[0],I=A.g[1],V=A.g[2];var O=A.g[3],P=S+(O^I&(V^O))+L[0]+3614090360&4294967295;S=I+(P<<7&4294967295|P>>>25),P=O+(V^S&(I^V))+L[1]+3905402710&4294967295,O=S+(P<<12&4294967295|P>>>20),P=V+(I^O&(S^I))+L[2]+606105819&4294967295,V=O+(P<<17&4294967295|P>>>15),P=I+(S^V&(O^S))+L[3]+3250441966&4294967295,I=V+(P<<22&4294967295|P>>>10),P=S+(O^I&(V^O))+L[4]+4118548399&4294967295,S=I+(P<<7&4294967295|P>>>25),P=O+(V^S&(I^V))+L[5]+1200080426&4294967295,O=S+(P<<12&4294967295|P>>>20),P=V+(I^O&(S^I))+L[6]+2821735955&4294967295,V=O+(P<<17&4294967295|P>>>15),P=I+(S^V&(O^S))+L[7]+4249261313&4294967295,I=V+(P<<22&4294967295|P>>>10),P=S+(O^I&(V^O))+L[8]+1770035416&4294967295,S=I+(P<<7&4294967295|P>>>25),P=O+(V^S&(I^V))+L[9]+2336552879&4294967295,O=S+(P<<12&4294967295|P>>>20),P=V+(I^O&(S^I))+L[10]+4294925233&4294967295,V=O+(P<<17&4294967295|P>>>15),P=I+(S^V&(O^S))+L[11]+2304563134&4294967295,I=V+(P<<22&4294967295|P>>>10),P=S+(O^I&(V^O))+L[12]+1804603682&4294967295,S=I+(P<<7&4294967295|P>>>25),P=O+(V^S&(I^V))+L[13]+4254626195&4294967295,O=S+(P<<12&4294967295|P>>>20),P=V+(I^O&(S^I))+L[14]+2792965006&4294967295,V=O+(P<<17&4294967295|P>>>15),P=I+(S^V&(O^S))+L[15]+1236535329&4294967295,I=V+(P<<22&4294967295|P>>>10),P=S+(V^O&(I^V))+L[1]+4129170786&4294967295,S=I+(P<<5&4294967295|P>>>27),P=O+(I^V&(S^I))+L[6]+3225465664&4294967295,O=S+(P<<9&4294967295|P>>>23),P=V+(S^I&(O^S))+L[11]+643717713&4294967295,V=O+(P<<14&4294967295|P>>>18),P=I+(O^S&(V^O))+L[0]+3921069994&4294967295,I=V+(P<<20&4294967295|P>>>12),P=S+(V^O&(I^V))+L[5]+3593408605&4294967295,S=I+(P<<5&4294967295|P>>>27),P=O+(I^V&(S^I))+L[10]+38016083&4294967295,O=S+(P<<9&4294967295|P>>>23),P=V+(S^I&(O^S))+L[15]+3634488961&4294967295,V=O+(P<<14&4294967295|P>>>18),P=I+(O^S&(V^O))+L[4]+3889429448&4294967295,I=V+(P<<20&4294967295|P>>>12),P=S+(V^O&(I^V))+L[9]+568446438&4294967295,S=I+(P<<5&4294967295|P>>>27),P=O+(I^V&(S^I))+L[14]+3275163606&4294967295,O=S+(P<<9&4294967295|P>>>23),P=V+(S^I&(O^S))+L[3]+4107603335&4294967295,V=O+(P<<14&4294967295|P>>>18),P=I+(O^S&(V^O))+L[8]+1163531501&4294967295,I=V+(P<<20&4294967295|P>>>12),P=S+(V^O&(I^V))+L[13]+2850285829&4294967295,S=I+(P<<5&4294967295|P>>>27),P=O+(I^V&(S^I))+L[2]+4243563512&4294967295,O=S+(P<<9&4294967295|P>>>23),P=V+(S^I&(O^S))+L[7]+1735328473&4294967295,V=O+(P<<14&4294967295|P>>>18),P=I+(O^S&(V^O))+L[12]+2368359562&4294967295,I=V+(P<<20&4294967295|P>>>12),P=S+(I^V^O)+L[5]+4294588738&4294967295,S=I+(P<<4&4294967295|P>>>28),P=O+(S^I^V)+L[8]+2272392833&4294967295,O=S+(P<<11&4294967295|P>>>21),P=V+(O^S^I)+L[11]+1839030562&4294967295,V=O+(P<<16&4294967295|P>>>16),P=I+(V^O^S)+L[14]+4259657740&4294967295,I=V+(P<<23&4294967295|P>>>9),P=S+(I^V^O)+L[1]+2763975236&4294967295,S=I+(P<<4&4294967295|P>>>28),P=O+(S^I^V)+L[4]+1272893353&4294967295,O=S+(P<<11&4294967295|P>>>21),P=V+(O^S^I)+L[7]+4139469664&4294967295,V=O+(P<<16&4294967295|P>>>16),P=I+(V^O^S)+L[10]+3200236656&4294967295,I=V+(P<<23&4294967295|P>>>9),P=S+(I^V^O)+L[13]+681279174&4294967295,S=I+(P<<4&4294967295|P>>>28),P=O+(S^I^V)+L[0]+3936430074&4294967295,O=S+(P<<11&4294967295|P>>>21),P=V+(O^S^I)+L[3]+3572445317&4294967295,V=O+(P<<16&4294967295|P>>>16),P=I+(V^O^S)+L[6]+76029189&4294967295,I=V+(P<<23&4294967295|P>>>9),P=S+(I^V^O)+L[9]+3654602809&4294967295,S=I+(P<<4&4294967295|P>>>28),P=O+(S^I^V)+L[12]+3873151461&4294967295,O=S+(P<<11&4294967295|P>>>21),P=V+(O^S^I)+L[15]+530742520&4294967295,V=O+(P<<16&4294967295|P>>>16),P=I+(V^O^S)+L[2]+3299628645&4294967295,I=V+(P<<23&4294967295|P>>>9),P=S+(V^(I|~O))+L[0]+4096336452&4294967295,S=I+(P<<6&4294967295|P>>>26),P=O+(I^(S|~V))+L[7]+1126891415&4294967295,O=S+(P<<10&4294967295|P>>>22),P=V+(S^(O|~I))+L[14]+2878612391&4294967295,V=O+(P<<15&4294967295|P>>>17),P=I+(O^(V|~S))+L[5]+4237533241&4294967295,I=V+(P<<21&4294967295|P>>>11),P=S+(V^(I|~O))+L[12]+1700485571&4294967295,S=I+(P<<6&4294967295|P>>>26),P=O+(I^(S|~V))+L[3]+2399980690&4294967295,O=S+(P<<10&4294967295|P>>>22),P=V+(S^(O|~I))+L[10]+4293915773&4294967295,V=O+(P<<15&4294967295|P>>>17),P=I+(O^(V|~S))+L[1]+2240044497&4294967295,I=V+(P<<21&4294967295|P>>>11),P=S+(V^(I|~O))+L[8]+1873313359&4294967295,S=I+(P<<6&4294967295|P>>>26),P=O+(I^(S|~V))+L[15]+4264355552&4294967295,O=S+(P<<10&4294967295|P>>>22),P=V+(S^(O|~I))+L[6]+2734768916&4294967295,V=O+(P<<15&4294967295|P>>>17),P=I+(O^(V|~S))+L[13]+1309151649&4294967295,I=V+(P<<21&4294967295|P>>>11),P=S+(V^(I|~O))+L[4]+4149444226&4294967295,S=I+(P<<6&4294967295|P>>>26),P=O+(I^(S|~V))+L[11]+3174756917&4294967295,O=S+(P<<10&4294967295|P>>>22),P=V+(S^(O|~I))+L[2]+718787259&4294967295,V=O+(P<<15&4294967295|P>>>17),P=I+(O^(V|~S))+L[9]+3951481745&4294967295,A.g[0]=A.g[0]+S&4294967295,A.g[1]=A.g[1]+(V+(P<<21&4294967295|P>>>11))&4294967295,A.g[2]=A.g[2]+V&4294967295,A.g[3]=A.g[3]+O&4294967295}r.prototype.u=function(A,S){S===void 0&&(S=A.length);for(var I=S-this.blockSize,L=this.B,V=this.h,O=0;O<S;){if(V==0)for(;O<=I;)s(this,A,O),O+=this.blockSize;if(typeof A=="string"){for(;O<S;)if(L[V++]=A.charCodeAt(O++),V==this.blockSize){s(this,L),V=0;break}}else for(;O<S;)if(L[V++]=A[O++],V==this.blockSize){s(this,L),V=0;break}}this.h=V,this.o+=S},r.prototype.v=function(){var A=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);A[0]=128;for(var S=1;S<A.length-8;++S)A[S]=0;var I=8*this.o;for(S=A.length-8;S<A.length;++S)A[S]=I&255,I/=256;for(this.u(A),A=Array(16),S=I=0;4>S;++S)for(var L=0;32>L;L+=8)A[I++]=this.g[S]>>>L&255;return A};function o(A,S){var I=f;return Object.prototype.hasOwnProperty.call(I,A)?I[A]:I[A]=S(A)}function u(A,S){this.h=S;for(var I=[],L=!0,V=A.length-1;0<=V;V--){var O=A[V]|0;L&&O==S||(I[V]=O,L=!1)}this.g=I}var f={};function h(A){return-128<=A&&128>A?o(A,function(S){return new u([S|0],0>S?-1:0)}):new u([A|0],0>A?-1:0)}function d(A){if(isNaN(A)||!isFinite(A))return b;if(0>A)return j(d(-A));for(var S=[],I=1,L=0;A>=I;L++)S[L]=A/I|0,I*=4294967296;return new u(S,0)}function g(A,S){if(A.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(A.charAt(0)=="-")return j(g(A.substring(1),S));if(0<=A.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=d(Math.pow(S,8)),L=b,V=0;V<A.length;V+=8){var O=Math.min(8,A.length-V),P=parseInt(A.substring(V,V+O),S);8>O?(O=d(Math.pow(S,O)),L=L.j(O).add(d(P))):(L=L.j(I),L=L.add(d(P)))}return L}var b=h(0),_=h(1),E=h(16777216);t=u.prototype,t.m=function(){if(N(this))return-j(this).m();for(var A=0,S=1,I=0;I<this.g.length;I++){var L=this.i(I);A+=(0<=L?L:4294967296+L)*S,S*=4294967296}return A},t.toString=function(A){if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(C(this))return"0";if(N(this))return"-"+j(this).toString(A);for(var S=d(Math.pow(A,6)),I=this,L="";;){var V=G(I,S).g;I=U(I,V.j(S));var O=((0<I.g.length?I.g[0]:I.h)>>>0).toString(A);if(I=V,C(I))return O+L;for(;6>O.length;)O="0"+O;L=O+L}},t.i=function(A){return 0>A?0:A<this.g.length?this.g[A]:this.h};function C(A){if(A.h!=0)return!1;for(var S=0;S<A.g.length;S++)if(A.g[S]!=0)return!1;return!0}function N(A){return A.h==-1}t.l=function(A){return A=U(this,A),N(A)?-1:C(A)?0:1};function j(A){for(var S=A.g.length,I=[],L=0;L<S;L++)I[L]=~A.g[L];return new u(I,~A.h).add(_)}t.abs=function(){return N(this)?j(this):this},t.add=function(A){for(var S=Math.max(this.g.length,A.g.length),I=[],L=0,V=0;V<=S;V++){var O=L+(this.i(V)&65535)+(A.i(V)&65535),P=(O>>>16)+(this.i(V)>>>16)+(A.i(V)>>>16);L=P>>>16,O&=65535,P&=65535,I[V]=P<<16|O}return new u(I,I[I.length-1]&-2147483648?-1:0)};function U(A,S){return A.add(j(S))}t.j=function(A){if(C(this)||C(A))return b;if(N(this))return N(A)?j(this).j(j(A)):j(j(this).j(A));if(N(A))return j(this.j(j(A)));if(0>this.l(E)&&0>A.l(E))return d(this.m()*A.m());for(var S=this.g.length+A.g.length,I=[],L=0;L<2*S;L++)I[L]=0;for(L=0;L<this.g.length;L++)for(var V=0;V<A.g.length;V++){var O=this.i(L)>>>16,P=this.i(L)&65535,xe=A.i(V)>>>16,De=A.i(V)&65535;I[2*L+2*V]+=P*De,M(I,2*L+2*V),I[2*L+2*V+1]+=O*De,M(I,2*L+2*V+1),I[2*L+2*V+1]+=P*xe,M(I,2*L+2*V+1),I[2*L+2*V+2]+=O*xe,M(I,2*L+2*V+2)}for(L=0;L<S;L++)I[L]=I[2*L+1]<<16|I[2*L];for(L=S;L<2*S;L++)I[L]=0;return new u(I,0)};function M(A,S){for(;(A[S]&65535)!=A[S];)A[S+1]+=A[S]>>>16,A[S]&=65535,S++}function z(A,S){this.g=A,this.h=S}function G(A,S){if(C(S))throw Error("division by zero");if(C(A))return new z(b,b);if(N(A))return S=G(j(A),S),new z(j(S.g),j(S.h));if(N(S))return S=G(A,j(S)),new z(j(S.g),S.h);if(30<A.g.length){if(N(A)||N(S))throw Error("slowDivide_ only works with positive integers.");for(var I=_,L=S;0>=L.l(A);)I=K(I),L=K(L);var V=H(I,1),O=H(L,1);for(L=H(L,2),I=H(I,2);!C(L);){var P=O.add(L);0>=P.l(A)&&(V=V.add(I),O=P),L=H(L,1),I=H(I,1)}return S=U(A,V.j(S)),new z(V,S)}for(V=b;0<=A.l(S);){for(I=Math.max(1,Math.floor(A.m()/S.m())),L=Math.ceil(Math.log(I)/Math.LN2),L=48>=L?1:Math.pow(2,L-48),O=d(I),P=O.j(S);N(P)||0<P.l(A);)I-=L,O=d(I),P=O.j(S);C(O)&&(O=_),V=V.add(O),A=U(A,P)}return new z(V,A)}t.A=function(A){return G(this,A).h},t.and=function(A){for(var S=Math.max(this.g.length,A.g.length),I=[],L=0;L<S;L++)I[L]=this.i(L)&A.i(L);return new u(I,this.h&A.h)},t.or=function(A){for(var S=Math.max(this.g.length,A.g.length),I=[],L=0;L<S;L++)I[L]=this.i(L)|A.i(L);return new u(I,this.h|A.h)},t.xor=function(A){for(var S=Math.max(this.g.length,A.g.length),I=[],L=0;L<S;L++)I[L]=this.i(L)^A.i(L);return new u(I,this.h^A.h)};function K(A){for(var S=A.g.length+1,I=[],L=0;L<S;L++)I[L]=A.i(L)<<1|A.i(L-1)>>>31;return new u(I,A.h)}function H(A,S){var I=S>>5;S%=32;for(var L=A.g.length-I,V=[],O=0;O<L;O++)V[O]=0<S?A.i(O+I)>>>S|A.i(O+I+1)<<32-S:A.i(O+I);return new u(V,A.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,$2=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=d,u.fromString=g,Ra=u}).apply(typeof U1<"u"?U1:typeof self<"u"?self:typeof window<"u"?window:{});var _d=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var K2,kc,Y2,Jd,Uy,W2,Q2,X2;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,x,T){return m==Array.prototype||m==Object.prototype||(m[x]=T.value),m};function n(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof _d=="object"&&_d];for(var x=0;x<m.length;++x){var T=m[x];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=n(this);function s(m,x){if(x)e:{var T=r;m=m.split(".");for(var k=0;k<m.length-1;k++){var Y=m[k];if(!(Y in T))break e;T=T[Y]}m=m[m.length-1],k=T[m],x=x(k),x!=k&&x!=null&&e(T,m,{configurable:!0,writable:!0,value:x})}}function o(m,x){m instanceof String&&(m+="");var T=0,k=!1,Y={next:function(){if(!k&&T<m.length){var ne=T++;return{value:x(ne,m[ne]),done:!1}}return k=!0,{done:!0,value:void 0}}};return Y[Symbol.iterator]=function(){return Y},Y}s("Array.prototype.values",function(m){return m||function(){return o(this,function(x,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},f=this||self;function h(m){var x=typeof m;return x=x!="object"?x:m?Array.isArray(m)?"array":x:"null",x=="array"||x=="object"&&typeof m.length=="number"}function d(m){var x=typeof m;return x=="object"&&m!=null||x=="function"}function g(m,x,T){return m.call.apply(m.bind,arguments)}function b(m,x,T){if(!m)throw Error();if(2<arguments.length){var k=Array.prototype.slice.call(arguments,2);return function(){var Y=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Y,k),m.apply(x,Y)}}return function(){return m.apply(x,arguments)}}function _(m,x,T){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:b,_.apply(null,arguments)}function E(m,x){var T=Array.prototype.slice.call(arguments,1);return function(){var k=T.slice();return k.push.apply(k,arguments),m.apply(this,k)}}function C(m,x){function T(){}T.prototype=x.prototype,m.aa=x.prototype,m.prototype=new T,m.prototype.constructor=m,m.Qb=function(k,Y,ne){for(var me=Array(arguments.length-2),gt=2;gt<arguments.length;gt++)me[gt-2]=arguments[gt];return x.prototype[Y].apply(k,me)}}function N(m){const x=m.length;if(0<x){const T=Array(x);for(let k=0;k<x;k++)T[k]=m[k];return T}return[]}function j(m,x){for(let T=1;T<arguments.length;T++){const k=arguments[T];if(h(k)){const Y=m.length||0,ne=k.length||0;m.length=Y+ne;for(let me=0;me<ne;me++)m[Y+me]=k[me]}else m.push(k)}}class U{constructor(x,T){this.i=x,this.j=T,this.h=0,this.g=null}get(){let x;return 0<this.h?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}function M(m){return/^[\s\xa0]*$/.test(m)}function z(){var m=f.navigator;return m&&(m=m.userAgent)?m:""}function G(m){return G[" "](m),m}G[" "]=function(){};var K=z().indexOf("Gecko")!=-1&&!(z().toLowerCase().indexOf("webkit")!=-1&&z().indexOf("Edge")==-1)&&!(z().indexOf("Trident")!=-1||z().indexOf("MSIE")!=-1)&&z().indexOf("Edge")==-1;function H(m,x,T){for(const k in m)x.call(T,m[k],k,m)}function A(m,x){for(const T in m)x.call(void 0,m[T],T,m)}function S(m){const x={};for(const T in m)x[T]=m[T];return x}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(m,x){let T,k;for(let Y=1;Y<arguments.length;Y++){k=arguments[Y];for(T in k)m[T]=k[T];for(let ne=0;ne<I.length;ne++)T=I[ne],Object.prototype.hasOwnProperty.call(k,T)&&(m[T]=k[T])}}function V(m){var x=1;m=m.split(":");const T=[];for(;0<x&&m.length;)T.push(m.shift()),x--;return m.length&&T.push(m.join(":")),T}function O(m){f.setTimeout(()=>{throw m},0)}function P(){var m=we;let x=null;return m.g&&(x=m.g,m.g=m.g.next,m.g||(m.h=null),x.next=null),x}class xe{constructor(){this.h=this.g=null}add(x,T){const k=De.get();k.set(x,T),this.h?this.h.next=k:this.g=k,this.h=k}}var De=new U(()=>new Q,m=>m.reset());class Q{constructor(){this.next=this.g=this.h=null}set(x,T){this.h=x,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let se,fe=!1,we=new xe,Ee=()=>{const m=f.Promise.resolve(void 0);se=()=>{m.then(B)}};var B=()=>{for(var m;m=P();){try{m.h.call(m.g)}catch(T){O(T)}var x=De;x.j(m),100>x.h&&(x.h++,m.next=x.g,x.g=m)}fe=!1};function Z(){this.s=this.s,this.C=this.C}Z.prototype.s=!1,Z.prototype.ma=function(){this.s||(this.s=!0,this.N())},Z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ee(m,x){this.type=m,this.g=this.target=x,this.defaultPrevented=!1}ee.prototype.h=function(){this.defaultPrevented=!0};var re=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var m=!1,x=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const T=()=>{};f.addEventListener("test",T,x),f.removeEventListener("test",T,x)}catch{}return m})();function de(m,x){if(ee.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var T=this.type=m.type,k=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=x,x=m.relatedTarget){if(K){e:{try{G(x.nodeName);var Y=!0;break e}catch{}Y=!1}Y||(x=null)}}else T=="mouseover"?x=m.fromElement:T=="mouseout"&&(x=m.toElement);this.relatedTarget=x,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:je[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&de.aa.h.call(this)}}C(de,ee);var je={2:"touch",3:"pen",4:"mouse"};de.prototype.h=function(){de.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var Se="closure_listenable_"+(1e6*Math.random()|0),Dt=0;function Et(m,x,T,k,Y){this.listener=m,this.proxy=null,this.src=x,this.type=T,this.capture=!!k,this.ha=Y,this.key=++Dt,this.da=this.fa=!1}function Vn(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function wr(m){this.src=m,this.g={},this.h=0}wr.prototype.add=function(m,x,T,k,Y){var ne=m.toString();m=this.g[ne],m||(m=this.g[ne]=[],this.h++);var me=Ln(m,x,k,Y);return-1<me?(x=m[me],T||(x.fa=!1)):(x=new Et(x,this.src,ne,!!k,Y),x.fa=T,m.push(x)),x};function Pt(m,x){var T=x.type;if(T in m.g){var k=m.g[T],Y=Array.prototype.indexOf.call(k,x,void 0),ne;(ne=0<=Y)&&Array.prototype.splice.call(k,Y,1),ne&&(Vn(x),m.g[T].length==0&&(delete m.g[T],m.h--))}}function Ln(m,x,T,k){for(var Y=0;Y<m.length;++Y){var ne=m[Y];if(!ne.da&&ne.listener==x&&ne.capture==!!T&&ne.ha==k)return Y}return-1}var xn="closure_lm_"+(1e6*Math.random()|0),Cn={};function Rn(m,x,T,k,Y){if(Array.isArray(x)){for(var ne=0;ne<x.length;ne++)Rn(m,x[ne],T,k,Y);return null}return T=hn(T),m&&m[Se]?m.K(x,T,d(k)?!!k.capture:!1,Y):Qn(m,x,T,!1,k,Y)}function Qn(m,x,T,k,Y,ne){if(!x)throw Error("Invalid event type");var me=d(Y)?!!Y.capture:!!Y,gt=Vr(m);if(gt||(m[xn]=gt=new wr(m)),T=gt.add(x,T,k,me,ne),T.proxy)return T;if(k=Pr(),T.proxy=k,k.src=m,k.listener=T,m.addEventListener)re||(Y=me),Y===void 0&&(Y=!1),m.addEventListener(x.toString(),k,Y);else if(m.attachEvent)m.attachEvent(fr(x.toString()),k);else if(m.addListener&&m.removeListener)m.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Pr(){function m(T){return x.call(m.src,m.listener,T)}const x=Er;return m}function Mr(m,x,T,k,Y){if(Array.isArray(x))for(var ne=0;ne<x.length;ne++)Mr(m,x[ne],T,k,Y);else k=d(k)?!!k.capture:!!k,T=hn(T),m&&m[Se]?(m=m.i,x=String(x).toString(),x in m.g&&(ne=m.g[x],T=Ln(ne,T,k,Y),-1<T&&(Vn(ne[T]),Array.prototype.splice.call(ne,T,1),ne.length==0&&(delete m.g[x],m.h--)))):m&&(m=Vr(m))&&(x=m.g[x.toString()],m=-1,x&&(m=Ln(x,T,k,Y)),(T=-1<m?x[m]:null)&&Xn(T))}function Xn(m){if(typeof m!="number"&&m&&!m.da){var x=m.src;if(x&&x[Se])Pt(x.i,m);else{var T=m.type,k=m.proxy;x.removeEventListener?x.removeEventListener(T,k,m.capture):x.detachEvent?x.detachEvent(fr(T),k):x.addListener&&x.removeListener&&x.removeListener(k),(T=Vr(x))?(Pt(T,m),T.h==0&&(T.src=null,x[xn]=null)):Vn(m)}}}function fr(m){return m in Cn?Cn[m]:Cn[m]="on"+m}function Er(m,x){if(m.da)m=!0;else{x=new de(x,this);var T=m.listener,k=m.ha||m.src;m.fa&&Xn(m),m=T.call(k,x)}return m}function Vr(m){return m=m[xn],m instanceof wr?m:null}var bt="__closure_events_fn_"+(1e9*Math.random()>>>0);function hn(m){return typeof m=="function"?m:(m[bt]||(m[bt]=function(x){return m.handleEvent(x)}),m[bt])}function Fe(){Z.call(this),this.i=new wr(this),this.M=this,this.F=null}C(Fe,Z),Fe.prototype[Se]=!0,Fe.prototype.removeEventListener=function(m,x,T,k){Mr(this,m,x,T,k)};function Ot(m,x){var T,k=m.F;if(k)for(T=[];k;k=k.F)T.push(k);if(m=m.M,k=x.type||x,typeof x=="string")x=new ee(x,m);else if(x instanceof ee)x.target=x.target||m;else{var Y=x;x=new ee(k,m),L(x,Y)}if(Y=!0,T)for(var ne=T.length-1;0<=ne;ne--){var me=x.g=T[ne];Y=lt(me,k,!0,x)&&Y}if(me=x.g=m,Y=lt(me,k,!0,x)&&Y,Y=lt(me,k,!1,x)&&Y,T)for(ne=0;ne<T.length;ne++)me=x.g=T[ne],Y=lt(me,k,!1,x)&&Y}Fe.prototype.N=function(){if(Fe.aa.N.call(this),this.i){var m=this.i,x;for(x in m.g){for(var T=m.g[x],k=0;k<T.length;k++)Vn(T[k]);delete m.g[x],m.h--}}this.F=null},Fe.prototype.K=function(m,x,T,k){return this.i.add(String(m),x,!1,T,k)},Fe.prototype.L=function(m,x,T,k){return this.i.add(String(m),x,!0,T,k)};function lt(m,x,T,k){if(x=m.i.g[String(x)],!x)return!0;x=x.concat();for(var Y=!0,ne=0;ne<x.length;++ne){var me=x[ne];if(me&&!me.da&&me.capture==T){var gt=me.listener,dn=me.ha||me.src;me.fa&&Pt(m.i,me),Y=gt.call(dn,k)!==!1&&Y}}return Y&&!k.defaultPrevented}function Gt(m,x,T){if(typeof m=="function")T&&(m=_(m,T));else if(m&&typeof m.handleEvent=="function")m=_(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(x)?-1:f.setTimeout(m,x||0)}function vi(m){m.g=Gt(()=>{m.g=null,m.i&&(m.i=!1,vi(m))},m.l);const x=m.h;m.h=null,m.m.apply(null,x)}class Ya extends Z{constructor(x,T){super(),this.m=x,this.l=T,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:vi(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function wn(m){Z.call(this),this.h=m,this.g={}}C(wn,Z);var hr=[];function an(m){H(m.g,function(x,T){this.g.hasOwnProperty(T)&&Xn(x)},m),m.g={}}wn.prototype.N=function(){wn.aa.N.call(this),an(this)},wn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ue=f.JSON.stringify,ye=f.JSON.parse,ve=class{stringify(m){return f.JSON.stringify(m,void 0)}parse(m){return f.JSON.parse(m,void 0)}};function ge(){}ge.prototype.h=null;function Je(m){return m.h||(m.h=m.i())}function Le(){}var Ce={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function et(){ee.call(this,"d")}C(et,ee);function Ge(){ee.call(this,"c")}C(Ge,ee);var ke={},He=null;function Qt(){return He=He||new Fe}ke.La="serverreachability";function En(m){ee.call(this,ke.La,m)}C(En,ee);function $t(m){const x=Qt();Ot(x,new En(x))}ke.STAT_EVENT="statevent";function Tt(m,x){ee.call(this,ke.STAT_EVENT,m),this.stat=x}C(Tt,ee);function ut(m){const x=Qt();Ot(x,new Tt(x,m))}ke.Ma="timingevent";function Un(m,x){ee.call(this,ke.Ma,m),this.size=x}C(Un,ee);function It(m,x){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){m()},x)}function In(){this.g=!0}In.prototype.xa=function(){this.g=!1};function Tr(m,x,T,k,Y,ne){m.info(function(){if(m.g)if(ne)for(var me="",gt=ne.split("&"),dn=0;dn<gt.length;dn++){var Ye=gt[dn].split("=");if(1<Ye.length){var Dn=Ye[0];Ye=Ye[1];var On=Dn.split("_");me=2<=On.length&&On[1]=="type"?me+(Dn+"="+Ye+"&"):me+(Dn+"=redacted&")}}else me=null;else me=ne;return"XMLHTTP REQ ("+k+") [attempt "+Y+"]: "+x+`
`+T+`
`+me})}function Xt(m,x,T,k,Y,ne,me){m.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+Y+"]: "+x+`
`+T+`
`+ne+" "+me})}function zn(m,x,T,k){m.info(function(){return"XMLHTTP TEXT ("+x+"): "+Nn(m,T)+(k?" "+k:"")})}function yi(m,x){m.info(function(){return"TIMEOUT: "+x})}In.prototype.info=function(){};function Nn(m,x){if(!m.g)return x;if(!x)return null;try{var T=JSON.parse(x);if(T){for(m=0;m<T.length;m++)if(Array.isArray(T[m])){var k=T[m];if(!(2>k.length)){var Y=k[1];if(Array.isArray(Y)&&!(1>Y.length)){var ne=Y[0];if(ne!="noop"&&ne!="stop"&&ne!="close")for(var me=1;me<Y.length;me++)Y[me]=""}}}}return ue(T)}catch{return x}}var _t={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},he={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Re;function Ke(){}C(Ke,ge),Ke.prototype.g=function(){return new XMLHttpRequest},Ke.prototype.i=function(){return{}},Re=new Ke;function Mt(m,x,T,k){this.j=m,this.i=x,this.l=T,this.R=k||1,this.U=new wn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Lr}function Lr(){this.i=null,this.g="",this.h=!1}var Ur={},Zn={};function Jn(m,x,T){m.L=1,m.v=Qa(Zt(x)),m.m=T,m.P=!0,er(m,null)}function er(m,x){m.F=Date.now(),dr(m),m.A=Zt(m.v);var T=m.A,k=m.R;Array.isArray(k)||(k=[String(k)]),rs(T.i,"t",k),m.C=0,T=m.j.J,m.h=new Lr,m.g=hh(m.j,T?x:null,!m.m),0<m.O&&(m.M=new Ya(_(m.Y,m,m.g),m.O)),x=m.U,T=m.g,k=m.ca;var Y="readystatechange";Array.isArray(Y)||(Y&&(hr[0]=Y.toString()),Y=hr);for(var ne=0;ne<Y.length;ne++){var me=Rn(T,Y[ne],k||x.handleEvent,!1,x.h||x);if(!me)break;x.g[me.key]=me}x=m.H?S(m.H):{},m.m?(m.u||(m.u="POST"),x["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,x)):(m.u="GET",m.g.ea(m.A,m.u,null,x)),$t(),Tr(m.i,m.u,m.A,m.l,m.R,m.m)}Mt.prototype.ca=function(m){m=m.target;const x=this.M;x&&gr(m)==3?x.j():this.Y(m)},Mt.prototype.Y=function(m){try{if(m==this.g)e:{const On=gr(this.g);var x=this.g.Ba();const $s=this.g.Z();if(!(3>On)&&(On!=3||this.g&&(this.h.h||this.g.oa()||Ja(this.g)))){this.J||On!=4||x==7||(x==8||0>=$s?$t(3):$t(2)),bi(this);var T=this.g.Z();this.X=T;t:if(ei(this)){var k=Ja(this.g);m="";var Y=k.length,ne=gr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){mr(this),_i(this);var me="";break t}this.h.i=new f.TextDecoder}for(x=0;x<Y;x++)this.h.h=!0,m+=this.h.i.decode(k[x],{stream:!(ne&&x==Y-1)});k.length=0,this.h.g+=m,this.C=0,me=this.h.g}else me=this.g.oa();if(this.o=T==200,Xt(this.i,this.u,this.A,this.l,this.R,On,T),this.o){if(this.T&&!this.K){t:{if(this.g){var gt,dn=this.g;if((gt=dn.g?dn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(gt)){var Ye=gt;break t}}Ye=null}if(T=Ye)zn(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Mi(this,T);else{this.o=!1,this.s=3,ut(12),mr(this),_i(this);break e}}if(this.P){T=!0;let Ar;for(;!this.J&&this.C<me.length;)if(Ar=Pi(this,me),Ar==Zn){On==4&&(this.s=4,ut(14),T=!1),zn(this.i,this.l,null,"[Incomplete Response]");break}else if(Ar==Ur){this.s=4,ut(15),zn(this.i,this.l,me,"[Invalid Chunk]"),T=!1;break}else zn(this.i,this.l,Ar,null),Mi(this,Ar);if(ei(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),On!=4||me.length!=0||this.h.h||(this.s=1,ut(16),T=!1),this.o=this.o&&T,!T)zn(this.i,this.l,me,"[Invalid Chunked Response]"),mr(this),_i(this);else if(0<me.length&&!this.W){this.W=!0;var Dn=this.j;Dn.g==this&&Dn.ba&&!Dn.M&&(Dn.j.info("Great, no buffering proxy detected. Bytes received: "+me.length),Mu(Dn),Dn.M=!0,ut(11))}}else zn(this.i,this.l,me,null),Mi(this,me);On==4&&mr(this),this.o&&!this.J&&(On==4?uh(this.j,this):(this.o=!1,dr(this)))}else rh(this.g),T==400&&0<me.indexOf("Unknown SID")?(this.s=3,ut(12)):(this.s=0,ut(13)),mr(this),_i(this)}}}catch{}finally{}};function ei(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function Pi(m,x){var T=m.C,k=x.indexOf(`
`,T);return k==-1?Zn:(T=Number(x.substring(T,k)),isNaN(T)?Ur:(k+=1,k+T>x.length?Zn:(x=x.slice(k,k+T),m.C=k+T,x)))}Mt.prototype.cancel=function(){this.J=!0,mr(this)};function dr(m){m.S=Date.now()+m.I,Ht(m,m.I)}function Ht(m,x){if(m.B!=null)throw Error("WatchDog timer not null");m.B=It(_(m.ba,m),x)}function bi(m){m.B&&(f.clearTimeout(m.B),m.B=null)}Mt.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(yi(this.i,this.A),this.L!=2&&($t(),ut(17)),mr(this),this.s=2,_i(this)):Ht(this,this.S-m)};function _i(m){m.j.G==0||m.J||uh(m.j,m)}function mr(m){bi(m);var x=m.M;x&&typeof x.ma=="function"&&x.ma(),m.M=null,an(m.U),m.g&&(x=m.g,m.g=null,x.abort(),x.ma())}function Mi(m,x){try{var T=m.j;if(T.G!=0&&(T.g==m||Ps(T.h,m))){if(!m.K&&Ps(T.h,m)&&T.G==3){try{var k=T.Da.g.parse(x)}catch{k=null}if(Array.isArray(k)&&k.length==3){var Y=k;if(Y[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<m.F)qs(T),Hs(T);else break e;Pu(T),ut(18)}}else T.za=Y[1],0<T.za-T.T&&37500>Y[2]&&T.F&&T.v==0&&!T.C&&(T.C=It(_(T.Za,T),6e3));if(1>=Xf(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else ss(T,11)}else if((m.K||T.g==m)&&qs(T),!M(x))for(Y=T.Da.g.parse(x),x=0;x<Y.length;x++){let Ye=Y[x];if(T.T=Ye[0],Ye=Ye[1],T.G==2)if(Ye[0]=="c"){T.K=Ye[1],T.ia=Ye[2];const Dn=Ye[3];Dn!=null&&(T.la=Dn,T.j.info("VER="+T.la));const On=Ye[4];On!=null&&(T.Aa=On,T.j.info("SVER="+T.Aa));const $s=Ye[5];$s!=null&&typeof $s=="number"&&0<$s&&(k=1.5*$s,T.L=k,T.j.info("backChannelRequestTimeoutMs_="+k)),k=T;const Ar=m.g;if(Ar){const no=Ar.g?Ar.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(no){var ne=k.h;ne.g||no.indexOf("spdy")==-1&&no.indexOf("quic")==-1&&no.indexOf("h2")==-1||(ne.j=ne.l,ne.g=new Set,ne.h&&(Ms(ne,ne.h),ne.h=null))}if(k.D){const as=Ar.g?Ar.g.getResponseHeader("X-HTTP-Session-Id"):null;as&&(k.ya=as,ct(k.I,k.D,as))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-m.F,T.j.info("Handshake RTT: "+T.R+"ms")),k=T;var me=m;if(k.qa=fh(k,k.J?k.ia:null,k.W),me.K){ti(k.h,me);var gt=me,dn=k.L;dn&&(gt.I=dn),gt.B&&(bi(gt),dr(gt)),k.g=me}else oh(k);0<T.i.length&&tl(T)}else Ye[0]!="stop"&&Ye[0]!="close"||ss(T,7);else T.G==3&&(Ye[0]=="stop"||Ye[0]=="close"?Ye[0]=="stop"?ss(T,7):Ou(T):Ye[0]!="noop"&&T.l&&T.l.ta(Ye),T.v=0)}}$t(4)}catch{}}var Fp=class{constructor(m,x){this.g=m,this.map=x}};function Au(m){this.l=m||10,f.PerformanceNavigationTiming?(m=f.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Cu(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function Xf(m){return m.h?1:m.g?m.g.size:0}function Ps(m,x){return m.h?m.h==x:m.g?m.g.has(x):!1}function Ms(m,x){m.g?m.g.add(x):m.h=x}function ti(m,x){m.h&&m.h==x?m.h=null:m.g&&m.g.has(x)&&m.g.delete(x)}Au.prototype.cancel=function(){if(this.i=pr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function pr(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let x=m.i;for(const T of m.g.values())x=x.concat(T.D);return x}return N(m.i)}function Zf(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(h(m)){for(var x=[],T=m.length,k=0;k<T;k++)x.push(m[k]);return x}x=[],T=0;for(k in m)x[T++]=m[k];return x}function Hp(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(h(m)||typeof m=="string"){var x=[];m=m.length;for(var T=0;T<m;T++)x.push(T);return x}x=[],T=0;for(const k in m)x[T++]=k;return x}}}function Yo(m,x){if(m.forEach&&typeof m.forEach=="function")m.forEach(x,void 0);else if(h(m)||typeof m=="string")Array.prototype.forEach.call(m,x,void 0);else for(var T=Hp(m),k=Zf(m),Y=k.length,ne=0;ne<Y;ne++)x.call(void 0,k[ne],T&&T[ne],m)}var Ru=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Wo(m,x){if(m){m=m.split("&");for(var T=0;T<m.length;T++){var k=m[T].indexOf("="),Y=null;if(0<=k){var ne=m[T].substring(0,k);Y=m[T].substring(k+1)}else ne=m[T];x(ne,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function ns(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof ns){this.h=m.h,Vs(this,m.j),this.o=m.o,this.g=m.g,Wa(this,m.s),this.l=m.l;var x=m.i,T=new Vi;T.i=x.i,x.g&&(T.g=new Map(x.g),T.h=x.h),Qo(this,T),this.m=m.m}else m&&(x=String(m).match(Ru))?(this.h=!1,Vs(this,x[1]||"",!0),this.o=Ls(x[2]||""),this.g=Ls(x[3]||"",!0),Wa(this,x[4]),this.l=Ls(x[5]||"",!0),Qo(this,x[6]||"",!0),this.m=Ls(x[7]||"")):(this.h=!1,this.i=new Vi(null,this.h))}ns.prototype.toString=function(){var m=[],x=this.j;x&&m.push(ni(x,Iu,!0),":");var T=this.g;return(T||x=="file")&&(m.push("//"),(x=this.o)&&m.push(ni(x,Iu,!0),"@"),m.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&m.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&m.push("/"),m.push(ni(T,T.charAt(0)=="/"?Nu:Jf,!0))),(T=this.i.toString())&&m.push("?",T),(T=this.m)&&m.push("#",ni(T,$p)),m.join("")};function Zt(m){return new ns(m)}function Vs(m,x,T){m.j=T?Ls(x,!0):x,m.j&&(m.j=m.j.replace(/:$/,""))}function Wa(m,x){if(x){if(x=Number(x),isNaN(x)||0>x)throw Error("Bad port number "+x);m.s=x}else m.s=null}function Qo(m,x,T){x instanceof Vi?(m.i=x,eh(m.i,m.h)):(T||(x=ni(x,Gp)),m.i=new Vi(x,m.h))}function ct(m,x,T){m.i.set(x,T)}function Qa(m){return ct(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function Ls(m,x){return m?x?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function ni(m,x,T){return typeof m=="string"?(m=encodeURI(m).replace(x,qp),T&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function qp(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var Iu=/[#\/\?@]/g,Jf=/[#\?:]/g,Nu=/[#\?]/g,Gp=/[#\?@]/g,$p=/#/g;function Vi(m,x){this.h=this.g=null,this.i=m||null,this.j=!!x}function kn(m){m.g||(m.g=new Map,m.h=0,m.i&&Wo(m.i,function(x,T){m.add(decodeURIComponent(x.replace(/\+/g," ")),T)}))}t=Vi.prototype,t.add=function(m,x){kn(this),this.i=null,m=zr(this,m);var T=this.g.get(m);return T||this.g.set(m,T=[]),T.push(x),this.h+=1,this};function Xo(m,x){kn(m),x=zr(m,x),m.g.has(x)&&(m.i=null,m.h-=m.g.get(x).length,m.g.delete(x))}function Zo(m,x){return kn(m),x=zr(m,x),m.g.has(x)}t.forEach=function(m,x){kn(this),this.g.forEach(function(T,k){T.forEach(function(Y){m.call(x,Y,k,this)},this)},this)},t.na=function(){kn(this);const m=Array.from(this.g.values()),x=Array.from(this.g.keys()),T=[];for(let k=0;k<x.length;k++){const Y=m[k];for(let ne=0;ne<Y.length;ne++)T.push(x[k])}return T},t.V=function(m){kn(this);let x=[];if(typeof m=="string")Zo(this,m)&&(x=x.concat(this.g.get(zr(this,m))));else{m=Array.from(this.g.values());for(let T=0;T<m.length;T++)x=x.concat(m[T])}return x},t.set=function(m,x){return kn(this),this.i=null,m=zr(this,m),Zo(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[x]),this.h+=1,this},t.get=function(m,x){return m?(m=this.V(m),0<m.length?String(m[0]):x):x};function rs(m,x,T){Xo(m,x),0<T.length&&(m.i=null,m.g.set(zr(m,x),N(T)),m.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],x=Array.from(this.g.keys());for(var T=0;T<x.length;T++){var k=x[T];const ne=encodeURIComponent(String(k)),me=this.V(k);for(k=0;k<me.length;k++){var Y=ne;me[k]!==""&&(Y+="="+encodeURIComponent(String(me[k]))),m.push(Y)}}return this.i=m.join("&")};function zr(m,x){return x=String(x),m.j&&(x=x.toLowerCase()),x}function eh(m,x){x&&!m.j&&(kn(m),m.i=null,m.g.forEach(function(T,k){var Y=k.toLowerCase();k!=Y&&(Xo(this,k),rs(this,Y,T))},m)),m.j=x}function ku(m,x){const T=new In;if(f.Image){const k=new Image;k.onload=E(Sr,T,"TestLoadImage: loaded",!0,x,k),k.onerror=E(Sr,T,"TestLoadImage: error",!1,x,k),k.onabort=E(Sr,T,"TestLoadImage: abort",!1,x,k),k.ontimeout=E(Sr,T,"TestLoadImage: timeout",!1,x,k),f.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=m}else x(!1)}function th(m,x){const T=new In,k=new AbortController,Y=setTimeout(()=>{k.abort(),Sr(T,"TestPingServer: timeout",!1,x)},1e4);fetch(m,{signal:k.signal}).then(ne=>{clearTimeout(Y),ne.ok?Sr(T,"TestPingServer: ok",!0,x):Sr(T,"TestPingServer: server error",!1,x)}).catch(()=>{clearTimeout(Y),Sr(T,"TestPingServer: error",!1,x)})}function Sr(m,x,T,k,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),k(T)}catch{}}function xi(){this.g=new ve}function Du(m,x,T){const k=T||"";try{Yo(m,function(Y,ne){let me=Y;d(Y)&&(me=ue(Y)),x.push(k+ne+"="+encodeURIComponent(me))})}catch(Y){throw x.push(k+"type="+encodeURIComponent("_badmap")),Y}}function Li(m){this.l=m.Ub||null,this.j=m.eb||!1}C(Li,ge),Li.prototype.g=function(){return new Br(this.l,this.j)},Li.prototype.i=(function(m){return function(){return m}})({});function Br(m,x){Fe.call(this),this.D=m,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(Br,Fe),t=Br.prototype,t.open=function(m,x){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=x,this.readyState=1,Us(this)},t.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const x={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(x.body=m),(this.D||f).fetch(new Request(this.A,x)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ui(this)),this.readyState=0},t.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,Us(this)),this.g&&(this.readyState=3,Us(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Jo(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function Jo(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}t.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var x=m.value?m.value:new Uint8Array(0);(x=this.v.decode(x,{stream:!m.done}))&&(this.response=this.responseText+=x)}m.done?Ui(this):Us(this),this.readyState==3&&Jo(this)}},t.Ra=function(m){this.g&&(this.response=this.responseText=m,Ui(this))},t.Qa=function(m){this.g&&(this.response=m,Ui(this))},t.ga=function(){this.g&&Ui(this)};function Ui(m){m.readyState=4,m.l=null,m.j=null,m.v=null,Us(m)}t.setRequestHeader=function(m,x){this.u.append(m,x)},t.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],x=this.h.entries();for(var T=x.next();!T.done;)T=T.value,m.push(T[0]+": "+T[1]),T=x.next();return m.join(`\r
`)};function Us(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(Br.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function Xa(m){let x="";return H(m,function(T,k){x+=k,x+=":",x+=T,x+=`\r
`}),x}function zs(m,x,T){e:{for(k in T){var k=!1;break e}k=!0}k||(T=Xa(T),typeof m=="string"?T!=null&&encodeURIComponent(String(T)):ct(m,x,T))}function Vt(m){Fe.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(Vt,Fe);var tr=/^https?$/i,is=["POST","PUT"];t=Vt.prototype,t.Ha=function(m){this.J=m},t.ea=function(m,x,T,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);x=x?x.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Re.g(),this.v=this.o?Je(this.o):Je(Re),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(x,String(m),!0),this.B=!1}catch(ne){Za(this,ne);return}if(m=T||"",T=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var Y in k)T.set(Y,k[Y]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const ne of k.keys())T.set(ne,k.get(ne));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(T.keys()).find(ne=>ne.toLowerCase()=="content-type"),Y=f.FormData&&m instanceof f.FormData,!(0<=Array.prototype.indexOf.call(is,x,void 0))||k||Y||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ne,me]of T)this.g.setRequestHeader(ne,me);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{el(this),this.u=!0,this.g.send(m),this.u=!1}catch(ne){Za(this,ne)}};function Za(m,x){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=x,m.m=5,Bs(m),Fs(m)}function Bs(m){m.A||(m.A=!0,Ot(m,"complete"),Ot(m,"error"))}t.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,Ot(this,"complete"),Ot(this,"abort"),Fs(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Fs(this,!0)),Vt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?nh(this):this.bb())},t.bb=function(){nh(this)};function nh(m){if(m.h&&typeof u<"u"&&(!m.v[1]||gr(m)!=4||m.Z()!=2)){if(m.u&&gr(m)==4)Gt(m.Ea,0,m);else if(Ot(m,"readystatechange"),gr(m)==4){m.h=!1;try{const me=m.Z();e:switch(me){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break e;default:x=!1}var T;if(!(T=x)){var k;if(k=me===0){var Y=String(m.D).match(Ru)[1]||null;!Y&&f.self&&f.self.location&&(Y=f.self.location.protocol.slice(0,-1)),k=!tr.test(Y?Y.toLowerCase():"")}T=k}if(T)Ot(m,"complete"),Ot(m,"success");else{m.m=6;try{var ne=2<gr(m)?m.g.statusText:""}catch{ne=""}m.l=ne+" ["+m.Z()+"]",Bs(m)}}finally{Fs(m)}}}}function Fs(m,x){if(m.g){el(m);const T=m.g,k=m.v[0]?()=>{}:null;m.g=null,m.v=null,x||Ot(m,"ready");try{T.onreadystatechange=k}catch{}}}function el(m){m.I&&(f.clearTimeout(m.I),m.I=null)}t.isActive=function(){return!!this.g};function gr(m){return m.g?m.g.readyState:0}t.Z=function(){try{return 2<gr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(m){if(this.g){var x=this.g.responseText;return m&&x.indexOf(m)==0&&(x=x.substring(m.length)),ye(x)}};function Ja(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function rh(m){const x={};m=(m.g&&2<=gr(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<m.length;k++){if(M(m[k]))continue;var T=V(m[k]);const Y=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const ne=x[Y]||[];x[Y]=ne,ne.push(T)}A(x,function(k){return k.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function eo(m,x,T){return T&&T.internalChannelParams&&T.internalChannelParams[m]||x}function ih(m){this.Aa=0,this.i=[],this.j=new In,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=eo("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=eo("baseRetryDelayMs",5e3,m),this.cb=eo("retryDelaySeedMs",1e4,m),this.Wa=eo("forwardChannelMaxRetries",2,m),this.wa=eo("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new Au(m&&m.concurrentRequestLimit),this.Da=new xi,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=ih.prototype,t.la=8,t.G=1,t.connect=function(m,x,T,k){ut(0),this.W=m,this.H=x||{},T&&k!==void 0&&(this.H.OSID=T,this.H.OAID=k),this.F=this.X,this.I=fh(this,null,this.W),tl(this)};function Ou(m){if(sh(m),m.G==3){var x=m.U++,T=Zt(m.I);if(ct(T,"SID",m.K),ct(T,"RID",x),ct(T,"TYPE","terminate"),to(m,T),x=new Mt(m,m.j,x),x.L=2,x.v=Qa(Zt(T)),T=!1,f.navigator&&f.navigator.sendBeacon)try{T=f.navigator.sendBeacon(x.v.toString(),"")}catch{}!T&&f.Image&&(new Image().src=x.v,T=!0),T||(x.g=hh(x.j,null),x.g.ea(x.v)),x.F=Date.now(),dr(x)}Vu(m)}function Hs(m){m.g&&(Mu(m),m.g.cancel(),m.g=null)}function sh(m){Hs(m),m.u&&(f.clearTimeout(m.u),m.u=null),qs(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&f.clearTimeout(m.s),m.s=null)}function tl(m){if(!Cu(m.h)&&!m.s){m.s=!0;var x=m.Ga;se||Ee(),fe||(se(),fe=!0),we.add(x,m),m.B=0}}function Kp(m,x){return Xf(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=x.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=It(_(m.Ga,m,x),ch(m,m.B)),m.B++,!0)}t.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const Y=new Mt(this,this.j,m);let ne=this.o;if(this.S&&(ne?(ne=S(ne),L(ne,this.S)):ne=this.S),this.m!==null||this.O||(Y.H=ne,ne=null),this.P)e:{for(var x=0,T=0;T<this.i.length;T++){t:{var k=this.i[T];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break t}k=void 0}if(k===void 0)break;if(x+=k,4096<x){x=T;break e}if(x===4096||T===this.i.length-1){x=T+1;break e}}x=1e3}else x=1e3;x=ju(this,Y,x),T=Zt(this.I),ct(T,"RID",m),ct(T,"CVER",22),this.D&&ct(T,"X-HTTP-Session-Id",this.D),to(this,T),ne&&(this.O?x="headers="+encodeURIComponent(String(Xa(ne)))+"&"+x:this.m&&zs(T,this.m,ne)),Ms(this.h,Y),this.Ua&&ct(T,"TYPE","init"),this.P?(ct(T,"$req",x),ct(T,"SID","null"),Y.T=!0,Jn(Y,T,null)):Jn(Y,T,x),this.G=2}}else this.G==3&&(m?ah(this,m):this.i.length==0||Cu(this.h)||ah(this))};function ah(m,x){var T;x?T=x.l:T=m.U++;const k=Zt(m.I);ct(k,"SID",m.K),ct(k,"RID",T),ct(k,"AID",m.T),to(m,k),m.m&&m.o&&zs(k,m.m,m.o),T=new Mt(m,m.j,T,m.B+1),m.m===null&&(T.H=m.o),x&&(m.i=x.D.concat(m.i)),x=ju(m,T,1e3),T.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),Ms(m.h,T),Jn(T,k,x)}function to(m,x){m.H&&H(m.H,function(T,k){ct(x,k,T)}),m.l&&Yo({},function(T,k){ct(x,k,T)})}function ju(m,x,T){T=Math.min(m.i.length,T);var k=m.l?_(m.l.Na,m.l,m):null;e:{var Y=m.i;let ne=-1;for(;;){const me=["count="+T];ne==-1?0<T?(ne=Y[0].g,me.push("ofs="+ne)):ne=0:me.push("ofs="+ne);let gt=!0;for(let dn=0;dn<T;dn++){let Ye=Y[dn].g;const Dn=Y[dn].map;if(Ye-=ne,0>Ye)ne=Math.max(0,Y[dn].g-100),gt=!1;else try{Du(Dn,me,"req"+Ye+"_")}catch{k&&k(Dn)}}if(gt){k=me.join("&");break e}}}return m=m.i.splice(0,T),x.D=m,k}function oh(m){if(!m.g&&!m.u){m.Y=1;var x=m.Fa;se||Ee(),fe||(se(),fe=!0),we.add(x,m),m.v=0}}function Pu(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=It(_(m.Fa,m),ch(m,m.v)),m.v++,!0)}t.Fa=function(){if(this.u=null,lh(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=It(_(this.ab,this),m)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ut(10),Hs(this),lh(this))};function Mu(m){m.A!=null&&(f.clearTimeout(m.A),m.A=null)}function lh(m){m.g=new Mt(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var x=Zt(m.qa);ct(x,"RID","rpc"),ct(x,"SID",m.K),ct(x,"AID",m.T),ct(x,"CI",m.F?"0":"1"),!m.F&&m.ja&&ct(x,"TO",m.ja),ct(x,"TYPE","xmlhttp"),to(m,x),m.m&&m.o&&zs(x,m.m,m.o),m.L&&(m.g.I=m.L);var T=m.g;m=m.ia,T.L=1,T.v=Qa(Zt(x)),T.m=null,T.P=!0,er(T,m)}t.Za=function(){this.C!=null&&(this.C=null,Hs(this),Pu(this),ut(19))};function qs(m){m.C!=null&&(f.clearTimeout(m.C),m.C=null)}function uh(m,x){var T=null;if(m.g==x){qs(m),Mu(m),m.g=null;var k=2}else if(Ps(m.h,x))T=x.D,ti(m.h,x),k=1;else return;if(m.G!=0){if(x.o)if(k==1){T=x.m?x.m.length:0,x=Date.now()-x.F;var Y=m.B;k=Qt(),Ot(k,new Un(k,T)),tl(m)}else oh(m);else if(Y=x.s,Y==3||Y==0&&0<x.X||!(k==1&&Kp(m,x)||k==2&&Pu(m)))switch(T&&0<T.length&&(x=m.h,x.i=x.i.concat(T)),Y){case 1:ss(m,5);break;case 4:ss(m,10);break;case 3:ss(m,6);break;default:ss(m,2)}}}function ch(m,x){let T=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(T*=2),T*x}function ss(m,x){if(m.j.info("Error code "+x),x==2){var T=_(m.fb,m),k=m.Xa;const Y=!k;k=new ns(k||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Vs(k,"https"),Qa(k),Y?ku(k.toString(),T):th(k.toString(),T)}else ut(2);m.G=0,m.l&&m.l.sa(x),Vu(m),sh(m)}t.fb=function(m){m?(this.j.info("Successfully pinged google.com"),ut(2)):(this.j.info("Failed to ping google.com"),ut(1))};function Vu(m){if(m.G=0,m.ka=[],m.l){const x=pr(m.h);(x.length!=0||m.i.length!=0)&&(j(m.ka,x),j(m.ka,m.i),m.h.i.length=0,N(m.i),m.i.length=0),m.l.ra()}}function fh(m,x,T){var k=T instanceof ns?Zt(T):new ns(T);if(k.g!="")x&&(k.g=x+"."+k.g),Wa(k,k.s);else{var Y=f.location;k=Y.protocol,x=x?x+"."+Y.hostname:Y.hostname,Y=+Y.port;var ne=new ns(null);k&&Vs(ne,k),x&&(ne.g=x),Y&&Wa(ne,Y),T&&(ne.l=T),k=ne}return T=m.D,x=m.ya,T&&x&&ct(k,T,x),ct(k,"VER",m.la),to(m,k),k}function hh(m,x,T){if(x&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return x=m.Ca&&!m.pa?new Vt(new Li({eb:T})):new Vt(m.pa),x.Ha(m.J),x}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function dh(){}t=dh.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function nl(){}nl.prototype.g=function(m,x){return new vr(m,x)};function vr(m,x){Fe.call(this),this.g=new ih(x),this.l=m,this.h=x&&x.messageUrlParams||null,m=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(m?m["X-WebChannel-Content-Type"]=x.messageContentType:m={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.va&&(m?m["X-WebChannel-Client-Profile"]=x.va:m={"X-WebChannel-Client-Profile":x.va}),this.g.S=m,(m=x&&x.Sb)&&!M(m)&&(this.g.m=m),this.v=x&&x.supportsCrossDomainXhr||!1,this.u=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!M(x)&&(this.g.D=x,m=this.h,m!==null&&x in m&&(m=this.h,x in m&&delete m[x])),this.j=new Gs(this)}C(vr,Fe),vr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},vr.prototype.close=function(){Ou(this.g)},vr.prototype.o=function(m){var x=this.g;if(typeof m=="string"){var T={};T.__data__=m,m=T}else this.u&&(T={},T.__data__=ue(m),m=T);x.i.push(new Fp(x.Ya++,m)),x.G==3&&tl(x)},vr.prototype.N=function(){this.g.l=null,delete this.j,Ou(this.g),delete this.g,vr.aa.N.call(this)};function mh(m){et.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var x=m.__sm__;if(x){e:{for(const T in x){m=T;break e}m=void 0}(this.i=m)&&(m=this.i,x=x!==null&&m in x?x[m]:void 0),this.data=x}else this.data=m}C(mh,et);function ph(){Ge.call(this),this.status=1}C(ph,Ge);function Gs(m){this.g=m}C(Gs,dh),Gs.prototype.ua=function(){Ot(this.g,"a")},Gs.prototype.ta=function(m){Ot(this.g,new mh(m))},Gs.prototype.sa=function(m){Ot(this.g,new ph)},Gs.prototype.ra=function(){Ot(this.g,"b")},nl.prototype.createWebChannel=nl.prototype.g,vr.prototype.send=vr.prototype.o,vr.prototype.open=vr.prototype.m,vr.prototype.close=vr.prototype.close,X2=function(){return new nl},Q2=function(){return Qt()},W2=ke,Uy={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},_t.NO_ERROR=0,_t.TIMEOUT=8,_t.HTTP_ERROR=6,Jd=_t,he.COMPLETE="complete",Y2=he,Le.EventType=Ce,Ce.OPEN="a",Ce.CLOSE="b",Ce.ERROR="c",Ce.MESSAGE="d",Fe.prototype.listen=Fe.prototype.K,kc=Le,Vt.prototype.listenOnce=Vt.prototype.L,Vt.prototype.getLastError=Vt.prototype.Ka,Vt.prototype.getLastErrorCode=Vt.prototype.Ba,Vt.prototype.getStatus=Vt.prototype.Z,Vt.prototype.getResponseJson=Vt.prototype.Oa,Vt.prototype.getResponseText=Vt.prototype.oa,Vt.prototype.send=Vt.prototype.ea,Vt.prototype.setWithCredentials=Vt.prototype.Ha,K2=Vt}).apply(typeof _d<"u"?_d:typeof self<"u"?self:typeof window<"u"?window:{});const z1="@firebase/firestore",B1="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}or.UNAUTHENTICATED=new or(null),or.GOOGLE_CREDENTIALS=new or("google-credentials-uid"),or.FIRST_PARTY=new or("first-party-uid"),or.MOCK_USER=new or("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gu="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uo=new F0("@firebase/firestore");function Ml(){return Uo.logLevel}function _e(t,...e){if(Uo.logLevel<=rt.DEBUG){const n=e.map(tb);Uo.debug(`Firestore (${gu}): ${t}`,...n)}}function ks(t,...e){if(Uo.logLevel<=rt.ERROR){const n=e.map(tb);Uo.error(`Firestore (${gu}): ${t}`,...n)}}function Da(t,...e){if(Uo.logLevel<=rt.WARN){const n=e.map(tb);Uo.warn(`Firestore (${gu}): ${t}`,...n)}}function tb(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ve(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,Z2(t,r,n)}function Z2(t,e,n){let r=`FIRESTORE (${gu}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ks(r),new Error(r)}function yt(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||Z2(e,s,r)}function Be(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const le={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class be extends ji{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class fM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(or.UNAUTHENTICATED)))}shutdown(){}}class hM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class dM{constructor(e){this.t=e,this.currentUser=or.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){yt(this.o===void 0,42304);let r=this.i;const s=h=>this.i!==r?(r=this.i,n(h)):Promise.resolve();let o=new Ia;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ia,e.enqueueRetryable((()=>s(this.currentUser)))};const u=()=>{const h=o;e.enqueueRetryable((async()=>{await h.promise,await s(this.currentUser)}))},f=h=>{_e("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((h=>f(h))),setTimeout((()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?f(h):(_e("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ia)}}),0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(_e("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(yt(typeof r.accessToken=="string",31837,{l:r}),new J2(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return yt(e===null||typeof e=="string",2055,{h:e}),new or(e)}}class mM{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=or.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class pM{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new mM(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(or.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class F1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class gM{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,_r(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){yt(this.o===void 0,3512);const r=o=>{o.error!=null&&_e("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.m;return this.m=o.token,_e("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>r(o)))};const s=o=>{_e("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>s(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?s(o):_e("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new F1(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(yt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new F1(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vM(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eC(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nb{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=vM(40);for(let o=0;o<s.length;++o)r.length<20&&s[o]<n&&(r+=e.charAt(s[o]%62))}return r}}function We(t,e){return t<e?-1:t>e?1:0}function zy(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),s=e.codePointAt(n);if(r!==s){if(r<128&&s<128)return We(r,s);{const o=eC(),u=yM(o.encode(H1(t,n)),o.encode(H1(e,n)));return u!==0?u:We(r,s)}}n+=r>65535?2:1}return We(t.length,e.length)}function H1(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function yM(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return We(t[n],e[n]);return We(t.length,e.length)}function nu(t,e,n){return t.length===e.length&&t.every(((r,s)=>n(r,e[s])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q1="__name__";class $i{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ve(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ve(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return $i.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof $i?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const o=$i.compareSegments(e.get(s),n.get(s));if(o!==0)return o}return We(e.length,n.length)}static compareSegments(e,n){const r=$i.isNumericId(e),s=$i.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?$i.extractNumericId(e).compare($i.extractNumericId(n)):zy(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ra.fromString(e.substring(4,e.length-2))}}class jt extends $i{construct(e,n,r){return new jt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new be(le.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((s=>s.length>0)))}return new jt(n)}static emptyPath(){return new jt([])}}const bM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yn extends $i{construct(e,n,r){return new Yn(e,n,r)}static isValidIdentifier(e){return bM.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===q1}static keyField(){return new Yn([q1])}static fromServerFormat(e){const n=[];let r="",s=0;const o=()=>{if(r.length===0)throw new be(le.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let u=!1;for(;s<e.length;){const f=e[s];if(f==="\\"){if(s+1===e.length)throw new be(le.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[s+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new be(le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,s+=2}else f==="`"?(u=!u,s++):f!=="."||u?(r+=f,s++):(o(),s++)}if(o(),u)throw new be(le.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Yn(n)}static emptyPath(){return new Yn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(e){this.path=e}static fromPath(e){return new Ne(jt.fromString(e))}static fromName(e){return new Ne(jt.fromString(e).popFirst(5))}static empty(){return new Ne(jt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&jt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return jt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ne(new jt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tC(t,e,n){if(!n)throw new be(le.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function _M(t,e,n,r){if(e===!0&&r===!0)throw new be(le.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function G1(t){if(!Ne.isDocumentKey(t))throw new be(le.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function $1(t){if(Ne.isDocumentKey(t))throw new be(le.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function nC(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function cp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ve(12329,{type:typeof t})}function Yi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new be(le.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=cp(t);throw new be(le.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _n(t,e){const n={typeString:t};return e&&(n.value=e),n}function Mf(t,e){if(!nC(t))throw new be(le.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const u=t[r];if(s&&typeof u!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(o!==void 0&&u!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new be(le.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K1=-62135596800,Y1=1e6;class Bt{static now(){return Bt.fromMillis(Date.now())}static fromDate(e){return Bt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Y1);return new Bt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new be(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new be(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<K1)throw new be(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new be(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Y1}_compareTo(e){return this.seconds===e.seconds?We(this.nanoseconds,e.nanoseconds):We(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Bt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Mf(e,Bt._jsonSchema))return new Bt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-K1;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Bt._jsonSchemaVersion="firestore/timestamp/1.0",Bt._jsonSchema={type:_n("string",Bt._jsonSchemaVersion),seconds:_n("number"),nanoseconds:_n("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{static fromTimestamp(e){return new Ue(e)}static min(){return new Ue(new Bt(0,0))}static max(){return new Ue(new Bt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mf=-1;function xM(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Ue.fromTimestamp(r===1e9?new Bt(n+1,0):new Bt(n,r));return new Oa(s,Ne.empty(),e)}function wM(t){return new Oa(t.readTime,t.key,mf)}class Oa{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Oa(Ue.min(),Ne.empty(),mf)}static max(){return new Oa(Ue.max(),Ne.empty(),mf)}}function EM(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ne.comparator(t.documentKey,e.documentKey),n!==0?n:We(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class SM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vu(t){if(t.code!==le.FAILED_PRECONDITION||t.message!==TM)throw t;_e("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ve(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ce(((r,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,s)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,s)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ce?n:ce.resolve(n)}catch(n){return ce.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ce.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ce.reject(n)}static resolve(e){return new ce(((n,r)=>{n(e)}))}static reject(e){return new ce(((n,r)=>{r(e)}))}static waitFor(e){return new ce(((n,r)=>{let s=0,o=0,u=!1;e.forEach((f=>{++s,f.next((()=>{++o,u&&o===s&&n()}),(h=>r(h)))})),u=!0,o===s&&n()}))}static or(e){let n=ce.resolve(!1);for(const r of e)n=n.next((s=>s?ce.resolve(s):r()));return n}static forEach(e,n){const r=[];return e.forEach(((s,o)=>{r.push(n.call(this,s,o))})),this.waitFor(r)}static mapArray(e,n){return new ce(((r,s)=>{const o=e.length,u=new Array(o);let f=0;for(let h=0;h<o;h++){const d=h;n(e[d]).next((g=>{u[d]=g,++f,f===o&&r(u)}),(g=>s(g)))}}))}static doWhile(e,n){return new ce(((r,s)=>{const o=()=>{e()===!0?n().next((()=>{o()}),s):r()};o()}))}}function AM(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function yu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fp{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this._e(r),this.ae=r=>n.writeSequenceNumber(r))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}fp.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rb=-1;function hp(t){return t==null}function Em(t){return t===0&&1/t==-1/0}function CM(t){return typeof t=="number"&&Number.isInteger(t)&&!Em(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rC="";function RM(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=W1(e)),e=IM(t.get(n),e);return W1(e)}function IM(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const o=t.charAt(s);switch(o){case"\0":n+="";break;case rC:n+="";break;default:n+=o}}return n}function W1(t){return t+rC+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q1(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function qa(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function iC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e,n){this.comparator=e,this.root=n||Kn.EMPTY}insert(e,n){return new Wt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Kn.BLACK,null,null))}remove(e){return new Wt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Kn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new xd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new xd(this.root,e,this.comparator,!1)}getReverseIterator(){return new xd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new xd(this.root,e,this.comparator,!0)}}class xd{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Kn{constructor(e,n,r,s,o){this.key=e,this.value=n,this.color=r??Kn.RED,this.left=s??Kn.EMPTY,this.right=o??Kn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,o){return new Kn(e??this.key,n??this.value,r??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const o=r(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,n,r),null):o===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Kn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Kn.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Kn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Kn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ve(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ve(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ve(27949);return e+(this.isRed()?0:1)}}Kn.EMPTY=null,Kn.RED=!0,Kn.BLACK=!1;Kn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ve(57766)}get value(){throw Ve(16141)}get color(){throw Ve(16727)}get left(){throw Ve(29726)}get right(){throw Ve(36894)}copy(e,n,r,s,o){return this}insert(e,n,r){return new Kn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e){this.comparator=e,this.data=new Wt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new X1(this.data.getIterator())}getIteratorFrom(e){return new X1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof An)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=r.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new An(this.comparator);return n.data=e,n}}class X1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(e){this.fields=e,e.sort(Yn.comparator)}static empty(){return new Wr([])}unionWith(e){let n=new An(Yn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Wr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return nu(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new sC("Invalid base64 string: "+o):o}})(e);return new Wn(n)}static fromUint8Array(e){const n=(function(s){let o="";for(let u=0;u<s.length;++u)o+=String.fromCharCode(s[u]);return o})(e);return new Wn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return We(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Wn.EMPTY_BYTE_STRING=new Wn("");const NM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ja(t){if(yt(!!t,39018),typeof t=="string"){let e=0;const n=NM.exec(t);if(yt(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:cn(t.seconds),nanos:cn(t.nanos)}}function cn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Pa(t){return typeof t=="string"?Wn.fromBase64String(t):Wn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aC="server_timestamp",oC="__type__",lC="__previous_value__",uC="__local_write_time__";function ib(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[oC])===null||n===void 0?void 0:n.stringValue)===aC}function dp(t){const e=t.mapValue.fields[lC];return ib(e)?dp(e):e}function pf(t){const e=ja(t.mapValue.fields[uC].timestampValue);return new Bt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kM{constructor(e,n,r,s,o,u,f,h,d,g){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.longPollingOptions=h,this.useFetchStreams=d,this.isUsingEmulator=g}}const Tm="(default)";class gf{constructor(e,n){this.projectId=e,this.database=n||Tm}static empty(){return new gf("","")}get isDefaultDatabase(){return this.database===Tm}isEqual(e){return e instanceof gf&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cC="__type__",DM="__max__",wd={mapValue:{}},fC="__vector__",Sm="value";function Ma(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ib(t)?4:jM(t)?9007199254740991:OM(t)?10:11:Ve(28295,{value:t})}function ts(t,e){if(t===e)return!0;const n=Ma(t);if(n!==Ma(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return pf(t).isEqual(pf(e));case 3:return(function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const u=ja(s.timestampValue),f=ja(o.timestampValue);return u.seconds===f.seconds&&u.nanos===f.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(s,o){return Pa(s.bytesValue).isEqual(Pa(o.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(s,o){return cn(s.geoPointValue.latitude)===cn(o.geoPointValue.latitude)&&cn(s.geoPointValue.longitude)===cn(o.geoPointValue.longitude)})(t,e);case 2:return(function(s,o){if("integerValue"in s&&"integerValue"in o)return cn(s.integerValue)===cn(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const u=cn(s.doubleValue),f=cn(o.doubleValue);return u===f?Em(u)===Em(f):isNaN(u)&&isNaN(f)}return!1})(t,e);case 9:return nu(t.arrayValue.values||[],e.arrayValue.values||[],ts);case 10:case 11:return(function(s,o){const u=s.mapValue.fields||{},f=o.mapValue.fields||{};if(Q1(u)!==Q1(f))return!1;for(const h in u)if(u.hasOwnProperty(h)&&(f[h]===void 0||!ts(u[h],f[h])))return!1;return!0})(t,e);default:return Ve(52216,{left:t})}}function vf(t,e){return(t.values||[]).find((n=>ts(n,e)))!==void 0}function ru(t,e){if(t===e)return 0;const n=Ma(t),r=Ma(e);if(n!==r)return We(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return We(t.booleanValue,e.booleanValue);case 2:return(function(o,u){const f=cn(o.integerValue||o.doubleValue),h=cn(u.integerValue||u.doubleValue);return f<h?-1:f>h?1:f===h?0:isNaN(f)?isNaN(h)?0:-1:1})(t,e);case 3:return Z1(t.timestampValue,e.timestampValue);case 4:return Z1(pf(t),pf(e));case 5:return zy(t.stringValue,e.stringValue);case 6:return(function(o,u){const f=Pa(o),h=Pa(u);return f.compareTo(h)})(t.bytesValue,e.bytesValue);case 7:return(function(o,u){const f=o.split("/"),h=u.split("/");for(let d=0;d<f.length&&d<h.length;d++){const g=We(f[d],h[d]);if(g!==0)return g}return We(f.length,h.length)})(t.referenceValue,e.referenceValue);case 8:return(function(o,u){const f=We(cn(o.latitude),cn(u.latitude));return f!==0?f:We(cn(o.longitude),cn(u.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return J1(t.arrayValue,e.arrayValue);case 10:return(function(o,u){var f,h,d,g;const b=o.fields||{},_=u.fields||{},E=(f=b[Sm])===null||f===void 0?void 0:f.arrayValue,C=(h=_[Sm])===null||h===void 0?void 0:h.arrayValue,N=We(((d=E==null?void 0:E.values)===null||d===void 0?void 0:d.length)||0,((g=C==null?void 0:C.values)===null||g===void 0?void 0:g.length)||0);return N!==0?N:J1(E,C)})(t.mapValue,e.mapValue);case 11:return(function(o,u){if(o===wd.mapValue&&u===wd.mapValue)return 0;if(o===wd.mapValue)return 1;if(u===wd.mapValue)return-1;const f=o.fields||{},h=Object.keys(f),d=u.fields||{},g=Object.keys(d);h.sort(),g.sort();for(let b=0;b<h.length&&b<g.length;++b){const _=zy(h[b],g[b]);if(_!==0)return _;const E=ru(f[h[b]],d[g[b]]);if(E!==0)return E}return We(h.length,g.length)})(t.mapValue,e.mapValue);default:throw Ve(23264,{le:n})}}function Z1(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return We(t,e);const n=ja(t),r=ja(e),s=We(n.seconds,r.seconds);return s!==0?s:We(n.nanos,r.nanos)}function J1(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const o=ru(n[s],r[s]);if(o)return o}return We(n.length,r.length)}function iu(t){return By(t)}function By(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=ja(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Pa(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Ne.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",s=!0;for(const o of n.values||[])s?s=!1:r+=",",r+=By(o);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let s="{",o=!0;for(const u of r)o?o=!1:s+=",",s+=`${u}:${By(n.fields[u])}`;return s+"}"})(t.mapValue):Ve(61005,{value:t})}function em(t){switch(Ma(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=dp(t);return e?16+em(e):16;case 5:return 2*t.stringValue.length;case 6:return Pa(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((s,o)=>s+em(o)),0)})(t.arrayValue);case 10:case 11:return(function(r){let s=0;return qa(r.fields,((o,u)=>{s+=o.length+em(u)})),s})(t.mapValue);default:throw Ve(13486,{value:t})}}function eT(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Fy(t){return!!t&&"integerValue"in t}function sb(t){return!!t&&"arrayValue"in t}function tT(t){return!!t&&"nullValue"in t}function nT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function tm(t){return!!t&&"mapValue"in t}function OM(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[cC])===null||n===void 0?void 0:n.stringValue)===fC}function qc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return qa(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=qc(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=qc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function jM(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===DM}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(e){this.value=e}static empty(){return new Or({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!tm(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=qc(n)}setAll(e){let n=Yn.emptyPath(),r={},s=[];e.forEach(((u,f)=>{if(!n.isImmediateParentOf(f)){const h=this.getFieldsMap(n);this.applyChanges(h,r,s),r={},s=[],n=f.popLast()}u?r[f.lastSegment()]=qc(u):s.push(f.lastSegment())}));const o=this.getFieldsMap(n);this.applyChanges(o,r,s)}delete(e){const n=this.field(e.popLast());tm(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ts(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];tm(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){qa(n,((s,o)=>e[s]=o));for(const s of r)delete e[s]}clone(){return new Or(qc(this.value))}}function hC(t){const e=[];return qa(t.fields,((n,r)=>{const s=new Yn([n]);if(tm(r)){const o=hC(r.mapValue).fields;if(o.length===0)e.push(s);else for(const u of o)e.push(s.child(u))}else e.push(s)})),new Wr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(e,n,r,s,o,u,f){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=o,this.data=u,this.documentState=f}static newInvalidDocument(e){return new lr(e,0,Ue.min(),Ue.min(),Ue.min(),Or.empty(),0)}static newFoundDocument(e,n,r,s){return new lr(e,1,n,Ue.min(),r,s,0)}static newNoDocument(e,n){return new lr(e,2,n,Ue.min(),Ue.min(),Or.empty(),0)}static newUnknownDocument(e,n){return new lr(e,3,n,Ue.min(),Ue.min(),Or.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ue.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Or.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Or.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ue.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof lr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new lr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(e,n){this.position=e,this.inclusive=n}}function rT(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const o=e[s],u=t.position[s];if(o.field.isKeyField()?r=Ne.comparator(Ne.fromName(u.referenceValue),n.key):r=ru(u,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function iT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ts(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm{constructor(e,n="asc"){this.field=e,this.dir=n}}function PM(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{}class bn extends dC{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new VM(e,n,r):n==="array-contains"?new zM(e,r):n==="in"?new BM(e,r):n==="not-in"?new FM(e,r):n==="array-contains-any"?new HM(e,r):new bn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new LM(e,r):new UM(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ru(n,this.value)):n!==null&&Ma(this.value)===Ma(n)&&this.matchesComparison(ru(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ve(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Oi extends dC{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new Oi(e,n)}matches(e){return mC(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function mC(t){return t.op==="and"}function pC(t){return MM(t)&&mC(t)}function MM(t){for(const e of t.filters)if(e instanceof Oi)return!1;return!0}function Hy(t){if(t instanceof bn)return t.field.canonicalString()+t.op.toString()+iu(t.value);if(pC(t))return t.filters.map((e=>Hy(e))).join(",");{const e=t.filters.map((n=>Hy(n))).join(",");return`${t.op}(${e})`}}function gC(t,e){return t instanceof bn?(function(r,s){return s instanceof bn&&r.op===s.op&&r.field.isEqual(s.field)&&ts(r.value,s.value)})(t,e):t instanceof Oi?(function(r,s){return s instanceof Oi&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce(((o,u,f)=>o&&gC(u,s.filters[f])),!0):!1})(t,e):void Ve(19439)}function vC(t){return t instanceof bn?(function(n){return`${n.field.canonicalString()} ${n.op} ${iu(n.value)}`})(t):t instanceof Oi?(function(n){return n.op.toString()+" {"+n.getFilters().map(vC).join(" ,")+"}"})(t):"Filter"}class VM extends bn{constructor(e,n,r){super(e,n,r),this.key=Ne.fromName(r.referenceValue)}matches(e){const n=Ne.comparator(e.key,this.key);return this.matchesComparison(n)}}class LM extends bn{constructor(e,n){super(e,"in",n),this.keys=yC("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class UM extends bn{constructor(e,n){super(e,"not-in",n),this.keys=yC("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function yC(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map((r=>Ne.fromName(r.referenceValue)))}class zM extends bn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return sb(n)&&vf(n.arrayValue,this.value)}}class BM extends bn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&vf(this.value.arrayValue,n)}}class FM extends bn{constructor(e,n){super(e,"not-in",n)}matches(e){if(vf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!vf(this.value.arrayValue,n)}}class HM extends bn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!sb(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>vf(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qM{constructor(e,n=null,r=[],s=[],o=null,u=null,f=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=o,this.startAt=u,this.endAt=f,this.Pe=null}}function sT(t,e=null,n=[],r=[],s=null,o=null,u=null){return new qM(t,e,n,r,s,o,u)}function ab(t){const e=Be(t);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Hy(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(o){return o.field.canonicalString()+o.dir})(r))).join(","),hp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>iu(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>iu(r))).join(",")),e.Pe=n}return e.Pe}function ob(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!PM(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!gC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!iT(t.startAt,e.startAt)&&iT(t.endAt,e.endAt)}function qy(t){return Ne.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{constructor(e,n=null,r=[],s=[],o=null,u="F",f=null,h=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=o,this.limitType=u,this.startAt=f,this.endAt=h,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function GM(t,e,n,r,s,o,u,f){return new Vf(t,e,n,r,s,o,u,f)}function mp(t){return new Vf(t)}function aT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function bC(t){return t.collectionGroup!==null}function Gc(t){const e=Be(t);if(e.Te===null){e.Te=[];const n=new Set;for(const o of e.explicitOrderBy)e.Te.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let f=new An(Yn.comparator);return u.filters.forEach((h=>{h.getFlattenedFilters().forEach((d=>{d.isInequality()&&(f=f.add(d.field))}))})),f})(e).forEach((o=>{n.has(o.canonicalString())||o.isKeyField()||e.Te.push(new Cm(o,r))})),n.has(Yn.keyField().canonicalString())||e.Te.push(new Cm(Yn.keyField(),r))}return e.Te}function Wi(t){const e=Be(t);return e.Ie||(e.Ie=$M(e,Gc(t))),e.Ie}function $M(t,e){if(t.limitType==="F")return sT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((s=>{const o=s.dir==="desc"?"asc":"desc";return new Cm(s.field,o)}));const n=t.endAt?new Am(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Am(t.startAt.position,t.startAt.inclusive):null;return sT(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Gy(t,e){const n=t.filters.concat([e]);return new Vf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function $y(t,e,n){return new Vf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function pp(t,e){return ob(Wi(t),Wi(e))&&t.limitType===e.limitType}function _C(t){return`${ab(Wi(t))}|lt:${t.limitType}`}function Vl(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((s=>vC(s))).join(", ")}]`),hp(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((s=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(s))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((s=>iu(s))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((s=>iu(s))).join(",")),`Target(${r})`})(Wi(t))}; limitType=${t.limitType})`}function gp(t,e){return e.isFoundDocument()&&(function(r,s){const o=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Ne.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(t,e)&&(function(r,s){for(const o of Gc(r))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0})(t,e)&&(function(r,s){for(const o of r.filters)if(!o.matches(s))return!1;return!0})(t,e)&&(function(r,s){return!(r.startAt&&!(function(u,f,h){const d=rT(u,f,h);return u.inclusive?d<=0:d<0})(r.startAt,Gc(r),s)||r.endAt&&!(function(u,f,h){const d=rT(u,f,h);return u.inclusive?d>=0:d>0})(r.endAt,Gc(r),s))})(t,e)}function KM(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function xC(t){return(e,n)=>{let r=!1;for(const s of Gc(t)){const o=YM(s,e,n);if(o!==0)return o;r=r||s.field.isKeyField()}return 0}}function YM(t,e,n){const r=t.field.isKeyField()?Ne.comparator(e.key,n.key):(function(o,u,f){const h=u.data.field(o),d=f.data.field(o);return h!==null&&d!==null?ru(h,d):Ve(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ve(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,o]of r)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){qa(this.inner,((n,r)=>{for(const[s,o]of r)e(s,o)}))}isEmpty(){return iC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WM=new Wt(Ne.comparator);function Ds(){return WM}const wC=new Wt(Ne.comparator);function Dc(...t){let e=wC;for(const n of t)e=e.insert(n.key,n);return e}function EC(t){let e=wC;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Ro(){return $c()}function TC(){return $c()}function $c(){return new Go((t=>t.toString()),((t,e)=>t.isEqual(e)))}const QM=new Wt(Ne.comparator),XM=new An(Ne.comparator);function it(...t){let e=XM;for(const n of t)e=e.add(n);return e}const ZM=new An(We);function JM(){return ZM}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lb(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Em(e)?"-0":e}}function SC(t){return{integerValue:""+t}}function eV(t,e){return CM(e)?SC(e):lb(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp{constructor(){this._=void 0}}function tV(t,e,n){return t instanceof Rm?(function(s,o){const u={fields:{[oC]:{stringValue:aC},[uC]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&ib(o)&&(o=dp(o)),o&&(u.fields[lC]=o),{mapValue:u}})(n,e):t instanceof yf?CC(t,e):t instanceof bf?RC(t,e):(function(s,o){const u=AC(s,o),f=oT(u)+oT(s.Ee);return Fy(u)&&Fy(s.Ee)?SC(f):lb(s.serializer,f)})(t,e)}function nV(t,e,n){return t instanceof yf?CC(t,e):t instanceof bf?RC(t,e):n}function AC(t,e){return t instanceof Im?(function(r){return Fy(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}class Rm extends vp{}class yf extends vp{constructor(e){super(),this.elements=e}}function CC(t,e){const n=IC(e);for(const r of t.elements)n.some((s=>ts(s,r)))||n.push(r);return{arrayValue:{values:n}}}class bf extends vp{constructor(e){super(),this.elements=e}}function RC(t,e){let n=IC(e);for(const r of t.elements)n=n.filter((s=>!ts(s,r)));return{arrayValue:{values:n}}}class Im extends vp{constructor(e,n){super(),this.serializer=e,this.Ee=n}}function oT(t){return cn(t.integerValue||t.doubleValue)}function IC(t){return sb(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function rV(t,e){return t.field.isEqual(e.field)&&(function(r,s){return r instanceof yf&&s instanceof yf||r instanceof bf&&s instanceof bf?nu(r.elements,s.elements,ts):r instanceof Im&&s instanceof Im?ts(r.Ee,s.Ee):r instanceof Rm&&s instanceof Rm})(t.transform,e.transform)}class iV{constructor(e,n){this.version=e,this.transformResults=n}}class Di{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Di}static exists(e){return new Di(void 0,e)}static updateTime(e){return new Di(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function nm(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class yp{}function NC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new ub(t.key,Di.none()):new Lf(t.key,t.data,Di.none());{const n=t.data,r=Or.empty();let s=new An(Yn.comparator);for(let o of e.fields)if(!s.has(o)){let u=n.field(o);u===null&&o.length>1&&(o=o.popLast(),u=n.field(o)),u===null?r.delete(o):r.set(o,u),s=s.add(o)}return new Ga(t.key,r,new Wr(s.toArray()),Di.none())}}function sV(t,e,n){t instanceof Lf?(function(s,o,u){const f=s.value.clone(),h=uT(s.fieldTransforms,o,u.transformResults);f.setAll(h),o.convertToFoundDocument(u.version,f).setHasCommittedMutations()})(t,e,n):t instanceof Ga?(function(s,o,u){if(!nm(s.precondition,o))return void o.convertToUnknownDocument(u.version);const f=uT(s.fieldTransforms,o,u.transformResults),h=o.data;h.setAll(kC(s)),h.setAll(f),o.convertToFoundDocument(u.version,h).setHasCommittedMutations()})(t,e,n):(function(s,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,n)}function Kc(t,e,n,r){return t instanceof Lf?(function(o,u,f,h){if(!nm(o.precondition,u))return f;const d=o.value.clone(),g=cT(o.fieldTransforms,h,u);return d.setAll(g),u.convertToFoundDocument(u.version,d).setHasLocalMutations(),null})(t,e,n,r):t instanceof Ga?(function(o,u,f,h){if(!nm(o.precondition,u))return f;const d=cT(o.fieldTransforms,h,u),g=u.data;return g.setAll(kC(o)),g.setAll(d),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),f===null?null:f.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((b=>b.field)))})(t,e,n,r):(function(o,u,f){return nm(o.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):f})(t,e,n)}function aV(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),o=AC(r.transform,s||null);o!=null&&(n===null&&(n=Or.empty()),n.set(r.field,o))}return n||null}function lT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&nu(r,s,((o,u)=>rV(o,u)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Lf extends yp{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Ga extends yp{constructor(e,n,r,s,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function kC(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function uT(t,e,n){const r=new Map;yt(t.length===n.length,32656,{Ae:n.length,Re:t.length});for(let s=0;s<n.length;s++){const o=t[s],u=o.transform,f=e.data.field(o.field);r.set(o.field,nV(u,f,n[s]))}return r}function cT(t,e,n){const r=new Map;for(const s of t){const o=s.transform,u=n.data.field(s.field);r.set(s.field,tV(o,u,e))}return r}class ub extends yp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class oV extends yp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lV{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&sV(o,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Kc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Kc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=TC();return this.mutations.forEach((s=>{const o=e.get(s.key),u=o.overlayedDocument;let f=this.applyToLocalView(u,o.mutatedFields);f=n.has(s.key)?null:f;const h=NC(u,f);h!==null&&r.set(s.key,h),u.isValidDocument()||u.convertToNoDocument(Ue.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),it())}isEqual(e){return this.batchId===e.batchId&&nu(this.mutations,e.mutations,((n,r)=>lT(n,r)))&&nu(this.baseMutations,e.baseMutations,((n,r)=>lT(n,r)))}}class cb{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){yt(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let s=(function(){return QM})();const o=e.mutations;for(let u=0;u<o.length;u++)s=s.insert(o[u].key,r[u].version);return new cb(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uV{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cV{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yn,ot;function fV(t){switch(t){case le.OK:return Ve(64938);case le.CANCELLED:case le.UNKNOWN:case le.DEADLINE_EXCEEDED:case le.RESOURCE_EXHAUSTED:case le.INTERNAL:case le.UNAVAILABLE:case le.UNAUTHENTICATED:return!1;case le.INVALID_ARGUMENT:case le.NOT_FOUND:case le.ALREADY_EXISTS:case le.PERMISSION_DENIED:case le.FAILED_PRECONDITION:case le.ABORTED:case le.OUT_OF_RANGE:case le.UNIMPLEMENTED:case le.DATA_LOSS:return!0;default:return Ve(15467,{code:t})}}function DC(t){if(t===void 0)return ks("GRPC error has no .code"),le.UNKNOWN;switch(t){case yn.OK:return le.OK;case yn.CANCELLED:return le.CANCELLED;case yn.UNKNOWN:return le.UNKNOWN;case yn.DEADLINE_EXCEEDED:return le.DEADLINE_EXCEEDED;case yn.RESOURCE_EXHAUSTED:return le.RESOURCE_EXHAUSTED;case yn.INTERNAL:return le.INTERNAL;case yn.UNAVAILABLE:return le.UNAVAILABLE;case yn.UNAUTHENTICATED:return le.UNAUTHENTICATED;case yn.INVALID_ARGUMENT:return le.INVALID_ARGUMENT;case yn.NOT_FOUND:return le.NOT_FOUND;case yn.ALREADY_EXISTS:return le.ALREADY_EXISTS;case yn.PERMISSION_DENIED:return le.PERMISSION_DENIED;case yn.FAILED_PRECONDITION:return le.FAILED_PRECONDITION;case yn.ABORTED:return le.ABORTED;case yn.OUT_OF_RANGE:return le.OUT_OF_RANGE;case yn.UNIMPLEMENTED:return le.UNIMPLEMENTED;case yn.DATA_LOSS:return le.DATA_LOSS;default:return Ve(39323,{code:t})}}(ot=yn||(yn={}))[ot.OK=0]="OK",ot[ot.CANCELLED=1]="CANCELLED",ot[ot.UNKNOWN=2]="UNKNOWN",ot[ot.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ot[ot.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ot[ot.NOT_FOUND=5]="NOT_FOUND",ot[ot.ALREADY_EXISTS=6]="ALREADY_EXISTS",ot[ot.PERMISSION_DENIED=7]="PERMISSION_DENIED",ot[ot.UNAUTHENTICATED=16]="UNAUTHENTICATED",ot[ot.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ot[ot.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ot[ot.ABORTED=10]="ABORTED",ot[ot.OUT_OF_RANGE=11]="OUT_OF_RANGE",ot[ot.UNIMPLEMENTED=12]="UNIMPLEMENTED",ot[ot.INTERNAL=13]="INTERNAL",ot[ot.UNAVAILABLE=14]="UNAVAILABLE",ot[ot.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hV=new Ra([4294967295,4294967295],0);function fT(t){const e=eC().encode(t),n=new $2;return n.update(e),new Uint8Array(n.digest())}function hT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Ra([n,r],0),new Ra([s,o],0)]}class fb{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Oc(`Invalid padding: ${n}`);if(r<0)throw new Oc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Oc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Oc(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=Ra.fromNumber(this.fe)}pe(e,n,r){let s=e.add(n.multiply(Ra.fromNumber(r)));return s.compare(hV)===1&&(s=new Ra([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const n=fT(e),[r,s]=hT(n);for(let o=0;o<this.hashCount;o++){const u=this.pe(r,s,o);if(!this.ye(u))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),u=new fb(o,s,n);return r.forEach((f=>u.insert(f))),u}insert(e){if(this.fe===0)return;const n=fT(e),[r,s]=hT(n);for(let o=0;o<this.hashCount;o++){const u=this.pe(r,s,o);this.we(u)}}we(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Oc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bp{constructor(e,n,r,s,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Uf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new bp(Ue.min(),s,new Wt(We),Ds(),it())}}class Uf{constructor(e,n,r,s,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Uf(r,n,it(),it(),it())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm{constructor(e,n,r,s){this.Se=e,this.removedTargetIds=n,this.key=r,this.be=s}}class OC{constructor(e,n){this.targetId=e,this.De=n}}class jC{constructor(e,n,r=Wn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class dT{constructor(){this.ve=0,this.Ce=mT(),this.Fe=Wn.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=it(),n=it(),r=it();return this.Ce.forEach(((s,o)=>{switch(o){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Ve(38017,{changeType:o})}})),new Uf(this.Fe,this.Me,e,n,r)}ke(){this.xe=!1,this.Ce=mT()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,yt(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class dV{constructor(e){this.We=e,this.Ge=new Map,this.ze=Ds(),this.je=Ed(),this.Je=Ed(),this.He=new Wt(We)}Ye(e){for(const n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(const n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,(n=>{const r=this.tt(n);switch(e.state){case 0:this.nt(n)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),r.Be(e.resumeToken));break;default:Ve(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach(((r,s)=>{this.nt(s)&&n(s)}))}it(e){const n=e.targetId,r=e.De.count,s=this.st(n);if(s){const o=s.target;if(qy(o))if(r===0){const u=new Ne(o.path);this.Xe(n,u,lr.newNoDocument(u,Ue.min()))}else yt(r===1,20013,{expectedCount:r});else{const u=this.ot(n);if(u!==r){const f=this._t(e),h=f?this.ut(f,e,u):1;if(h!==0){this.rt(n);const d=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,d)}}}}}_t(e){const n=e.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:o=0}=n;let u,f;try{u=Pa(r).toUint8Array()}catch(h){if(h instanceof sC)return Da("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{f=new fb(u,s,o)}catch(h){return Da(h instanceof Oc?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return f.fe===0?null:f}ut(e,n,r){return n.De.count===r-this.ht(e,n.targetId)?0:2}ht(e,n){const r=this.We.getRemoteKeysForTarget(n);let s=0;return r.forEach((o=>{const u=this.We.lt(),f=`projects/${u.projectId}/databases/${u.database}/documents/${o.path.canonicalString()}`;e.mightContain(f)||(this.Xe(n,o,null),s++)})),s}Pt(e){const n=new Map;this.Ge.forEach(((o,u)=>{const f=this.st(u);if(f){if(o.current&&qy(f.target)){const h=new Ne(f.target.path);this.Tt(h).has(u)||this.It(u,h)||this.Xe(u,h,lr.newNoDocument(h,e))}o.Ne&&(n.set(u,o.Le()),o.ke())}}));let r=it();this.Je.forEach(((o,u)=>{let f=!0;u.forEachWhile((h=>{const d=this.st(h);return!d||d.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)})),f&&(r=r.add(o))})),this.ze.forEach(((o,u)=>u.setReadTime(e)));const s=new bp(e,n,this.He,this.ze,r);return this.ze=Ds(),this.je=Ed(),this.Je=Ed(),this.He=new Wt(We),s}Ze(e,n){if(!this.nt(e))return;const r=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,r),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,r){if(!this.nt(e))return;const s=this.tt(e);this.It(e,n)?s.qe(n,1):s.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),r&&(this.ze=this.ze.insert(n,r))}removeTarget(e){this.Ge.delete(e)}ot(e){const n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new dT,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new An(We),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new An(We),this.je=this.je.insert(e,n)),n}nt(e){const n=this.st(e)!==null;return n||_e("WatchChangeAggregator","Detected inactive target",e),n}st(e){const n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new dT),this.We.getRemoteKeysForTarget(e).forEach((n=>{this.Xe(e,n,null)}))}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}}function Ed(){return new Wt(Ne.comparator)}function mT(){return new Wt(Ne.comparator)}const mV={asc:"ASCENDING",desc:"DESCENDING"},pV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},gV={and:"AND",or:"OR"};class vV{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Ky(t,e){return t.useProto3Json||hp(e)?e:{value:e}}function Nm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function PC(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function yV(t,e){return Nm(t,e.toTimestamp())}function Qi(t){return yt(!!t,49232),Ue.fromTimestamp((function(n){const r=ja(n);return new Bt(r.seconds,r.nanos)})(t))}function hb(t,e){return Yy(t,e).canonicalString()}function Yy(t,e){const n=(function(s){return new jt(["projects",s.projectId,"databases",s.database])})(t).child("documents");return e===void 0?n:n.child(e)}function MC(t){const e=jt.fromString(t);return yt(BC(e),10190,{key:e.toString()}),e}function Wy(t,e){return hb(t.databaseId,e.path)}function ty(t,e){const n=MC(e);if(n.get(1)!==t.databaseId.projectId)throw new be(le.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new be(le.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ne(LC(n))}function VC(t,e){return hb(t.databaseId,e)}function bV(t){const e=MC(t);return e.length===4?jt.emptyPath():LC(e)}function Qy(t){return new jt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function LC(t){return yt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function pT(t,e,n){return{name:Wy(t,e),fields:n.value.mapValue.fields}}function _V(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Ve(39313,{state:d})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],o=(function(d,g){return d.useProto3Json?(yt(g===void 0||typeof g=="string",58123),Wn.fromBase64String(g||"")):(yt(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),Wn.fromUint8Array(g||new Uint8Array))})(t,e.targetChange.resumeToken),u=e.targetChange.cause,f=u&&(function(d){const g=d.code===void 0?le.UNKNOWN:DC(d.code);return new be(g,d.message||"")})(u);n=new jC(r,s,o,f||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=ty(t,r.document.name),o=Qi(r.document.updateTime),u=r.document.createTime?Qi(r.document.createTime):Ue.min(),f=new Or({mapValue:{fields:r.document.fields}}),h=lr.newFoundDocument(s,o,u,f),d=r.targetIds||[],g=r.removedTargetIds||[];n=new rm(d,g,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=ty(t,r.document),o=r.readTime?Qi(r.readTime):Ue.min(),u=lr.newNoDocument(s,o),f=r.removedTargetIds||[];n=new rm([],f,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=ty(t,r.document),o=r.removedTargetIds||[];n=new rm([],o,s,null)}else{if(!("filter"in e))return Ve(11601,{At:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:o}=r,u=new cV(s,o),f=r.targetId;n=new OC(f,u)}}return n}function xV(t,e){let n;if(e instanceof Lf)n={update:pT(t,e.key,e.value)};else if(e instanceof ub)n={delete:Wy(t,e.key)};else if(e instanceof Ga)n={update:pT(t,e.key,e.data),updateMask:NV(e.fieldMask)};else{if(!(e instanceof oV))return Ve(16599,{Rt:e.type});n={verify:Wy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(o,u){const f=u.transform;if(f instanceof Rm)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof yf)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof bf)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Im)return{fieldPath:u.field.canonicalString(),increment:f.Ee};throw Ve(20930,{transform:u.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(s,o){return o.updateTime!==void 0?{updateTime:yV(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ve(27497)})(t,e.precondition)),n}function wV(t,e){return t&&t.length>0?(yt(e!==void 0,14353),t.map((n=>(function(s,o){let u=s.updateTime?Qi(s.updateTime):Qi(o);return u.isEqual(Ue.min())&&(u=Qi(o)),new iV(u,s.transformResults||[])})(n,e)))):[]}function EV(t,e){return{documents:[VC(t,e.path)]}}function TV(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=VC(t,s);const o=(function(d){if(d.length!==0)return zC(Oi.create(d,"and"))})(e.filters);o&&(n.structuredQuery.where=o);const u=(function(d){if(d.length!==0)return d.map((g=>(function(_){return{field:Ll(_.field),direction:CV(_.dir)}})(g)))})(e.orderBy);u&&(n.structuredQuery.orderBy=u);const f=Ky(t,e.limit);return f!==null&&(n.structuredQuery.limit=f),e.startAt&&(n.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(e.endAt)),{Vt:n,parent:s}}function SV(t){let e=bV(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){yt(r===1,65062);const g=n.from[0];g.allDescendants?s=g.collectionId:e=e.child(g.collectionId)}let o=[];n.where&&(o=(function(b){const _=UC(b);return _ instanceof Oi&&pC(_)?_.getFilters():[_]})(n.where));let u=[];n.orderBy&&(u=(function(b){return b.map((_=>(function(C){return new Cm(Ul(C.field),(function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(C.direction))})(_)))})(n.orderBy));let f=null;n.limit&&(f=(function(b){let _;return _=typeof b=="object"?b.value:b,hp(_)?null:_})(n.limit));let h=null;n.startAt&&(h=(function(b){const _=!!b.before,E=b.values||[];return new Am(E,_)})(n.startAt));let d=null;return n.endAt&&(d=(function(b){const _=!b.before,E=b.values||[];return new Am(E,_)})(n.endAt)),GM(e,s,u,o,f,"F",h,d)}function AV(t,e){const n=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ve(28987,{purpose:s})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function UC(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ul(n.unaryFilter.field);return bn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Ul(n.unaryFilter.field);return bn.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Ul(n.unaryFilter.field);return bn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Ul(n.unaryFilter.field);return bn.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ve(61313);default:return Ve(60726)}})(t):t.fieldFilter!==void 0?(function(n){return bn.create(Ul(n.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ve(58110);default:return Ve(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Oi.create(n.compositeFilter.filters.map((r=>UC(r))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ve(1026)}})(n.compositeFilter.op))})(t):Ve(30097,{filter:t})}function CV(t){return mV[t]}function RV(t){return pV[t]}function IV(t){return gV[t]}function Ll(t){return{fieldPath:t.canonicalString()}}function Ul(t){return Yn.fromServerFormat(t.fieldPath)}function zC(t){return t instanceof bn?(function(n){if(n.op==="=="){if(nT(n.value))return{unaryFilter:{field:Ll(n.field),op:"IS_NAN"}};if(tT(n.value))return{unaryFilter:{field:Ll(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(nT(n.value))return{unaryFilter:{field:Ll(n.field),op:"IS_NOT_NAN"}};if(tT(n.value))return{unaryFilter:{field:Ll(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ll(n.field),op:RV(n.op),value:n.value}}})(t):t instanceof Oi?(function(n){const r=n.getFilters().map((s=>zC(s)));return r.length===1?r[0]:{compositeFilter:{op:IV(n.op),filters:r}}})(t):Ve(54877,{filter:t})}function NV(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function BC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(e,n,r,s,o=Ue.min(),u=Ue.min(),f=Wn.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f,this.expectedCount=h}withSequenceNumber(e){return new Ta(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ta(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ta(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ta(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kV{constructor(e){this.gt=e}}function DV(t){const e=SV({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?$y(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OV{constructor(){this.Dn=new jV}addToCollectionParentIndex(e,n){return this.Dn.add(n),ce.resolve()}getCollectionParents(e,n){return ce.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return ce.resolve()}deleteFieldIndex(e,n){return ce.resolve()}deleteAllFieldIndexes(e){return ce.resolve()}createTargetIndexes(e,n){return ce.resolve()}getDocumentsMatchingTarget(e,n){return ce.resolve(null)}getIndexType(e,n){return ce.resolve(0)}getFieldIndexes(e,n){return ce.resolve([])}getNextCollectionGroupToUpdate(e){return ce.resolve(null)}getMinOffset(e,n){return ce.resolve(Oa.min())}getMinOffsetFromCollectionGroup(e,n){return ce.resolve(Oa.min())}updateCollectionGroup(e,n,r){return ce.resolve()}updateIndexEntries(e,n){return ce.resolve()}}class jV{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new An(jt.comparator),o=!s.has(r);return this.index[n]=s.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new An(jt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},FC=41943040;class Dr{static withCacheSize(e){return new Dr(e,Dr.DEFAULT_COLLECTION_PERCENTILE,Dr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Dr.DEFAULT_COLLECTION_PERCENTILE=10,Dr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Dr.DEFAULT=new Dr(FC,Dr.DEFAULT_COLLECTION_PERCENTILE,Dr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Dr.DISABLED=new Dr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new su(0)}static ur(){return new su(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vT="LruGarbageCollector",PV=1048576;function yT([t,e],[n,r]){const s=We(t,n);return s===0?We(e,r):s}class MV{constructor(e){this.Tr=e,this.buffer=new An(yT),this.Ir=0}dr(){return++this.Ir}Er(e){const n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();yT(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class VV{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){_e(vT,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){yu(n)?_e(vT,"Ignoring IndexedDB error during garbage collection: ",n):await vu(n)}await this.Rr(3e5)}))}}class LV{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return ce.resolve(fp.ue);const r=new MV(n);return this.Vr.forEachTarget(e,(s=>r.Er(s.sequenceNumber))).next((()=>this.Vr.gr(e,(s=>r.Er(s))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(_e("LruGarbageCollector","Garbage collection skipped; disabled"),ce.resolve(gT)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(_e("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),gT):this.pr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let r,s,o,u,f,h,d;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(_e("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),s=this.params.maximumSequenceNumbersToCollect):s=b,u=Date.now(),this.nthSequenceNumber(e,s)))).next((b=>(r=b,f=Date.now(),this.removeTargets(e,r,n)))).next((b=>(o=b,h=Date.now(),this.removeOrphanedDocuments(e,r)))).next((b=>(d=Date.now(),Ml()<=rt.DEBUG&&_e("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-g}ms
	Determined least recently used ${s} in `+(f-u)+`ms
	Removed ${o} targets in `+(h-f)+`ms
	Removed ${b} documents in `+(d-h)+`ms
Total Duration: ${d-g}ms`),ce.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:o,documentsRemoved:b}))))}}function UV(t,e){return new LV(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zV{constructor(){this.changes=new Go((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,lr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ce.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BV{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FV{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((s=>(r=s,this.remoteDocumentCache.getEntry(e,n)))).next((s=>(r!==null&&Kc(r.mutation,s,Wr.empty(),Bt.now()),s)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,it()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=it()){const s=Ro();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,r).next((o=>{let u=Dc();return o.forEach(((f,h)=>{u=u.insert(f,h.overlayedDocument)})),u}))))}getOverlayedDocuments(e,n){const r=Ro();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,it())))}populateOverlays(e,n,r){const s=[];return r.forEach((o=>{n.has(o)||s.push(o)})),this.documentOverlayCache.getOverlays(e,s).next((o=>{o.forEach(((u,f)=>{n.set(u,f)}))}))}computeViews(e,n,r,s){let o=Ds();const u=$c(),f=(function(){return $c()})();return n.forEach(((h,d)=>{const g=r.get(d.key);s.has(d.key)&&(g===void 0||g.mutation instanceof Ga)?o=o.insert(d.key,d):g!==void 0?(u.set(d.key,g.mutation.getFieldMask()),Kc(g.mutation,d,g.mutation.getFieldMask(),Bt.now())):u.set(d.key,Wr.empty())})),this.recalculateAndSaveOverlays(e,o).next((h=>(h.forEach(((d,g)=>u.set(d,g))),n.forEach(((d,g)=>{var b;return f.set(d,new BV(g,(b=u.get(d))!==null&&b!==void 0?b:null))})),f)))}recalculateAndSaveOverlays(e,n){const r=$c();let s=new Wt(((u,f)=>u-f)),o=it();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((u=>{for(const f of u)f.keys().forEach((h=>{const d=n.get(h);if(d===null)return;let g=r.get(h)||Wr.empty();g=f.applyToLocalView(d,g),r.set(h,g);const b=(s.get(f.batchId)||it()).add(h);s=s.insert(f.batchId,b)}))})).next((()=>{const u=[],f=s.getReverseIterator();for(;f.hasNext();){const h=f.getNext(),d=h.key,g=h.value,b=TC();g.forEach((_=>{if(!o.has(_)){const E=NC(n.get(_),r.get(_));E!==null&&b.set(_,E),o=o.add(_)}})),u.push(this.documentOverlayCache.saveOverlays(e,d,b))}return ce.waitFor(u)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,s){return(function(u){return Ne.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):bC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next((o=>{const u=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-o.size):ce.resolve(Ro());let f=mf,h=o;return u.next((d=>ce.forEach(d,((g,b)=>(f<b.largestBatchId&&(f=b.largestBatchId),o.get(g)?ce.resolve():this.remoteDocumentCache.getEntry(e,g).next((_=>{h=h.insert(g,_)}))))).next((()=>this.populateOverlays(e,d,o))).next((()=>this.computeViews(e,h,d,it()))).next((g=>({batchId:f,changes:EC(g)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ne(n)).next((r=>{let s=Dc();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const o=n.collectionGroup;let u=Dc();return this.indexManager.getCollectionParents(e,o).next((f=>ce.forEach(f,(h=>{const d=(function(b,_){return new Vf(_,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,h.child(o));return this.getDocumentsMatchingCollectionQuery(e,d,r,s).next((g=>{g.forEach(((b,_)=>{u=u.insert(b,_)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,n,r,s){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,s)))).next((u=>{o.forEach(((h,d)=>{const g=d.getKey();u.get(g)===null&&(u=u.insert(g,lr.newInvalidDocument(g)))}));let f=Dc();return u.forEach(((h,d)=>{const g=o.get(h);g!==void 0&&Kc(g.mutation,d,Wr.empty(),Bt.now()),gp(n,d)&&(f=f.insert(h,d))})),f}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HV{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return ce.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,(function(s){return{id:s.id,version:s.version,createTime:Qi(s.createTime)}})(n)),ce.resolve()}getNamedQuery(e,n){return ce.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,(function(s){return{name:s.name,query:DV(s.bundledQuery),readTime:Qi(s.readTime)}})(n)),ce.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qV{constructor(){this.overlays=new Wt(Ne.comparator),this.kr=new Map}getOverlay(e,n){return ce.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ro();return ce.forEach(n,(s=>this.getOverlay(e,s).next((o=>{o!==null&&r.set(s,o)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((s,o)=>{this.wt(e,n,o)})),ce.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.kr.get(r);return s!==void 0&&(s.forEach((o=>this.overlays=this.overlays.remove(o))),this.kr.delete(r)),ce.resolve()}getOverlaysForCollection(e,n,r){const s=Ro(),o=n.length+1,u=new Ne(n.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const h=f.getNext().value,d=h.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===o&&h.largestBatchId>r&&s.set(h.getKey(),h)}return ce.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let o=new Wt(((d,g)=>d-g));const u=this.overlays.getIterator();for(;u.hasNext();){const d=u.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let g=o.get(d.largestBatchId);g===null&&(g=Ro(),o=o.insert(d.largestBatchId,g)),g.set(d.getKey(),d)}}const f=Ro(),h=o.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach(((d,g)=>f.set(d,g))),!(f.size()>=s)););return ce.resolve(f)}wt(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const u=this.kr.get(s.largestBatchId).delete(r.key);this.kr.set(s.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new uV(n,r));let o=this.kr.get(n);o===void 0&&(o=it(),this.kr.set(n,o)),this.kr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GV{constructor(){this.sessionToken=Wn.EMPTY_BYTE_STRING}getSessionToken(e){return ce.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ce.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db{constructor(){this.qr=new An(Mn.Qr),this.$r=new An(Mn.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){const r=new Mn(e,n);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Wr(new Mn(e,n))}Gr(e,n){e.forEach((r=>this.removeReference(r,n)))}zr(e){const n=new Ne(new jt([])),r=new Mn(n,e),s=new Mn(n,e+1),o=[];return this.$r.forEachInRange([r,s],(u=>{this.Wr(u),o.push(u.key)})),o}jr(){this.qr.forEach((e=>this.Wr(e)))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const n=new Ne(new jt([])),r=new Mn(n,e),s=new Mn(n,e+1);let o=it();return this.$r.forEachInRange([r,s],(u=>{o=o.add(u.key)})),o}containsKey(e){const n=new Mn(e,0),r=this.qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Mn{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return Ne.comparator(e.key,n.key)||We(e.Hr,n.Hr)}static Ur(e,n){return We(e.Hr,n.Hr)||Ne.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $V{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new An(Mn.Qr)}checkEmpty(e){return ce.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const o=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new lV(o,n,r,s);this.mutationQueue.push(u);for(const f of s)this.Yr=this.Yr.add(new Mn(f.key,o)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return ce.resolve(u)}lookupMutationBatch(e,n){return ce.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.Xr(r),o=s<0?0:s;return ce.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ce.resolve(this.mutationQueue.length===0?rb:this.er-1)}getAllMutationBatches(e){return ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Mn(n,0),s=new Mn(n,Number.POSITIVE_INFINITY),o=[];return this.Yr.forEachInRange([r,s],(u=>{const f=this.Zr(u.Hr);o.push(f)})),ce.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new An(We);return n.forEach((s=>{const o=new Mn(s,0),u=new Mn(s,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([o,u],(f=>{r=r.add(f.Hr)}))})),ce.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let o=r;Ne.isDocumentKey(o)||(o=o.child(""));const u=new Mn(new Ne(o),0);let f=new An(We);return this.Yr.forEachWhile((h=>{const d=h.key.path;return!!r.isPrefixOf(d)&&(d.length===s&&(f=f.add(h.Hr)),!0)}),u),ce.resolve(this.ei(f))}ei(e){const n=[];return e.forEach((r=>{const s=this.Zr(r);s!==null&&n.push(s)})),n}removeMutationBatch(e,n){yt(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return ce.forEach(n.mutations,(s=>{const o=new Mn(s.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Yr=r}))}rr(e){}containsKey(e,n){const r=new Mn(n,0),s=this.Yr.firstAfterOrEqual(r);return ce.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,ce.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KV{constructor(e){this.ni=e,this.docs=(function(){return new Wt(Ne.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),o=s?s.size:0,u=this.ni(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ce.resolve(r?r.document.mutableCopy():lr.newInvalidDocument(n))}getEntries(e,n){let r=Ds();return n.forEach((s=>{const o=this.docs.get(s);r=r.insert(s,o?o.document.mutableCopy():lr.newInvalidDocument(s))})),ce.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let o=Ds();const u=n.path,f=new Ne(u.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(f);for(;h.hasNext();){const{key:d,value:{document:g}}=h.getNext();if(!u.isPrefixOf(d.path))break;d.path.length>u.length+1||EM(wM(g),r)<=0||(s.has(g.key)||gp(n,g))&&(o=o.insert(g.key,g.mutableCopy()))}return ce.resolve(o)}getAllFromCollectionGroup(e,n,r,s){Ve(9500)}ri(e,n){return ce.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new YV(this)}getSize(e){return ce.resolve(this.size)}}class YV extends zV{constructor(e){super(),this.Or=e}applyChanges(e){const n=[];return this.changes.forEach(((r,s)=>{s.isValidDocument()?n.push(this.Or.addEntry(e,s)):this.Or.removeEntry(r)})),ce.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WV{constructor(e){this.persistence=e,this.ii=new Go((n=>ab(n)),ob),this.lastRemoteSnapshotVersion=Ue.min(),this.highestTargetId=0,this.si=0,this.oi=new db,this.targetCount=0,this._i=su.ar()}forEachTarget(e,n){return this.ii.forEach(((r,s)=>n(s))),ce.resolve()}getLastRemoteSnapshotVersion(e){return ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ce.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),ce.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.si&&(this.si=n),ce.resolve()}hr(e){this.ii.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this._i=new su(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,ce.resolve()}updateTargetData(e,n){return this.hr(n),ce.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,ce.resolve()}removeTargets(e,n,r){let s=0;const o=[];return this.ii.forEach(((u,f)=>{f.sequenceNumber<=n&&r.get(f.targetId)===null&&(this.ii.delete(u),o.push(this.removeMatchingKeysForTargetId(e,f.targetId)),s++)})),ce.waitFor(o).next((()=>s))}getTargetCount(e){return ce.resolve(this.targetCount)}getTargetData(e,n){const r=this.ii.get(n)||null;return ce.resolve(r)}addMatchingKeys(e,n,r){return this.oi.Kr(n,r),ce.resolve()}removeMatchingKeys(e,n,r){this.oi.Gr(n,r);const s=this.persistence.referenceDelegate,o=[];return s&&n.forEach((u=>{o.push(s.markPotentiallyOrphaned(e,u))})),ce.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),ce.resolve()}getMatchingKeysForTargetId(e,n){const r=this.oi.Jr(n);return ce.resolve(r)}containsKey(e,n){return ce.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{constructor(e,n){this.ai={},this.overlays={},this.ui=new fp(0),this.ci=!1,this.ci=!0,this.li=new GV,this.referenceDelegate=e(this),this.hi=new WV(this),this.indexManager=new OV,this.remoteDocumentCache=(function(s){return new KV(s)})((r=>this.referenceDelegate.Pi(r))),this.serializer=new kV(n),this.Ti=new HV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new qV,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ai[e.toKey()];return r||(r=new $V(n,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,r){_e("MemoryPersistence","Starting transaction:",e);const s=new QV(this.ui.next());return this.referenceDelegate.Ii(),r(s).next((o=>this.referenceDelegate.di(s).next((()=>o)))).toPromise().then((o=>(s.raiseOnCommittedEvent(),o)))}Ei(e,n){return ce.or(Object.values(this.ai).map((r=>()=>r.containsKey(e,n))))}}class QV extends SM{constructor(e){super(),this.currentSequenceNumber=e}}class mb{constructor(e){this.persistence=e,this.Ai=new db,this.Ri=null}static Vi(e){return new mb(e)}get mi(){if(this.Ri)return this.Ri;throw Ve(60996)}addReference(e,n,r){return this.Ai.addReference(r,n),this.mi.delete(r.toString()),ce.resolve()}removeReference(e,n,r){return this.Ai.removeReference(r,n),this.mi.add(r.toString()),ce.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),ce.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach((s=>this.mi.add(s.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((s=>{s.forEach((o=>this.mi.add(o.toString())))})).next((()=>r.removeTargetData(e,n)))}Ii(){this.Ri=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ce.forEach(this.mi,(r=>{const s=Ne.fromPath(r);return this.fi(e,s).next((o=>{o||n.removeEntry(s,Ue.min())}))})).next((()=>(this.Ri=null,n.apply(e))))}updateLimboDocument(e,n){return this.fi(e,n).next((r=>{r?this.mi.delete(n.toString()):this.mi.add(n.toString())}))}Pi(e){return 0}fi(e,n){return ce.or([()=>ce.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class km{constructor(e,n){this.persistence=e,this.gi=new Go((r=>RM(r.path)),((r,s)=>r.isEqual(s))),this.garbageCollector=UV(this,n)}static Vi(e,n){return new km(e,n)}Ii(){}di(e){return ce.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){const n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((s=>r+s))))}yr(e){let n=0;return this.gr(e,(r=>{n++})).next((()=>n))}gr(e,n){return ce.forEach(this.gi,((r,s)=>this.Sr(e,r,s).next((o=>o?ce.resolve():n(s)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),o=s.newChangeBuffer();return s.ri(e,(u=>this.Sr(e,u,n).next((f=>{f||(r++,o.removeEntry(u,Ue.min()))})))).next((()=>o.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),ce.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),ce.resolve()}removeReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),ce.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),ce.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=em(e.data.value)),n}Sr(e,n,r){return ce.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.gi.get(n);return ce.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Is=r,this.ds=s}static Es(e,n){let r=it(),s=it();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new pb(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZV{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return NO()?8:AM(cr())>0?6:4})()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,r,s){const o={result:null};return this.ps(e,n).next((u=>{o.result=u})).next((()=>{if(!o.result)return this.ys(e,n,s,r).next((u=>{o.result=u}))})).next((()=>{if(o.result)return;const u=new XV;return this.ws(e,n,u).next((f=>{if(o.result=f,this.Rs)return this.Ss(e,n,u,f.size)}))})).next((()=>o.result))}Ss(e,n,r,s){return r.documentReadCount<this.Vs?(Ml()<=rt.DEBUG&&_e("QueryEngine","SDK will not create cache indexes for query:",Vl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ce.resolve()):(Ml()<=rt.DEBUG&&_e("QueryEngine","Query:",Vl(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.fs*s?(Ml()<=rt.DEBUG&&_e("QueryEngine","The SDK decides to create cache indexes for query:",Vl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Wi(n))):ce.resolve())}ps(e,n){if(aT(n))return ce.resolve(null);let r=Wi(n);return this.indexManager.getIndexType(e,r).next((s=>s===0?null:(n.limit!==null&&s===1&&(n=$y(n,null,"F"),r=Wi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((o=>{const u=it(...o);return this.gs.getDocuments(e,u).next((f=>this.indexManager.getMinOffset(e,r).next((h=>{const d=this.bs(n,f);return this.Ds(n,d,u,h.readTime)?this.ps(e,$y(n,null,"F")):this.vs(e,d,n,h)}))))})))))}ys(e,n,r,s){return aT(n)||s.isEqual(Ue.min())?ce.resolve(null):this.gs.getDocuments(e,r).next((o=>{const u=this.bs(n,o);return this.Ds(n,u,r,s)?ce.resolve(null):(Ml()<=rt.DEBUG&&_e("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Vl(n)),this.vs(e,u,n,xM(s,mf)).next((f=>f)))}))}bs(e,n){let r=new An(xC(e));return n.forEach(((s,o)=>{gp(e,o)&&(r=r.add(o))})),r}Ds(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}ws(e,n,r){return Ml()<=rt.DEBUG&&_e("QueryEngine","Using full collection scan to execute query:",Vl(n)),this.gs.getDocumentsMatchingQuery(e,n,Oa.min(),r)}vs(e,n,r,s){return this.gs.getDocumentsMatchingQuery(e,r,s).next((o=>(n.forEach((u=>{o=o.insert(u.key,u)})),o)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gb="LocalStore",JV=3e8;class e3{constructor(e,n,r,s){this.persistence=e,this.Cs=n,this.serializer=s,this.Fs=new Wt(We),this.Ms=new Go((o=>ab(o)),ob),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new FV(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Fs)))}}function t3(t,e,n,r){return new e3(t,e,n,r)}async function qC(t,e){const n=Be(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next((o=>(s=o,n.Ns(e),n.mutationQueue.getAllMutationBatches(r)))).next((o=>{const u=[],f=[];let h=it();for(const d of s){u.push(d.batchId);for(const g of d.mutations)h=h.add(g.key)}for(const d of o){f.push(d.batchId);for(const g of d.mutations)h=h.add(g.key)}return n.localDocuments.getDocuments(r,h).next((d=>({Bs:d,removedBatchIds:u,addedBatchIds:f})))}))}))}function n3(t,e){const n=Be(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const s=e.batch.keys(),o=n.Os.newChangeBuffer({trackRemovals:!0});return(function(f,h,d,g){const b=d.batch,_=b.keys();let E=ce.resolve();return _.forEach((C=>{E=E.next((()=>g.getEntry(h,C))).next((N=>{const j=d.docVersions.get(C);yt(j!==null,48541),N.version.compareTo(j)<0&&(b.applyToRemoteDocument(N,d),N.isValidDocument()&&(N.setReadTime(d.commitVersion),g.addEntry(N)))}))})),E.next((()=>f.mutationQueue.removeMutationBatch(h,b)))})(n,r,e,o).next((()=>o.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(f){let h=it();for(let d=0;d<f.mutationResults.length;++d)f.mutationResults[d].transformResults.length>0&&(h=h.add(f.batch.mutations[d].key));return h})(e)))).next((()=>n.localDocuments.getDocuments(r,s)))}))}function GC(t){const e=Be(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.hi.getLastRemoteSnapshotVersion(n)))}function r3(t,e){const n=Be(t),r=e.snapshotVersion;let s=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const u=n.Os.newChangeBuffer({trackRemovals:!0});s=n.Fs;const f=[];e.targetChanges.forEach(((g,b)=>{const _=s.get(b);if(!_)return;f.push(n.hi.removeMatchingKeys(o,g.removedDocuments,b).next((()=>n.hi.addMatchingKeys(o,g.addedDocuments,b))));let E=_.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(b)!==null?E=E.withResumeToken(Wn.EMPTY_BYTE_STRING,Ue.min()).withLastLimboFreeSnapshotVersion(Ue.min()):g.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(g.resumeToken,r)),s=s.insert(b,E),(function(N,j,U){return N.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=JV?!0:U.addedDocuments.size+U.modifiedDocuments.size+U.removedDocuments.size>0})(_,E,g)&&f.push(n.hi.updateTargetData(o,E))}));let h=Ds(),d=it();if(e.documentUpdates.forEach((g=>{e.resolvedLimboDocuments.has(g)&&f.push(n.persistence.referenceDelegate.updateLimboDocument(o,g))})),f.push(i3(o,u,e.documentUpdates).next((g=>{h=g.Ls,d=g.ks}))),!r.isEqual(Ue.min())){const g=n.hi.getLastRemoteSnapshotVersion(o).next((b=>n.hi.setTargetsMetadata(o,o.currentSequenceNumber,r)));f.push(g)}return ce.waitFor(f).next((()=>u.apply(o))).next((()=>n.localDocuments.getLocalViewOfDocuments(o,h,d))).next((()=>h))})).then((o=>(n.Fs=s,o)))}function i3(t,e,n){let r=it(),s=it();return n.forEach((o=>r=r.add(o))),e.getEntries(t,r).next((o=>{let u=Ds();return n.forEach(((f,h)=>{const d=o.get(f);h.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(f)),h.isNoDocument()&&h.version.isEqual(Ue.min())?(e.removeEntry(f,h.readTime),u=u.insert(f,h)):!d.isValidDocument()||h.version.compareTo(d.version)>0||h.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(h),u=u.insert(f,h)):_e(gb,"Ignoring outdated watch update for ",f,". Current version:",d.version," Watch version:",h.version)})),{Ls:u,ks:s}}))}function s3(t,e){const n=Be(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=rb),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function a3(t,e){const n=Be(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let s;return n.hi.getTargetData(r,e).next((o=>o?(s=o,ce.resolve(s)):n.hi.allocateTargetId(r).next((u=>(s=new Ta(e,u,"TargetPurposeListen",r.currentSequenceNumber),n.hi.addTargetData(r,s).next((()=>s)))))))})).then((r=>{const s=n.Fs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(r.targetId,r),n.Ms.set(e,r.targetId)),r}))}async function Xy(t,e,n){const r=Be(t),s=r.Fs.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(u=>r.persistence.referenceDelegate.removeTarget(u,s)))}catch(u){if(!yu(u))throw u;_e(gb,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(s.target)}function bT(t,e,n){const r=Be(t);let s=Ue.min(),o=it();return r.persistence.runTransaction("Execute query","readwrite",(u=>(function(h,d,g){const b=Be(h),_=b.Ms.get(g);return _!==void 0?ce.resolve(b.Fs.get(_)):b.hi.getTargetData(d,g)})(r,u,Wi(e)).next((f=>{if(f)return s=f.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(u,f.targetId).next((h=>{o=h}))})).next((()=>r.Cs.getDocumentsMatchingQuery(u,e,n?s:Ue.min(),n?o:it()))).next((f=>(o3(r,KM(e),f),{documents:f,qs:o})))))}function o3(t,e,n){let r=t.xs.get(e)||Ue.min();n.forEach(((s,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)})),t.xs.set(e,r)}class _T{constructor(){this.activeTargetIds=JM()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class l3{constructor(){this.Fo=new _T,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,r){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new _T,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u3{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xT="ConnectivityMonitor";class wT{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){_e(xT,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){_e(xT,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Td=null;function Zy(){return Td===null?Td=(function(){return 268435456+Math.round(2147483648*Math.random())})():Td++,"0x"+Td.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ny="RestConnection",c3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class f3{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${r}/databases/${s}`,this.Ko=this.databaseId.database===Tm?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Wo(e,n,r,s,o){const u=Zy(),f=this.Go(e,n.toUriEncodedString());_e(ny,`Sending RPC '${e}' ${u}:`,f,r);const h={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(h,s,o);const{host:d}=new URL(f),g=js(d);return this.jo(e,f,h,r,g).then((b=>(_e(ny,`Received RPC '${e}' ${u}: `,b),b)),(b=>{throw Da(ny,`RPC '${e}' ${u} failed with error: `,b,"url: ",f,"request:",r),b}))}Jo(e,n,r,s,o,u){return this.Wo(e,n,r,s,o)}zo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+gu})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((s,o)=>e[o]=s)),r&&r.headers.forEach(((s,o)=>e[o]=s))}Go(e,n){const r=c3[e];return`${this.$o}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h3{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rr="WebChannelConnection";class d3 extends f3{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,r,s,o){const u=Zy();return new Promise(((f,h)=>{const d=new K2;d.setWithCredentials(!0),d.listenOnce(Y2.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case Jd.NO_ERROR:const b=d.getResponseJson();_e(rr,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(b)),f(b);break;case Jd.TIMEOUT:_e(rr,`RPC '${e}' ${u} timed out`),h(new be(le.DEADLINE_EXCEEDED,"Request time out"));break;case Jd.HTTP_ERROR:const _=d.getStatus();if(_e(rr,`RPC '${e}' ${u} failed with status:`,_,"response text:",d.getResponseText()),_>0){let E=d.getResponseJson();Array.isArray(E)&&(E=E[0]);const C=E==null?void 0:E.error;if(C&&C.status&&C.message){const N=(function(U){const M=U.toLowerCase().replace(/_/g,"-");return Object.values(le).indexOf(M)>=0?M:le.UNKNOWN})(C.status);h(new be(N,C.message))}else h(new be(le.UNKNOWN,"Server responded with status "+d.getStatus()))}else h(new be(le.UNAVAILABLE,"Connection failed."));break;default:Ve(9055,{c_:e,streamId:u,l_:d.getLastErrorCode(),h_:d.getLastError()})}}finally{_e(rr,`RPC '${e}' ${u} completed.`)}}));const g=JSON.stringify(s);_e(rr,`RPC '${e}' ${u} sending request:`,s),d.send(n,"POST",g,r,15)}))}P_(e,n,r){const s=Zy(),o=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=X2(),f=Q2(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(h.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(h.useFetchStreams=!0),this.zo(h.initMessageHeaders,n,r),h.encodeInitMessageHeaders=!0;const g=o.join("");_e(rr,`Creating RPC '${e}' stream ${s}: ${g}`,h);const b=u.createWebChannel(g,h);this.T_(b);let _=!1,E=!1;const C=new h3({Ho:j=>{E?_e(rr,`Not sending because RPC '${e}' stream ${s} is closed:`,j):(_||(_e(rr,`Opening RPC '${e}' stream ${s} transport.`),b.open(),_=!0),_e(rr,`RPC '${e}' stream ${s} sending:`,j),b.send(j))},Yo:()=>b.close()}),N=(j,U,M)=>{j.listen(U,(z=>{try{M(z)}catch(G){setTimeout((()=>{throw G}),0)}}))};return N(b,kc.EventType.OPEN,(()=>{E||(_e(rr,`RPC '${e}' stream ${s} transport opened.`),C.s_())})),N(b,kc.EventType.CLOSE,(()=>{E||(E=!0,_e(rr,`RPC '${e}' stream ${s} transport closed`),C.__(),this.I_(b))})),N(b,kc.EventType.ERROR,(j=>{E||(E=!0,Da(rr,`RPC '${e}' stream ${s} transport errored. Name:`,j.name,"Message:",j.message),C.__(new be(le.UNAVAILABLE,"The operation could not be completed")))})),N(b,kc.EventType.MESSAGE,(j=>{var U;if(!E){const M=j.data[0];yt(!!M,16349);const z=M,G=(z==null?void 0:z.error)||((U=z[0])===null||U===void 0?void 0:U.error);if(G){_e(rr,`RPC '${e}' stream ${s} received error:`,G);const K=G.status;let H=(function(I){const L=yn[I];if(L!==void 0)return DC(L)})(K),A=G.message;H===void 0&&(H=le.INTERNAL,A="Unknown error status: "+K+" with message "+G.message),E=!0,C.__(new be(H,A)),b.close()}else _e(rr,`RPC '${e}' stream ${s} received:`,M),C.a_(M)}})),N(f,W2.STAT_EVENT,(j=>{j.stat===Uy.PROXY?_e(rr,`RPC '${e}' stream ${s} detected buffering proxy`):j.stat===Uy.NOPROXY&&_e(rr,`RPC '${e}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{C.o_()}),0),C}terminate(){this.u_.forEach((e=>e.close())),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter((n=>n===e))}}function ry(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _p(t){return new vV(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(e,n,r=1e3,s=1.5,o=6e4){this.Fi=e,this.timerId=n,this.d_=r,this.E_=s,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const n=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),s=Math.max(0,n-r);s>0&&_e("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,s,(()=>(this.m_=Date.now(),e()))),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ET="PersistentStream";class KC{constructor(e,n,r,s,o,u,f,h){this.Fi=e,this.w_=r,this.S_=s,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=h,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new $C(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,(()=>this.L_())))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===le.RESOURCE_EXHAUSTED?(ks(n.toString()),ks("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===le.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(n)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,s])=>{this.b_===n&&this.W_(r,s)}),(r=>{e((()=>{const s=new be(le.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(s)}))}))}W_(e,n){const r=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.e_((()=>{r((()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,(()=>(this.x_()&&(this.state=3),Promise.resolve()))),this.listener.e_())))})),this.stream.n_((s=>{r((()=>this.G_(s)))})),this.stream.onMessage((s=>{r((()=>++this.C_==1?this.j_(s):this.onNext(s)))}))}O_(){this.state=5,this.F_.g_((async()=>{this.state=0,this.start()}))}G_(e){return _e(ET,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget((()=>this.b_===e?n():(_e(ET,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class m3 extends KC{constructor(e,n,r,s,o,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,u),this.serializer=o}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const n=_V(this.serializer,e),r=(function(o){if(!("targetChange"in o))return Ue.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?Ue.min():u.readTime?Qi(u.readTime):Ue.min()})(e);return this.listener.J_(n,r)}H_(e){const n={};n.database=Qy(this.serializer),n.addTarget=(function(o,u){let f;const h=u.target;if(f=qy(h)?{documents:EV(o,h)}:{query:TV(o,h).Vt},f.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){f.resumeToken=PC(o,u.resumeToken);const d=Ky(o,u.expectedCount);d!==null&&(f.expectedCount=d)}else if(u.snapshotVersion.compareTo(Ue.min())>0){f.readTime=Nm(o,u.snapshotVersion.toTimestamp());const d=Ky(o,u.expectedCount);d!==null&&(f.expectedCount=d)}return f})(this.serializer,e);const r=AV(this.serializer,e);r&&(n.labels=r),this.k_(n)}Y_(e){const n={};n.database=Qy(this.serializer),n.removeTarget=e,this.k_(n)}}class p3 extends KC{constructor(e,n,r,s,o,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,u),this.serializer=o}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return yt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,yt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){yt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const n=wV(e.writeResults,e.commitTime),r=Qi(e.commitTime);return this.listener.ta(r,n)}na(){const e={};e.database=Qy(this.serializer),this.k_(e)}X_(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>xV(this.serializer,r)))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g3{}class v3 extends g3{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ra=!1}ia(){if(this.ra)throw new be(le.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,s){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,u])=>this.connection.Wo(e,Yy(n,r),s,o,u))).catch((o=>{throw o.name==="FirebaseError"?(o.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new be(le.UNKNOWN,o.toString())}))}Jo(e,n,r,s,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Jo(e,Yy(n,r),s,u,f,o))).catch((u=>{throw u.name==="FirebaseError"?(u.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new be(le.UNKNOWN,u.toString())}))}terminate(){this.ra=!0,this.connection.terminate()}}class y3{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve()))))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(ks(n),this._a=!1):_e("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zo="RemoteStore";class b3{constructor(e,n,r,s,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=o,this.Ea.xo((u=>{r.enqueueAndForget((async()=>{$o(this)&&(_e(zo,"Restarting streams for network reachability change."),await(async function(h){const d=Be(h);d.Ia.add(4),await zf(d),d.Aa.set("Unknown"),d.Ia.delete(4),await xp(d)})(this))}))})),this.Aa=new y3(r,s)}}async function xp(t){if($o(t))for(const e of t.da)await e(!0)}async function zf(t){for(const e of t.da)await e(!1)}function YC(t,e){const n=Be(t);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),_b(n)?bb(n):bu(n).x_()&&yb(n,e))}function vb(t,e){const n=Be(t),r=bu(n);n.Ta.delete(e),r.x_()&&WC(n,e),n.Ta.size===0&&(r.x_()?r.B_():$o(n)&&n.Aa.set("Unknown"))}function yb(t,e){if(t.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ue.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}bu(t).H_(e)}function WC(t,e){t.Ra.$e(e),bu(t).Y_(e)}function bb(t){t.Ra=new dV({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.Ta.get(e)||null,lt:()=>t.datastore.serializer.databaseId}),bu(t).start(),t.Aa.aa()}function _b(t){return $o(t)&&!bu(t).M_()&&t.Ta.size>0}function $o(t){return Be(t).Ia.size===0}function QC(t){t.Ra=void 0}async function _3(t){t.Aa.set("Online")}async function x3(t){t.Ta.forEach(((e,n)=>{yb(t,e)}))}async function w3(t,e){QC(t),_b(t)?(t.Aa.la(e),bb(t)):t.Aa.set("Unknown")}async function E3(t,e,n){if(t.Aa.set("Online"),e instanceof jC&&e.state===2&&e.cause)try{await(async function(s,o){const u=o.cause;for(const f of o.targetIds)s.Ta.has(f)&&(await s.remoteSyncer.rejectListen(f,u),s.Ta.delete(f),s.Ra.removeTarget(f))})(t,e)}catch(r){_e(zo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Dm(t,r)}else if(e instanceof rm?t.Ra.Ye(e):e instanceof OC?t.Ra.it(e):t.Ra.et(e),!n.isEqual(Ue.min()))try{const r=await GC(t.localStore);n.compareTo(r)>=0&&await(function(o,u){const f=o.Ra.Pt(u);return f.targetChanges.forEach(((h,d)=>{if(h.resumeToken.approximateByteSize()>0){const g=o.Ta.get(d);g&&o.Ta.set(d,g.withResumeToken(h.resumeToken,u))}})),f.targetMismatches.forEach(((h,d)=>{const g=o.Ta.get(h);if(!g)return;o.Ta.set(h,g.withResumeToken(Wn.EMPTY_BYTE_STRING,g.snapshotVersion)),WC(o,h);const b=new Ta(g.target,h,d,g.sequenceNumber);yb(o,b)})),o.remoteSyncer.applyRemoteEvent(f)})(t,n)}catch(r){_e(zo,"Failed to raise snapshot:",r),await Dm(t,r)}}async function Dm(t,e,n){if(!yu(e))throw e;t.Ia.add(1),await zf(t),t.Aa.set("Offline"),n||(n=()=>GC(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{_e(zo,"Retrying IndexedDB access"),await n(),t.Ia.delete(1),await xp(t)}))}function XC(t,e){return e().catch((n=>Dm(t,n,e)))}async function wp(t){const e=Be(t),n=Va(e);let r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:rb;for(;T3(e);)try{const s=await s3(e.localStore,r);if(s===null){e.Pa.length===0&&n.B_();break}r=s.batchId,S3(e,s)}catch(s){await Dm(e,s)}ZC(e)&&JC(e)}function T3(t){return $o(t)&&t.Pa.length<10}function S3(t,e){t.Pa.push(e);const n=Va(t);n.x_()&&n.Z_&&n.X_(e.mutations)}function ZC(t){return $o(t)&&!Va(t).M_()&&t.Pa.length>0}function JC(t){Va(t).start()}async function A3(t){Va(t).na()}async function C3(t){const e=Va(t);for(const n of t.Pa)e.X_(n.mutations)}async function R3(t,e,n){const r=t.Pa.shift(),s=cb.from(r,e,n);await XC(t,(()=>t.remoteSyncer.applySuccessfulWrite(s))),await wp(t)}async function I3(t,e){e&&Va(t).Z_&&await(async function(r,s){if((function(u){return fV(u)&&u!==le.ABORTED})(s.code)){const o=r.Pa.shift();Va(r).N_(),await XC(r,(()=>r.remoteSyncer.rejectFailedWrite(o.batchId,s))),await wp(r)}})(t,e),ZC(t)&&JC(t)}async function TT(t,e){const n=Be(t);n.asyncQueue.verifyOperationInProgress(),_e(zo,"RemoteStore received new credentials");const r=$o(n);n.Ia.add(3),await zf(n),r&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),await xp(n)}async function N3(t,e){const n=Be(t);e?(n.Ia.delete(2),await xp(n)):e||(n.Ia.add(2),await zf(n),n.Aa.set("Unknown"))}function bu(t){return t.Va||(t.Va=(function(n,r,s){const o=Be(n);return o.ia(),new m3(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)})(t.datastore,t.asyncQueue,{Zo:_3.bind(null,t),e_:x3.bind(null,t),n_:w3.bind(null,t),J_:E3.bind(null,t)}),t.da.push((async e=>{e?(t.Va.N_(),_b(t)?bb(t):t.Aa.set("Unknown")):(await t.Va.stop(),QC(t))}))),t.Va}function Va(t){return t.ma||(t.ma=(function(n,r,s){const o=Be(n);return o.ia(),new p3(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),e_:A3.bind(null,t),n_:I3.bind(null,t),ea:C3.bind(null,t),ta:R3.bind(null,t)}),t.da.push((async e=>{e?(t.ma.N_(),await wp(t)):(await t.ma.stop(),t.Pa.length>0&&(_e(zo,`Stopping write stream with ${t.Pa.length} pending writes`),t.Pa=[]))}))),t.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb{constructor(e,n,r,s,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=o,this.deferred=new Ia,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,o){const u=Date.now()+r,f=new xb(e,n,u,s,o);return f.start(r),f}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new be(le.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function wb(t,e){if(ks("AsyncQueue",`${e}: ${t}`),yu(t))return new be(le.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{static emptySet(e){return new Ql(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ne.comparator(n.key,r.key):(n,r)=>Ne.comparator(n.key,r.key),this.keyedMap=Dc(),this.sortedSet=new Wt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ql)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=r.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ql;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{constructor(){this.fa=new Wt(Ne.comparator)}track(e){const n=e.doc.key,r=this.fa.get(n);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(n,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(n):e.type===1&&r.type===2?this.fa=this.fa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):Ve(63341,{At:e,ga:r}):this.fa=this.fa.insert(n,e)}pa(){const e=[];return this.fa.inorderTraversal(((n,r)=>{e.push(r)})),e}}class au{constructor(e,n,r,s,o,u,f,h,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=h,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,s,o){const u=[];return n.forEach((f=>{u.push({type:0,doc:f})})),new au(e,n,Ql.emptySet(n),u,r,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&pp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k3{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some((e=>e.ba()))}}class D3{constructor(){this.queries=AT(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,r){const s=Be(n),o=s.queries;s.queries=AT(),o.forEach(((u,f)=>{for(const h of f.wa)h.onError(r)}))})(this,new be(le.ABORTED,"Firestore shutting down"))}}function AT(){return new Go((t=>_C(t)),pp)}async function eR(t,e){const n=Be(t);let r=3;const s=e.query;let o=n.queries.get(s);o?!o.Sa()&&e.ba()&&(r=2):(o=new k3,r=e.ba()?0:1);try{switch(r){case 0:o.ya=await n.onListen(s,!0);break;case 1:o.ya=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(u){const f=wb(u,`Initialization of query '${Vl(e.query)}' failed`);return void e.onError(f)}n.queries.set(s,o),o.wa.push(e),e.va(n.onlineState),o.ya&&e.Ca(o.ya)&&Eb(n)}async function tR(t,e){const n=Be(t),r=e.query;let s=3;const o=n.queries.get(r);if(o){const u=o.wa.indexOf(e);u>=0&&(o.wa.splice(u,1),o.wa.length===0?s=e.ba()?0:1:!o.Sa()&&e.ba()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function O3(t,e){const n=Be(t);let r=!1;for(const s of e){const o=s.query,u=n.queries.get(o);if(u){for(const f of u.wa)f.Ca(s)&&(r=!0);u.ya=s}}r&&Eb(n)}function j3(t,e,n){const r=Be(t),s=r.queries.get(e);if(s)for(const o of s.wa)o.onError(n);r.queries.delete(e)}function Eb(t){t.Da.forEach((e=>{e.next()}))}var Jy,CT;(CT=Jy||(Jy={})).Fa="default",CT.Cache="cache";class nR{constructor(e,n,r){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new au(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;const r=n!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=au.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==Jy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{constructor(e){this.key=e}}class iR{constructor(e){this.key=e}}class P3{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=it(),this.mutatedKeys=it(),this.Xa=xC(e),this.eu=new Ql(this.Xa)}get tu(){return this.Ha}nu(e,n){const r=n?n.ru:new ST,s=n?n.eu:this.eu;let o=n?n.mutatedKeys:this.mutatedKeys,u=s,f=!1;const h=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((g,b)=>{const _=s.get(g),E=gp(this.query,b)?b:null,C=!!_&&this.mutatedKeys.has(_.key),N=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let j=!1;_&&E?_.data.isEqual(E.data)?C!==N&&(r.track({type:3,doc:E}),j=!0):this.iu(_,E)||(r.track({type:2,doc:E}),j=!0,(h&&this.Xa(E,h)>0||d&&this.Xa(E,d)<0)&&(f=!0)):!_&&E?(r.track({type:0,doc:E}),j=!0):_&&!E&&(r.track({type:1,doc:_}),j=!0,(h||d)&&(f=!0)),j&&(E?(u=u.add(E),o=N?o.add(g):o.delete(g)):(u=u.delete(g),o=o.delete(g)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const g=this.query.limitType==="F"?u.last():u.first();u=u.delete(g.key),o=o.delete(g.key),r.track({type:1,doc:g})}return{eu:u,ru:r,Ds:f,mutatedKeys:o}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const o=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const u=e.ru.pa();u.sort(((g,b)=>(function(E,C){const N=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ve(20277,{At:j})}};return N(E)-N(C)})(g.type,b.type)||this.Xa(g.doc,b.doc))),this.su(r),s=s!=null&&s;const f=n&&!s?this.ou():[],h=this.Za.size===0&&this.current&&!s?1:0,d=h!==this.Ya;return this.Ya=h,u.length!==0||d?{snapshot:new au(this.query,e.eu,o,u,e.mutatedKeys,h===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:f}:{_u:f}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new ST,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach((n=>this.Ha=this.Ha.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ha=this.Ha.delete(n))),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=it(),this.eu.forEach((r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))}));const n=[];return e.forEach((r=>{this.Za.has(r)||n.push(new iR(r))})),this.Za.forEach((r=>{e.has(r)||n.push(new rR(r))})),n}uu(e){this.Ha=e.qs,this.Za=it();const n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return au.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const Tb="SyncEngine";class M3{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class V3{constructor(e){this.key=e,this.lu=!1}}class L3{constructor(e,n,r,s,o,u){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.hu={},this.Pu=new Go((f=>_C(f)),pp),this.Tu=new Map,this.Iu=new Set,this.du=new Wt(Ne.comparator),this.Eu=new Map,this.Au=new db,this.Ru={},this.Vu=new Map,this.mu=su.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function U3(t,e,n=!0){const r=cR(t);let s;const o=r.Pu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),s=o.view.cu()):s=await sR(r,e,n,!0),s}async function z3(t,e){const n=cR(t);await sR(n,e,!0,!1)}async function sR(t,e,n,r){const s=await a3(t.localStore,Wi(e)),o=s.targetId,u=t.sharedClientState.addLocalQueryTarget(o,n);let f;return r&&(f=await B3(t,e,o,u==="current",s.resumeToken)),t.isPrimaryClient&&n&&YC(t.remoteStore,s),f}async function B3(t,e,n,r,s){t.gu=(b,_,E)=>(async function(N,j,U,M){let z=j.view.nu(U);z.Ds&&(z=await bT(N.localStore,j.query,!1).then((({documents:A})=>j.view.nu(A,z))));const G=M&&M.targetChanges.get(j.targetId),K=M&&M.targetMismatches.get(j.targetId)!=null,H=j.view.applyChanges(z,N.isPrimaryClient,G,K);return IT(N,j.targetId,H._u),H.snapshot})(t,b,_,E);const o=await bT(t.localStore,e,!0),u=new P3(e,o.qs),f=u.nu(o.documents),h=Uf.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),d=u.applyChanges(f,t.isPrimaryClient,h);IT(t,n,d._u);const g=new M3(e,n,u);return t.Pu.set(e,g),t.Tu.has(n)?t.Tu.get(n).push(e):t.Tu.set(n,[e]),d.snapshot}async function F3(t,e,n){const r=Be(t),s=r.Pu.get(e),o=r.Tu.get(s.targetId);if(o.length>1)return r.Tu.set(s.targetId,o.filter((u=>!pp(u,e)))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Xy(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),n&&vb(r.remoteStore,s.targetId),e0(r,s.targetId)})).catch(vu)):(e0(r,s.targetId),await Xy(r.localStore,s.targetId,!0))}async function H3(t,e){const n=Be(t),r=n.Pu.get(e),s=n.Tu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),vb(n.remoteStore,r.targetId))}async function q3(t,e,n){const r=X3(t);try{const s=await(function(u,f){const h=Be(u),d=Bt.now(),g=f.reduce(((E,C)=>E.add(C.key)),it());let b,_;return h.persistence.runTransaction("Locally write mutations","readwrite",(E=>{let C=Ds(),N=it();return h.Os.getEntries(E,g).next((j=>{C=j,C.forEach(((U,M)=>{M.isValidDocument()||(N=N.add(U))}))})).next((()=>h.localDocuments.getOverlayedDocuments(E,C))).next((j=>{b=j;const U=[];for(const M of f){const z=aV(M,b.get(M.key).overlayedDocument);z!=null&&U.push(new Ga(M.key,z,hC(z.value.mapValue),Di.exists(!0)))}return h.mutationQueue.addMutationBatch(E,d,U,f)})).next((j=>{_=j;const U=j.applyToLocalDocumentSet(b,N);return h.documentOverlayCache.saveOverlays(E,j.batchId,U)}))})).then((()=>({batchId:_.batchId,changes:EC(b)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),(function(u,f,h){let d=u.Ru[u.currentUser.toKey()];d||(d=new Wt(We)),d=d.insert(f,h),u.Ru[u.currentUser.toKey()]=d})(r,s.batchId,n),await Bf(r,s.changes),await wp(r.remoteStore)}catch(s){const o=wb(s,"Failed to persist write");n.reject(o)}}async function aR(t,e){const n=Be(t);try{const r=await r3(n.localStore,e);e.targetChanges.forEach(((s,o)=>{const u=n.Eu.get(o);u&&(yt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?u.lu=!0:s.modifiedDocuments.size>0?yt(u.lu,14607):s.removedDocuments.size>0&&(yt(u.lu,42227),u.lu=!1))})),await Bf(n,r,e)}catch(r){await vu(r)}}function RT(t,e,n){const r=Be(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Pu.forEach(((o,u)=>{const f=u.view.va(e);f.snapshot&&s.push(f.snapshot)})),(function(u,f){const h=Be(u);h.onlineState=f;let d=!1;h.queries.forEach(((g,b)=>{for(const _ of b.wa)_.va(f)&&(d=!0)})),d&&Eb(h)})(r.eventManager,e),s.length&&r.hu.J_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function G3(t,e,n){const r=Be(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Eu.get(e),o=s&&s.key;if(o){let u=new Wt(Ne.comparator);u=u.insert(o,lr.newNoDocument(o,Ue.min()));const f=it().add(o),h=new bp(Ue.min(),new Map,new Wt(We),u,f);await aR(r,h),r.du=r.du.remove(o),r.Eu.delete(e),Sb(r)}else await Xy(r.localStore,e,!1).then((()=>e0(r,e,n))).catch(vu)}async function $3(t,e){const n=Be(t),r=e.batch.batchId;try{const s=await n3(n.localStore,e);lR(n,r,null),oR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Bf(n,s)}catch(s){await vu(s)}}async function K3(t,e,n){const r=Be(t);try{const s=await(function(u,f){const h=Be(u);return h.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let g;return h.mutationQueue.lookupMutationBatch(d,f).next((b=>(yt(b!==null,37113),g=b.keys(),h.mutationQueue.removeMutationBatch(d,b)))).next((()=>h.mutationQueue.performConsistencyCheck(d))).next((()=>h.documentOverlayCache.removeOverlaysForBatchId(d,g,f))).next((()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,g))).next((()=>h.localDocuments.getDocuments(d,g)))}))})(r.localStore,e);lR(r,e,n),oR(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Bf(r,s)}catch(s){await vu(s)}}function oR(t,e){(t.Vu.get(e)||[]).forEach((n=>{n.resolve()})),t.Vu.delete(e)}function lR(t,e,n){const r=Be(t);let s=r.Ru[r.currentUser.toKey()];if(s){const o=s.get(e);o&&(n?o.reject(n):o.resolve(),s=s.remove(e)),r.Ru[r.currentUser.toKey()]=s}}function e0(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Tu.get(e))t.Pu.delete(r),n&&t.hu.pu(r,n);t.Tu.delete(e),t.isPrimaryClient&&t.Au.zr(e).forEach((r=>{t.Au.containsKey(r)||uR(t,r)}))}function uR(t,e){t.Iu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(vb(t.remoteStore,n),t.du=t.du.remove(e),t.Eu.delete(n),Sb(t))}function IT(t,e,n){for(const r of n)r instanceof rR?(t.Au.addReference(r.key,e),Y3(t,r)):r instanceof iR?(_e(Tb,"Document no longer in limbo: "+r.key),t.Au.removeReference(r.key,e),t.Au.containsKey(r.key)||uR(t,r.key)):Ve(19791,{yu:r})}function Y3(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Iu.has(r)||(_e(Tb,"New document in limbo: "+n),t.Iu.add(r),Sb(t))}function Sb(t){for(;t.Iu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Iu.values().next().value;t.Iu.delete(e);const n=new Ne(jt.fromString(e)),r=t.mu.next();t.Eu.set(r,new V3(n)),t.du=t.du.insert(n,r),YC(t.remoteStore,new Ta(Wi(mp(n.path)),r,"TargetPurposeLimboResolution",fp.ue))}}async function Bf(t,e,n){const r=Be(t),s=[],o=[],u=[];r.Pu.isEmpty()||(r.Pu.forEach(((f,h)=>{u.push(r.gu(h,e,n).then((d=>{var g;if((d||n)&&r.isPrimaryClient){const b=d?!d.fromCache:(g=n==null?void 0:n.targetChanges.get(h.targetId))===null||g===void 0?void 0:g.current;r.sharedClientState.updateQueryState(h.targetId,b?"current":"not-current")}if(d){s.push(d);const b=pb.Es(h.targetId,d);o.push(b)}})))})),await Promise.all(u),r.hu.J_(s),await(async function(h,d){const g=Be(h);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>ce.forEach(d,(_=>ce.forEach(_.Is,(E=>g.persistence.referenceDelegate.addReference(b,_.targetId,E))).next((()=>ce.forEach(_.ds,(E=>g.persistence.referenceDelegate.removeReference(b,_.targetId,E)))))))))}catch(b){if(!yu(b))throw b;_e(gb,"Failed to update sequence numbers: "+b)}for(const b of d){const _=b.targetId;if(!b.fromCache){const E=g.Fs.get(_),C=E.snapshotVersion,N=E.withLastLimboFreeSnapshotVersion(C);g.Fs=g.Fs.insert(_,N)}}})(r.localStore,o))}async function W3(t,e){const n=Be(t);if(!n.currentUser.isEqual(e)){_e(Tb,"User change. New user:",e.toKey());const r=await qC(n.localStore,e);n.currentUser=e,(function(o,u){o.Vu.forEach((f=>{f.forEach((h=>{h.reject(new be(le.CANCELLED,u))}))})),o.Vu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Bf(n,r.Bs)}}function Q3(t,e){const n=Be(t),r=n.Eu.get(e);if(r&&r.lu)return it().add(r.key);{let s=it();const o=n.Tu.get(e);if(!o)return s;for(const u of o){const f=n.Pu.get(u);s=s.unionWith(f.view.tu)}return s}}function cR(t){const e=Be(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=aR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Q3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=G3.bind(null,e),e.hu.J_=O3.bind(null,e.eventManager),e.hu.pu=j3.bind(null,e.eventManager),e}function X3(t){const e=Be(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=$3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=K3.bind(null,e),e}class Om{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=_p(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,n){return null}Fu(e,n){return null}vu(e){return t3(this.persistence,new ZV,e.initialUser,this.serializer)}Du(e){return new HC(mb.Vi,this.serializer)}bu(e){return new l3}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Om.provider={build:()=>new Om};class Z3 extends Om{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){yt(this.persistence.referenceDelegate instanceof km,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new VV(r,e.asyncQueue,n)}Du(e){const n=this.cacheSizeBytes!==void 0?Dr.withCacheSize(this.cacheSizeBytes):Dr.DEFAULT;return new HC((r=>km.Vi(r,n)),this.serializer)}}class t0{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>RT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=W3.bind(null,this.syncEngine),await N3(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new D3})()}createDatastore(e){const n=_p(e.databaseInfo.databaseId),r=(function(o){return new d3(o)})(e.databaseInfo);return(function(o,u,f,h){return new v3(o,u,f,h)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,s,o,u,f){return new b3(r,s,o,u,f)})(this.localStore,this.datastore,e.asyncQueue,(n=>RT(this.syncEngine,n,0)),(function(){return wT.C()?new wT:new u3})())}createSyncEngine(e,n){return(function(s,o,u,f,h,d,g){const b=new L3(s,o,u,f,h,d);return g&&(b.fu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(s){const o=Be(s);_e(zo,"RemoteStore shutting down."),o.Ia.add(5),await zf(o),o.Ea.shutdown(),o.Aa.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}t0.provider={build:()=>new t0};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):ks("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const La="FirestoreClient";class J3{constructor(e,n,r,s,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=or.UNAUTHENTICATED,this.clientId=nb.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,(async u=>{_e(La,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(r,(u=>(_e(La,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ia;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=wb(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function iy(t,e){t.asyncQueue.verifyOperationInProgress(),_e(La,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async s=>{r.isEqual(s)||(await qC(e.localStore,s),r=s)})),e.persistence.setDatabaseDeletedListener((()=>{Da("Terminating Firestore due to IndexedDb database deletion"),t.terminate().then((()=>{_e("Terminating Firestore due to IndexedDb database deletion completed successfully")})).catch((s=>{Da("Terminating Firestore due to IndexedDb database deletion failed",s)}))})),t._offlineComponents=e}async function NT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await e6(t);_e(La,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>TT(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,s)=>TT(e.remoteStore,s))),t._onlineComponents=e}async function e6(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){_e(La,"Using user provided OfflineComponentProvider");try{await iy(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(s){return s.name==="FirebaseError"?s.code===le.FAILED_PRECONDITION||s.code===le.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(n))throw n;Da("Error using user provided cache. Falling back to memory cache: "+n),await iy(t,new Om)}}else _e(La,"Using default OfflineComponentProvider"),await iy(t,new Z3(void 0));return t._offlineComponents}async function hR(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(_e(La,"Using user provided OnlineComponentProvider"),await NT(t,t._uninitializedComponentsProvider._online)):(_e(La,"Using default OnlineComponentProvider"),await NT(t,new t0))),t._onlineComponents}function t6(t){return hR(t).then((e=>e.syncEngine))}async function n0(t){const e=await hR(t),n=e.eventManager;return n.onListen=U3.bind(null,e.syncEngine),n.onUnlisten=F3.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=z3.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=H3.bind(null,e.syncEngine),n}function n6(t,e,n={}){const r=new Ia;return t.asyncQueue.enqueueAndForget((async()=>(function(o,u,f,h,d){const g=new fR({next:_=>{g.Ou(),u.enqueueAndForget((()=>tR(o,b)));const E=_.docs.has(f);!E&&_.fromCache?d.reject(new be(le.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&_.fromCache&&h&&h.source==="server"?d.reject(new be(le.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(_)},error:_=>d.reject(_)}),b=new nR(mp(f.path),g,{includeMetadataChanges:!0,ka:!0});return eR(o,b)})(await n0(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dR(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mR="firestore.googleapis.com",DT=!0;class OT{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new be(le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=mR,this.ssl=DT}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:DT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=FC;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<PV)throw new be(le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}_M("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=dR((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new be(le.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new be(le.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new be(le.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,s){return r.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ep{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new OT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new be(le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new be(le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new OT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new fM;switch(r.type){case"firstParty":return new pM(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new be(le.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=kT.get(n);r&&(_e("ComponentProvider","Removing Datastore"),kT.delete(n),r.terminate())})(this),Promise.resolve()}}function r6(t,e,n,r={}){var s;t=Yi(t,Ep);const o=js(e),u=t._getSettings(),f=Object.assign(Object.assign({},u),{emulatorOptions:t._getEmulatorOptions()}),h=`${e}:${n}`;o&&(ip(`https://${h}`),sp("Firestore",!0)),u.host!==mR&&u.host!==h&&Da("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d=Object.assign(Object.assign({},u),{host:h,ssl:o,emulatorOptions:r});if(!Mo(d,f)&&(t._setSettings(d),r.mockUserToken)){let g,b;if(typeof r.mockUserToken=="string")g=r.mockUserToken,b=or.MOCK_USER;else{g=o2(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new be(le.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new or(_)}t._authCredentials=new hM(new J2(g,b))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new _u(this.firestore,e,this._query)}}class fn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Na(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new fn(this.firestore,e,this._key)}toJSON(){return{type:fn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Mf(n,fn._jsonSchema))return new fn(e,r||null,new Ne(jt.fromString(n.referencePath)))}}fn._jsonSchemaVersion="firestore/documentReference/1.0",fn._jsonSchema={type:_n("string",fn._jsonSchemaVersion),referencePath:_n("string")};class Na extends _u{constructor(e,n,r){super(e,n,mp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new fn(this.firestore,null,new Ne(e))}withConverter(e){return new Na(this.firestore,e,this._path)}}function $a(t,e,...n){if(t=kt(t),tC("collection","path",e),t instanceof Ep){const r=jt.fromString(e,...n);return $1(r),new Na(t,null,r)}{if(!(t instanceof fn||t instanceof Na))throw new be(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(jt.fromString(e,...n));return $1(r),new Na(t.firestore,null,r)}}function xu(t,e,...n){if(t=kt(t),arguments.length===1&&(e=nb.newId()),tC("doc","path",e),t instanceof Ep){const r=jt.fromString(e,...n);return G1(r),new fn(t,null,new Ne(r))}{if(!(t instanceof fn||t instanceof Na))throw new be(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(jt.fromString(e,...n));return G1(r),new fn(t.firestore,t instanceof Na?t.converter:null,new Ne(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jT="AsyncQueue";class PT{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new $C(this,"async_queue_retry"),this.oc=()=>{const r=ry();r&&_e(jT,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;const n=ry();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const n=ry();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise((()=>{}));const n=new Ia;return this.uc((()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Zu.push(e),this.cc())))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!yu(e))throw e;_e(jT,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_((()=>this.cc()))}}uc(e){const n=this._c.then((()=>(this.nc=!0,e().catch((r=>{throw this.tc=r,this.nc=!1,ks("INTERNAL UNHANDLED ERROR: ",MT(r)),r})).then((r=>(this.nc=!1,r))))));return this._c=n,n}enqueueAfterDelay(e,n,r){this.ac(),this.sc.indexOf(e)>-1&&(n=0);const s=xb.createAndSchedule(this,e,n,r,(o=>this.lc(o)));return this.ec.push(s),s}ac(){this.tc&&Ve(47125,{hc:MT(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then((()=>{this.ec.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()}))}dc(e){this.sc.push(e)}lc(e){const n=this.ec.indexOf(e);this.ec.splice(n,1)}}function MT(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VT(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const o of r)if(o in s&&typeof s[o]=="function")return!0;return!1})(t,["next","error","complete"])}class Bo extends Ep{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new PT,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new PT(e),this._firestoreClient=void 0,await e}}}function i6(t,e){const n=typeof t=="object"?t:ap(),r=typeof t=="string"?t:Tm,s=kf(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const o=B0("firestore");o&&r6(s,...o)}return s}function Ab(t){if(t._terminated)throw new be(le.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||s6(t),t._firestoreClient}function s6(t){var e,n,r;const s=t._freezeSettings(),o=(function(f,h,d,g){return new kM(f,h,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,dR(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new J3(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&(function(f){const h=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(h),_online:h}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new mi(Wn.fromBase64String(e))}catch(n){throw new be(le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new mi(Wn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:mi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Mf(e,mi._jsonSchema))return mi.fromBase64String(e.bytes)}}mi._jsonSchemaVersion="firestore/bytes/1.0",mi._jsonSchema={type:_n("string",mi._jsonSchemaVersion),bytes:_n("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new be(le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new be(le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new be(le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return We(this._lat,e._lat)||We(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Xi._jsonSchemaVersion}}static fromJSON(e){if(Mf(e,Xi._jsonSchema))return new Xi(e.latitude,e.longitude)}}Xi._jsonSchemaVersion="firestore/geoPoint/1.0",Xi._jsonSchema={type:_n("string",Xi._jsonSchemaVersion),latitude:_n("number"),longitude:_n("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,s){if(r.length!==s.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==s[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Zi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Mf(e,Zi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Zi(e.vectorValues);throw new be(le.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Zi._jsonSchemaVersion="firestore/vectorValue/1.0",Zi._jsonSchema={type:_n("string",Zi._jsonSchemaVersion),vectorValues:_n("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a6=/^__.*__$/;class o6{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ga(e,this.data,this.fieldMask,n,this.fieldTransforms):new Lf(e,this.data,n,this.fieldTransforms)}}class pR{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ga(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function gR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ve(40011,{Ec:t})}}class Rb{constructor(e,n,r,s,o,u){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,o===void 0&&this.Ac(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new Rb(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Rc({path:r,mc:!1});return s.fc(e),s}gc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Rc({path:r,mc:!1});return s.Ac(),s}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return jm(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(gR(this.Ec)&&a6.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class l6{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||_p(e)}Dc(e,n,r,s=!1){return new Rb({Ec:e,methodName:n,bc:r,path:Yn.emptyPath(),mc:!1,Sc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ib(t){const e=t._freezeSettings(),n=_p(t._databaseId);return new l6(t._databaseId,!!e.ignoreUndefinedProperties,n)}function u6(t,e,n,r,s,o={}){const u=t.Dc(o.merge||o.mergeFields?2:0,e,n,s);Nb("Data must be an object, but it was:",u,r);const f=vR(r,u);let h,d;if(o.merge)h=new Wr(u.fieldMask),d=u.fieldTransforms;else if(o.mergeFields){const g=[];for(const b of o.mergeFields){const _=r0(e,b,n);if(!u.contains(_))throw new be(le.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);bR(g,_)||g.push(_)}h=new Wr(g),d=u.fieldTransforms.filter((b=>h.covers(b.field)))}else h=null,d=u.fieldTransforms;return new o6(new Or(f),h,d)}class Sp extends Cb{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Sp}}function c6(t,e,n,r){const s=t.Dc(1,e,n);Nb("Data must be an object, but it was:",s,r);const o=[],u=Or.empty();qa(r,((h,d)=>{const g=kb(e,h,n);d=kt(d);const b=s.gc(g);if(d instanceof Sp)o.push(g);else{const _=Ff(d,b);_!=null&&(o.push(g),u.set(g,_))}}));const f=new Wr(o);return new pR(u,f,s.fieldTransforms)}function f6(t,e,n,r,s,o){const u=t.Dc(1,e,n),f=[r0(e,r,n)],h=[s];if(o.length%2!=0)throw new be(le.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<o.length;_+=2)f.push(r0(e,o[_])),h.push(o[_+1]);const d=[],g=Or.empty();for(let _=f.length-1;_>=0;--_)if(!bR(d,f[_])){const E=f[_];let C=h[_];C=kt(C);const N=u.gc(E);if(C instanceof Sp)d.push(E);else{const j=Ff(C,N);j!=null&&(d.push(E),g.set(E,j))}}const b=new Wr(d);return new pR(g,b,u.fieldTransforms)}function h6(t,e,n,r=!1){return Ff(n,t.Dc(r?4:3,e))}function Ff(t,e){if(yR(t=kt(t)))return Nb("Unsupported field value:",e,t),vR(t,e);if(t instanceof Cb)return(function(r,s){if(!gR(s.Ec))throw s.wc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.wc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(s);o&&s.fieldTransforms.push(o)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return(function(r,s){const o=[];let u=0;for(const f of r){let h=Ff(f,s.yc(u));h==null&&(h={nullValue:"NULL_VALUE"}),o.push(h),u++}return{arrayValue:{values:o}}})(t,e)}return(function(r,s){if((r=kt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return eV(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Bt.fromDate(r);return{timestampValue:Nm(s.serializer,o)}}if(r instanceof Bt){const o=new Bt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Nm(s.serializer,o)}}if(r instanceof Xi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof mi)return{bytesValue:PC(s.serializer,r._byteString)};if(r instanceof fn){const o=s.databaseId,u=r.firestore._databaseId;if(!u.isEqual(o))throw s.wc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:hb(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Zi)return(function(u,f){return{mapValue:{fields:{[cC]:{stringValue:fC},[Sm]:{arrayValue:{values:u.toArray().map((d=>{if(typeof d!="number")throw f.wc("VectorValues must only contain numeric values.");return lb(f.serializer,d)}))}}}}}})(r,s);throw s.wc(`Unsupported field value: ${cp(r)}`)})(t,e)}function vR(t,e){const n={};return iC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):qa(t,((r,s)=>{const o=Ff(s,e.Vc(r));o!=null&&(n[r]=o)})),{mapValue:{fields:n}}}function yR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Bt||t instanceof Xi||t instanceof mi||t instanceof fn||t instanceof Cb||t instanceof Zi)}function Nb(t,e,n){if(!yR(n)||!nC(n)){const r=cp(n);throw r==="an object"?e.wc(t+" a custom object"):e.wc(t+" "+r)}}function r0(t,e,n){if((e=kt(e))instanceof Tp)return e._internalPath;if(typeof e=="string")return kb(t,e);throw jm("Field path arguments must be of type string or ",t,!1,void 0,n)}const d6=new RegExp("[~\\*/\\[\\]]");function kb(t,e,n){if(e.search(d6)>=0)throw jm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Tp(...e.split("."))._internalPath}catch{throw jm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function jm(t,e,n,r,s){const o=r&&!r.isEmpty(),u=s!==void 0;let f=`Function ${e}() called with invalid data`;n&&(f+=" (via `toFirestore()`)"),f+=". ";let h="";return(o||u)&&(h+=" (found",o&&(h+=` in field ${r}`),u&&(h+=` in document ${s}`),h+=")"),new be(le.INVALID_ARGUMENT,f+t+h)}function bR(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(e,n,r,s,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new fn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new m6(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Db("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class m6 extends _R{data(){return super.data()}}function Db(t,e){return typeof e=="string"?kb(t,e):e instanceof Tp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p6(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new be(le.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ob{}class g6 extends Ob{}function Ap(t,e,...n){let r=[];e instanceof Ob&&r.push(e),r=r.concat(n),(function(o){const u=o.filter((h=>h instanceof jb)).length,f=o.filter((h=>h instanceof Cp)).length;if(u>1||u>0&&f>0)throw new be(le.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const s of r)t=s._apply(t);return t}class Cp extends g6{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Cp(e,n,r)}_apply(e){const n=this._parse(e);return xR(e._query,n),new _u(e.firestore,e.converter,Gy(e._query,n))}_parse(e){const n=Ib(e.firestore);return(function(o,u,f,h,d,g,b){let _;if(d.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new be(le.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){UT(b,g);const C=[];for(const N of b)C.push(LT(h,o,N));_={arrayValue:{values:C}}}else _=LT(h,o,b)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||UT(b,g),_=h6(f,u,b,g==="in"||g==="not-in");return bn.create(d,g,_)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function v6(t,e,n){const r=e,s=Db("where",t);return Cp._create(s,r,n)}class jb extends Ob{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new jb(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:Oi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(s,o){let u=s;const f=o.getFlattenedFilters();for(const h of f)xR(u,h),u=Gy(u,h)})(e._query,n),new _u(e.firestore,e.converter,Gy(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function LT(t,e,n){if(typeof(n=kt(n))=="string"){if(n==="")throw new be(le.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!bC(e)&&n.indexOf("/")!==-1)throw new be(le.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(jt.fromString(n));if(!Ne.isDocumentKey(r))throw new be(le.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return eT(t,new Ne(r))}if(n instanceof fn)return eT(t,n._key);throw new be(le.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${cp(n)}.`)}function UT(t,e){if(!Array.isArray(t)||t.length===0)throw new be(le.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function xR(t,e){const n=(function(s,o){for(const u of s)for(const f of u.getFlattenedFilters())if(o.indexOf(f.op)>=0)return f.op;return null})(t.filters,(function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new be(le.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new be(le.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class y6{convertValue(e,n="none"){switch(Ma(e)){case 0:return null;case 1:return e.booleanValue;case 2:return cn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Pa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ve(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return qa(e,((s,o)=>{r[s]=this.convertValue(o,n)})),r}convertVectorValue(e){var n,r,s;const o=(s=(r=(n=e.fields)===null||n===void 0?void 0:n[Sm].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map((u=>cn(u.doubleValue)));return new Zi(o)}convertGeoPoint(e){return new Xi(cn(e.latitude),cn(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=dp(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(pf(e));default:return null}}convertTimestamp(e){const n=ja(e);return new Bt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=jt.fromString(e);yt(BC(r),9688,{name:e});const s=new gf(r.get(1),r.get(3)),o=new Ne(r.popFirst(5));return s.isEqual(n)||ks(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b6(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class jc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class No extends _R{constructor(e,n,r,s,o,u){super(e,n,r,s,u),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new im(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Db("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new be(le.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=No._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}No._jsonSchemaVersion="firestore/documentSnapshot/1.0",No._jsonSchema={type:_n("string",No._jsonSchemaVersion),bundleSource:_n("string","DocumentSnapshot"),bundleName:_n("string"),bundle:_n("string")};class im extends No{data(e={}){return super.data(e)}}class Xl{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new jc(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new im(this._firestore,this._userDataWriter,r.key,r,new jc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new be(le.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(s,o){if(s._snapshot.oldDocs.isEmpty()){let u=0;return s._snapshot.docChanges.map((f=>{const h=new im(s._firestore,s._userDataWriter,f.doc.key,f.doc,new jc(s._snapshot.mutatedKeys.has(f.doc.key),s._snapshot.fromCache),s.query.converter);return f.doc,{type:"added",doc:h,oldIndex:-1,newIndex:u++}}))}{let u=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((f=>o||f.type!==3)).map((f=>{const h=new im(s._firestore,s._userDataWriter,f.doc.key,f.doc,new jc(s._snapshot.mutatedKeys.has(f.doc.key),s._snapshot.fromCache),s.query.converter);let d=-1,g=-1;return f.type!==0&&(d=u.indexOf(f.doc.key),u=u.delete(f.doc.key)),f.type!==1&&(u=u.add(f.doc),g=u.indexOf(f.doc.key)),{type:_6(f.type),doc:h,oldIndex:d,newIndex:g}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new be(le.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Xl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=nb.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach((o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),s.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function _6(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ve(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x6(t){t=Yi(t,fn);const e=Yi(t.firestore,Bo);return n6(Ab(e),t._key).then((n=>ER(e,t,n)))}Xl._jsonSchemaVersion="firestore/querySnapshot/1.0",Xl._jsonSchema={type:_n("string",Xl._jsonSchemaVersion),bundleSource:_n("string","QuerySnapshot"),bundleName:_n("string"),bundle:_n("string")};class wR extends y6{constructor(e){super(),this.firestore=e}convertBytes(e){return new mi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new fn(this.firestore,null,n)}}function w6(t,e,n,...r){t=Yi(t,fn);const s=Yi(t.firestore,Bo),o=Ib(s);let u;return u=typeof(e=kt(e))=="string"||e instanceof Tp?f6(o,"updateDoc",t._key,e,n,r):c6(o,"updateDoc",t._key,e),Mb(s,[u.toMutation(t._key,Di.exists(!0))])}function Pb(t){return Mb(Yi(t.firestore,Bo),[new ub(t._key,Di.none())])}function Rp(t,e){const n=Yi(t.firestore,Bo),r=xu(t),s=b6(t.converter,e);return Mb(n,[u6(Ib(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Di.exists(!1))]).then((()=>r))}function Ip(t,...e){var n,r,s;t=kt(t);let o={includeMetadataChanges:!1,source:"default"},u=0;typeof e[u]!="object"||VT(e[u])||(o=e[u++]);const f={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(VT(e[u])){const b=e[u];e[u]=(n=b.next)===null||n===void 0?void 0:n.bind(b),e[u+1]=(r=b.error)===null||r===void 0?void 0:r.bind(b),e[u+2]=(s=b.complete)===null||s===void 0?void 0:s.bind(b)}let h,d,g;if(t instanceof fn)d=Yi(t.firestore,Bo),g=mp(t._key.path),h={next:b=>{e[u]&&e[u](ER(d,t,b))},error:e[u+1],complete:e[u+2]};else{const b=Yi(t,_u);d=Yi(b.firestore,Bo),g=b._query;const _=new wR(d);h={next:E=>{e[u]&&e[u](new Xl(d,_,b,E))},error:e[u+1],complete:e[u+2]},p6(t._query)}return(function(_,E,C,N){const j=new fR(N),U=new nR(E,j,C);return _.asyncQueue.enqueueAndForget((async()=>eR(await n0(_),U))),()=>{j.Ou(),_.asyncQueue.enqueueAndForget((async()=>tR(await n0(_),U)))}})(Ab(d),g,f,h)}function Mb(t,e){return(function(r,s){const o=new Ia;return r.asyncQueue.enqueueAndForget((async()=>q3(await t6(r),s,o))),o.promise})(Ab(t),e)}function ER(t,e,n){const r=n.docs.get(e._key),s=new wR(t);return new No(t,s,e._key,r,new jc(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){gu=s})(qo),ka(new Rs("firestore",((r,{instanceIdentifier:s,options:o})=>{const u=r.getProvider("app").getImmediate(),f=new Bo(new dM(r.getProvider("auth-internal")),new gM(u,r.getProvider("app-check-internal")),(function(d,g){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new be(le.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new gf(d.options.projectId,g)})(u,s),u);return o=Object.assign({useFetchStreams:n},o),f._setSettings(o),f}),"PUBLIC").setMultipleInstances(!0)),pi(z1,B1,e),pi(z1,B1,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TR="firebasestorage.googleapis.com",SR="storageBucket",E6=120*1e3,T6=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn extends ji{constructor(e,n,r=0){super(sy(e),`Firebase Storage: ${n} (${sy(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,sn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return sy(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var rn;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(rn||(rn={}));function sy(t){return"storage/"+t}function Vb(){const t="An unknown error occurred, please check the error payload for server response.";return new sn(rn.UNKNOWN,t)}function S6(t){return new sn(rn.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function A6(t){return new sn(rn.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function C6(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new sn(rn.UNAUTHENTICATED,t)}function R6(){return new sn(rn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function I6(t){return new sn(rn.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function N6(){return new sn(rn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function k6(){return new sn(rn.CANCELED,"User canceled the upload/download.")}function D6(t){return new sn(rn.INVALID_URL,"Invalid URL '"+t+"'.")}function O6(t){return new sn(rn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function j6(){return new sn(rn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+SR+"' property when initializing the app?")}function P6(){return new sn(rn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function M6(){return new sn(rn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function V6(t){return new sn(rn.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function i0(t){return new sn(rn.INVALID_ARGUMENT,t)}function AR(){return new sn(rn.APP_DELETED,"The Firebase app was deleted.")}function L6(t){return new sn(rn.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Yc(t,e){return new sn(rn.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function wc(t){throw new sn(rn.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Qr.makeFromUrl(e,n)}catch{return new Qr(e,"")}if(r.path==="")return r;throw O6(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function o(G){G.path.charAt(G.path.length-1)==="/"&&(G.path_=G.path_.slice(0,-1))}const u="(/(.*))?$",f=new RegExp("^gs://"+s+u,"i"),h={bucket:1,path:3};function d(G){G.path_=decodeURIComponent(G.path)}const g="v[A-Za-z0-9_]+",b=n.replace(/[.]/g,"\\."),_="(/([^?#]*).*)?$",E=new RegExp(`^https?://${b}/${g}/b/${s}/o${_}`,"i"),C={bucket:1,path:3},N=n===TR?"(?:storage.googleapis.com|storage.cloud.google.com)":n,j="([^?#]*)",U=new RegExp(`^https?://${N}/${s}/${j}`,"i"),z=[{regex:f,indices:h,postModify:o},{regex:E,indices:C,postModify:d},{regex:U,indices:{bucket:1,path:2},postModify:d}];for(let G=0;G<z.length;G++){const K=z[G],H=K.regex.exec(e);if(H){const A=H[K.indices.bucket];let S=H[K.indices.path];S||(S=""),r=new Qr(A,S),K.postModify(r);break}}if(r==null)throw D6(e);return r}}class U6{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z6(t,e,n){let r=1,s=null,o=null,u=!1,f=0;function h(){return f===2}let d=!1;function g(...j){d||(d=!0,e.apply(null,j))}function b(j){s=setTimeout(()=>{s=null,t(E,h())},j)}function _(){o&&clearTimeout(o)}function E(j,...U){if(d){_();return}if(j){_(),g.call(null,j,...U);return}if(h()||u){_(),g.call(null,j,...U);return}r<64&&(r*=2);let z;f===1?(f=2,z=0):z=(r+Math.random())*1e3,b(z)}let C=!1;function N(j){C||(C=!0,_(),!d&&(s!==null?(j||(f=2),clearTimeout(s),b(0)):j||(f=1)))}return b(0),o=setTimeout(()=>{u=!0,N(!0)},n),N}function B6(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F6(t){return t!==void 0}function H6(t){return typeof t=="object"&&!Array.isArray(t)}function Lb(t){return typeof t=="string"||t instanceof String}function zT(t){return Ub()&&t instanceof Blob}function Ub(){return typeof Blob<"u"}function BT(t,e,n,r){if(r<e)throw i0(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw i0(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zb(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function CR(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var ko;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(ko||(ko={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q6(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||s||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G6{constructor(e,n,r,s,o,u,f,h,d,g,b,_=!0,E=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=o,this.additionalRetryCodes_=u,this.callback_=f,this.errorCallback_=h,this.timeout_=d,this.progressCallback_=g,this.connectionFactory_=b,this.retry=_,this.isUsingEmulator=E,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((C,N)=>{this.resolve_=C,this.reject_=N,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new Sd(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const u=f=>{const h=f.loaded,d=f.lengthComputable?f.total:-1;this.progressCallback_!==null&&this.progressCallback_(h,d)};this.progressCallback_!==null&&o.addUploadProgressListener(u),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(u),this.pendingConnection_=null;const f=o.getErrorCode()===ko.NO_ERROR,h=o.getStatus();if(!f||q6(h,this.additionalRetryCodes_)&&this.retry){const g=o.getErrorCode()===ko.ABORT;r(!1,new Sd(!1,null,g));return}const d=this.successCodes_.indexOf(h)!==-1;r(!0,new Sd(d,o))})},n=(r,s)=>{const o=this.resolve_,u=this.reject_,f=s.connection;if(s.wasSuccessCode)try{const h=this.callback_(f,f.getResponse());F6(h)?o(h):o()}catch(h){u(h)}else if(f!==null){const h=Vb();h.serverResponse=f.getErrorText(),this.errorCallback_?u(this.errorCallback_(f,h)):u(h)}else if(s.canceled){const h=this.appDelete_?AR():k6();u(h)}else{const h=N6();u(h)}};this.canceled_?n(!1,new Sd(!1,null,!0)):this.backoffId_=z6(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&B6(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Sd{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function $6(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function K6(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Y6(t,e){e&&(t["X-Firebase-GMPID"]=e)}function W6(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Q6(t,e,n,r,s,o,u=!0,f=!1){const h=CR(t.urlParams),d=t.url+h,g=Object.assign({},t.headers);return Y6(g,e),$6(g,n),K6(g,o),W6(g,r),new G6(d,t.method,g,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,u,f)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X6(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Z6(...t){const e=X6();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(Ub())return new Blob(t);throw new sn(rn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function J6(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e5(t){if(typeof atob>"u")throw V6("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ii={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class ay{constructor(e,n){this.data=e,this.contentType=n||null}}function RR(t,e){switch(t){case Ii.RAW:return new ay(IR(e));case Ii.BASE64:case Ii.BASE64URL:return new ay(NR(t,e));case Ii.DATA_URL:return new ay(n5(e),r5(e))}throw Vb()}function IR(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const o=r,u=t.charCodeAt(++n);r=65536|(o&1023)<<10|u&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function t5(t){let e;try{e=decodeURIComponent(t)}catch{throw Yc(Ii.DATA_URL,"Malformed data URL.")}return IR(e)}function NR(t,e){switch(t){case Ii.BASE64:{const s=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(s||o)throw Yc(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case Ii.BASE64URL:{const s=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(s||o)throw Yc(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=e5(e)}catch(s){throw s.message.includes("polyfill")?s:Yc(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class kR{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Yc(Ii.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=i5(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function n5(t){const e=new kR(t);return e.base64?NR(Ii.BASE64,e.rest):t5(e.rest)}function r5(t){return new kR(t).contentType}function i5(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(e,n){let r=0,s="";zT(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(zT(this.data_)){const r=this.data_,s=J6(r,e,n);return s===null?null:new _a(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new _a(r,!0)}}static getBlob(...e){if(Ub()){const n=e.map(r=>r instanceof _a?r.data_:r);return new _a(Z6.apply(null,n))}else{const n=e.map(u=>Lb(u)?RR(Ii.RAW,u).data:u.data_);let r=0;n.forEach(u=>{r+=u.byteLength});const s=new Uint8Array(r);let o=0;return n.forEach(u=>{for(let f=0;f<u.length;f++)s[o++]=u[f]}),new _a(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DR(t){let e;try{e=JSON.parse(t)}catch{return null}return H6(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s5(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function a5(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function OR(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o5(t,e){return e}class br{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||o5}}let Ad=null;function l5(t){return!Lb(t)||t.length<2?t:OR(t)}function jR(){if(Ad)return Ad;const t=[];t.push(new br("bucket")),t.push(new br("generation")),t.push(new br("metageneration")),t.push(new br("name","fullPath",!0));function e(o,u){return l5(u)}const n=new br("name");n.xform=e,t.push(n);function r(o,u){return u!==void 0?Number(u):u}const s=new br("size");return s.xform=r,t.push(s),t.push(new br("timeCreated")),t.push(new br("updated")),t.push(new br("md5Hash",null,!0)),t.push(new br("cacheControl",null,!0)),t.push(new br("contentDisposition",null,!0)),t.push(new br("contentEncoding",null,!0)),t.push(new br("contentLanguage",null,!0)),t.push(new br("contentType",null,!0)),t.push(new br("metadata","customMetadata",!0)),Ad=t,Ad}function u5(t,e){function n(){const r=t.bucket,s=t.fullPath,o=new Qr(r,s);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function c5(t,e,n){const r={};r.type="file";const s=n.length;for(let o=0;o<s;o++){const u=n[o];r[u.local]=u.xform(r,e[u.server])}return u5(r,t),r}function PR(t,e,n){const r=DR(e);return r===null?null:c5(t,r,n)}function f5(t,e,n,r){const s=DR(e);if(s===null||!Lb(s.downloadTokens))return null;const o=s.downloadTokens;if(o.length===0)return null;const u=encodeURIComponent;return o.split(",").map(d=>{const g=t.bucket,b=t.fullPath,_="/b/"+u(g)+"/o/"+u(b),E=zb(_,n,r),C=CR({alt:"media",token:d});return E+C})[0]}function h5(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const o=e[s];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}class MR{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VR(t){if(!t)throw Vb()}function d5(t,e){function n(r,s){const o=PR(t,s,e);return VR(o!==null),o}return n}function m5(t,e){function n(r,s){const o=PR(t,s,e);return VR(o!==null),f5(o,s,t.host,t._protocol)}return n}function LR(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=R6():s=C6():n.getStatus()===402?s=A6(t.bucket):n.getStatus()===403?s=I6(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function p5(t){const e=LR(t);function n(r,s){let o=e(r,s);return r.getStatus()===404&&(o=S6(t.path)),o.serverResponse=s.serverResponse,o}return n}function g5(t,e,n){const r=e.fullServerUrl(),s=zb(r,t.host,t._protocol),o="GET",u=t.maxOperationRetryTime,f=new MR(s,o,m5(t,n),u);return f.errorHandler=p5(e),f}function v5(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function y5(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=v5(null,e)),r}function b5(t,e,n,r,s){const o=e.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"};function f(){let z="";for(let G=0;G<2;G++)z=z+Math.random().toString().slice(2);return z}const h=f();u["Content-Type"]="multipart/related; boundary="+h;const d=y5(e,r,s),g=h5(d,n),b="--"+h+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+g+`\r
--`+h+`\r
Content-Type: `+d.contentType+`\r
\r
`,_=`\r
--`+h+"--",E=_a.getBlob(b,r,_);if(E===null)throw P6();const C={name:d.fullPath},N=zb(o,t.host,t._protocol),j="POST",U=t.maxUploadRetryTime,M=new MR(N,j,d5(t,n),U);return M.urlParams=C,M.headers=u,M.body=E.uploadData(),M.errorHandler=LR(e),M}class _5{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ko.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ko.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ko.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s,o){if(this.sent_)throw wc("cannot .send() more than once");if(js(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),o!==void 0)for(const u in o)o.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,o[u].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw wc("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw wc("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw wc("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw wc("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class x5 extends _5{initXhr(){this.xhr_.responseType="text"}}function UR(){return new x5}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e,n){this._service=e,n instanceof Qr?this._location=n:this._location=Qr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Fo(e,n)}get root(){const e=new Qr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return OR(this._location.path)}get storage(){return this._service}get parent(){const e=s5(this._location.path);if(e===null)return null;const n=new Qr(this._location.bucket,e);return new Fo(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw L6(e)}}function zR(t,e,n){t._throwIfRoot("uploadBytes");const r=b5(t.storage,t._location,jR(),new _a(e,!0),n);return t.storage.makeRequestWithTokens(r,UR).then(s=>({metadata:s,ref:t}))}function w5(t,e,n=Ii.RAW,r){t._throwIfRoot("uploadString");const s=RR(n,e),o=Object.assign({},r);return o.contentType==null&&s.contentType!=null&&(o.contentType=s.contentType),zR(t,s.data,o)}function E5(t){t._throwIfRoot("getDownloadURL");const e=g5(t.storage,t._location,jR());return t.storage.makeRequestWithTokens(e,UR).then(n=>{if(n===null)throw M6();return n})}function T5(t,e){const n=a5(t._location.path,e),r=new Qr(t._location.bucket,n);return new Fo(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S5(t){return/^[A-Za-z]+:\/\//.test(t)}function A5(t,e){return new Fo(t,e)}function BR(t,e){if(t instanceof Bb){const n=t;if(n._bucket==null)throw j6();const r=new Fo(n,n._bucket);return e!=null?BR(r,e):r}else return e!==void 0?T5(t,e):t}function C5(t,e){if(e&&S5(e)){if(t instanceof Bb)return A5(t,e);throw i0("To use ref(service, url), the first argument must be a Storage instance.")}else return BR(t,e)}function FT(t,e){const n=e==null?void 0:e[SR];return n==null?null:Qr.makeFromBucketSpec(n,t)}function R5(t,e,n,r={}){t.host=`${e}:${n}`;const s=js(e);s&&(ip(`https://${t.host}/b`),sp("Storage",!0)),t._isUsingEmulator=!0,t._protocol=s?"https":"http";const{mockUserToken:o}=r;o&&(t._overrideAuthToken=typeof o=="string"?o:o2(o,t.app.options.projectId))}class Bb{constructor(e,n,r,s,o,u=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=o,this._isUsingEmulator=u,this._bucket=null,this._host=TR,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=E6,this._maxUploadRetryTime=T6,this._requests=new Set,s!=null?this._bucket=Qr.makeFromBucketSpec(s,this._host):this._bucket=FT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Qr.makeFromBucketSpec(this._url,e):this._bucket=FT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){BT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){BT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(_r(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Fo(this,e)}_makeRequest(e,n,r,s,o=!0){if(this._deleted)return new U6(AR());{const u=Q6(e,this._appId,r,s,n,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const HT="@firebase/storage",qT="0.13.14";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FR="storage";function I5(t,e,n){return t=kt(t),zR(t,e,n)}function N5(t,e,n,r){return t=kt(t),w5(t,e,n,r)}function HR(t){return t=kt(t),E5(t)}function qR(t,e){return t=kt(t),C5(t,e)}function k5(t=ap(),e){t=kt(t);const r=kf(t,FR).getImmediate({identifier:e}),s=B0("storage");return s&&D5(r,...s),r}function D5(t,e,n,r={}){R5(t,e,n,r)}function O5(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new Bb(n,r,s,e,qo)}function j5(){ka(new Rs(FR,O5,"PUBLIC").setMultipleInstances(!0)),pi(HT,qT,""),pi(HT,qT,"esm2017")}j5();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P5="type.googleapis.com/google.protobuf.Int64Value",M5="type.googleapis.com/google.protobuf.UInt64Value";function GR(t,e){const n={};for(const r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}function Pm(t){if(t==null)return null;if(t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&isFinite(t)||t===!0||t===!1||Object.prototype.toString.call(t)==="[object String]")return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(e=>Pm(e));if(typeof t=="function"||typeof t=="object")return GR(t,e=>Pm(e));throw new Error("Data cannot be encoded in JSON: "+t)}function ou(t){if(t==null)return t;if(t["@type"])switch(t["@type"]){case P5:case M5:{const e=Number(t.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+t);return e}default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(e=>ou(e)):typeof t=="function"||typeof t=="object"?GR(t,e=>ou(e)):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fb="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GT={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class jr extends ji{constructor(e,n,r){super(`${Fb}/${e}`,n||""),this.details=r,Object.setPrototypeOf(this,jr.prototype)}}function V5(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function Mm(t,e){let n=V5(t),r=n,s;try{const o=e&&e.error;if(o){const u=o.status;if(typeof u=="string"){if(!GT[u])return new jr("internal","internal");n=GT[u],r=u}const f=o.message;typeof f=="string"&&(r=f),s=o.details,s!==void 0&&(s=ou(s))}}catch{}return n==="ok"?null:new jr(n,r,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L5{constructor(e,n,r,s){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,_r(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=n.getImmediate({optional:!0}),this.messaging=r.getImmediate({optional:!0}),this.auth||n.get().then(o=>this.auth=o,()=>{}),this.messaging||r.get().then(o=>this.messaging=o,()=>{}),this.appCheck||s==null||s.get().then(o=>this.appCheck=o,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),r=await this.getMessagingToken(),s=await this.getAppCheckToken(e);return{authToken:n,messagingToken:r,appCheckToken:s}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s0="us-central1",U5=/^data: (.*?)(?:\n|$)/;function z5(t){let e=null;return{promise:new Promise((n,r)=>{e=setTimeout(()=>{r(new jr("deadline-exceeded","deadline-exceeded"))},t)}),cancel:()=>{e&&clearTimeout(e)}}}class B5{constructor(e,n,r,s,o=s0,u=(...f)=>fetch(...f)){this.app=e,this.fetchImpl=u,this.emulatorOrigin=null,this.contextProvider=new L5(e,n,r,s),this.cancelAllRequests=new Promise(f=>{this.deleteService=()=>Promise.resolve(f())});try{const f=new URL(o);this.customDomain=f.origin+(f.pathname==="/"?"":f.pathname),this.region=s0}catch{this.customDomain=null,this.region=o}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}function F5(t,e,n){const r=js(e);t.emulatorOrigin=`http${r?"s":""}://${e}:${n}`,r&&(ip(t.emulatorOrigin),sp("Functions",!0))}function H5(t,e,n){const r=s=>G5(t,e,s,{});return r.stream=(s,o)=>K5(t,e,s,o),r}async function q5(t,e,n,r){n["Content-Type"]="application/json";let s;try{s=await r(t,{method:"POST",body:JSON.stringify(e),headers:n})}catch{return{status:0,json:null}}let o=null;try{o=await s.json()}catch{}return{status:s.status,json:o}}async function $R(t,e){const n={},r=await t.contextProvider.getContext(e.limitedUseAppCheckTokens);return r.authToken&&(n.Authorization="Bearer "+r.authToken),r.messagingToken&&(n["Firebase-Instance-ID-Token"]=r.messagingToken),r.appCheckToken!==null&&(n["X-Firebase-AppCheck"]=r.appCheckToken),n}function G5(t,e,n,r){const s=t._url(e);return $5(t,s,n,r)}async function $5(t,e,n,r){n=Pm(n);const s={data:n},o=await $R(t,r),u=r.timeout||7e4,f=z5(u),h=await Promise.race([q5(e,s,o,t.fetchImpl),f.promise,t.cancelAllRequests]);if(f.cancel(),!h)throw new jr("cancelled","Firebase Functions instance was deleted.");const d=Mm(h.status,h.json);if(d)throw d;if(!h.json)throw new jr("internal","Response is not valid JSON object.");let g=h.json.data;if(typeof g>"u"&&(g=h.json.result),typeof g>"u")throw new jr("internal","Response is missing data field.");return{data:ou(g)}}function K5(t,e,n,r){const s=t._url(e);return Y5(t,s,n,r||{})}async function Y5(t,e,n,r){var s;n=Pm(n);const o={data:n},u=await $R(t,r);u["Content-Type"]="application/json",u.Accept="text/event-stream";let f;try{f=await t.fetchImpl(e,{method:"POST",body:JSON.stringify(o),headers:u,signal:r==null?void 0:r.signal})}catch(E){if(E instanceof Error&&E.name==="AbortError"){const N=new jr("cancelled","Request was cancelled.");return{data:Promise.reject(N),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(N)}}}}}}const C=Mm(0,null);return{data:Promise.reject(C),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(C)}}}}}}let h,d;const g=new Promise((E,C)=>{h=E,d=C});(s=r==null?void 0:r.signal)===null||s===void 0||s.addEventListener("abort",()=>{const E=new jr("cancelled","Request was cancelled.");d(E)});const b=f.body.getReader(),_=W5(b,h,d,r==null?void 0:r.signal);return{stream:{[Symbol.asyncIterator](){const E=_.getReader();return{async next(){const{value:C,done:N}=await E.read();return{value:C,done:N}},async return(){return await E.cancel(),{done:!0,value:void 0}}}}},data:g}}function W5(t,e,n,r){const s=(u,f)=>{const h=u.match(U5);if(!h)return;const d=h[1];try{const g=JSON.parse(d);if("result"in g){e(ou(g.result));return}if("message"in g){f.enqueue(ou(g.message));return}if("error"in g){const b=Mm(0,g);f.error(b),n(b);return}}catch(g){if(g instanceof jr){f.error(g),n(g);return}}},o=new TextDecoder;return new ReadableStream({start(u){let f="";return h();async function h(){if(r!=null&&r.aborted){const d=new jr("cancelled","Request was cancelled");return u.error(d),n(d),Promise.resolve()}try{const{value:d,done:g}=await t.read();if(g){f.trim()&&s(f.trim(),u),u.close();return}if(r!=null&&r.aborted){const _=new jr("cancelled","Request was cancelled");u.error(_),n(_),await t.cancel();return}f+=o.decode(d,{stream:!0});const b=f.split(`
`);f=b.pop()||"";for(const _ of b)_.trim()&&s(_.trim(),u);return h()}catch(d){const g=d instanceof jr?d:Mm(0,null);u.error(g),n(g)}}},cancel(){return t.cancel()}})}const $T="@firebase/functions",KT="0.12.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q5="auth-internal",X5="app-check-internal",Z5="messaging-internal";function J5(t){const e=(n,{instanceIdentifier:r})=>{const s=n.getProvider("app").getImmediate(),o=n.getProvider(Q5),u=n.getProvider(Z5),f=n.getProvider(X5);return new B5(s,o,u,f,r)};ka(new Rs(Fb,e,"PUBLIC").setMultipleInstances(!0)),pi($T,KT,t),pi($T,KT,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eL(t=ap(),e=s0){const r=kf(kt(t),Fb).getImmediate({identifier:e}),s=B0("functions");return s&&tL(r,...s),r}function tL(t,e,n){F5(kt(t),e,n)}function Hf(t,e,n){return H5(kt(t),e)}J5();const nL={apiKey:"AIzaSyAoMQ8oVPP5oFjw8YzgF0H1Dy4DAJmNaKM",authDomain:"dresscode-ai-32c50.firebaseapp.com",projectId:"dresscode-ai-32c50",storageBucket:"dresscode-ai-32c50.firebasestorage.app",messagingSenderId:"215593114437",appId:"1:215593114437:web:5d9c1f3161182802f37c2c"},Np=c2(nL),Eo=oM(Np),rL=new ws,Jr=i6(Np),KR=k5(Np),qf=eL(Np,"us-central1"),iL=Hf(qf,"analyzeClothingImages");async function sL(t){try{return(await iL({base64Images:t})).data.items||[]}catch(e){throw console.error("Erreur lors de l'analyse des vtements:",e),new Error("Erreur lors de l'analyse des vtements.")}}const aL=Hf(qf,"generateOutfitsFunction");async function oL(t,e,n,r){const s=new Set((e||[]).flatMap(b=>b.itemIds)),u=t.filter(b=>!s.has(b.id)).map(b=>`- ${b.analysis} (ID: ${b.id}, Cat: ${b.category}, Matire: ${b.material})`).join(`
`),f=e.map(b=>`- ${b.name} (Ensemble, ID: ${b.id})`).join(`
`),h=[u,f].filter(Boolean).join(`
`),d=r?`
**RGLE D'ANCRAGE : La tenue DOIT inclure : "${"name"in r?r.name:r.analysis} (ID: ${r.id})".**
`:"",g=`Tu es un styliste expert. Cre 3 tenues compltes et harmonieuses pour : "${n}".

Vtements disponibles :
${h}
${d}


 PRIORIT 1 - TEMPRATURE (RGLE ABSOLUE)


Analyse la mto dans le contexte et applique :

| Temprature | Rgle stricte |
|-------------|---------------|
| **< 15C** | Layering OBLIGATOIRE : Base (t-shirt/chemise) + Pull/Sweat + Manteau |
| **15-20C** | Pull, sweat, ou veste lgre suffisent |
| **20-25C** | 1 seule couche (t-shirt OU chemise lgre) |
| **> 25C** | Vtements TRS lgers uniquement. INTERDITS : jeans pais, pulls, vestes |

 **INTERDICTIONS THERMIQUES** :
- Doudoune/manteau si > 15C
- Short si < 22C
- Pull laine si > 15C
- Sandales si < 25C


 PRIORIT 2 - LAYERING (SUPERPOSITION)


**RGLES DE SUPERPOSITION VALIDES** :

 **Pull col V**  TOUJOURS avec chemise dessous (sinon nglig)
 **Pull col zipp/camionneur**  TOUJOURS avec t-shirt ou chemise dessous
 **Veste/Blazer**  Sur t-shirt, chemise, pull fin, ou col roul
 **Manteau**  Sur pull, sweat, ou veste (si trs froid)
 **Col roul**  JAMAIS avec chemise !

 **INTERDICTIONS ABSOLUES DE LAYERING** :
- JAMAIS chemise avec col roul (aberration stylistique)
- JAMAIS col V sans rien dessous en contexte formel
- JAMAIS pull pais sous veste ajuste (volume excessif)
- JAMAIS 2 cols montants ensemble (col roul + col montant)


 PRIORIT 3 - COHRENCE & HARMONIE


**STRUCTURE** : Chaque tenue = Haut + Bas + Chaussures (minimum)

**COULEURS** :
- Maximum 3 couleurs par tenue
- 1 seul motif maximum (si haut  motifs  bas uni)
- vite contrastes trop proches (bleu marine + noir)

**VARIT** :
- 3 looks visuellement diffrents
- vite de rpter le mme pantalon 3 fois si possible


 ACCESSOIRES


**OBLIGATOIRES** :
- Montre : TOUJOURS inclure si disponible dans les accessoires

**OPTIONNELS** :
- Bracelet : Peut tre ajout EN PLUS de la montre si disponible
- Ceinture : Pour pantalon classique
- charpe : Si < 10C

**IMPORTANT** : Utilise les IDs EXACTS des articles. Sois cratif dans les limites.`;try{return(await aL({prompt:g})).data.tenues}catch(b){throw console.error("Erreur gnration tenues:",b),new Error("Erreur lors de la gnration des tenues.")}}const lL=Hf(qf,"analyzeWardrobeGapsFunction");async function uL(t,e){const n={Hauts:t.filter(f=>f.category==="Hauts"),Bas:t.filter(f=>f.category==="Bas"),Chaussures:t.filter(f=>f.category==="Chaussures"),Accessoires:t.filter(f=>f.category==="Accessoires")},r=Object.entries(n).map(([f,h])=>`**${f}** (${h.length}) :
${h.map(d=>`  - ${d.analysis} (${d.color}, ${d.material})`).join(`
`)}`).join(`

`),s=t.length,o=e.length>0,u=`Tu es un expert styliste et conseiller en garde-robe avec 20 ans d'exprience. Ta mission : analyser cette garde-robe et suggrer des achats stratgiques pour maximiser la polyvalence.

 **INVENTAIRE ACTUEL** (${s} pices${o?`, ${e.length} ensembles`:""}) :

${r}

---

 **OBJECTIF DE L'ANALYSE** :
Identifier les **pices manquantes cls** qui permettront de crer le maximum de tenues diffrentes avec l'existant.

 **MTHODOLOGIE** :

1. **ANALYSE STRATGIQUE** :
   - quilibre entre catgories (ratio Hauts/Bas/Chaussures)
   - Diversit des couleurs (neutres vs. vives)
   - Polyvalence des pices existantes
   - Occasions couvertes (casual, formel, sport, etc.)
   - Saisons couvertes

2. **IDENTIFICATION DES GAPS CRITIQUES** :
   - Pices basiques manquantes (ex: chemise blanche, jean brut)
   - Couleurs absentes pour complter les palettes
   - Styles/occasions non couverts
   - Opportunits de layering (superposition)

3. **PRIORISATION** :
   - **HIGH** : Pice essentielle manquante qui dbloque 5+ nouvelles tenues
   - **MEDIUM** : Pice utile qui ajoute de la varit (3-5 tenues)
   - **LOW** : Pice "nice-to-have" pour occasions spcifiques

4. **SUGGESTIONS D'ACHATS** (4-6 pices maximum) :
   - Focus sur la **POLYVALENCE** : chaque suggestion doit se marier avec plusieurs pices existantes
   - Inclure des **pices basiques intemporelles** avant les tendances
   - quilibrer les priorits (au moins 1-2 high priority)
   - Pour chaque suggestion, fournis :
     * Une description prcise (ex: "Chemise oxford bleu clair en coton")
     * La raison stratgique (ex: "Se marie avec vos 3 pantalons et cre une base smart-casual")
     * Un prix estim raliste en 
     * Une requte de recherche optimise (mots-cls pour Zalando/autres boutiques)

---

 **RGLES CRITIQUES** :

- NE suggre PAS de pices similaires  l'existant
- Favorise les neutres (blanc, noir, beige, navy) pour maximiser les combinaisons
- vite les pices trs spcifiques/occasionnelles (sauf si totalement absentes)
- Sois concis mais prcis dans les descriptions
- Le champ \`searchQuery\` doit contenir des mots-cls optimiss pour recherche en ligne (ex: "chemise oxford homme coton bleu clair" ou "pull col V mrinos noir homme")

Retourne ton analyse au format JSON.`;try{return(await lL({prompt:u})).data}catch(f){throw console.error("Erreur analyse garde-robe:",f),new Error("Erreur lors de l'analyse de la garde-robe.")}}const cL=Hf(qf,"generateVacationPlanFunction");async function fL(t,e,n,r,s){const o=new Set((e||[]).flatMap(_=>_.itemIds)),f=t.filter(_=>!o.has(_.id)).map(_=>`- ${_.analysis} (ID: ${_.id}, Cat: ${_.category}, Couleur: ${_.color}, Matire: ${_.material})`).join(`
`),h=e.map(_=>`- ${_.name} (Ensemble, ID: ${_.id})`).join(`
`),d=[f,h].filter(Boolean).join(`
`),g=s?`
**CONTRAINTE POIDS** : Le poids total NE DOIT PAS dpasser ${s} kg. Estime le poids moyen (t-shirt ~150g, jean ~600g, pull ~400g, chaussures ~800g).`:"",b=`Tu es un expert en prparation de valise. Cre une **CAPSULE WARDROBE** optimise pour ${n} jours.

**DESTINATION & CONTEXTE** : ${r}

**PRINCIPE CAPSULE WARDROBE** : Slectionner peu de pices qui se combinent TOUTES entre elles pour crer un maximum de tenues diffrentes.

**RGLES CRITIQUES** :

1. **LOGIQUE THERMIQUE (PRIORIT ABSOLUE)** :

   | Temprature | Vtements adapts |
   |-------------|-------------------|
   | **> 30C (TRS CHAUD)** | T-shirts lgers, shorts, robes, sandales. INTERDITS : jeans, pulls, vestes |
   | **25-30C (CHAUD)** | T-shirts, pantalons lgers, une chemise, baskets lgres |
   | **15-25C (DOUX)** | Mix lger + 1 pull fin ou veste lgre |
   | **10-15C (FRAIS)** | Pulls, pantalons, veste, chaussures fermes |
   | **< 10C (FROID)** | Layering complet : sous-couche + pull + manteau chaud |

2. **INTERDICTIONS ABSOLUES** :
   -  Doudoune/veste ski/polaire paisse si > 20C
   -  Shorts si < 15C
   -  Sandales si < 18C
   -  Pulls en laine si > 25C
   -  Jeans pais si > 32C

3. **MATIRES ADAPTES** :
   - **Climat chaud** : Coton lger, lin, matires respirantes uniquement
   - **Climat froid** : Laine, polaire, matires isolantes
   - **Voyage** : Privilgier matires qui ne se froissent pas

4. **HARMONIE CAPSULE (pour que tout se combine)** :
   - **Palette de couleurs** : Maximum 4-5 couleurs qui vont ensemble (ex: bleu marine, blanc, beige, une couleur d'accent)
   - **Motifs** : Maximum 2 pices  motifs dans toute la valise, le reste UNI
   - **Neutralit** : Au moins 50% de pices en couleurs neutres (noir, blanc, gris, beige, marine)

5. **QUANTITS RECOMMANDES pour ${n} jours** :
   - Hauts : ${Math.min(n+1,7)} pices max (on peut reporter un t-shirt)
   - Bas : ${Math.min(Math.ceil(n/2)+1,4)} pices max
   - Chaussures : 2-3 paires max
   - Accessoires : selon besoin

6. **LAYERING INTELLIGENT (si climat variable)** :
   - Prvoir des couches qui s'empilent : t-shirt  chemise/pull lger  veste
   - Chaque couche doit tre portable seule ET en combinaison

${g}

**VTEMENTS DISPONIBLES** :
${d}

**SORTIE** :
- Un titre accrocheur pour cette valise
- Un rsum expliquant tes choix (mto, style, combinaisons possibles)
- La liste des articles avec leur ID exact`;try{return(await cL({prompt:b})).data}catch(_){throw console.error("Erreur gnration plan vacances:",_),new Error("Erreur lors de la gnration du plan vacances.")}}Hf(qf,"generateVisualOutfit");const hL=()=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})}),dL=()=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})}),a0=()=>y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mx-auto h-12 w-12",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:[y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.827 6.175A2.31 2.31 0 015.186 7.23c-.38.054-.757.112-1.134.175C2.999 7.58 2.25 8.507 2.25 9.574V18a2.25 2.25 0 002.25 2.25h15A2.25 2.25 0 0021.75 18V9.574c0-1.067-.75-1.994-1.802-2.169a47.865 47.865 0 00-1.134-.175 2.31 2.31 0 01-1.64-1.055l-.822-1.316a2.192 2.192 0 00-1.736-1.039 48.776 48.776 0 00-5.232 0 2.192 2.192 0 00-1.736 1.039l-.821 1.316z"}),y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 12.75a4.5 4.5 0 11-9 0 4.5 4.5 0 019 0zM18.75 10.5h.008v.008h-.008V10.5z"})]}),mL=({className:t="h-8 w-8 text-gold"})=>y.jsxs("svg",{className:`animate-spin ${t}`,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[y.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),y.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),_f=()=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:y.jsx("path",{d:"M10 3a1 1 0 011 1v1h1a1 1 0 110 2h-1v1a1 1 0 11-2 0V7H8a1 1 0 110-2h1V4a1 1 0 011-1zM4 9a1 1 0 011 1v1h1a1 1 0 110 2H5v1a1 1 0 11-2 0v-1H2a1 1 0 110-2h1v-1a1 1 0 011-1zM16 9a1 1 0 011 1v1h1a1 1 0 110 2h-1v1a1 1 0 11-2 0v-1h-1a1 1 0 110-2h1v-1a1 1 0 011-1z"})}),Hb=()=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),YT=()=>y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:[y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12.5 6.6C12.5 5.54903 11.651 4.7 10.6 4.7C9.54903 4.7 8.7 5.54903 8.7 6.6V8.7C8.7 9.36274 9.23726 9.9 9.9 9.9H14.1C14.7627 9.9 15.3 9.36274 15.3 8.7V7.8"}),y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.10879 16.5C4.43285 14.805 5.86246 13.5 7.6 13.5H16.4C18.1375 13.5 19.5672 14.805 19.8912 16.5L20.5 19.5H3.5L4.10879 16.5Z"})]}),YR=()=>y.jsx("svg",{className:"w-8 h-8 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.79 4 4 0 1.132-.497 2.16-1.32 2.874-.823.714-1.823 1.126-2.904 1.126H12v.01M12 17h.01"})}),pL=()=>y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:[y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 4h6l2 5-2 1-3-4-3 4-2-1 2-5z"}),y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 10v10m-3-10v10h6V10"})]}),gL=()=>y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:[y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 4h12v10H6z"}),y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 14v6h-2L6 4"}),y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 14v6h2l1-16"})]}),vL=()=>y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:[y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 18h16l-3-6H7L4 18z"}),y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10 12V7a2 2 0 012-2h0a2 2 0 012 2v5"})]}),yL=()=>y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:[y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9 9 0 000-18 9 9 0 000 18z"}),y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 11.5l-3.5 3.5"}),y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.5 8.5l-3.5 3.5"})]}),Wc=({className:t="h-5 w-5"})=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"3",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"})}),bL=()=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),kp=()=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.536a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})}),qb=()=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:y.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),_L=()=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.19 8.688a4.5 4.5 0 011.242 7.244l-4.5 4.5a4.5 4.5 0 01-6.364-6.364l1.757-1.757m13.35-.622l1.757-1.757a4.5 4.5 0 00-6.364-6.364l-4.5 4.5a4.5 4.5 0 001.242 7.244"})}),WR=()=>y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[y.jsx("path",{d:"M8 3a1 1 0 000 2h4a1 1 0 100-2H8z"}),y.jsx("path",{fillRule:"evenodd",d:"M5 4a3 3 0 00-3 3v6a3 3 0 003 3h10a3 3 0 003-3V7a3 3 0 00-3-3H5zm-1 3a1 1 0 011-1h10a1 1 0 011 1v6a1 1 0 01-1 1H5a1 1 0 01-1-1V7z",clipRule:"evenodd"})]}),Vm=({className:t="h-5 w-5"})=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.318 6.318a4.5 4.5 0 016.364 0L12 7.5l1.318-1.182a4.5 4.5 0 116.364 6.364L12 18.75l-7.682-7.682a4.5 4.5 0 010-6.364z"})}),lu=({className:t="h-5 w-5"})=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,viewBox:"0 0 20 20",fill:"currentColor",children:y.jsx("path",{fillRule:"evenodd",d:"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z",clipRule:"evenodd"})}),QR=({className:t="h-5 w-5"})=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),XR=({className:t="h-5 w-5"})=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 4h13M3 8h9m-9 4h6m4 0l4-4m0 0l4 4m-4-4v12"})}),xL=({theme:t,toggleTheme:e,children:n,isModalOpen:r=!1})=>y.jsx("header",{className:`bg-snow/80 dark:bg-onyx/80 backdrop-blur-lg border-b border-black/5 dark:border-white/10 sticky top-0 transition-all ${r?"z-10":"z-50"}`,children:y.jsxs("div",{className:"container mx-auto px-4 lg:px-8 h-24 flex justify-between items-center",children:[y.jsxs("h1",{className:"text-4xl font-serif font-bold tracking-wider text-raisin-black dark:text-snow",children:["Dress ",y.jsx("span",{className:"text-gold",children:"Me"})," Up!"]}),y.jsxs("div",{className:"flex items-center gap-4",children:[n,y.jsx("button",{onClick:e,className:"p-2 rounded-full text-gray-500 dark:text-gray-400 hover:bg-black/5 dark:hover:bg-white/10 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gold dark:focus:ring-offset-onyx transition-colors","aria-label":"Changer le thme",children:t==="light"?y.jsx(dL,{}):y.jsx(hL,{})})]})]})}),wL="DRESSMEUP2025",WT=({user:t})=>{var G,K,H;const[e,n]=D.useState(""),[r,s]=D.useState(""),[o,u]=D.useState(""),[f,h]=D.useState(!1),[d,g]=D.useState(!1),[b,_]=D.useState(null),[E,C]=D.useState(!1),N=D.useRef(null);D.useEffect(()=>{const A=S=>{N.current&&!N.current.contains(S.target)&&g(!1)};return d&&document.addEventListener("mousedown",A),()=>{document.removeEventListener("mousedown",A)}},[d]);const j=async A=>{try{return(await x6(xu(Jr,"allowedEmails",A.toLowerCase()))).exists()}catch(S){return console.error("Erreur vrification email:",S),!1}},U=async()=>{C(!0),_(null);try{const S=(await gP(Eo,rL)).user.email;if(!S){await Jv(Eo),_("Impossible de rcuprer l'email du compte Google.");return}if(!await j(S)){await Jv(Eo),_("Dsol, cette application est en beta ferme. Votre email n'est pas autoris.");return}}catch(A){console.error("Erreur de connexion Google:",A),_(A.message||"Erreur de connexion")}finally{C(!1)}},M=async A=>{A.preventDefault(),C(!0),_(null);try{if(f){if(o!==wL){_("Code d'invitation invalide."),C(!1);return}if(!await j(e)){_("Votre email n'est pas dans la liste des beta testeurs."),C(!1);return}await $j(Eo,e,r)}else{if(!await j(e)){_("Votre email n'est pas autoris  accder  la beta."),C(!1);return}await Kj(Eo,e,r)}}catch(S){console.error("Erreur d'authentification:",S),S.code==="auth/user-not-found"?_("Aucun compte trouv avec cet email."):S.code==="auth/wrong-password"?_("Mot de passe incorrect."):S.code==="auth/email-already-in-use"?_("Cet email est dj utilis."):S.code==="auth/weak-password"?_("Le mot de passe doit contenir au moins 6 caractres."):_(S.message||"Erreur d'authentification")}finally{C(!1)}},z=async()=>{try{await Jv(Eo)}catch(A){console.error("Erreur de dconnexion:",A)}};return t?y.jsxs("div",{className:"relative",ref:N,children:[y.jsxs("button",{onClick:()=>g(!d),className:"flex items-center gap-3 px-4 py-2 rounded-full bg-gold/10 hover:bg-gold/20 transition-all border border-gold/30",children:[y.jsx("div",{className:"w-8 h-8 rounded-full bg-gold flex items-center justify-center text-onyx font-bold",children:(((G=t.displayName)==null?void 0:G[0])||((K=t.email)==null?void 0:K[0])||"U").toUpperCase()}),y.jsx("span",{className:"hidden md:block text-sm font-medium",children:t.displayName||((H=t.email)==null?void 0:H.split("@")[0])})]}),d&&y.jsxs("div",{className:"absolute right-0 mt-2 w-64 bg-white dark:bg-raisin-black rounded-xl shadow-2xl border border-black/10 dark:border-white/10 overflow-hidden z-50",children:[y.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:[y.jsx("p",{className:"text-sm font-medium",children:t.displayName||"Utilisateur"}),y.jsx("p",{className:"text-xs text-gray-500 mt-1",children:t.email}),y.jsx("span",{className:"inline-block mt-2 px-2 py-0.5 bg-gold/20 text-gold text-xs font-semibold rounded-full",children:"Beta Testeur"})]}),y.jsxs("button",{onClick:z,className:"w-full px-4 py-3 text-left text-sm hover:bg-red-50 dark:hover:bg-red-900/20 text-red-600 dark:text-red-400 transition-colors flex items-center gap-2",children:[y.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"Dconnexion"]})]})]}):y.jsxs("div",{className:"bg-white dark:bg-raisin-black rounded-2xl shadow-2xl p-8 max-w-md mx-auto border border-black/5 dark:border-white/10",children:[y.jsxs("div",{className:"text-center mb-8",children:[y.jsxs("h2",{className:"text-3xl font-serif font-bold mb-2",children:["Dress ",y.jsx("span",{className:"text-gold",children:"Me"})," Up!"]}),y.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:f?"Rejoindre la beta":"Bienvenue"}),y.jsx("div",{className:"mt-3 inline-block px-3 py-1 bg-gold/10 border border-gold/30 rounded-full",children:y.jsx("span",{className:"text-xs font-semibold text-gold",children:" Beta prive"})})]}),b&&y.jsx("div",{className:"mb-6 p-4 bg-red-500/10 border border-red-500/30 rounded-xl text-red-500 text-sm",children:b}),y.jsx("button",{onClick:U,disabled:E,className:"w-full mb-6 px-6 py-4 bg-white dark:bg-gray-800 border-2 border-gray-200 dark:border-gray-700 rounded-xl hover:border-gold hover:shadow-lg hover:shadow-gold/20 transition-all duration-300 flex items-center justify-center gap-3 group disabled:opacity-50 disabled:cursor-not-allowed",children:E?y.jsxs("svg",{className:"animate-spin h-5 w-5",fill:"none",viewBox:"0 0 24 24",children:[y.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),y.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):y.jsxs(y.Fragment,{children:[y.jsxs("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",children:[y.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),y.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),y.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),y.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),y.jsx("span",{className:"font-semibold group-hover:text-gold transition-colors",children:"Continuer avec Google"})]})}),y.jsxs("div",{className:"relative my-6",children:[y.jsx("div",{className:"absolute inset-0 flex items-center",children:y.jsx("div",{className:"w-full border-t border-gray-200 dark:border-gray-700"})}),y.jsx("div",{className:"relative flex justify-center text-sm",children:y.jsx("span",{className:"px-4 bg-white dark:bg-raisin-black text-gray-500",children:"Ou avec email"})})]}),y.jsxs("form",{onSubmit:M,className:"space-y-4",children:[y.jsx("input",{type:"email",placeholder:"Email",value:e,onChange:A=>n(A.target.value),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-700 rounded-xl focus:ring-2 focus:ring-gold focus:border-transparent bg-white dark:bg-gray-800 transition-all",required:!0}),y.jsx("input",{type:"password",placeholder:"Mot de passe",value:r,onChange:A=>s(A.target.value),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-700 rounded-xl focus:ring-2 focus:ring-gold focus:border-transparent bg-white dark:bg-gray-800 transition-all",required:!0}),f&&y.jsx("input",{type:"text",placeholder:"Code d'invitation",value:o,onChange:A=>u(A.target.value.toUpperCase()),className:"w-full px-4 py-3 border border-gold/50 dark:border-gold/30 rounded-xl focus:ring-2 focus:ring-gold focus:border-transparent bg-gold/5 dark:bg-gold/10 transition-all placeholder:text-gold/50",required:!0}),y.jsx("button",{type:"submit",disabled:E,className:"w-full px-6 py-4 bg-gradient-to-r from-gold to-gold-dark text-onyx rounded-xl hover:shadow-lg hover:shadow-gold/30 transition-all duration-300 font-bold disabled:opacity-50 disabled:cursor-not-allowed",children:E?y.jsxs("svg",{className:"animate-spin h-5 w-5 mx-auto",fill:"none",viewBox:"0 0 24 24",children:[y.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),y.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):f?"Rejoindre la beta":"Se connecter"})]}),y.jsx("button",{onClick:()=>{h(!f),_(null)},className:"w-full mt-6 text-sm text-gray-500 hover:text-gold transition-colors",children:f?"Dj un compte ? Se connecter":"Pas encore de compte ? Rejoindre la beta"})]})},Gb=D.createContext({});function $b(t){const e=D.useRef(null);return e.current===null&&(e.current=t()),e.current}const Dp=D.createContext(null),Kb=D.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class EL extends D.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function TL({children:t,isPresent:e}){const n=D.useId(),r=D.useRef(null),s=D.useRef({width:0,height:0,top:0,left:0}),{nonce:o}=D.useContext(Kb);return D.useInsertionEffect(()=>{const{width:u,height:f,top:h,left:d}=s.current;if(e||!r.current||!u||!f)return;r.current.dataset.motionPopId=n;const g=document.createElement("style");return o&&(g.nonce=o),document.head.appendChild(g),g.sheet&&g.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${f}px !important;
            top: ${h}px !important;
            left: ${d}px !important;
          }
        `),()=>{document.head.removeChild(g)}},[e]),y.jsx(EL,{isPresent:e,childRef:r,sizeRef:s,children:D.cloneElement(t,{ref:r})})}const SL=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:o,mode:u})=>{const f=$b(AL),h=D.useId(),d=D.useCallback(b=>{f.set(b,!0);for(const _ of f.values())if(!_)return;r&&r()},[f,r]),g=D.useMemo(()=>({id:h,initial:e,isPresent:n,custom:s,onExitComplete:d,register:b=>(f.set(b,!1),()=>f.delete(b))}),o?[Math.random(),d]:[n,d]);return D.useMemo(()=>{f.forEach((b,_)=>f.set(_,!1))},[n]),D.useEffect(()=>{!n&&!f.size&&r&&r()},[n]),u==="popLayout"&&(t=y.jsx(TL,{isPresent:n,children:t})),y.jsx(Dp.Provider,{value:g,children:t})};function AL(){return new Map}function ZR(t=!0){const e=D.useContext(Dp);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,o=D.useId();D.useEffect(()=>{t&&s(o)},[t]);const u=D.useCallback(()=>t&&r&&r(o),[o,r,t]);return!n&&r?[!1,u]:[!0]}const Cd=t=>t.key||"";function QT(t){const e=[];return D.Children.forEach(t,n=>{D.isValidElement(n)&&e.push(n)}),e}const Yb=typeof window<"u",JR=Yb?D.useLayoutEffect:D.useEffect,CL=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:o="sync",propagate:u=!1})=>{const[f,h]=ZR(u),d=D.useMemo(()=>QT(t),[t]),g=u&&!f?[]:d.map(Cd),b=D.useRef(!0),_=D.useRef(d),E=$b(()=>new Map),[C,N]=D.useState(d),[j,U]=D.useState(d);JR(()=>{b.current=!1,_.current=d;for(let G=0;G<j.length;G++){const K=Cd(j[G]);g.includes(K)?E.delete(K):E.get(K)!==!0&&E.set(K,!1)}},[j,g.length,g.join("-")]);const M=[];if(d!==C){let G=[...d];for(let K=0;K<j.length;K++){const H=j[K],A=Cd(H);g.includes(A)||(G.splice(K,0,H),M.push(H))}o==="wait"&&M.length&&(G=M),U(QT(G)),N(d);return}const{forceRender:z}=D.useContext(Gb);return y.jsx(y.Fragment,{children:j.map(G=>{const K=Cd(G),H=u&&!f?!1:d===j||g.includes(K),A=()=>{if(E.has(K))E.set(K,!0);else return;let S=!0;E.forEach(I=>{I||(S=!1)}),S&&(z==null||z(),U(_.current),u&&(h==null||h()),r&&r())};return y.jsx(SL,{isPresent:H,initial:!b.current||n?void 0:!1,custom:H?void 0:e,presenceAffectsLayout:s,mode:o,onExitComplete:H?void 0:A,children:G},K)})})},Xr=t=>t;let eI=Xr;function Wb(t){let e;return()=>(e===void 0&&(e=t()),e)}const uu=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},As=t=>t*1e3,Cs=t=>t/1e3,RL={useManualTiming:!1};function IL(t){let e=new Set,n=new Set,r=!1,s=!1;const o=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1};function f(d){o.has(d)&&(h.schedule(d),t()),d(u)}const h={schedule:(d,g=!1,b=!1)=>{const E=b&&r?e:n;return g&&o.add(d),E.has(d)||E.add(d),d},cancel:d=>{n.delete(d),o.delete(d)},process:d=>{if(u=d,r){s=!0;return}r=!0,[e,n]=[n,e],e.forEach(f),e.clear(),r=!1,s&&(s=!1,h.process(d))}};return h}const Rd=["read","resolveKeyframes","update","preRender","render","postRender"],NL=40;function tI(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,u=Rd.reduce((U,M)=>(U[M]=IL(o),U),{}),{read:f,resolveKeyframes:h,update:d,preRender:g,render:b,postRender:_}=u,E=()=>{const U=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(U-s.timestamp,NL),1),s.timestamp=U,s.isProcessing=!0,f.process(s),h.process(s),d.process(s),g.process(s),b.process(s),_.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(E))},C=()=>{n=!0,r=!0,s.isProcessing||t(E)};return{schedule:Rd.reduce((U,M)=>{const z=u[M];return U[M]=(G,K=!1,H=!1)=>(n||C(),z.schedule(G,K,H)),U},{}),cancel:U=>{for(let M=0;M<Rd.length;M++)u[Rd[M]].cancel(U)},state:s,steps:u}}const{schedule:Ft,cancel:Ua,state:$n,steps:oy}=tI(typeof requestAnimationFrame<"u"?requestAnimationFrame:Xr,!0),nI=D.createContext({strict:!1}),XT={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},cu={};for(const t in XT)cu[t]={isEnabled:e=>XT[t].some(n=>!!e[n])};function kL(t){for(const e in t)cu[e]={...cu[e],...t[e]}}const DL=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Lm(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||DL.has(t)}let rI=t=>!Lm(t);function OL(t){t&&(rI=e=>e.startsWith("on")?!Lm(e):t(e))}try{OL(require("@emotion/is-prop-valid").default)}catch{}function jL(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(rI(s)||n===!0&&Lm(s)||!e&&!Lm(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}function PL(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,s)=>s==="create"?t:(e.has(s)||e.set(s,t(s)),e.get(s))})}const Op=D.createContext({});function xf(t){return typeof t=="string"||Array.isArray(t)}function jp(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Qb=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Xb=["initial",...Qb];function Pp(t){return jp(t.animate)||Xb.some(e=>xf(t[e]))}function iI(t){return!!(Pp(t)||t.variants)}function ML(t,e){if(Pp(t)){const{initial:n,animate:r}=t;return{initial:n===!1||xf(n)?n:void 0,animate:xf(r)?r:void 0}}return t.inherit!==!1?e:{}}function VL(t){const{initial:e,animate:n}=ML(t,D.useContext(Op));return D.useMemo(()=>({initial:e,animate:n}),[ZT(e),ZT(n)])}function ZT(t){return Array.isArray(t)?t.join(" "):t}const LL=Symbol.for("motionComponentSymbol");function Bl(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function UL(t,e,n){return D.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Bl(n)&&(n.current=r))},[e])}const Zb=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),zL="framerAppearId",sI="data-"+Zb(zL),{schedule:Jb}=tI(queueMicrotask,!1),aI=D.createContext({});function BL(t,e,n,r,s){var o,u;const{visualElement:f}=D.useContext(Op),h=D.useContext(nI),d=D.useContext(Dp),g=D.useContext(Kb).reducedMotion,b=D.useRef(null);r=r||h.renderer,!b.current&&r&&(b.current=r(t,{visualState:e,parent:f,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:g}));const _=b.current,E=D.useContext(aI);_&&!_.projection&&s&&(_.type==="html"||_.type==="svg")&&FL(b.current,n,s,E);const C=D.useRef(!1);D.useInsertionEffect(()=>{_&&C.current&&_.update(n,d)});const N=n[sI],j=D.useRef(!!N&&!(!((o=window.MotionHandoffIsComplete)===null||o===void 0)&&o.call(window,N))&&((u=window.MotionHasOptimisedAnimation)===null||u===void 0?void 0:u.call(window,N)));return JR(()=>{_&&(C.current=!0,window.MotionIsMounted=!0,_.updateFeatures(),Jb.render(_.render),j.current&&_.animationState&&_.animationState.animateChanges())}),D.useEffect(()=>{_&&(!j.current&&_.animationState&&_.animationState.animateChanges(),j.current&&(queueMicrotask(()=>{var U;(U=window.MotionHandoffMarkAsComplete)===null||U===void 0||U.call(window,N)}),j.current=!1))}),_}function FL(t,e,n,r){const{layoutId:s,layout:o,drag:u,dragConstraints:f,layoutScroll:h,layoutRoot:d}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:oI(t.parent)),t.projection.setOptions({layoutId:s,layout:o,alwaysMeasureLayout:!!u||f&&Bl(f),visualElement:t,animationType:typeof o=="string"?o:"both",initialPromotionConfig:r,layoutScroll:h,layoutRoot:d})}function oI(t){if(t)return t.options.allowProjection!==!1?t.projection:oI(t.parent)}function HL({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:s}){var o,u;t&&kL(t);function f(d,g){let b;const _={...D.useContext(Kb),...d,layoutId:qL(d)},{isStatic:E}=_,C=VL(d),N=r(d,E);if(!E&&Yb){GL();const j=$L(_);b=j.MeasureLayout,C.visualElement=BL(s,N,_,e,j.ProjectionNode)}return y.jsxs(Op.Provider,{value:C,children:[b&&C.visualElement?y.jsx(b,{visualElement:C.visualElement,..._}):null,n(s,d,UL(N,C.visualElement,g),N,E,C.visualElement)]})}f.displayName=`motion.${typeof s=="string"?s:`create(${(u=(o=s.displayName)!==null&&o!==void 0?o:s.name)!==null&&u!==void 0?u:""})`}`;const h=D.forwardRef(f);return h[LL]=s,h}function qL({layoutId:t}){const e=D.useContext(Gb).id;return e&&t!==void 0?e+"-"+t:t}function GL(t,e){D.useContext(nI).strict}function $L(t){const{drag:e,layout:n}=cu;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const KL=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function e_(t){return typeof t!="string"||t.includes("-")?!1:!!(KL.indexOf(t)>-1||/[A-Z]/u.test(t))}function JT(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function t_(t,e,n,r){if(typeof e=="function"){const[s,o]=JT(r);e=e(n!==void 0?n:t.custom,s,o)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,o]=JT(r);e=e(n!==void 0?n:t.custom,s,o)}return e}const o0=t=>Array.isArray(t),YL=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),WL=t=>o0(t)?t[t.length-1]||0:t,ur=t=>!!(t&&t.getVelocity);function sm(t){const e=ur(t)?t.get():t;return YL(e)?e.toValue():e}function QL({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,s,o){const u={latestValues:XL(r,s,o,t),renderState:e()};return n&&(u.onMount=f=>n({props:r,current:f,...u}),u.onUpdate=f=>n(f)),u}const lI=t=>(e,n)=>{const r=D.useContext(Op),s=D.useContext(Dp),o=()=>QL(t,e,r,s);return n?o():$b(o)};function XL(t,e,n,r){const s={},o=r(t,{});for(const _ in o)s[_]=sm(o[_]);let{initial:u,animate:f}=t;const h=Pp(t),d=iI(t);e&&d&&!h&&t.inherit!==!1&&(u===void 0&&(u=e.initial),f===void 0&&(f=e.animate));let g=n?n.initial===!1:!1;g=g||u===!1;const b=g?f:u;if(b&&typeof b!="boolean"&&!jp(b)){const _=Array.isArray(b)?b:[b];for(let E=0;E<_.length;E++){const C=t_(t,_[E]);if(C){const{transitionEnd:N,transition:j,...U}=C;for(const M in U){let z=U[M];if(Array.isArray(z)){const G=g?z.length-1:0;z=z[G]}z!==null&&(s[M]=z)}for(const M in N)s[M]=N[M]}}}return s}const wu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ko=new Set(wu),uI=t=>e=>typeof e=="string"&&e.startsWith(t),cI=uI("--"),ZL=uI("var(--"),n_=t=>ZL(t)?JL.test(t.split("/*")[0].trim()):!1,JL=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,fI=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Os=(t,e,n)=>n>e?e:n<t?t:n,Eu={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},wf={...Eu,transform:t=>Os(0,1,t)},Id={...Eu,default:1},Gf=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ga=Gf("deg"),Ji=Gf("%"),Pe=Gf("px"),eU=Gf("vh"),tU=Gf("vw"),eS={...Ji,parse:t=>Ji.parse(t)/100,transform:t=>Ji.transform(t*100)},nU={borderWidth:Pe,borderTopWidth:Pe,borderRightWidth:Pe,borderBottomWidth:Pe,borderLeftWidth:Pe,borderRadius:Pe,radius:Pe,borderTopLeftRadius:Pe,borderTopRightRadius:Pe,borderBottomRightRadius:Pe,borderBottomLeftRadius:Pe,width:Pe,maxWidth:Pe,height:Pe,maxHeight:Pe,top:Pe,right:Pe,bottom:Pe,left:Pe,padding:Pe,paddingTop:Pe,paddingRight:Pe,paddingBottom:Pe,paddingLeft:Pe,margin:Pe,marginTop:Pe,marginRight:Pe,marginBottom:Pe,marginLeft:Pe,backgroundPositionX:Pe,backgroundPositionY:Pe},rU={rotate:ga,rotateX:ga,rotateY:ga,rotateZ:ga,scale:Id,scaleX:Id,scaleY:Id,scaleZ:Id,skew:ga,skewX:ga,skewY:ga,distance:Pe,translateX:Pe,translateY:Pe,translateZ:Pe,x:Pe,y:Pe,z:Pe,perspective:Pe,transformPerspective:Pe,opacity:wf,originX:eS,originY:eS,originZ:Pe},tS={...Eu,transform:Math.round},r_={...nU,...rU,zIndex:tS,size:Pe,fillOpacity:wf,strokeOpacity:wf,numOctaves:tS},iU={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},sU=wu.length;function aU(t,e,n){let r="",s=!0;for(let o=0;o<sU;o++){const u=wu[o],f=t[u];if(f===void 0)continue;let h=!0;if(typeof f=="number"?h=f===(u.startsWith("scale")?1:0):h=parseFloat(f)===0,!h||n){const d=fI(f,r_[u]);if(!h){s=!1;const g=iU[u]||u;r+=`${g}(${d}) `}n&&(e[u]=d)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function i_(t,e,n){const{style:r,vars:s,transformOrigin:o}=t;let u=!1,f=!1;for(const h in e){const d=e[h];if(Ko.has(h)){u=!0;continue}else if(cI(h)){s[h]=d;continue}else{const g=fI(d,r_[h]);h.startsWith("origin")?(f=!0,o[h]=g):r[h]=g}}if(e.transform||(u||n?r.transform=aU(e,t.transform,n):r.transform&&(r.transform="none")),f){const{originX:h="50%",originY:d="50%",originZ:g=0}=o;r.transformOrigin=`${h} ${d} ${g}`}}const oU={offset:"stroke-dashoffset",array:"stroke-dasharray"},lU={offset:"strokeDashoffset",array:"strokeDasharray"};function uU(t,e,n=1,r=0,s=!0){t.pathLength=1;const o=s?oU:lU;t[o.offset]=Pe.transform(-r);const u=Pe.transform(e),f=Pe.transform(n);t[o.array]=`${u} ${f}`}function nS(t,e,n){return typeof t=="string"?t:Pe.transform(e+n*t)}function cU(t,e,n){const r=nS(e,t.x,t.width),s=nS(n,t.y,t.height);return`${r} ${s}`}function s_(t,{attrX:e,attrY:n,attrScale:r,originX:s,originY:o,pathLength:u,pathSpacing:f=1,pathOffset:h=0,...d},g,b){if(i_(t,d,b),g){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:_,style:E,dimensions:C}=t;_.transform&&(C&&(E.transform=_.transform),delete _.transform),C&&(s!==void 0||o!==void 0||E.transform)&&(E.transformOrigin=cU(C,s!==void 0?s:.5,o!==void 0?o:.5)),e!==void 0&&(_.x=e),n!==void 0&&(_.y=n),r!==void 0&&(_.scale=r),u!==void 0&&uU(_,u,f,h,!1)}const a_=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),hI=()=>({...a_(),attrs:{}}),o_=t=>typeof t=="string"&&t.toLowerCase()==="svg";function dI(t,{style:e,vars:n},r,s){Object.assign(t.style,e,s&&s.getProjectionStyles(r));for(const o in n)t.style.setProperty(o,n[o])}const mI=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function pI(t,e,n,r){dI(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(mI.has(s)?s:Zb(s),e.attrs[s])}const Um={};function fU(t){Object.assign(Um,t)}function gI(t,{layout:e,layoutId:n}){return Ko.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Um[t]||t==="opacity")}function l_(t,e,n){var r;const{style:s}=t,o={};for(const u in s)(ur(s[u])||e.style&&ur(e.style[u])||gI(u,t)||((r=n==null?void 0:n.getValue(u))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(o[u]=s[u]);return o}function vI(t,e,n){const r=l_(t,e,n);for(const s in t)if(ur(t[s])||ur(e[s])){const o=wu.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[o]=t[s]}return r}function hU(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const rS=["x","y","width","height","cx","cy","r"],dU={useVisualState:lI({scrapeMotionValuesFromProps:vI,createRenderState:hI,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:s})=>{if(!n)return;let o=!!t.drag;if(!o){for(const f in s)if(Ko.has(f)){o=!0;break}}if(!o)return;let u=!e;if(e)for(let f=0;f<rS.length;f++){const h=rS[f];t[h]!==e[h]&&(u=!0)}u&&Ft.read(()=>{hU(n,r),Ft.render(()=>{s_(r,s,o_(n.tagName),t.transformTemplate),pI(n,r)})})}})},mU={useVisualState:lI({scrapeMotionValuesFromProps:l_,createRenderState:a_})};function yI(t,e,n){for(const r in e)!ur(e[r])&&!gI(r,n)&&(t[r]=e[r])}function pU({transformTemplate:t},e){return D.useMemo(()=>{const n=a_();return i_(n,e,t),Object.assign({},n.vars,n.style)},[e])}function gU(t,e){const n=t.style||{},r={};return yI(r,n,t),Object.assign(r,pU(t,e)),r}function vU(t,e){const n={},r=gU(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}function yU(t,e,n,r){const s=D.useMemo(()=>{const o=hI();return s_(o,e,o_(r),t.transformTemplate),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};yI(o,t.style,t),s.style={...o,...s.style}}return s}function bU(t=!1){return(n,r,s,{latestValues:o},u)=>{const h=(e_(n)?yU:vU)(r,o,u,n),d=jL(r,typeof n=="string",t),g=n!==D.Fragment?{...d,...h,ref:s}:{},{children:b}=r,_=D.useMemo(()=>ur(b)?b.get():b,[b]);return D.createElement(n,{...g,children:_})}}function _U(t,e){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const u={...e_(r)?dU:mU,preloadedFeatures:t,useRender:bU(s),createVisualElement:e,Component:r};return HL(u)}}function bI(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function Mp(t,e,n){const r=t.getProps();return t_(r,e,n!==void 0?n:r.custom,t)}const xU=Wb(()=>window.ScrollTimeline!==void 0);class wU{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(s=>{if(xU()&&s.attachTimeline)return s.attachTimeline(e);if(typeof n=="function")return n(s)});return()=>{r.forEach((s,o)=>{s&&s(),this.animations[o].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class EU extends wU{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function u_(t,e){return t?t[e]||t.default||t:void 0}const l0=2e4;function _I(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<l0;)e+=n,r=t.next(e);return e>=l0?1/0:e}function c_(t){return typeof t=="function"}function iS(t,e){t.timeline=e,t.onfinish=null}const f_=t=>Array.isArray(t)&&typeof t[0]=="number",TU={linearEasing:void 0};function SU(t,e){const n=Wb(t);return()=>{var r;return(r=TU[e])!==null&&r!==void 0?r:n()}}const zm=SU(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),xI=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let o=0;o<s;o++)r+=t(uu(0,s-1,o))+", ";return`linear(${r.substring(0,r.length-2)})`};function wI(t){return!!(typeof t=="function"&&zm()||!t||typeof t=="string"&&(t in u0||zm())||f_(t)||Array.isArray(t)&&t.every(wI))}const Pc=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,u0={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Pc([0,.65,.55,1]),circOut:Pc([.55,0,1,.45]),backIn:Pc([.31,.01,.66,-.59]),backOut:Pc([.33,1.53,.69,.99])};function EI(t,e){if(t)return typeof t=="function"&&zm()?xI(t,e):f_(t)?Pc(t):Array.isArray(t)?t.map(n=>EI(n,e)||u0.easeOut):u0[t]}const Si={x:!1,y:!1};function TI(){return Si.x||Si.y}function AU(t,e,n){var r;if(t instanceof Element)return[t];if(typeof t=="string"){let s=document;const o=(r=void 0)!==null&&r!==void 0?r:s.querySelectorAll(t);return o?Array.from(o):[]}return Array.from(t)}function SI(t,e){const n=AU(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function sS(t){return e=>{e.pointerType==="touch"||TI()||t(e)}}function CU(t,e,n={}){const[r,s,o]=SI(t,n),u=sS(f=>{const{target:h}=f,d=e(f);if(typeof d!="function"||!h)return;const g=sS(b=>{d(b),h.removeEventListener("pointerleave",g)});h.addEventListener("pointerleave",g,s)});return r.forEach(f=>{f.addEventListener("pointerenter",u,s)}),o}const AI=(t,e)=>e?t===e?!0:AI(t,e.parentElement):!1,h_=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,RU=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function IU(t){return RU.has(t.tagName)||t.tabIndex!==-1}const Mc=new WeakSet;function aS(t){return e=>{e.key==="Enter"&&t(e)}}function ly(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const NU=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=aS(()=>{if(Mc.has(n))return;ly(n,"down");const s=aS(()=>{ly(n,"up")}),o=()=>ly(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",o,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function oS(t){return h_(t)&&!TI()}function kU(t,e,n={}){const[r,s,o]=SI(t,n),u=f=>{const h=f.currentTarget;if(!oS(f)||Mc.has(h))return;Mc.add(h);const d=e(f),g=(E,C)=>{window.removeEventListener("pointerup",b),window.removeEventListener("pointercancel",_),!(!oS(E)||!Mc.has(h))&&(Mc.delete(h),typeof d=="function"&&d(E,{success:C}))},b=E=>{g(E,n.useGlobalTarget||AI(h,E.target))},_=E=>{g(E,!1)};window.addEventListener("pointerup",b,s),window.addEventListener("pointercancel",_,s)};return r.forEach(f=>{!IU(f)&&f.getAttribute("tabindex")===null&&(f.tabIndex=0),(n.useGlobalTarget?window:f).addEventListener("pointerdown",u,s),f.addEventListener("focus",d=>NU(d,s),s)}),o}function DU(t){return t==="x"||t==="y"?Si[t]?null:(Si[t]=!0,()=>{Si[t]=!1}):Si.x||Si.y?null:(Si.x=Si.y=!0,()=>{Si.x=Si.y=!1})}const CI=new Set(["width","height","top","left","right","bottom",...wu]);let am;function OU(){am=void 0}const es={now:()=>(am===void 0&&es.set($n.isProcessing||RL.useManualTiming?$n.timestamp:performance.now()),am),set:t=>{am=t,queueMicrotask(OU)}};function d_(t,e){t.indexOf(e)===-1&&t.push(e)}function m_(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class p_{constructor(){this.subscriptions=[]}add(e){return d_(this.subscriptions,e),()=>m_(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let o=0;o<s;o++){const u=this.subscriptions[o];u&&u(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function RI(t,e){return e?t*(1e3/e):0}const lS=30,jU=t=>!isNaN(parseFloat(t));class PU{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{const o=es.now();this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=es.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=jU(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new p_);const r=this.events[e].add(n);return e==="change"?()=>{r(),Ft.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=es.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>lS)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,lS);return RI(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ef(t,e){return new PU(t,e)}function MU(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Ef(n))}function VU(t,e){const n=Mp(t,e);let{transitionEnd:r={},transition:s={},...o}=n||{};o={...o,...r};for(const u in o){const f=WL(o[u]);MU(t,u,f)}}function LU(t){return!!(ur(t)&&t.add)}function c0(t,e){const n=t.getValue("willChange");if(LU(n))return n.add(e)}function II(t){return t.props[sI]}const NI=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,UU=1e-7,zU=12;function BU(t,e,n,r,s){let o,u,f=0;do u=e+(n-e)/2,o=NI(u,r,s)-t,o>0?n=u:e=u;while(Math.abs(o)>UU&&++f<zU);return u}function $f(t,e,n,r){if(t===e&&n===r)return Xr;const s=o=>BU(o,0,1,t,n);return o=>o===0||o===1?o:NI(s(o),e,r)}const kI=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,DI=t=>e=>1-t(1-e),OI=$f(.33,1.53,.69,.99),g_=DI(OI),jI=kI(g_),PI=t=>(t*=2)<1?.5*g_(t):.5*(2-Math.pow(2,-10*(t-1))),v_=t=>1-Math.sin(Math.acos(t)),MI=DI(v_),VI=kI(v_),LI=t=>/^0[^.\s]+$/u.test(t);function FU(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||LI(t):!0}const Qc=t=>Math.round(t*1e5)/1e5,y_=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function HU(t){return t==null}const qU=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,b_=(t,e)=>n=>!!(typeof n=="string"&&qU.test(n)&&n.startsWith(t)||e&&!HU(n)&&Object.prototype.hasOwnProperty.call(n,e)),UI=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,o,u,f]=r.match(y_);return{[t]:parseFloat(s),[e]:parseFloat(o),[n]:parseFloat(u),alpha:f!==void 0?parseFloat(f):1}},GU=t=>Os(0,255,t),uy={...Eu,transform:t=>Math.round(GU(t))},Io={test:b_("rgb","red"),parse:UI("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+uy.transform(t)+", "+uy.transform(e)+", "+uy.transform(n)+", "+Qc(wf.transform(r))+")"};function $U(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const f0={test:b_("#"),parse:$U,transform:Io.transform},Fl={test:b_("hsl","hue"),parse:UI("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Ji.transform(Qc(e))+", "+Ji.transform(Qc(n))+", "+Qc(wf.transform(r))+")"},sr={test:t=>Io.test(t)||f0.test(t)||Fl.test(t),parse:t=>Io.test(t)?Io.parse(t):Fl.test(t)?Fl.parse(t):f0.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Io.transform(t):Fl.transform(t)},KU=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function YU(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(y_))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(KU))===null||n===void 0?void 0:n.length)||0)>0}const zI="number",BI="color",WU="var",QU="var(",uS="${}",XU=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Tf(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let o=0;const f=e.replace(XU,h=>(sr.test(h)?(r.color.push(o),s.push(BI),n.push(sr.parse(h))):h.startsWith(QU)?(r.var.push(o),s.push(WU),n.push(h)):(r.number.push(o),s.push(zI),n.push(parseFloat(h))),++o,uS)).split(uS);return{values:n,split:f,indexes:r,types:s}}function FI(t){return Tf(t).values}function HI(t){const{split:e,types:n}=Tf(t),r=e.length;return s=>{let o="";for(let u=0;u<r;u++)if(o+=e[u],s[u]!==void 0){const f=n[u];f===zI?o+=Qc(s[u]):f===BI?o+=sr.transform(s[u]):o+=s[u]}return o}}const ZU=t=>typeof t=="number"?0:t;function JU(t){const e=FI(t);return HI(t)(e.map(ZU))}const za={test:YU,parse:FI,createTransformer:HI,getAnimatableNone:JU},e9=new Set(["brightness","contrast","saturate","opacity"]);function t9(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(y_)||[];if(!r)return t;const s=n.replace(r,"");let o=e9.has(e)?1:0;return r!==n&&(o*=100),e+"("+o+s+")"}const n9=/\b([a-z-]*)\(.*?\)/gu,h0={...za,getAnimatableNone:t=>{const e=t.match(n9);return e?e.map(t9).join(" "):t}},r9={...r_,color:sr,backgroundColor:sr,outlineColor:sr,fill:sr,stroke:sr,borderColor:sr,borderTopColor:sr,borderRightColor:sr,borderBottomColor:sr,borderLeftColor:sr,filter:h0,WebkitFilter:h0},__=t=>r9[t];function qI(t,e){let n=__(t);return n!==h0&&(n=za),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const i9=new Set(["auto","none","0"]);function s9(t,e,n){let r=0,s;for(;r<t.length&&!s;){const o=t[r];typeof o=="string"&&!i9.has(o)&&Tf(o).values.length&&(s=t[r]),r++}if(s&&n)for(const o of e)t[o]=qI(n,s)}const cS=t=>t===Eu||t===Pe,fS=(t,e)=>parseFloat(t.split(", ")[e]),hS=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/u);if(s)return fS(s[1],e);{const o=r.match(/^matrix\((.+)\)$/u);return o?fS(o[1],t):0}},a9=new Set(["x","y","z"]),o9=wu.filter(t=>!a9.has(t));function l9(t){const e=[];return o9.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const fu={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:hS(4,13),y:hS(5,14)};fu.translateX=fu.x;fu.translateY=fu.y;const Do=new Set;let d0=!1,m0=!1;function GI(){if(m0){const t=Array.from(Do).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=l9(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([o,u])=>{var f;(f=r.getValue(o))===null||f===void 0||f.set(u)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}m0=!1,d0=!1,Do.forEach(t=>t.complete()),Do.clear()}function $I(){Do.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(m0=!0)})}function u9(){$I(),GI()}class x_{constructor(e,n,r,s,o,u=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=o,this.isAsync=u}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Do.add(this),d0||(d0=!0,Ft.read($I),Ft.resolveKeyframes(GI))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;for(let o=0;o<e.length;o++)if(e[o]===null)if(o===0){const u=s==null?void 0:s.get(),f=e[e.length-1];if(u!==void 0)e[0]=u;else if(r&&n){const h=r.readValue(n,f);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=f),s&&u===void 0&&s.set(e[0])}else e[o]=e[o-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Do.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Do.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const KI=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),c9=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function f9(t){const e=c9.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function YI(t,e,n=1){const[r,s]=f9(t);if(!r)return;const o=window.getComputedStyle(e).getPropertyValue(r);if(o){const u=o.trim();return KI(u)?parseFloat(u):u}return n_(s)?YI(s,e,n+1):s}const WI=t=>e=>e.test(t),h9={test:t=>t==="auto",parse:t=>t},QI=[Eu,Pe,Ji,ga,tU,eU,h9],dS=t=>QI.find(WI(t));class XI extends x_{constructor(e,n,r,s,o){super(e,n,r,s,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let h=0;h<e.length;h++){let d=e[h];if(typeof d=="string"&&(d=d.trim(),n_(d))){const g=YI(d,n.current);g!==void 0&&(e[h]=g),h===e.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!CI.has(r)||e.length!==2)return;const[s,o]=e,u=dS(s),f=dS(o);if(u!==f)if(cS(u)&&cS(f))for(let h=0;h<e.length;h++){const d=e[h];typeof d=="string"&&(e[h]=parseFloat(d))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)FU(e[s])&&r.push(s);r.length&&s9(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=fu[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:s}=this;if(!n||!n.current)return;const o=n.getValue(r);o&&o.jump(this.measuredOrigin,!1);const u=s.length-1,f=s[u];s[u]=fu[r](n.measureViewportBox(),window.getComputedStyle(n.current)),f!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=f),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([h,d])=>{n.getValue(h).set(d)}),this.resolveNoneKeyframes()}}const mS=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(za.test(t)||t==="0")&&!t.startsWith("url("));function d9(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function m9(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const o=t[t.length-1],u=mS(s,e),f=mS(o,e);return!u||!f?!1:d9(t)||(n==="spring"||c_(n))&&r}const p9=t=>t!==null;function Vp(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(p9),o=e&&n!=="loop"&&e%2===1?0:s.length-1;return!o||r===void 0?s[o]:r}const g9=40;class ZI{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:u="loop",...f}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=es.now(),this.options={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:o,repeatType:u,...f},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>g9?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&u9(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=es.now(),this.hasAttemptedResolve=!0;const{name:r,type:s,velocity:o,delay:u,onComplete:f,onUpdate:h,isGenerator:d}=this.options;if(!d&&!m9(e,r,s,o))if(u)this.options.duration=0;else{h&&h(Vp(e,this.options,n)),f&&f(),this.resolveFinishedPromise();return}const g=this.initPlayback(e,n);g!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...g},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const Yt=(t,e,n)=>t+(e-t)*n;function cy(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function v9({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,o=0,u=0;if(!e)s=o=u=n;else{const f=n<.5?n*(1+e):n+e-n*e,h=2*n-f;s=cy(h,f,t+1/3),o=cy(h,f,t),u=cy(h,f,t-1/3)}return{red:Math.round(s*255),green:Math.round(o*255),blue:Math.round(u*255),alpha:r}}function Bm(t,e){return n=>n>0?e:t}const fy=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},y9=[f0,Io,Fl],b9=t=>y9.find(e=>e.test(t));function pS(t){const e=b9(t);if(!e)return!1;let n=e.parse(t);return e===Fl&&(n=v9(n)),n}const gS=(t,e)=>{const n=pS(t),r=pS(e);if(!n||!r)return Bm(t,e);const s={...n};return o=>(s.red=fy(n.red,r.red,o),s.green=fy(n.green,r.green,o),s.blue=fy(n.blue,r.blue,o),s.alpha=Yt(n.alpha,r.alpha,o),Io.transform(s))},_9=(t,e)=>n=>e(t(n)),Kf=(...t)=>t.reduce(_9),p0=new Set(["none","hidden"]);function x9(t,e){return p0.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function w9(t,e){return n=>Yt(t,e,n)}function w_(t){return typeof t=="number"?w9:typeof t=="string"?n_(t)?Bm:sr.test(t)?gS:S9:Array.isArray(t)?JI:typeof t=="object"?sr.test(t)?gS:E9:Bm}function JI(t,e){const n=[...t],r=n.length,s=t.map((o,u)=>w_(o)(o,e[u]));return o=>{for(let u=0;u<r;u++)n[u]=s[u](o);return n}}function E9(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=w_(t[s])(t[s],e[s]));return s=>{for(const o in r)n[o]=r[o](s);return n}}function T9(t,e){var n;const r=[],s={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const u=e.types[o],f=t.indexes[u][s[u]],h=(n=t.values[f])!==null&&n!==void 0?n:0;r[o]=h,s[u]++}return r}const S9=(t,e)=>{const n=za.createTransformer(e),r=Tf(t),s=Tf(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?p0.has(t)&&!s.values.length||p0.has(e)&&!r.values.length?x9(t,e):Kf(JI(T9(r,s),s.values),n):Bm(t,e)};function eN(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Yt(t,e,n):w_(t)(t,e)}const A9=5;function tN(t,e,n){const r=Math.max(e-A9,0);return RI(n-t(r),e-r)}const nn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},hy=.001;function C9({duration:t=nn.duration,bounce:e=nn.bounce,velocity:n=nn.velocity,mass:r=nn.mass}){let s,o,u=1-e;u=Os(nn.minDamping,nn.maxDamping,u),t=Os(nn.minDuration,nn.maxDuration,Cs(t)),u<1?(s=d=>{const g=d*u,b=g*t,_=g-n,E=g0(d,u),C=Math.exp(-b);return hy-_/E*C},o=d=>{const b=d*u*t,_=b*n+n,E=Math.pow(u,2)*Math.pow(d,2)*t,C=Math.exp(-b),N=g0(Math.pow(d,2),u);return(-s(d)+hy>0?-1:1)*((_-E)*C)/N}):(s=d=>{const g=Math.exp(-d*t),b=(d-n)*t+1;return-hy+g*b},o=d=>{const g=Math.exp(-d*t),b=(n-d)*(t*t);return g*b});const f=5/t,h=I9(s,o,f);if(t=As(t),isNaN(h))return{stiffness:nn.stiffness,damping:nn.damping,duration:t};{const d=Math.pow(h,2)*r;return{stiffness:d,damping:u*2*Math.sqrt(r*d),duration:t}}}const R9=12;function I9(t,e,n){let r=n;for(let s=1;s<R9;s++)r=r-t(r)/e(r);return r}function g0(t,e){return t*Math.sqrt(1-e*e)}const N9=["duration","bounce"],k9=["stiffness","damping","mass"];function vS(t,e){return e.some(n=>t[n]!==void 0)}function D9(t){let e={velocity:nn.velocity,stiffness:nn.stiffness,damping:nn.damping,mass:nn.mass,isResolvedFromDuration:!1,...t};if(!vS(t,k9)&&vS(t,N9))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,o=2*Os(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:nn.mass,stiffness:s,damping:o}}else{const n=C9(t);e={...e,...n,mass:nn.mass},e.isResolvedFromDuration=!0}return e}function nN(t=nn.visualDuration,e=nn.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const o=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],f={done:!1,value:o},{stiffness:h,damping:d,mass:g,duration:b,velocity:_,isResolvedFromDuration:E}=D9({...n,velocity:-Cs(n.velocity||0)}),C=_||0,N=d/(2*Math.sqrt(h*g)),j=u-o,U=Cs(Math.sqrt(h/g)),M=Math.abs(j)<5;r||(r=M?nn.restSpeed.granular:nn.restSpeed.default),s||(s=M?nn.restDelta.granular:nn.restDelta.default);let z;if(N<1){const K=g0(U,N);z=H=>{const A=Math.exp(-N*U*H);return u-A*((C+N*U*j)/K*Math.sin(K*H)+j*Math.cos(K*H))}}else if(N===1)z=K=>u-Math.exp(-U*K)*(j+(C+U*j)*K);else{const K=U*Math.sqrt(N*N-1);z=H=>{const A=Math.exp(-N*U*H),S=Math.min(K*H,300);return u-A*((C+N*U*j)*Math.sinh(S)+K*j*Math.cosh(S))/K}}const G={calculatedDuration:E&&b||null,next:K=>{const H=z(K);if(E)f.done=K>=b;else{let A=0;N<1&&(A=K===0?As(C):tN(z,K,H));const S=Math.abs(A)<=r,I=Math.abs(u-H)<=s;f.done=S&&I}return f.value=f.done?u:H,f},toString:()=>{const K=Math.min(_I(G),l0),H=xI(A=>G.next(K*A).value,K,30);return K+"ms "+H}};return G}function yS({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:o=500,modifyTarget:u,min:f,max:h,restDelta:d=.5,restSpeed:g}){const b=t[0],_={done:!1,value:b},E=S=>f!==void 0&&S<f||h!==void 0&&S>h,C=S=>f===void 0?h:h===void 0||Math.abs(f-S)<Math.abs(h-S)?f:h;let N=n*e;const j=b+N,U=u===void 0?j:u(j);U!==j&&(N=U-b);const M=S=>-N*Math.exp(-S/r),z=S=>U+M(S),G=S=>{const I=M(S),L=z(S);_.done=Math.abs(I)<=d,_.value=_.done?U:L};let K,H;const A=S=>{E(_.value)&&(K=S,H=nN({keyframes:[_.value,C(_.value)],velocity:tN(z,S,_.value),damping:s,stiffness:o,restDelta:d,restSpeed:g}))};return A(0),{calculatedDuration:null,next:S=>{let I=!1;return!H&&K===void 0&&(I=!0,G(S),A(S)),K!==void 0&&S>=K?H.next(S-K):(!I&&G(S),_)}}}const O9=$f(.42,0,1,1),j9=$f(0,0,.58,1),rN=$f(.42,0,.58,1),P9=t=>Array.isArray(t)&&typeof t[0]!="number",M9={linear:Xr,easeIn:O9,easeInOut:rN,easeOut:j9,circIn:v_,circInOut:VI,circOut:MI,backIn:g_,backInOut:jI,backOut:OI,anticipate:PI},bS=t=>{if(f_(t)){eI(t.length===4);const[e,n,r,s]=t;return $f(e,n,r,s)}else if(typeof t=="string")return M9[t];return t};function V9(t,e,n){const r=[],s=n||eN,o=t.length-1;for(let u=0;u<o;u++){let f=s(t[u],t[u+1]);if(e){const h=Array.isArray(e)?e[u]||Xr:e;f=Kf(h,f)}r.push(f)}return r}function L9(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const o=t.length;if(eI(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const f=V9(e,r,s),h=f.length,d=g=>{if(u&&g<t[0])return e[0];let b=0;if(h>1)for(;b<t.length-2&&!(g<t[b+1]);b++);const _=uu(t[b],t[b+1],g);return f[b](_)};return n?g=>d(Os(t[0],t[o-1],g)):d}function U9(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=uu(0,e,r);t.push(Yt(n,1,s))}}function z9(t){const e=[0];return U9(e,t.length-1),e}function B9(t,e){return t.map(n=>n*e)}function F9(t,e){return t.map(()=>e||rN).splice(0,t.length-1)}function Fm({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=P9(r)?r.map(bS):bS(r),o={done:!1,value:e[0]},u=B9(n&&n.length===e.length?n:z9(e),t),f=L9(u,e,{ease:Array.isArray(s)?s:F9(e,s)});return{calculatedDuration:t,next:h=>(o.value=f(h),o.done=h>=t,o)}}const H9=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Ft.update(e,!0),stop:()=>Ua(e),now:()=>$n.isProcessing?$n.timestamp:es.now()}},q9={decay:yS,inertia:yS,tween:Fm,keyframes:Fm,spring:nN},G9=t=>t/100;class E_ extends ZI{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:h}=this.options;h&&h()};const{name:n,motionValue:r,element:s,keyframes:o}=this.options,u=(s==null?void 0:s.KeyframeResolver)||x_,f=(h,d)=>this.onKeyframesResolved(h,d);this.resolver=new u(o,f,n,r,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:o,velocity:u=0}=this.options,f=c_(n)?n:q9[n]||Fm;let h,d;f!==Fm&&typeof e[0]!="number"&&(h=Kf(G9,eN(e[0],e[1])),e=[0,100]);const g=f({...this.options,keyframes:e});o==="mirror"&&(d=f({...this.options,keyframes:[...e].reverse(),velocity:-u})),g.calculatedDuration===null&&(g.calculatedDuration=_I(g));const{calculatedDuration:b}=g,_=b+s,E=_*(r+1)-s;return{generator:g,mirroredGenerator:d,mapPercentToKeyframes:h,calculatedDuration:b,resolvedDuration:_,totalDuration:E}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:S}=this.options;return{done:!0,value:S[S.length-1]}}const{finalKeyframe:s,generator:o,mirroredGenerator:u,mapPercentToKeyframes:f,keyframes:h,calculatedDuration:d,totalDuration:g,resolvedDuration:b}=r;if(this.startTime===null)return o.next(0);const{delay:_,repeat:E,repeatType:C,repeatDelay:N,onUpdate:j}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-g/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const U=this.currentTime-_*(this.speed>=0?1:-1),M=this.speed>=0?U<0:U>g;this.currentTime=Math.max(U,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=g);let z=this.currentTime,G=o;if(E){const S=Math.min(this.currentTime,g)/b;let I=Math.floor(S),L=S%1;!L&&S>=1&&(L=1),L===1&&I--,I=Math.min(I,E+1),!!(I%2)&&(C==="reverse"?(L=1-L,N&&(L-=N/b)):C==="mirror"&&(G=u)),z=Os(0,1,L)*b}const K=M?{done:!1,value:h[0]}:G.next(z);f&&(K.value=f(K.value));let{done:H}=K;!M&&d!==null&&(H=this.speed>=0?this.currentTime>=g:this.currentTime<=0);const A=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&H);return A&&s!==void 0&&(K.value=Vp(h,this.options,s)),j&&j(K.value),A&&this.finish(),K}get duration(){const{resolved:e}=this;return e?Cs(e.calculatedDuration):0}get time(){return Cs(this.currentTime)}set time(e){e=As(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Cs(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=H9,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),n&&n();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const $9=new Set(["opacity","clipPath","filter","transform"]);function K9(t,e,n,{delay:r=0,duration:s=300,repeat:o=0,repeatType:u="loop",ease:f="easeInOut",times:h}={}){const d={[e]:n};h&&(d.offset=h);const g=EI(f,s);return Array.isArray(g)&&(d.easing=g),t.animate(d,{delay:r,duration:s,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:o+1,direction:u==="reverse"?"alternate":"normal"})}const Y9=Wb(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Hm=10,W9=2e4;function Q9(t){return c_(t.type)||t.type==="spring"||!wI(t.ease)}function X9(t,e){const n=new E_({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const s=[];let o=0;for(;!r.done&&o<W9;)r=n.sample(o),s.push(r.value),o+=Hm;return{times:void 0,keyframes:s,duration:o-Hm,ease:"linear"}}const iN={anticipate:PI,backInOut:jI,circInOut:VI};function Z9(t){return t in iN}class _S extends ZI{constructor(e){super(e);const{name:n,motionValue:r,element:s,keyframes:o}=this.options;this.resolver=new XI(o,(u,f)=>this.onKeyframesResolved(u,f),n,r,s),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:s,ease:o,type:u,motionValue:f,name:h,startTime:d}=this.options;if(!f.owner||!f.owner.current)return!1;if(typeof o=="string"&&zm()&&Z9(o)&&(o=iN[o]),Q9(this.options)){const{onComplete:b,onUpdate:_,motionValue:E,element:C,...N}=this.options,j=X9(e,N);e=j.keyframes,e.length===1&&(e[1]=e[0]),r=j.duration,s=j.times,o=j.ease,u="keyframes"}const g=K9(f.owner.current,h,e,{...this.options,duration:r,times:s,ease:o});return g.startTime=d??this.calcStartTime(),this.pendingTimeline?(iS(g,this.pendingTimeline),this.pendingTimeline=void 0):g.onfinish=()=>{const{onComplete:b}=this.options;f.set(Vp(e,this.options,n)),b&&b(),this.cancel(),this.resolveFinishedPromise()},{animation:g,duration:r,times:s,type:u,ease:o,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return Cs(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return Cs(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=As(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return Xr;const{animation:r}=n;iS(r,e)}return Xr}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:s,type:o,ease:u,times:f}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:d,onUpdate:g,onComplete:b,element:_,...E}=this.options,C=new E_({...E,keyframes:r,duration:s,type:o,ease:u,times:f,isGenerator:!0}),N=As(this.time);d.setWithVelocity(C.sample(N-Hm).value,C.sample(N).value,Hm)}const{onStop:h}=this.options;h&&h(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:s,repeatType:o,damping:u,type:f}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:h,transformTemplate:d}=n.owner.getProps();return Y9()&&r&&$9.has(r)&&!h&&!d&&!s&&o!=="mirror"&&u!==0&&f!=="inertia"}}const J9={type:"spring",stiffness:500,damping:25,restSpeed:10},e8=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),t8={type:"keyframes",duration:.8},n8={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},r8=(t,{keyframes:e})=>e.length>2?t8:Ko.has(t)?t.startsWith("scale")?e8(e[1]):J9:n8;function i8({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:o,repeatType:u,repeatDelay:f,from:h,elapsed:d,...g}){return!!Object.keys(g).length}const T_=(t,e,n,r={},s,o)=>u=>{const f=u_(r,t)||{},h=f.delay||r.delay||0;let{elapsed:d=0}=r;d=d-As(h);let g={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...f,delay:-d,onUpdate:_=>{e.set(_),f.onUpdate&&f.onUpdate(_)},onComplete:()=>{u(),f.onComplete&&f.onComplete()},name:t,motionValue:e,element:o?void 0:s};i8(f)||(g={...g,...r8(t,g)}),g.duration&&(g.duration=As(g.duration)),g.repeatDelay&&(g.repeatDelay=As(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let b=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(g.duration=0,g.delay===0&&(b=!0)),b&&!o&&e.get()!==void 0){const _=Vp(g.keyframes,f);if(_!==void 0)return Ft.update(()=>{g.onUpdate(_),g.onComplete()}),new EU([])}return!o&&_S.supports(g)?new _S(g):new E_(g)};function s8({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function sN(t,e,{delay:n=0,transitionOverride:r,type:s}={}){var o;let{transition:u=t.getDefaultTransition(),transitionEnd:f,...h}=e;r&&(u=r);const d=[],g=s&&t.animationState&&t.animationState.getState()[s];for(const b in h){const _=t.getValue(b,(o=t.latestValues[b])!==null&&o!==void 0?o:null),E=h[b];if(E===void 0||g&&s8(g,b))continue;const C={delay:n,...u_(u||{},b)};let N=!1;if(window.MotionHandoffAnimation){const U=II(t);if(U){const M=window.MotionHandoffAnimation(U,b,Ft);M!==null&&(C.startTime=M,N=!0)}}c0(t,b),_.start(T_(b,_,E,t.shouldReduceMotion&&CI.has(b)?{type:!1}:C,t,N));const j=_.animation;j&&d.push(j)}return f&&Promise.all(d).then(()=>{Ft.update(()=>{f&&VU(t,f)})}),d}function v0(t,e,n={}){var r;const s=Mp(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:o=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(o=n.transitionOverride);const u=s?()=>Promise.all(sN(t,s,n)):()=>Promise.resolve(),f=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:g=0,staggerChildren:b,staggerDirection:_}=o;return a8(t,e,g+d,b,_,n)}:()=>Promise.resolve(),{when:h}=o;if(h){const[d,g]=h==="beforeChildren"?[u,f]:[f,u];return d().then(()=>g())}else return Promise.all([u(),f(n.delay)])}function a8(t,e,n=0,r=0,s=1,o){const u=[],f=(t.variantChildren.size-1)*r,h=s===1?(d=0)=>d*r:(d=0)=>f-d*r;return Array.from(t.variantChildren).sort(o8).forEach((d,g)=>{d.notify("AnimationStart",e),u.push(v0(d,e,{...o,delay:n+h(g)}).then(()=>d.notify("AnimationComplete",e)))}),Promise.all(u)}function o8(t,e){return t.sortNodePosition(e)}function l8(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(o=>v0(t,o,n));r=Promise.all(s)}else if(typeof e=="string")r=v0(t,e,n);else{const s=typeof e=="function"?Mp(t,e,n.custom):e;r=Promise.all(sN(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const u8=Xb.length;function aN(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?aN(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<u8;n++){const r=Xb[n],s=t.props[r];(xf(s)||s===!1)&&(e[r]=s)}return e}const c8=[...Qb].reverse(),f8=Qb.length;function h8(t){return e=>Promise.all(e.map(({animation:n,options:r})=>l8(t,n,r)))}function d8(t){let e=h8(t),n=xS(),r=!0;const s=h=>(d,g)=>{var b;const _=Mp(t,g,h==="exit"?(b=t.presenceContext)===null||b===void 0?void 0:b.custom:void 0);if(_){const{transition:E,transitionEnd:C,...N}=_;d={...d,...N,...C}}return d};function o(h){e=h(t)}function u(h){const{props:d}=t,g=aN(t.parent)||{},b=[],_=new Set;let E={},C=1/0;for(let j=0;j<f8;j++){const U=c8[j],M=n[U],z=d[U]!==void 0?d[U]:g[U],G=xf(z),K=U===h?M.isActive:null;K===!1&&(C=j);let H=z===g[U]&&z!==d[U]&&G;if(H&&r&&t.manuallyAnimateOnMount&&(H=!1),M.protectedKeys={...E},!M.isActive&&K===null||!z&&!M.prevProp||jp(z)||typeof z=="boolean")continue;const A=m8(M.prevProp,z);let S=A||U===h&&M.isActive&&!H&&G||j>C&&G,I=!1;const L=Array.isArray(z)?z:[z];let V=L.reduce(s(U),{});K===!1&&(V={});const{prevResolvedValues:O={}}=M,P={...O,...V},xe=se=>{S=!0,_.has(se)&&(I=!0,_.delete(se)),M.needsAnimating[se]=!0;const fe=t.getValue(se);fe&&(fe.liveStyle=!1)};for(const se in P){const fe=V[se],we=O[se];if(E.hasOwnProperty(se))continue;let Ee=!1;o0(fe)&&o0(we)?Ee=!bI(fe,we):Ee=fe!==we,Ee?fe!=null?xe(se):_.add(se):fe!==void 0&&_.has(se)?xe(se):M.protectedKeys[se]=!0}M.prevProp=z,M.prevResolvedValues=V,M.isActive&&(E={...E,...V}),r&&t.blockInitialAnimation&&(S=!1),S&&(!(H&&A)||I)&&b.push(...L.map(se=>({animation:se,options:{type:U}})))}if(_.size){const j={};_.forEach(U=>{const M=t.getBaseTarget(U),z=t.getValue(U);z&&(z.liveStyle=!0),j[U]=M??null}),b.push({animation:j})}let N=!!b.length;return r&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(N=!1),r=!1,N?e(b):Promise.resolve()}function f(h,d){var g;if(n[h].isActive===d)return Promise.resolve();(g=t.variantChildren)===null||g===void 0||g.forEach(_=>{var E;return(E=_.animationState)===null||E===void 0?void 0:E.setActive(h,d)}),n[h].isActive=d;const b=u(h);for(const _ in n)n[_].protectedKeys={};return b}return{animateChanges:u,setActive:f,setAnimateFunction:o,getState:()=>n,reset:()=>{n=xS(),r=!0}}}function m8(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!bI(e,t):!1}function bo(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function xS(){return{animate:bo(!0),whileInView:bo(),whileHover:bo(),whileTap:bo(),whileDrag:bo(),whileFocus:bo(),exit:bo()}}class Ka{constructor(e){this.isMounted=!1,this.node=e}update(){}}class p8 extends Ka{constructor(e){super(e),e.animationState||(e.animationState=d8(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();jp(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let g8=0;class v8 extends Ka{constructor(){super(...arguments),this.id=g8++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const y8={animation:{Feature:p8},exit:{Feature:v8}};function Sf(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Yf(t){return{point:{x:t.pageX,y:t.pageY}}}const b8=t=>e=>h_(e)&&t(e,Yf(e));function Xc(t,e,n,r){return Sf(t,e,b8(n),r)}const wS=(t,e)=>Math.abs(t-e);function _8(t,e){const n=wS(t.x,e.x),r=wS(t.y,e.y);return Math.sqrt(n**2+r**2)}class oN{constructor(e,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=my(this.lastMoveEventInfo,this.history),_=this.startEvent!==null,E=_8(b.offset,{x:0,y:0})>=3;if(!_&&!E)return;const{point:C}=b,{timestamp:N}=$n;this.history.push({...C,timestamp:N});const{onStart:j,onMove:U}=this.handlers;_||(j&&j(this.lastMoveEvent,b),this.startEvent=this.lastMoveEvent),U&&U(this.lastMoveEvent,b)},this.handlePointerMove=(b,_)=>{this.lastMoveEvent=b,this.lastMoveEventInfo=dy(_,this.transformPagePoint),Ft.update(this.updatePoint,!0)},this.handlePointerUp=(b,_)=>{this.end();const{onEnd:E,onSessionEnd:C,resumeAnimation:N}=this.handlers;if(this.dragSnapToOrigin&&N&&N(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const j=my(b.type==="pointercancel"?this.lastMoveEventInfo:dy(_,this.transformPagePoint),this.history);this.startEvent&&E&&E(b,j),C&&C(b,j)},!h_(e))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const u=Yf(e),f=dy(u,this.transformPagePoint),{point:h}=f,{timestamp:d}=$n;this.history=[{...h,timestamp:d}];const{onSessionStart:g}=n;g&&g(e,my(f,this.history)),this.removeListeners=Kf(Xc(this.contextWindow,"pointermove",this.handlePointerMove),Xc(this.contextWindow,"pointerup",this.handlePointerUp),Xc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ua(this.updatePoint)}}function dy(t,e){return e?{point:e(t.point)}:t}function ES(t,e){return{x:t.x-e.x,y:t.y-e.y}}function my({point:t},e){return{point:t,delta:ES(t,lN(e)),offset:ES(t,x8(e)),velocity:w8(e,.1)}}function x8(t){return t[0]}function lN(t){return t[t.length-1]}function w8(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=lN(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>As(e)));)n--;if(!r)return{x:0,y:0};const o=Cs(s.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const u={x:(s.x-r.x)/o,y:(s.y-r.y)/o};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}const uN=1e-4,E8=1-uN,T8=1+uN,cN=.01,S8=0-cN,A8=0+cN;function Zr(t){return t.max-t.min}function C8(t,e,n){return Math.abs(t-e)<=n}function TS(t,e,n,r=.5){t.origin=r,t.originPoint=Yt(e.min,e.max,t.origin),t.scale=Zr(n)/Zr(e),t.translate=Yt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=E8&&t.scale<=T8||isNaN(t.scale))&&(t.scale=1),(t.translate>=S8&&t.translate<=A8||isNaN(t.translate))&&(t.translate=0)}function Zc(t,e,n,r){TS(t.x,e.x,n.x,r?r.originX:void 0),TS(t.y,e.y,n.y,r?r.originY:void 0)}function SS(t,e,n){t.min=n.min+e.min,t.max=t.min+Zr(e)}function R8(t,e,n){SS(t.x,e.x,n.x),SS(t.y,e.y,n.y)}function AS(t,e,n){t.min=e.min-n.min,t.max=t.min+Zr(e)}function Jc(t,e,n){AS(t.x,e.x,n.x),AS(t.y,e.y,n.y)}function I8(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Yt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Yt(n,t,r.max):Math.min(t,n)),t}function CS(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function N8(t,{top:e,left:n,bottom:r,right:s}){return{x:CS(t.x,n,s),y:CS(t.y,e,r)}}function RS(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function k8(t,e){return{x:RS(t.x,e.x),y:RS(t.y,e.y)}}function D8(t,e){let n=.5;const r=Zr(t),s=Zr(e);return s>r?n=uu(e.min,e.max-r,t.min):r>s&&(n=uu(t.min,t.max-s,e.min)),Os(0,1,n)}function O8(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const y0=.35;function j8(t=y0){return t===!1?t=0:t===!0&&(t=y0),{x:IS(t,"left","right"),y:IS(t,"top","bottom")}}function IS(t,e,n){return{min:NS(t,e),max:NS(t,n)}}function NS(t,e){return typeof t=="number"?t:t[e]||0}const kS=()=>({translate:0,scale:1,origin:0,originPoint:0}),Hl=()=>({x:kS(),y:kS()}),DS=()=>({min:0,max:0}),un=()=>({x:DS(),y:DS()});function hi(t){return[t("x"),t("y")]}function fN({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function P8({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function M8(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function py(t){return t===void 0||t===1}function b0({scale:t,scaleX:e,scaleY:n}){return!py(t)||!py(e)||!py(n)}function To(t){return b0(t)||hN(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function hN(t){return OS(t.x)||OS(t.y)}function OS(t){return t&&t!=="0%"}function qm(t,e,n){const r=t-n,s=e*r;return n+s}function jS(t,e,n,r,s){return s!==void 0&&(t=qm(t,s,r)),qm(t,n,r)+e}function _0(t,e=0,n=1,r,s){t.min=jS(t.min,e,n,r,s),t.max=jS(t.max,e,n,r,s)}function dN(t,{x:e,y:n}){_0(t.x,e.translate,e.scale,e.originPoint),_0(t.y,n.translate,n.scale,n.originPoint)}const PS=.999999999999,MS=1.0000000000001;function V8(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let o,u;for(let f=0;f<s;f++){o=n[f],u=o.projectionDelta;const{visualElement:h}=o.options;h&&h.props.style&&h.props.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Gl(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,dN(t,u)),r&&To(o.latestValues)&&Gl(t,o.latestValues))}e.x<MS&&e.x>PS&&(e.x=1),e.y<MS&&e.y>PS&&(e.y=1)}function ql(t,e){t.min=t.min+e,t.max=t.max+e}function VS(t,e,n,r,s=.5){const o=Yt(t.min,t.max,s);_0(t,e,n,o,r)}function Gl(t,e){VS(t.x,e.x,e.scaleX,e.scale,e.originX),VS(t.y,e.y,e.scaleY,e.scale,e.originY)}function mN(t,e){return fN(M8(t.getBoundingClientRect(),e))}function L8(t,e,n){const r=mN(t,n),{scroll:s}=e;return s&&(ql(r.x,s.offset.x),ql(r.y,s.offset.y)),r}const pN=({current:t})=>t?t.ownerDocument.defaultView:null,U8=new WeakMap;class z8{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=un(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=g=>{const{dragSnapToOrigin:b}=this.getProps();b?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Yf(g).point)},o=(g,b)=>{const{drag:_,dragPropagation:E,onDragStart:C}=this.getProps();if(_&&!E&&(this.openDragLock&&this.openDragLock(),this.openDragLock=DU(_),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),hi(j=>{let U=this.getAxisMotionValue(j).get()||0;if(Ji.test(U)){const{projection:M}=this.visualElement;if(M&&M.layout){const z=M.layout.layoutBox[j];z&&(U=Zr(z)*(parseFloat(U)/100))}}this.originPoint[j]=U}),C&&Ft.postRender(()=>C(g,b)),c0(this.visualElement,"transform");const{animationState:N}=this.visualElement;N&&N.setActive("whileDrag",!0)},u=(g,b)=>{const{dragPropagation:_,dragDirectionLock:E,onDirectionLock:C,onDrag:N}=this.getProps();if(!_&&!this.openDragLock)return;const{offset:j}=b;if(E&&this.currentDirection===null){this.currentDirection=B8(j),this.currentDirection!==null&&C&&C(this.currentDirection);return}this.updateAxis("x",b.point,j),this.updateAxis("y",b.point,j),this.visualElement.render(),N&&N(g,b)},f=(g,b)=>this.stop(g,b),h=()=>hi(g=>{var b;return this.getAnimationState(g)==="paused"&&((b=this.getAxisMotionValue(g).animation)===null||b===void 0?void 0:b.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new oN(e,{onSessionStart:s,onStart:o,onMove:u,onSessionEnd:f,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,contextWindow:pN(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:o}=this.getProps();o&&Ft.postRender(()=>o(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!Nd(e,s,this.currentDirection))return;const o=this.getAxisMotionValue(e);let u=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(u=I8(u,this.constraints[e],this.elastic[e])),o.set(u)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,o=this.constraints;n&&Bl(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=N8(s.layoutBox,n):this.constraints=!1,this.elastic=j8(r),o!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&hi(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=O8(s.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Bl(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const o=L8(r,s.root,this.visualElement.getTransformPagePoint());let u=k8(s.layout.layoutBox,o);if(n){const f=n(P8(u));this.hasMutatedConstraints=!!f,f&&(u=fN(f))}return u}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:o,dragSnapToOrigin:u,onDragTransitionEnd:f}=this.getProps(),h=this.constraints||{},d=hi(g=>{if(!Nd(g,n,this.currentDirection))return;let b=h&&h[g]||{};u&&(b={min:0,max:0});const _=s?200:1e6,E=s?40:1e7,C={type:"inertia",velocity:r?e[g]:0,bounceStiffness:_,bounceDamping:E,timeConstant:750,restDelta:1,restSpeed:10,...o,...b};return this.startAxisValueAnimation(g,C)});return Promise.all(d).then(f)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return c0(this.visualElement,e),r.start(T_(e,r,0,n,this.visualElement,!1))}stopAnimation(){hi(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){hi(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){hi(n=>{const{drag:r}=this.getProps();if(!Nd(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,o=this.getAxisMotionValue(n);if(s&&s.layout){const{min:u,max:f}=s.layout.layoutBox[n];o.set(e[n]-Yt(u,f,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Bl(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};hi(u=>{const f=this.getAxisMotionValue(u);if(f&&this.constraints!==!1){const h=f.get();s[u]=D8({min:h,max:h},this.constraints[u])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),hi(u=>{if(!Nd(u,e,null))return;const f=this.getAxisMotionValue(u),{min:h,max:d}=this.constraints[u];f.set(Yt(h,d,s[u]))})}addListeners(){if(!this.visualElement.current)return;U8.set(this.visualElement,this);const e=this.visualElement.current,n=Xc(e,"pointerdown",h=>{const{drag:d,dragListener:g=!0}=this.getProps();d&&g&&this.start(h)}),r=()=>{const{dragConstraints:h}=this.getProps();Bl(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,o=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Ft.read(r);const u=Sf(window,"resize",()=>this.scalePositionWithinConstraints()),f=s.addEventListener("didUpdate",(({delta:h,hasLayoutChanged:d})=>{this.isDragging&&d&&(hi(g=>{const b=this.getAxisMotionValue(g);b&&(this.originPoint[g]+=h[g].translate,b.set(b.get()+h[g].translate))}),this.visualElement.render())}));return()=>{u(),n(),o(),f&&f()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:o=!1,dragElastic:u=y0,dragMomentum:f=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:o,dragElastic:u,dragMomentum:f}}}function Nd(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function B8(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class F8 extends Ka{constructor(e){super(e),this.removeGroupControls=Xr,this.removeListeners=Xr,this.controls=new z8(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Xr}unmount(){this.removeGroupControls(),this.removeListeners()}}const LS=t=>(e,n)=>{t&&Ft.postRender(()=>t(e,n))};class H8 extends Ka{constructor(){super(...arguments),this.removePointerDownListener=Xr}onPointerDown(e){this.session=new oN(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:pN(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:LS(e),onStart:LS(n),onMove:r,onEnd:(o,u)=>{delete this.session,s&&Ft.postRender(()=>s(o,u))}}}mount(){this.removePointerDownListener=Xc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const om={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function US(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Ec={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Pe.test(t))t=parseFloat(t);else return t;const n=US(t,e.target.x),r=US(t,e.target.y);return`${n}% ${r}%`}},q8={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=za.parse(t);if(s.length>5)return r;const o=za.createTransformer(t),u=typeof s[0]!="number"?1:0,f=n.x.scale*e.x,h=n.y.scale*e.y;s[0+u]/=f,s[1+u]/=h;const d=Yt(f,h,.5);return typeof s[2+u]=="number"&&(s[2+u]/=d),typeof s[3+u]=="number"&&(s[3+u]/=d),o(s)}};class G8 extends D.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:o}=e;fU($8),o&&(n.group&&n.group.add(o),r&&r.register&&s&&r.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),om.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:o}=this.props,u=r.projection;return u&&(u.isPresent=o,s||e.layoutDependency!==n||n===void 0?u.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?u.promote():u.relegate()||Ft.postRender(()=>{const f=u.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Jb.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function gN(t){const[e,n]=ZR(),r=D.useContext(Gb);return y.jsx(G8,{...t,layoutGroup:r,switchLayoutGroup:D.useContext(aI),isPresent:e,safeToRemove:n})}const $8={borderRadius:{...Ec,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ec,borderTopRightRadius:Ec,borderBottomLeftRadius:Ec,borderBottomRightRadius:Ec,boxShadow:q8};function K8(t,e,n){const r=ur(t)?t:Ef(t);return r.start(T_("",r,e,n)),r.animation}function Y8(t){return t instanceof SVGElement&&t.tagName!=="svg"}const W8=(t,e)=>t.depth-e.depth;class Q8{constructor(){this.children=[],this.isDirty=!1}add(e){d_(this.children,e),this.isDirty=!0}remove(e){m_(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(W8),this.isDirty=!1,this.children.forEach(e)}}function X8(t,e){const n=es.now(),r=({timestamp:s})=>{const o=s-n;o>=e&&(Ua(r),t(o-e))};return Ft.read(r,!0),()=>Ua(r)}const vN=["TopLeft","TopRight","BottomLeft","BottomRight"],Z8=vN.length,zS=t=>typeof t=="string"?parseFloat(t):t,BS=t=>typeof t=="number"||Pe.test(t);function J8(t,e,n,r,s,o){s?(t.opacity=Yt(0,n.opacity!==void 0?n.opacity:1,ez(r)),t.opacityExit=Yt(e.opacity!==void 0?e.opacity:1,0,tz(r))):o&&(t.opacity=Yt(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let u=0;u<Z8;u++){const f=`border${vN[u]}Radius`;let h=FS(e,f),d=FS(n,f);if(h===void 0&&d===void 0)continue;h||(h=0),d||(d=0),h===0||d===0||BS(h)===BS(d)?(t[f]=Math.max(Yt(zS(h),zS(d),r),0),(Ji.test(d)||Ji.test(h))&&(t[f]+="%")):t[f]=d}(e.rotate||n.rotate)&&(t.rotate=Yt(e.rotate||0,n.rotate||0,r))}function FS(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const ez=yN(0,.5,MI),tz=yN(.5,.95,Xr);function yN(t,e,n){return r=>r<t?0:r>e?1:n(uu(t,e,r))}function HS(t,e){t.min=e.min,t.max=e.max}function fi(t,e){HS(t.x,e.x),HS(t.y,e.y)}function qS(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function GS(t,e,n,r,s){return t-=e,t=qm(t,1/n,r),s!==void 0&&(t=qm(t,1/s,r)),t}function nz(t,e=0,n=1,r=.5,s,o=t,u=t){if(Ji.test(e)&&(e=parseFloat(e),e=Yt(u.min,u.max,e/100)-u.min),typeof e!="number")return;let f=Yt(o.min,o.max,r);t===o&&(f-=e),t.min=GS(t.min,e,n,f,s),t.max=GS(t.max,e,n,f,s)}function $S(t,e,[n,r,s],o,u){nz(t,e[n],e[r],e[s],e.scale,o,u)}const rz=["x","scaleX","originX"],iz=["y","scaleY","originY"];function KS(t,e,n,r){$S(t.x,e,rz,n?n.x:void 0,r?r.x:void 0),$S(t.y,e,iz,n?n.y:void 0,r?r.y:void 0)}function YS(t){return t.translate===0&&t.scale===1}function bN(t){return YS(t.x)&&YS(t.y)}function WS(t,e){return t.min===e.min&&t.max===e.max}function sz(t,e){return WS(t.x,e.x)&&WS(t.y,e.y)}function QS(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function _N(t,e){return QS(t.x,e.x)&&QS(t.y,e.y)}function XS(t){return Zr(t.x)/Zr(t.y)}function ZS(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class az{constructor(){this.members=[]}add(e){d_(this.members,e),e.scheduleRender()}remove(e){if(m_(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const o=this.members[s];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function oz(t,e,n){let r="";const s=t.x.translate/e.x,o=t.y.translate/e.y,u=(n==null?void 0:n.z)||0;if((s||o||u)&&(r=`translate3d(${s}px, ${o}px, ${u}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:d,rotate:g,rotateX:b,rotateY:_,skewX:E,skewY:C}=n;d&&(r=`perspective(${d}px) ${r}`),g&&(r+=`rotate(${g}deg) `),b&&(r+=`rotateX(${b}deg) `),_&&(r+=`rotateY(${_}deg) `),E&&(r+=`skewX(${E}deg) `),C&&(r+=`skewY(${C}deg) `)}const f=t.x.scale*e.x,h=t.y.scale*e.y;return(f!==1||h!==1)&&(r+=`scale(${f}, ${h})`),r||"none"}const So={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Vc=typeof window<"u"&&window.MotionDebug!==void 0,gy=["","X","Y","Z"],lz={visibility:"hidden"},JS=1e3;let uz=0;function vy(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function xN(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=II(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:o}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Ft,!(s||o))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&xN(r)}function wN({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(u={},f=e==null?void 0:e()){this.id=uz++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Vc&&(So.totalNodes=So.resolvedTargetDeltas=So.recalculatedProjection=0),this.nodes.forEach(hz),this.nodes.forEach(vz),this.nodes.forEach(yz),this.nodes.forEach(dz),Vc&&window.MotionDebug.record(So)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new Q8)}addEventListener(u,f){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new p_),this.eventHandlers.get(u).add(f)}notifyListeners(u,...f){const h=this.eventHandlers.get(u);h&&h.notify(...f)}hasListeners(u){return this.eventHandlers.has(u)}mount(u,f=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Y8(u),this.instance=u;const{layoutId:h,layout:d,visualElement:g}=this.options;if(g&&!g.current&&g.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),f&&(d||h)&&(this.isLayoutDirty=!0),t){let b;const _=()=>this.root.updateBlockedByResize=!1;t(u,()=>{this.root.updateBlockedByResize=!0,b&&b(),b=X8(_,250),om.hasAnimatedSinceResize&&(om.hasAnimatedSinceResize=!1,this.nodes.forEach(tA))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&g&&(h||d)&&this.addEventListener("didUpdate",({delta:b,hasLayoutChanged:_,hasRelativeTargetChanged:E,layout:C})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const N=this.options.transition||g.getDefaultTransition()||Ez,{onLayoutAnimationStart:j,onLayoutAnimationComplete:U}=g.getProps(),M=!this.targetLayout||!_N(this.targetLayout,C)||E,z=!_&&E;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||z||_&&(M||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(b,z);const G={...u_(N,"layout"),onPlay:j,onComplete:U};(g.shouldReduceMotion||this.options.layoutRoot)&&(G.delay=0,G.type=!1),this.startAnimation(G)}else _||tA(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=C})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Ua(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(bz),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&xN(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const b=this.path[g];b.shouldResetTransform=!0,b.updateScroll("snapshot"),b.options.layoutRoot&&b.willUpdate(!1)}const{layoutId:f,layout:h}=this.options;if(f===void 0&&!h)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(eA);return}this.isUpdating||this.nodes.forEach(pz),this.isUpdating=!1,this.nodes.forEach(gz),this.nodes.forEach(cz),this.nodes.forEach(fz),this.clearAllSnapshots();const f=es.now();$n.delta=Os(0,1e3/60,f-$n.timestamp),$n.timestamp=f,$n.isProcessing=!0,oy.update.process($n),oy.preRender.process($n),oy.render.process($n),$n.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Jb.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(mz),this.sharedNodes.forEach(_z)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ft.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ft.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=un(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let f=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(f=!1),f){const h=r(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:h,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!s)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,f=this.projectionDelta&&!bN(this.projectionDelta),h=this.getTransformTemplate(),d=h?h(this.latestValues,""):void 0,g=d!==this.prevTransformTemplateValue;u&&(f||To(this.latestValues)||g)&&(s(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const f=this.measurePageBox();let h=this.removeElementScroll(f);return u&&(h=this.removeTransform(h)),Tz(h),{animationId:this.root.animationId,measuredBox:f,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:f}=this.options;if(!f)return un();const h=f.measureViewportBox();if(!(((u=this.scroll)===null||u===void 0?void 0:u.wasRoot)||this.path.some(Sz))){const{scroll:g}=this.root;g&&(ql(h.x,g.offset.x),ql(h.y,g.offset.y))}return h}removeElementScroll(u){var f;const h=un();if(fi(h,u),!((f=this.scroll)===null||f===void 0)&&f.wasRoot)return h;for(let d=0;d<this.path.length;d++){const g=this.path[d],{scroll:b,options:_}=g;g!==this.root&&b&&_.layoutScroll&&(b.wasRoot&&fi(h,u),ql(h.x,b.offset.x),ql(h.y,b.offset.y))}return h}applyTransform(u,f=!1){const h=un();fi(h,u);for(let d=0;d<this.path.length;d++){const g=this.path[d];!f&&g.options.layoutScroll&&g.scroll&&g!==g.root&&Gl(h,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),To(g.latestValues)&&Gl(h,g.latestValues)}return To(this.latestValues)&&Gl(h,this.latestValues),h}removeTransform(u){const f=un();fi(f,u);for(let h=0;h<this.path.length;h++){const d=this.path[h];if(!d.instance||!To(d.latestValues))continue;b0(d.latestValues)&&d.updateSnapshot();const g=un(),b=d.measurePageBox();fi(g,b),KS(f,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,g)}return To(this.latestValues)&&KS(f,this.latestValues),f}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==$n.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){var f;const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==h;if(!(u||d&&this.isSharedProjectionDirty||this.isProjectionDirty||!((f=this.parent)===null||f===void 0)&&f.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:b,layoutId:_}=this.options;if(!(!this.layout||!(b||_))){if(this.resolvedRelativeTargetAt=$n.timestamp,!this.targetDelta&&!this.relativeTarget){const E=this.getClosestProjectingParent();E&&E.layout&&this.animationProgress!==1?(this.relativeParent=E,this.forceRelativeParentToResolveTarget(),this.relativeTarget=un(),this.relativeTargetOrigin=un(),Jc(this.relativeTargetOrigin,this.layout.layoutBox,E.layout.layoutBox),fi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=un(),this.targetWithTransforms=un()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),R8(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):fi(this.target,this.layout.layoutBox),dN(this.target,this.targetDelta)):fi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const E=this.getClosestProjectingParent();E&&!!E.resumingFrom==!!this.resumingFrom&&!E.options.layoutScroll&&E.target&&this.animationProgress!==1?(this.relativeParent=E,this.forceRelativeParentToResolveTarget(),this.relativeTarget=un(),this.relativeTargetOrigin=un(),Jc(this.relativeTargetOrigin,this.target,E.target),fi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Vc&&So.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||b0(this.parent.latestValues)||hN(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var u;const f=this.getLead(),h=!!this.resumingFrom||this!==f;let d=!0;if((this.isProjectionDirty||!((u=this.parent)===null||u===void 0)&&u.isProjectionDirty)&&(d=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===$n.timestamp&&(d=!1),d)return;const{layout:g,layoutId:b}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||b))return;fi(this.layoutCorrected,this.layout.layoutBox);const _=this.treeScale.x,E=this.treeScale.y;V8(this.layoutCorrected,this.treeScale,this.path,h),f.layout&&!f.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(f.target=f.layout.layoutBox,f.targetWithTransforms=un());const{target:C}=f;if(!C){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(qS(this.prevProjectionDelta.x,this.projectionDelta.x),qS(this.prevProjectionDelta.y,this.projectionDelta.y)),Zc(this.projectionDelta,this.layoutCorrected,C,this.latestValues),(this.treeScale.x!==_||this.treeScale.y!==E||!ZS(this.projectionDelta.x,this.prevProjectionDelta.x)||!ZS(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",C)),Vc&&So.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){var f;if((f=this.options.visualElement)===null||f===void 0||f.scheduleRender(),u){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Hl(),this.projectionDelta=Hl(),this.projectionDeltaWithTransform=Hl()}setAnimationOrigin(u,f=!1){const h=this.snapshot,d=h?h.latestValues:{},g={...this.latestValues},b=Hl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const _=un(),E=h?h.source:void 0,C=this.layout?this.layout.source:void 0,N=E!==C,j=this.getStack(),U=!j||j.members.length<=1,M=!!(N&&!U&&this.options.crossfade===!0&&!this.path.some(wz));this.animationProgress=0;let z;this.mixTargetDelta=G=>{const K=G/1e3;nA(b.x,u.x,K),nA(b.y,u.y,K),this.setTargetDelta(b),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Jc(_,this.layout.layoutBox,this.relativeParent.layout.layoutBox),xz(this.relativeTarget,this.relativeTargetOrigin,_,K),z&&sz(this.relativeTarget,z)&&(this.isProjectionDirty=!1),z||(z=un()),fi(z,this.relativeTarget)),N&&(this.animationValues=g,J8(g,d,this.latestValues,K,M,U)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=K},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Ua(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ft.update(()=>{om.hasAnimatedSinceResize=!0,this.currentAnimation=K8(0,JS,{...u,onUpdate:f=>{this.mixTargetDelta(f),u.onUpdate&&u.onUpdate(f)},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(JS),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:f,target:h,layout:d,latestValues:g}=u;if(!(!f||!h||!d)){if(this!==u&&this.layout&&d&&EN(this.options.animationType,this.layout.layoutBox,d.layoutBox)){h=this.target||un();const b=Zr(this.layout.layoutBox.x);h.x.min=u.target.x.min,h.x.max=h.x.min+b;const _=Zr(this.layout.layoutBox.y);h.y.min=u.target.y.min,h.y.max=h.y.min+_}fi(f,h),Gl(f,g),Zc(this.projectionDeltaWithTransform,this.layoutCorrected,f,g)}}registerSharedNode(u,f){this.sharedNodes.has(u)||this.sharedNodes.set(u,new az),this.sharedNodes.get(u).add(f);const d=f.options.initialPromotionConfig;f.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(f):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){var u;const{layoutId:f}=this.options;return f?((u=this.getStack())===null||u===void 0?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:f}=this.options;return f?(u=this.getStack())===null||u===void 0?void 0:u.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:f,preserveFollowOpacity:h}={}){const d=this.getStack();d&&d.promote(this,h),u&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let f=!1;const{latestValues:h}=u;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(f=!0),!f)return;const d={};h.z&&vy("z",u,d,this.animationValues);for(let g=0;g<gy.length;g++)vy(`rotate${gy[g]}`,u,d,this.animationValues),vy(`skew${gy[g]}`,u,d,this.animationValues);u.render();for(const g in d)u.setStaticValue(g,d[g]),this.animationValues&&(this.animationValues[g]=d[g]);u.scheduleRender()}getProjectionStyles(u){var f,h;if(!this.instance||this.isSVG)return;if(!this.isVisible)return lz;const d={visibility:""},g=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,d.opacity="",d.pointerEvents=sm(u==null?void 0:u.pointerEvents)||"",d.transform=g?g(this.latestValues,""):"none",d;const b=this.getLead();if(!this.projectionDelta||!this.layout||!b.target){const N={};return this.options.layoutId&&(N.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,N.pointerEvents=sm(u==null?void 0:u.pointerEvents)||""),this.hasProjected&&!To(this.latestValues)&&(N.transform=g?g({},""):"none",this.hasProjected=!1),N}const _=b.animationValues||b.latestValues;this.applyTransformsToTarget(),d.transform=oz(this.projectionDeltaWithTransform,this.treeScale,_),g&&(d.transform=g(_,d.transform));const{x:E,y:C}=this.projectionDelta;d.transformOrigin=`${E.origin*100}% ${C.origin*100}% 0`,b.animationValues?d.opacity=b===this?(h=(f=_.opacity)!==null&&f!==void 0?f:this.latestValues.opacity)!==null&&h!==void 0?h:1:this.preserveOpacity?this.latestValues.opacity:_.opacityExit:d.opacity=b===this?_.opacity!==void 0?_.opacity:"":_.opacityExit!==void 0?_.opacityExit:0;for(const N in Um){if(_[N]===void 0)continue;const{correct:j,applyTo:U}=Um[N],M=d.transform==="none"?_[N]:j(_[N],b);if(U){const z=U.length;for(let G=0;G<z;G++)d[U[G]]=M}else d[N]=M}return this.options.layoutId&&(d.pointerEvents=b===this?sm(u==null?void 0:u.pointerEvents)||"":"none"),d}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>{var f;return(f=u.currentAnimation)===null||f===void 0?void 0:f.stop()}),this.root.nodes.forEach(eA),this.root.sharedNodes.clear()}}}function cz(t){t.updateLayout()}function fz(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:o}=t.options,u=n.source!==t.layout.source;o==="size"?hi(b=>{const _=u?n.measuredBox[b]:n.layoutBox[b],E=Zr(_);_.min=r[b].min,_.max=_.min+E}):EN(o,n.layoutBox,r)&&hi(b=>{const _=u?n.measuredBox[b]:n.layoutBox[b],E=Zr(r[b]);_.max=_.min+E,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[b].max=t.relativeTarget[b].min+E)});const f=Hl();Zc(f,r,n.layoutBox);const h=Hl();u?Zc(h,t.applyTransform(s,!0),n.measuredBox):Zc(h,r,n.layoutBox);const d=!bN(f);let g=!1;if(!t.resumeFrom){const b=t.getClosestProjectingParent();if(b&&!b.resumeFrom){const{snapshot:_,layout:E}=b;if(_&&E){const C=un();Jc(C,n.layoutBox,_.layoutBox);const N=un();Jc(N,r,E.layoutBox),_N(C,N)||(g=!0),b.options.layoutRoot&&(t.relativeTarget=N,t.relativeTargetOrigin=C,t.relativeParent=b)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:h,layoutDelta:f,hasLayoutChanged:d,hasRelativeTargetChanged:g})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function hz(t){Vc&&So.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function dz(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function mz(t){t.clearSnapshot()}function eA(t){t.clearMeasurements()}function pz(t){t.isLayoutDirty=!1}function gz(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function tA(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function vz(t){t.resolveTargetDelta()}function yz(t){t.calcProjection()}function bz(t){t.resetSkewAndRotation()}function _z(t){t.removeLeadSnapshot()}function nA(t,e,n){t.translate=Yt(e.translate,0,n),t.scale=Yt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function rA(t,e,n,r){t.min=Yt(e.min,n.min,r),t.max=Yt(e.max,n.max,r)}function xz(t,e,n,r){rA(t.x,e.x,n.x,r),rA(t.y,e.y,n.y,r)}function wz(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Ez={duration:.45,ease:[.4,0,.1,1]},iA=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),sA=iA("applewebkit/")&&!iA("chrome/")?Math.round:Xr;function aA(t){t.min=sA(t.min),t.max=sA(t.max)}function Tz(t){aA(t.x),aA(t.y)}function EN(t,e,n){return t==="position"||t==="preserve-aspect"&&!C8(XS(e),XS(n),.2)}function Sz(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const Az=wN({attachResizeListener:(t,e)=>Sf(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),yy={current:void 0},TN=wN({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!yy.current){const t=new Az({});t.mount(window),t.setOptions({layoutScroll:!0}),yy.current=t}return yy.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Cz={pan:{Feature:H8},drag:{Feature:F8,ProjectionNode:TN,MeasureLayout:gN}};function oA(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,o=r[s];o&&Ft.postRender(()=>o(e,Yf(e)))}class Rz extends Ka{mount(){const{current:e}=this.node;e&&(this.unmount=CU(e,n=>(oA(this.node,n,"Start"),r=>oA(this.node,r,"End"))))}unmount(){}}class Iz extends Ka{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Kf(Sf(this.node.current,"focus",()=>this.onFocus()),Sf(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function lA(t,e,n){const{props:r}=t;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),o=r[s];o&&Ft.postRender(()=>o(e,Yf(e)))}class Nz extends Ka{mount(){const{current:e}=this.node;e&&(this.unmount=kU(e,n=>(lA(this.node,n,"Start"),(r,{success:s})=>lA(this.node,r,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const x0=new WeakMap,by=new WeakMap,kz=t=>{const e=x0.get(t.target);e&&e(t)},Dz=t=>{t.forEach(kz)};function Oz({root:t,...e}){const n=t||document;by.has(n)||by.set(n,{});const r=by.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(Dz,{root:t,...e})),r[s]}function jz(t,e,n){const r=Oz(e);return x0.set(t,n),r.observe(t),()=>{x0.delete(t),r.unobserve(t)}}const Pz={some:0,all:1};class Mz extends Ka{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:o}=e,u={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:Pz[s]},f=h=>{const{isIntersecting:d}=h;if(this.isInView===d||(this.isInView=d,o&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:g,onViewportLeave:b}=this.node.getProps(),_=d?g:b;_&&_(h)};return jz(this.node.current,u,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(Vz(e,n))&&this.startObserver()}unmount(){}}function Vz({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const Lz={inView:{Feature:Mz},tap:{Feature:Nz},focus:{Feature:Iz},hover:{Feature:Rz}},Uz={layout:{ProjectionNode:TN,MeasureLayout:gN}},w0={current:null},SN={current:!1};function zz(){if(SN.current=!0,!!Yb)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>w0.current=t.matches;t.addListener(e),e()}else w0.current=!1}const Bz=[...QI,sr,za],Fz=t=>Bz.find(WI(t)),uA=new WeakMap;function Hz(t,e,n){for(const r in e){const s=e[r],o=n[r];if(ur(s))t.addValue(r,s);else if(ur(o))t.addValue(r,Ef(s,{owner:t}));else if(o!==s)if(t.hasValue(r)){const u=t.getValue(r);u.liveStyle===!0?u.jump(s):u.hasAnimated||u.set(s)}else{const u=t.getStaticValue(r);t.addValue(r,Ef(u!==void 0?u:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const cA=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class qz{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:o,visualState:u},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=x_,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const E=es.now();this.renderScheduledAt<E&&(this.renderScheduledAt=E,Ft.render(this.render,!1,!0))};const{latestValues:h,renderState:d,onUpdate:g}=u;this.onUpdate=g,this.latestValues=h,this.baseTarget={...h},this.initialValues=n.initial?{...h}:{},this.renderState=d,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=f,this.blockInitialAnimation=!!o,this.isControllingVariants=Pp(n),this.isVariantNode=iI(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:b,..._}=this.scrapeMotionValuesFromProps(n,{},this);for(const E in _){const C=_[E];h[E]!==void 0&&ur(C)&&C.set(h[E],!1)}}mount(e){this.current=e,uA.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),SN.current||zz(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:w0.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){uA.delete(this.current),this.projection&&this.projection.unmount(),Ua(this.notifyUpdate),Ua(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Ko.has(e),s=n.on("change",f=>{this.latestValues[e]=f,this.props.onUpdate&&Ft.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),o(),u&&u(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in cu){const n=cu[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):un()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<cA.length;r++){const s=cA[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const o="on"+s,u=e[o];u&&(this.propEventSubscriptions[s]=this.on(s,u))}this.prevMotionValues=Hz(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Ef(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(KI(s)||LI(s))?s=parseFloat(s):!Fz(s)&&za.test(n)&&(s=qI(e,n)),this.setBaseTarget(e,ur(s)?s.get():s)),ur(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let s;if(typeof r=="string"||typeof r=="object"){const u=t_(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);u&&(s=u[e])}if(r&&s!==void 0)return s;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!ur(o)?o:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new p_),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class AN extends qz{constructor(){super(...arguments),this.KeyframeResolver=XI}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;ur(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Gz(t){return window.getComputedStyle(t)}class $z extends AN{constructor(){super(...arguments),this.type="html",this.renderInstance=dI}readValueFromInstance(e,n){if(Ko.has(n)){const r=__(n);return r&&r.default||0}else{const r=Gz(e),s=(cI(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return mN(e,n)}build(e,n,r){i_(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return l_(e,n,r)}}class Kz extends AN{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=un}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Ko.has(n)){const r=__(n);return r&&r.default||0}return n=mI.has(n)?n:Zb(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return vI(e,n,r)}build(e,n,r){s_(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,s){pI(e,n,r,s)}mount(e){this.isSVGTag=o_(e.tagName),super.mount(e)}}const Yz=(t,e)=>e_(t)?new Kz(e):new $z(e,{allowProjection:t!==D.Fragment}),Wz=_U({...y8,...Lz,...Cz,...Uz},Yz),Gi=PL(Wz),Qz=()=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:y.jsx("path",{fillRule:"evenodd",d:"M10.293 3.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-4.293-4.293a1 1 0 010-1.414z",clipRule:"evenodd"})}),Xz=()=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})}),Zz=({onGetStarted:t})=>{const e={initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6}},n={animate:{transition:{staggerChildren:.1}}};return y.jsxs("div",{className:"min-h-screen bg-snow dark:bg-onyx text-raisin-black dark:text-snow overflow-x-hidden",children:[y.jsxs("nav",{className:"absolute top-0 w-full p-6 flex justify-between items-center z-50",children:[y.jsxs("div",{className:"text-2xl font-serif font-bold",children:["Dress ",y.jsx("span",{className:"text-gold",children:"Me"})," Up!"]}),y.jsx("button",{onClick:t,className:"text-sm font-semibold hover:text-gold transition-colors bg-white/10 backdrop-blur-md px-4 py-2 rounded-full border border-white/20",children:"Se connecter"})]}),y.jsxs("section",{className:"relative min-h-screen flex flex-col justify-center items-center text-center px-4 pt-20",children:[y.jsx("div",{className:"absolute top-[-20%] left-[-10%] w-[500px] h-[500px] bg-gold/10 rounded-full blur-[100px] pointer-events-none"}),y.jsx("div",{className:"absolute bottom-[-10%] right-[-5%] w-[400px] h-[400px] bg-purple-500/5 rounded-full blur-[100px] pointer-events-none"}),y.jsxs(Gi.div,{initial:"initial",animate:"animate",variants:n,className:"max-w-4xl mx-auto z-10",children:[y.jsxs(Gi.div,{variants:e,className:"mb-6 inline-flex items-center gap-2 px-3 py-1 rounded-full bg-gold/10 border border-gold/20 text-gold text-xs font-bold uppercase tracking-wider",children:[y.jsx(_f,{}),y.jsx("span",{children:"Assistant Mode IA  Beta Prive"})]}),y.jsxs(Gi.h1,{variants:e,className:"text-5xl md:text-7xl lg:text-8xl font-serif font-bold mb-8 leading-tight",children:["Votre style, ",y.jsx("br",{}),y.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-gold to-yellow-600",children:"rinvent par l'IA."})]}),y.jsxs(Gi.p,{variants:e,className:"text-lg md:text-xl text-gray-500 dark:text-gray-400 mb-10 max-w-2xl mx-auto leading-relaxed",children:[`Fini le "Je n'ai rien  me mettre". `,y.jsx("strong",{children:"Dress Me Up!"})," analyse votre garde-robe, cre des tenues sur-mesure et prpare vos valises en un clic."]}),y.jsx(Gi.div,{variants:e,className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:y.jsxs("button",{onClick:t,className:"group relative px-8 py-4 bg-gold text-onyx text-lg font-bold rounded-full overflow-hidden shadow-lg shadow-gold/20 hover:shadow-gold/40 transition-all hover:scale-105 active:scale-95",children:[y.jsxs("span",{className:"relative z-10 flex items-center gap-2",children:["Commencer l'exprience ",y.jsx(Qz,{})]}),y.jsx("div",{className:"absolute inset-0 bg-white/20 translate-y-full group-hover:translate-y-0 transition-transform duration-300"})]})})]}),y.jsx(Gi.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{delay:.8,duration:1},className:"absolute left-4 md:left-20 bottom-20 hidden lg:block",children:y.jsxs("div",{className:"bg-white dark:bg-raisin-black p-4 rounded-xl shadow-2xl border border-white/10 rotate-[-6deg] max-w-xs backdrop-blur-lg bg-opacity-90 dark:bg-opacity-90",children:[y.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[y.jsx("div",{className:"w-8 h-8 bg-gold rounded-full flex items-center justify-center text-onyx",children:""}),y.jsx("div",{className:"text-xs font-medium",children:"Suggestion IA"})]}),y.jsx("p",{className:"text-sm font-serif italic",children:'"Pour ce soir  Rome, opte pour la chemise en lin blanc et le pantalon beige."'})]})}),y.jsx(Gi.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{delay:1,duration:1},className:"absolute right-4 md:right-20 top-40 hidden lg:block",children:y.jsxs("div",{className:"bg-white dark:bg-raisin-black p-3 rounded-xl shadow-2xl border border-white/10 rotate-[6deg] backdrop-blur-lg bg-opacity-90 dark:bg-opacity-90",children:[y.jsx("div",{className:"w-32 h-32 bg-gray-200 dark:bg-gray-700 rounded-lg mb-2 flex items-center justify-center text-4xl",children:""}),y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsx("span",{className:"text-xs font-bold text-gray-500",children:"Manteau Laine"}),y.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500"})]})]})}),y.jsxs(Gi.div,{initial:{opacity:0},animate:{opacity:1,y:[0,10,0]},transition:{opacity:{delay:1.5,duration:.6},y:{repeat:1/0,duration:1.5,ease:"easeInOut"}},className:"absolute bottom-8 left-1/2 -translate-x-1/2 flex flex-col items-center gap-2 cursor-pointer",onClick:()=>{window.scrollTo({top:window.innerHeight,behavior:"smooth"})},children:[y.jsx("span",{className:"text-xs text-gray-400 font-medium uppercase tracking-wider",children:"Dcouvrir"}),y.jsx("div",{className:"text-gold",children:y.jsx(Xz,{})})]})]}),y.jsx("section",{className:"py-24 px-4 bg-white/50 dark:bg-black/20 backdrop-blur-sm",children:y.jsxs("div",{className:"max-w-6xl mx-auto",children:[y.jsxs("div",{className:"text-center mb-16",children:[y.jsx("h2",{className:"text-3xl md:text-4xl font-serif font-bold mb-4",children:"Votre dressing intelligent"}),y.jsx("p",{className:"text-gray-500 max-w-xl mx-auto",children:"Une suite d'outils puissants pour digitaliser et optimiser votre style au quotidien."})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[y.jsx(_y,{icon:y.jsx(a0,{}),title:"Digitalisez en un clair",description:"Prenez une photo, l'IA dtecte automatiquement la catgorie, la couleur et la matire. Votre garde-robe dans votre poche."}),y.jsx(_y,{icon:y.jsx(_f,{}),title:"Styliste Personnel",description:"Une runion ? Un date ? Demandez  l'IA de crer la tenue parfaite en fonction de la mto et de l'occasion."}),y.jsx(_y,{icon:y.jsx(WR,{}),title:"Valise Optimise",description:"Partez l'esprit lger. Gnrez une liste de vtements optimise pour la dure et la destination de votre voyage."})]})]})}),y.jsx("section",{className:"py-20 px-4 text-center",children:y.jsxs("div",{className:"max-w-3xl mx-auto",children:[y.jsx("h2",{className:"text-3xl md:text-5xl font-serif font-bold mb-8",children:"Prt  upgrader votre style ?"}),y.jsx("button",{onClick:t,className:"px-10 py-4 bg-raisin-black dark:bg-snow text-snow dark:text-onyx font-bold rounded-full text-lg hover:opacity-90 transition-opacity transform hover:scale-105 duration-200",children:"Rejoindre maintenant"}),y.jsx("p",{className:"mt-8 text-sm text-gray-500",children:" 2025 Dress Me Up! - Fait avec  & IA."})]})})]})},_y=({icon:t,title:e,description:n})=>y.jsxs(Gi.div,{whileHover:{y:-5},className:"p-8 rounded-2xl bg-white dark:bg-raisin-black border border-black/5 dark:border-white/5 shadow-xl shadow-black/5 dark:shadow-black/20",children:[y.jsx("div",{className:"w-12 h-12 bg-gold/10 text-gold rounded-xl flex items-center justify-center mb-6",children:y.jsx("div",{className:"w-6 h-6",children:t})}),y.jsx("h3",{className:"text-xl font-bold mb-3",children:e}),y.jsx("p",{className:"text-gray-500 dark:text-gray-400 leading-relaxed",children:n})]}),Jz=({onAnalyze:t,isAnalyzing:e})=>{const n=D.useRef(null),[r,s]=D.useState([]),[o,u]=D.useState(!1),[f,h]=D.useState(!1);D.useEffect(()=>{const M=()=>h(window.innerWidth<1024);return M(),window.addEventListener("resize",M),()=>window.removeEventListener("resize",M)},[]),D.useEffect(()=>()=>{r.forEach(M=>URL.revokeObjectURL(M.preview))},[r]);const d=M=>{const z=M.map(G=>({id:`${G.name}-${G.lastModified}-${Math.random()}`,file:G,preview:URL.createObjectURL(G)}));s(G=>[...G,...z])},g=M=>{M.target.files&&(d(Array.from(M.target.files)),M.target.value="")},b=()=>{var M;e||(M=n.current)==null||M.click()},_=M=>{f||(M.preventDefault(),M.stopPropagation(),u(!0))},E=M=>{f||(M.preventDefault(),M.stopPropagation(),u(!1))},C=M=>{f||(M.preventDefault(),M.stopPropagation())},N=M=>{f||(M.preventDefault(),M.stopPropagation(),u(!1),M.dataTransfer.files&&M.dataTransfer.files.length>0&&(d(Array.from(M.dataTransfer.files)),M.dataTransfer.clearData()))},j=M=>{const z=r.find(G=>G.id===M);z&&URL.revokeObjectURL(z.preview),s(G=>G.filter(K=>K.id!==M))},U=()=>{r.length>0&&!e&&(t(r.map(M=>M.file)),s([]))};return y.jsxs("div",{className:"bg-white dark:bg-raisin-black rounded-xl shadow-2xl shadow-black/10 dark:shadow-black/20 ring-1 ring-black/5 dark:ring-white/10 p-6 lg:p-8",onDragEnter:_,onDragLeave:E,onDragOver:C,onDrop:N,children:[y.jsx("h2",{className:"text-2xl font-serif font-bold mb-6 text-gold",children:"Ajouter  ma garde-robe"}),y.jsxs("div",{onClick:b,className:`relative bg-snow dark:bg-onyx rounded-lg p-12 text-center transition-all duration-300 ring-1 ring-dashed ring-black/20 dark:ring-white/20 ${e?"cursor-default":"cursor-pointer hover:ring-gold dark:hover:ring-gold"}`,children:[y.jsx("input",{type:"file",ref:n,onChange:g,className:"hidden",accept:"image/png, image/jpeg, image/webp",multiple:!0,disabled:e}),y.jsx("div",{className:"flex flex-col items-center justify-center min-h-[8rem]",children:e?y.jsxs(y.Fragment,{children:[y.jsx(mL,{}),y.jsx("p",{className:"mt-4 text-sm font-medium text-gray-500 dark:text-gray-400 tracking-wide",children:"Analyse en cours..."})]}):y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"text-gray-400 dark:text-gray-600 mb-4",children:y.jsx(a0,{})}),y.jsx("p",{className:"font-semibold text-gray-700 dark:text-gray-300",children:f?"Appuyez pour ajouter des photos":"Glissez-dposez vos photos"}),y.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:["ou ",y.jsx("span",{className:"text-gold font-medium",children:"cliquez pour slectionner"})]})]})}),o&&!f&&y.jsxs("div",{className:"absolute inset-0 bg-gold/90 backdrop-blur-sm rounded-lg flex flex-col items-center justify-center transition-opacity",children:[y.jsx("div",{className:"text-black transform-gpu scale-110",children:y.jsx(a0,{})}),y.jsx("p",{className:"mt-2 font-bold text-lg text-black",children:"Dposez pour ajouter"})]})]}),r.length>0&&!e&&y.jsxs("div",{className:"mt-8",children:[y.jsx("h3",{className:"font-semibold mb-4 text-gray-600 dark:text-gray-300",children:"Prts pour l'analyse :"}),y.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 gap-4 mb-6",children:r.map(M=>y.jsxs("div",{className:"relative group aspect-square",children:[y.jsx("img",{src:M.preview,alt:M.file.name,className:"w-full h-full object-cover rounded-md shadow-md"}),y.jsx("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity rounded-md"}),y.jsx("button",{onClick:()=>j(M.id),className:"absolute -top-2 -right-2 p-1 bg-raisin-black border-2 border-white dark:border-onyx rounded-full text-white opacity-0 group-hover:opacity-100 transition-all hover:bg-red-500 hover:scale-110 focus:opacity-100","aria-label":"Supprimer",children:y.jsx(Hb,{})})]},M.id))}),y.jsxs("button",{onClick:U,disabled:e||r.length===0,className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-gold text-onyx font-bold rounded-lg hover:bg-gold-dark transition-all duration-300 disabled:bg-gray-400 dark:disabled:bg-gray-600 disabled:cursor-not-allowed transform hover:scale-105",children:[y.jsx(_f,{}),"Analyser les ",r.length," article(s)"]})]})]})},eB=()=>y.jsx("div",{className:"animate-pulse bg-gray-200 dark:bg-gray-800 rounded-lg aspect-square relative overflow-hidden",children:y.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent skew-x-12 translate-x-[-100%] animate-shimmer"})}),tB=({imageSrc:t,analysis:e,onClick:n,isSelected:r,isSet:s,isFavorite:o})=>y.jsxs("div",{onClick:n,className:"group relative aspect-square bg-raisin-black rounded-lg overflow-hidden shadow-lg transition-all duration-300 hover:shadow-2xl hover:-translate-y-1 cursor-pointer",children:[y.jsx("img",{src:t,alt:e,loading:"lazy",className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-110"}),y.jsx("div",{className:`absolute inset-0 transition-all duration-300 ${r?"ring-4 ring-gold":"ring-2 ring-transparent"} rounded-lg`}),y.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent"}),r?y.jsx("span",{className:"absolute top-2 left-2 p-1.5 bg-gold rounded-full text-onyx z-10",children:y.jsx(qb,{})}):o?y.jsx("span",{className:"absolute top-2 left-2 p-1.5 bg-black/50 backdrop-blur-sm rounded-full text-red-500 z-10",children:y.jsx(lu,{className:"w-4 h-4"})}):s?y.jsx("span",{className:"absolute top-2 left-2 p-1.5 bg-black/50 backdrop-blur-sm rounded-full text-white z-10",children:y.jsx(kp,{})}):null,y.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-3",children:y.jsx("p",{className:"text-white text-sm font-medium line-clamp-2",children:e})})]}),nB={Hauts:{color:"Toutes",material:"Toutes"},Bas:{color:"Toutes",material:"Toutes"},Chaussures:{color:"Toutes",material:"Toutes"},Accessoires:{color:"Toutes",material:"Toutes"}},rB=({clothingItems:t,isLoading:e,clothingSets:n=[],onItemClick:r,onDeleteItem:s,onCreateSet:o})=>{var B,Z;const[u,f]=D.useState("Hauts"),[h,d]=D.useState(nB),[g,b]=D.useState(""),[_,E]=D.useState("favorites"),[C,N]=D.useState(!1),[j,U]=D.useState(new Set),M=D.useMemo(()=>n||[],[n]),z=D.useMemo(()=>new Set(M.flatMap(ee=>ee.itemIds||[])),[M]),G=t.length,K=[{name:"Hauts",icon:y.jsx(pL,{})},{name:"Bas",icon:y.jsx(gL,{})},{name:"Chaussures",icon:y.jsx(vL,{})},{name:"Accessoires",icon:y.jsx(yL,{})}],H=[{value:"favorites",label:"Favoris d'abord"},{value:"newest",label:"Plus rcents"},{value:"oldest",label:"Plus anciens"},{value:"color",label:"Couleur (A-Z)"},{value:"category",label:"Catgorie"}],A=ee=>{C?U(re=>{const de=new Set(re);return de.has(ee.id)?de.delete(ee.id):de.add(ee.id),de}):r(ee)},S=ee=>[...ee].sort((re,de)=>{switch(_){case"favorites":return(de.isFavorite?1:0)-(re.isFavorite?1:0);case"newest":return!re.createdAt&&!de.createdAt?0:re.createdAt?de.createdAt?de.createdAt-re.createdAt:-1:1;case"oldest":return!re.createdAt&&!de.createdAt?0:re.createdAt?de.createdAt?re.createdAt-de.createdAt:-1:1;case"color":return re.color.localeCompare(de.color);case"category":return re.category.localeCompare(de.category);default:return 0}}),I=D.useMemo(()=>{if(!g.trim())return t;const ee=g.toLowerCase();return t.filter(re=>re.analysis.toLowerCase().includes(ee)||re.color.toLowerCase().includes(ee)||re.material.toLowerCase().includes(ee)||re.category.toLowerCase().includes(ee))},[t,g]),L=D.useMemo(()=>{if(!u)return[];const ee=I.filter(de=>de.category===u),re=h[u];return re?ee.filter(de=>{const je=re.color==="Toutes"||de.color===re.color,Se=re.material==="Toutes"||de.material===re.material;return je&&Se}):ee},[I,u,(B=h[u])==null?void 0:B.color,(Z=h[u])==null?void 0:Z.material]),V=D.useMemo(()=>S(L),[L,_]),O=D.useMemo(()=>K.reduce((ee,{name:re})=>(ee[re]=I.filter(de=>de.category===re).length,ee),{}),[I]),P=D.useMemo(()=>{if(!u)return[];const ee=I.filter(re=>re.category===u).map(re=>re.color);return["Toutes",...Array.from(new Set(ee))]},[I,u]),xe=D.useMemo(()=>{if(!u)return[];const ee=I.filter(re=>re.category===u).map(re=>re.material);return["Toutes",...Array.from(new Set(ee))]},[I,u]),De=ee=>{u&&d(re=>({...re,[u]:{...re[u],color:ee}}))},Q=ee=>{u&&d(re=>({...re,[u]:{...re[u],material:ee}}))},se=ee=>{f(u===ee?null:ee)},fe=()=>{N(!C),U(new Set)},we=()=>{if(j.size<2){alert("Veuillez slectionner au moins 2 articles pour crer un ensemble.");return}const ee=window.prompt("Donnez un nom  cet ensemble :");ee&&(o(ee,Array.from(j)),fe())},Ee=()=>{b("")};return e?y.jsxs("div",{className:"bg-white dark:bg-raisin-black rounded-xl shadow-2xl p-6 lg:p-8",children:[y.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[y.jsx("div",{className:"w-8 h-8 bg-gray-200 dark:bg-gray-700 rounded-full animate-pulse"}),y.jsx("div",{className:"h-8 w-48 bg-gray-200 dark:bg-gray-700 rounded animate-pulse"})]}),y.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:[...Array(10)].map((ee,re)=>y.jsx(eB,{},re))})]}):G===0?y.jsxs("div",{className:"bg-white dark:bg-raisin-black rounded-xl shadow-2xl shadow-black/10 dark:shadow-black/20 ring-1 ring-black/5 dark:ring-white/10 p-8 text-center",children:[y.jsx(YT,{className:"w-20 h-20 mx-auto text-gray-400 dark:text-gray-600 mb-4"}),y.jsx("h2",{className:"text-2xl font-bold mb-3 text-gray-700 dark:text-gray-300",children:"Votre garde-robe est vide"}),y.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Ajoutez vos premiers vtements pour commencer  crer vos tenues !"})]}):y.jsxs("div",{className:"bg-white dark:bg-raisin-black rounded-xl shadow-2xl shadow-black/10 dark:shadow-black/20 ring-1 ring-black/5 dark:ring-white/10 p-6 lg:p-8",children:[y.jsxs("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center gap-4 mb-6",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx(YT,{className:"w-8 h-8 text-gold"}),y.jsxs("div",{children:[y.jsxs("h2",{className:"text-3xl font-serif font-bold tracking-tight",children:[y.jsx("span",{className:"text-gold",children:"Ma"})," Garde-Robe"]}),y.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:[G," vtement",G>1?"s":""]})]})]}),C?y.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[y.jsx("button",{onClick:fe,className:"flex-shrink-0 px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors text-sm font-medium",children:"Annuler"}),y.jsxs("button",{onClick:we,disabled:j.size<2,className:"flex-shrink-0 flex items-center justify-center gap-2 px-4 py-2 bg-gold text-onyx font-bold rounded-lg hover:bg-gold-dark transition-all duration-300 text-sm disabled:opacity-50",children:["Valider (",j.size,")"]})]}):y.jsxs("button",{onClick:fe,className:"flex-shrink-0 flex items-center justify-center gap-2 px-4 py-2 bg-onyx dark:bg-snow border-2 border-gold text-gold dark:text-onyx font-bold rounded-lg hover:bg-gold/10 dark:hover:bg-onyx/10 transition-all duration-300 text-sm",children:[y.jsx(kp,{}),"Crer un ensemble"]})]}),y.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 mb-6",children:[y.jsxs("div",{className:"relative flex-1",children:[y.jsx(QR,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),y.jsx("input",{type:"text",value:g,onChange:ee=>b(ee.target.value),placeholder:"Rechercher par description, couleur, matire...",className:"w-full pl-10 pr-10 py-2.5 bg-snow dark:bg-onyx border border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-gold focus:border-transparent transition-all"}),g&&y.jsx("button",{onClick:Ee,className:"absolute right-3 top-1/2 -translate-y-1/2 p-1 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-full transition-colors","aria-label":"Effacer la recherche",children:y.jsx(Hb,{})})]}),y.jsxs("div",{className:"relative sm:w-48",children:[y.jsx(XR,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400 pointer-events-none"}),y.jsx("select",{value:_,onChange:ee=>E(ee.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-snow dark:bg-onyx border border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-gold focus:border-transparent appearance-none cursor-pointer transition-all",children:H.map(ee=>y.jsx("option",{value:ee.value,children:ee.label},ee.value))}),y.jsx(Wc,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400 pointer-events-none"})]})]}),g&&y.jsxs("div",{className:"mb-4 text-sm text-gray-500 dark:text-gray-400",children:[I.length," rsultat",I.length>1?"s":"",' pour "',g,'"']}),C&&y.jsxs("div",{className:"bg-gold/10 border border-gold/30 text-gold-dark dark:text-gold p-4 rounded-lg mb-6 text-center",children:[y.jsx("p",{className:"font-semibold",children:"Mode Cration d'Ensemble"}),y.jsx("p",{className:"text-sm",children:"Slectionnez les articles que vous souhaitez lier."})]}),y.jsx("div",{className:"space-y-6",children:K.map(({name:ee,icon:re})=>{const de=O[ee]||0,je=u===ee;return y.jsxs("div",{className:"border border-black/10 dark:border-white/10 rounded-lg overflow-hidden",children:[y.jsxs("button",{onClick:()=>se(ee),className:"w-full flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-900/50 hover:bg-gray-100 dark:hover:bg-gray-900 transition-colors",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("span",{className:"w-5 h-5 text-gold",children:re}),y.jsx("span",{className:"font-semibold text-lg",children:ee}),y.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:["(",de,")"]})]}),y.jsx(Wc,{className:`w-5 h-5 transition-transform ${je?"rotate-180":""}`})]}),je&&y.jsxs("div",{className:"p-6 space-y-6",children:[y.jsxs("div",{className:"flex flex-wrap gap-4",children:[y.jsxs("div",{className:"flex-1 min-w-[150px]",children:[y.jsx("label",{className:"block text-sm font-medium mb-2",children:"Couleur"}),y.jsx("select",{value:h[ee].color,onChange:Se=>De(Se.target.value),className:"w-full px-4 py-2 border border-black/10 dark:border-white/10 rounded-lg bg-white dark:bg-gray-900 focus:ring-2 focus:ring-gold focus:border-transparent",children:P.map(Se=>y.jsx("option",{value:Se,children:Se},Se))})]}),y.jsxs("div",{className:"flex-1 min-w-[150px]",children:[y.jsx("label",{className:"block text-sm font-medium mb-2",children:"Matire"}),y.jsx("select",{value:h[ee].material,onChange:Se=>Q(Se.target.value),className:"w-full px-4 py-2 border border-black/10 dark:border-white/10 rounded-lg bg-white dark:bg-gray-900 focus:ring-2 focus:ring-gold focus:border-transparent",children:xe.map(Se=>y.jsx("option",{value:Se,children:Se},Se))})]})]}),V.length>0?y.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:y.jsx(CL,{mode:"popLayout",children:V.map((Se,Dt)=>y.jsx(Gi.div,{layout:!0,initial:{opacity:0,scale:.8,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.5,transition:{duration:.2}},transition:{duration:.4,delay:Dt*.05,type:"spring",bounce:.3},children:y.jsx(tB,{imageSrc:Se.imageSrc,analysis:Se.analysis,onClick:()=>A(Se),isSelected:j.has(Se.id),isSet:z.has(Se.id),isFavorite:Se.isFavorite})},Se.id))})}):y.jsx("p",{className:"text-center text-gray-500 dark:text-gray-400 py-8",children:"Aucun vtement ne correspond aux filtres slectionns."})]})]},ee)})})]})},CN=({clothingItems:t,clothingSets:e,onGenerate:n,isGenerating:r,weatherInfo:s,weatherError:o,anchorItem:u,onClearAnchor:f})=>{const[h,d]=Sn.useState(""),g=u?"name"in u?u.name:u.analysis:null,b=E=>{E.preventDefault(),n(h||"Casual")},_=["Casual","Soire chic","Travail (formel)"];return y.jsxs("div",{children:[g&&y.jsxs("div",{className:"mb-4 p-3 rounded-lg bg-gold/10 border border-gold/30 relative",children:[y.jsxs("p",{className:"text-sm font-semibold text-gold-dark dark:text-gold text-center pr-8",children:[" Crer une tenue avec : ",y.jsx("span",{className:"font-bold",children:g})]}),f&&y.jsx("button",{type:"button",onClick:f,className:"absolute right-2 top-1/2 -translate-y-1/2 p-1 hover:bg-gold/20 rounded-full transition-colors","aria-label":"Supprimer l'ancre",title:"Gnrer sans cet article",children:y.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),y.jsxs("div",{className:"text-center mb-6 p-3 rounded-lg bg-snow dark:bg-onyx border border-black/10 dark:border-white/10",children:[s&&y.jsxs("p",{className:"text-sm font-medium text-blue-500 dark:text-blue-400",children:["Mto : ",s," "]}),o&&y.jsx("p",{className:"text-sm font-medium text-red-500",children:o}),!s&&!o&&y.jsx("p",{className:"text-sm font-medium text-gray-400 animate-pulse",children:"Rcupration de la mto..."})]}),y.jsx("form",{onSubmit:b,children:y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{children:[y.jsx("label",{htmlFor:"occasion",className:"block text-sm font-medium text-center text-gray-500 dark:text-gray-400 mb-3",children:"Pour quelle occasion ?"}),y.jsx("div",{className:"flex justify-center gap-2 mb-4",children:_.map(E=>y.jsx("button",{type:"button",onClick:()=>d(E),className:`px-4 py-1.5 rounded-full text-sm font-semibold transition-colors duration-200 ${h===E?"bg-gold text-onyx":"bg-snow dark:bg-onyx border border-gray-300 dark:border-gray-700 hover:border-gold dark:hover:border-gold text-gray-700 dark:text-gray-300"}`,disabled:r,children:E},E))}),y.jsx("input",{id:"occasion",type:"text",value:h,onChange:E=>d(E.target.value),placeholder:"Ou dcrivez... (ex: Brunch dcontract)",className:"w-full px-4 py-3 bg-snow dark:bg-onyx border-2 border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-gold focus:border-transparent transition-colors text-center",disabled:r})]}),y.jsxs("button",{type:"submit",disabled:r,className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-gold text-onyx font-bold rounded-lg hover:bg-gold-dark transition-all duration-300 disabled:bg-gray-400 dark:disabled:bg-gray-600 disabled:cursor-not-allowed transform hover:scale-105",children:[y.jsx(_f,{}),r?"Gnration...":"Gnrer des Tenues"]})]})})]})},iB=!1,sB=({outfits:t,allClothingItems:e,allClothingSets:n,favoriteOutfits:r,onToggleFavorite:s,onGenerateVisual:o,generatingVisualFor:u,selectedOutfit:f,onSelectOutfit:h})=>{const[d,g]=D.useState(null);D.useEffect(()=>{if(!d)return;const _=E=>{E.key==="Escape"&&g(null)};return window.addEventListener("keydown",_),document.body.style.overflow="hidden",()=>{window.removeEventListener("keydown",_),document.body.style.overflow="auto"}},[d]);const b=_=>{const{id:E,description:C}=_,N=E?E.trim():"",j=C?C.trim().toLowerCase():"";let U=e.find(z=>z.id===N);if(U)return U;let M=n.find(z=>z.id===N);if(M)return M;if(N&&(U=e.find(z=>z.analysis.toLowerCase().includes(N.toLowerCase())),U)||j&&(U=e.find(z=>{const G=z.analysis.toLowerCase();return G.includes(j)||j.includes(G)}),U))return U};return y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"mt-10 space-y-8",children:t.map((_,E)=>{const C=r.some(j=>j.titre===_.titre&&j.description===_.description);_.titre;const N=(f==null?void 0:f.titre)===_.titre&&(f==null?void 0:f.description)===_.description;return y.jsxs("div",{className:`bg-snow dark:bg-onyx border-2 rounded-lg p-5 transition-all duration-300 hover:shadow-lg relative ${N?"border-gold shadow-gold/30 shadow-lg":"border-black/10 dark:border-white/10 hover:border-gold/50"}`,children:[N&&y.jsxs("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2 bg-gradient-to-r from-gold to-gold-dark text-onyx px-4 py-1 rounded-full text-xs font-bold shadow-lg flex items-center gap-1.5",children:[y.jsx("svg",{className:"w-3.5 h-3.5",fill:"currentColor",viewBox:"0 0 20 20",children:y.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Tenue choisie"]}),y.jsxs("div",{className:"flex justify-between items-start",children:[y.jsx("h3",{className:"font-serif font-bold text-xl text-gold",children:_.titre}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("button",{onClick:()=>h(_),className:`p-1.5 transition-colors ${N?"text-gold":"text-gray-400 hover:text-gold dark:hover:text-gold"}`,"aria-label":N?"Dslectionner cette tenue":"Choisir cette tenue",title:N?"Dslectionner cette tenue":"Choisir cette tenue",children:y.jsx("svg",{className:"w-6 h-6",fill:N?"currentColor":"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),iB,y.jsx("button",{onClick:()=>s(_),className:"p-1.5 text-gray-400 hover:text-gold dark:hover:text-gold transition-colors","aria-label":C?"Retirer des favoris":"Ajouter aux favoris",children:C?y.jsx(lu,{className:"w-6 h-6 text-gold"}):y.jsx(Vm,{className:"w-6 h-6"})})]})]}),y.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1 mb-5",children:_.description}),y.jsx("div",{className:"flex flex-wrap gap-3 mb-5",children:_.vetements.map((j,U)=>{const M=b(j),z=M?M.imageSrc:null;return y.jsx("button",{onClick:()=>z&&g(z),className:"w-20 h-20 bg-gray-200 dark:bg-gray-800 rounded-md shadow-md border-2 border-white dark:border-raisin-black overflow-hidden transition-transform duration-300 hover:scale-105 hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gold dark:focus:ring-offset-onyx disabled:cursor-default disabled:hover:scale-100 relative group",disabled:!z,"aria-label":`Agrandir l'image de : ${j.description}`,title:j.description,children:z?y.jsx("img",{src:z,alt:j.description,className:"w-full h-full object-cover"}):y.jsx("div",{className:"w-full h-full flex items-center justify-center p-1 text-center",children:y.jsx(YR,{})})},U)})}),y.jsx("ul",{className:"list-disc list-inside space-y-1.5 text-sm pt-4 border-t border-black/5 dark:border-white/10",children:_.vetements.map((j,U)=>y.jsx("li",{className:"text-gray-700 dark:text-gray-300",children:j.description},U))})]},E)})}),d&&y.jsx("div",{className:"fixed inset-0 bg-onyx/80 backdrop-blur-md flex items-center justify-center z-[100] p-4",onClick:()=>g(null),role:"dialog","aria-modal":"true",children:y.jsxs("div",{className:"relative",onClick:_=>_.stopPropagation(),children:[y.jsx("img",{src:d,alt:"Vue agrandie",className:"max-w-[90vw] max-h-[85vh] object-contain rounded-lg shadow-2xl"}),y.jsx("button",{onClick:()=>g(null),className:"absolute -top-3 -right-3 p-1.5 bg-raisin-black border-2 border-white dark:border-onyx rounded-full text-white hover:bg-red-500 hover:scale-110 transition-all focus:outline-none focus:ring-2 focus:ring-gold","aria-label":"Fermer",children:y.jsx(bL,{})})]})})]})},Zl=D.memo(sB);var RN=e2(),aB=oB()?D.useLayoutEffect:D.useEffect;function oB(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function lB(){var t=D.useState(Object.create(null)),e=t[1];return D.useCallback(function(){e(Object.create(null))},[])}var uB=function(e){var n=e.children,r=e.type,s=r===void 0?"reach-portal":r,o=D.useRef(null),u=D.useRef(null),f=lB();return aB(function(){if(o.current){var h=o.current.ownerDocument;return u.current=h==null?void 0:h.createElement(s),h.body.appendChild(u.current),f(),function(){u.current&&u.current.ownerDocument&&u.current.ownerDocument.body.removeChild(u.current)}}},[s,f]),u.current?RN.createPortal(n,u.current):D.createElement("span",{ref:o})};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var pe=function(){return pe=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},pe.apply(this,arguments)};function S_(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function at(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function dt(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),s,o=[],u;try{for(;(e===void 0||e-- >0)&&!(s=r.next()).done;)o.push(s.value)}catch(f){u={error:f}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(u)throw u.error}}return o}function zt(t,e,n){if(arguments.length===2)for(var r=0,s=e.length,o;r<s;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}var Rt;(function(t){t.Start="xstate.start",t.Stop="xstate.stop",t.Raise="xstate.raise",t.Send="xstate.send",t.Cancel="xstate.cancel",t.NullEvent="",t.Assign="xstate.assign",t.After="xstate.after",t.DoneState="done.state",t.DoneInvoke="done.invoke",t.Log="xstate.log",t.Init="xstate.init",t.Invoke="xstate.invoke",t.ErrorExecution="error.execution",t.ErrorCommunication="error.communication",t.ErrorPlatform="error.platform",t.ErrorCustom="xstate.error",t.Update="xstate.update",t.Pure="xstate.pure",t.Choose="xstate.choose"})(Rt||(Rt={}));var hu;(function(t){t.Parent="#_parent",t.Internal="#_internal"})(hu||(hu={}));var E0=Rt.Start,A_=Rt.Stop,Wf=Rt.Raise,Lp=Rt.Send,IN=Rt.Cancel,cB=Rt.NullEvent,C_=Rt.Assign;Rt.After;Rt.DoneState;var NN=Rt.Log,fB=Rt.Init,T0=Rt.Invoke;Rt.ErrorExecution;var fA=Rt.ErrorPlatform,hB=Rt.ErrorCustom,kN=Rt.Update,dB=Rt.Choose,mB=Rt.Pure,DN=".",hA={},S0="xstate.guard",pB="",kd;function R_(t,e,n){n===void 0&&(n=DN);var r=ef(t,n),s=ef(e,n);return vt(s)?vt(r)?s===r:!1:vt(r)?r in s:Object.keys(r).every(function(o){return o in s?R_(r[o],s[o]):!1})}function ON(t){try{return vt(t)||typeof t=="number"?"".concat(t):t.type}catch{throw new Error("Events must be strings or objects with a string event.type property.")}}function A0(t,e){try{return Tu(t)?t:t.toString().split(e)}catch{throw new Error("'".concat(t,"' is not a valid state path."))}}function gB(t){return typeof t=="object"&&"value"in t&&"context"in t&&"event"in t&&"_event"in t}function ef(t,e){if(gB(t))return t.value;if(Tu(t))return Gm(t);if(typeof t!="string")return t;var n=A0(t,e);return Gm(n)}function Gm(t){if(t.length===1)return t[0];for(var e={},n=e,r=0;r<t.length-1;r++)r===t.length-2?n[t[r]]=t[r+1]:(n[t[r]]={},n=n[t[r]]);return e}function Lc(t,e){for(var n={},r=Object.keys(t),s=0;s<r.length;s++){var o=r[s];n[o]=e(t[o],o,t,s)}return n}function dA(t,e,n){var r,s,o={};try{for(var u=at(Object.keys(t)),f=u.next();!f.done;f=u.next()){var h=f.value,d=t[h];n(d)&&(o[h]=e(d,h,t))}}catch(g){r={error:g}}finally{try{f&&!f.done&&(s=u.return)&&s.call(u)}finally{if(r)throw r.error}}return o}var vB=function(t){return function(e){var n,r,s=e;try{for(var o=at(t),u=o.next();!u.done;u=o.next()){var f=u.value;s=s[f]}}catch(h){n={error:h}}finally{try{u&&!u.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return s}};function yB(t,e){return function(n){var r,s,o=n;try{for(var u=at(t),f=u.next();!f.done;f=u.next()){var h=f.value;o=o[e][h]}}catch(d){r={error:d}}finally{try{f&&!f.done&&(s=u.return)&&s.call(u)}finally{if(r)throw r.error}}return o}}function lm(t){if(!t)return[[]];if(vt(t))return[[t]];var e=Kt(Object.keys(t).map(function(n){var r=t[n];return typeof r!="string"&&(!r||!Object.keys(r).length)?[[n]]:lm(t[n]).map(function(s){return[n].concat(s)})}));return e}function Kt(t){var e;return(e=[]).concat.apply(e,zt([],dt(t),!1))}function jN(t){return Tu(t)?t:[t]}function Ai(t){return t===void 0?[]:jN(t)}function $m(t,e,n){var r,s;if(pt(t))return t(e,n.data);var o={};try{for(var u=at(Object.keys(t)),f=u.next();!f.done;f=u.next()){var h=f.value,d=t[h];pt(d)?o[h]=d(e,n.data):o[h]=d}}catch(g){r={error:g}}finally{try{f&&!f.done&&(s=u.return)&&s.call(u)}finally{if(r)throw r.error}}return o}function bB(t){return/^(done|error)\./.test(t)}function mA(t){return!!(t instanceof Promise||t!==null&&(pt(t)||typeof t=="object")&&pt(t.then))}function _B(t){return t!==null&&typeof t=="object"&&"transition"in t&&typeof t.transition=="function"}function xB(t,e){var n,r,s=dt([[],[]],2),o=s[0],u=s[1];try{for(var f=at(t),h=f.next();!h.done;h=f.next()){var d=h.value;e(d)?o.push(d):u.push(d)}}catch(g){n={error:g}}finally{try{h&&!h.done&&(r=f.return)&&r.call(f)}finally{if(n)throw n.error}}return[o,u]}function PN(t,e){return Lc(t.states,function(n,r){if(n){var s=(vt(e)?void 0:e[r])||(n?n.current:void 0);if(s)return{current:s,states:PN(n,s)}}})}function wB(t,e){return{current:e,states:PN(t,e)}}function pA(t,e,n,r){var s=t&&n.reduce(function(o,u){var f,h,d=u.assignment,g={state:r,action:u,_event:e},b={};if(pt(d))b=d(o,e.data,g);else try{for(var _=at(Object.keys(d)),E=_.next();!E.done;E=_.next()){var C=E.value,N=d[C];b[C]=pt(N)?N(o,e.data,g):N}}catch(j){f={error:j}}finally{try{E&&!E.done&&(h=_.return)&&h.call(_)}finally{if(f)throw f.error}}return Object.assign({},o,b)},t);return s}var EB=function(){};function Tu(t){return Array.isArray(t)}function pt(t){return typeof t=="function"}function vt(t){return typeof t=="string"}function MN(t,e){if(t)return vt(t)?{type:S0,name:t,predicate:e?e[t]:void 0}:pt(t)?{type:S0,name:t.name,predicate:t}:t}function TB(t){try{return"subscribe"in t&&pt(t.subscribe)}catch{return!1}}var xa=(function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"})();kd={},kd[xa]=function(){return this},kd[Symbol.observable]=function(){return this};function du(t){return!!t&&"__xstatenode"in t}function SB(t){return!!t&&typeof t.send=="function"}function Up(t,e){return vt(t)||typeof t=="number"?pe({type:t},e):t}function Gn(t,e){if(!vt(t)&&"$$type"in t&&t.$$type==="scxml")return t;var n=Up(t);return pe({name:n.type,data:n,$$type:"scxml",type:"external"},e)}function kl(t,e){var n=jN(e).map(function(r){return typeof r>"u"||typeof r=="string"||du(r)?{target:r,event:t}:pe(pe({},r),{event:t})});return n}function AB(t){if(!(t===void 0||t===pB))return Ai(t)}function VN(t,e,n,r,s){var o=t.options.guards,u={state:s,cond:e,_event:r};if(e.type===S0)return((o==null?void 0:o[e.name])||e.predicate)(n,r.data,u);var f=o==null?void 0:o[e.type];if(!f)throw new Error("Guard '".concat(e.type,"' is not implemented on machine '").concat(t.id,"'."));return f(n,r.data,u)}function LN(t){return typeof t=="string"?{type:t}:t}function um(t,e,n){var r=function(){},s=typeof t=="object",o=s?t:null;return{next:((s?t.next:t)||r).bind(o),error:((s?t.error:e)||r).bind(o),complete:((s?t.complete:n)||r).bind(o)}}function Dd(t,e){return"".concat(t,":invocation[").concat(e,"]")}function C0(t){return(t.type===Wf||t.type===Lp&&t.to===hu.Internal)&&typeof t.delay!="number"}var Jl=Gn({type:fB});function R0(t,e){return e&&e[t]||void 0}function Af(t,e){var n;if(vt(t)||typeof t=="number"){var r=R0(t,e);pt(r)?n={type:t,exec:r}:r?n=r:n={type:t,exec:void 0}}else if(pt(t))n={type:t.name||t.toString(),exec:t};else{var r=R0(t.type,e);if(pt(r))n=pe(pe({},t),{exec:r});else if(r){var s=r.type||t.type;n=pe(pe(pe({},r),t),{type:s})}else n=t}return n}var wa=function(t,e){if(!t)return[];var n=Tu(t)?t:[t];return n.map(function(r){return Af(r,e)})};function I_(t){var e=Af(t);return pe(pe({id:vt(t)?t:e.id},e),{type:e.type})}function CB(t,e){return{type:Wf,event:typeof t=="function"?t:Up(t),delay:e?e.delay:void 0,id:e==null?void 0:e.id}}function RB(t,e,n,r){var s={_event:n},o=Gn(pt(t.event)?t.event(e,n.data,s):t.event),u;if(vt(t.delay)){var f=r&&r[t.delay];u=pt(f)?f(e,n.data,s):f}else u=pt(t.delay)?t.delay(e,n.data,s):t.delay;return pe(pe({},t),{type:Wf,_event:o,delay:u})}function IB(t,e){return{to:e?e.to:void 0,type:Lp,event:pt(t)?t:Up(t),delay:e?e.delay:void 0,id:e&&e.id!==void 0?e.id:pt(t)?t.name:ON(t)}}function NB(t,e,n,r){var s={_event:n},o=Gn(pt(t.event)?t.event(e,n.data,s):t.event),u;if(vt(t.delay)){var f=r&&r[t.delay];u=pt(f)?f(e,n.data,s):f}else u=pt(t.delay)?t.delay(e,n.data,s):t.delay;var h=pt(t.to)?t.to(e,n.data,s):t.to;return pe(pe({},t),{to:h,_event:o,event:o.data,delay:u})}var kB=function(t,e,n){return pe(pe({},t),{value:vt(t.expr)?t.expr:t.expr(e,n.data,{_event:n})})},DB=function(t){return{type:IN,sendId:t}};function OB(t){var e=I_(t);return{type:Rt.Start,activity:e,exec:void 0}}function jB(t){var e=pt(t)?t:I_(t);return{type:Rt.Stop,activity:e,exec:void 0}}function PB(t,e,n){var r=pt(t.activity)?t.activity(e,n.data):t.activity,s=typeof r=="string"?{id:r}:r,o={type:Rt.Stop,activity:s};return o}var MB=function(t){return{type:C_,assignment:t}};function VB(t,e){var n=e?"#".concat(e):"";return"".concat(Rt.After,"(").concat(t,")").concat(n)}function Od(t,e){var n="".concat(Rt.DoneState,".").concat(t),r={type:n,data:e};return r.toString=function(){return n},r}function cm(t,e){var n="".concat(Rt.DoneInvoke,".").concat(t),r={type:n,data:e};return r.toString=function(){return n},r}function Uc(t,e){var n="".concat(Rt.ErrorPlatform,".").concat(t),r={type:n,data:e};return r.toString=function(){return n},r}var LB=function(t){var e,n,r=[];try{for(var s=at(t),o=s.next();!o.done;o=s.next())for(var u=o.value,f=0;f<u.actions.length;){if(u.actions[f].type===C_){r.push(u.actions[f]),u.actions.splice(f,1);continue}f++}}catch(h){e={error:h}}finally{try{o&&!o.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}return r};function Km(t,e,n,r,s,o,u){u===void 0&&(u=!1);var f=u?[]:LB(s),h=f.length?pA(n,r,f,e):n,d=u?[n]:void 0,g=[];function b(C,N){var j;switch(N.type){case Wf:{var U=RB(N,h,r,t.options.delays);return o&&typeof U.delay=="number"&&o(U,h,r),U}case Lp:var M=NB(N,h,r,t.options.delays);return o&&M.to!==hu.Internal&&(C==="entry"?g.push(M):o(M,h,r)),M;case NN:{var z=kB(N,h,r);return o==null||o(z,h,r),z}case dB:{var G=N,K=(j=G.conds.find(function(Q){var se=MN(Q.cond,t.options.guards);return!se||VN(t,se,h,r,o?void 0:e)}))===null||j===void 0?void 0:j.actions;if(!K)return[];var H=dt(Km(t,e,h,r,[{type:C,actions:wa(Ai(K),t.options.actions)}],o,u),2),A=H[0],S=H[1];return h=S,d==null||d.push(h),A}case mB:{var K=N.get(h,r.data);if(!K)return[];var I=dt(Km(t,e,h,r,[{type:C,actions:wa(Ai(K),t.options.actions)}],o,u),2),L=I[0],V=I[1];return h=V,d==null||d.push(h),L}case A_:{var z=PB(N,h,r);return o==null||o(z,n,r),z}case C_:{h=pA(h,r,[N],o?void 0:e),d==null||d.push(h);break}default:var O=Af(N,t.options.actions),P=O.exec;if(o)o(O,h,r);else if(P&&d){var xe=d.length-1,De=pe(pe({},O),{exec:function(Q){for(var se=[],fe=1;fe<arguments.length;fe++)se[fe-1]=arguments[fe];P.apply(void 0,zt([d[xe]],dt(se),!1))}});O=De}return O}}function _(C){var N,j,U=[];try{for(var M=at(C.actions),z=M.next();!z.done;z=M.next()){var G=z.value,K=b(C.type,G);K&&(U=U.concat(K))}}catch(H){N={error:H}}finally{try{z&&!z.done&&(j=M.return)&&j.call(M)}finally{if(N)throw N.error}}return g.forEach(function(H){o(H,h,r)}),g.length=0,U}var E=Kt(s.map(_));return[E,h]}var zl=function(t,e){var n=e(t);return n};function UN(t){var e;return e={id:t,send:function(){},subscribe:function(){return{unsubscribe:function(){}}},getSnapshot:function(){},toJSON:function(){return{id:t}}},e[xa]=function(){return this},e}function UB(t,e,n,r){var s,o=LN(t.src),u=(s=e==null?void 0:e.options.services)===null||s===void 0?void 0:s[o.type],f=t.data?$m(t.data,n,r):void 0,h=u?zN(u,t.id,f):UN(t.id);return h.meta=t,h}function zN(t,e,n){var r=UN(e);if(r.deferred=!0,du(t)){var s=r.state=zl(void 0,function(){return(n?t.withContext(n):t).initialState});r.getSnapshot=function(){return s}}return r}function zB(t){try{return typeof t.send=="function"}catch{return!1}}function BB(t){return zB(t)&&"id"in t}function FB(t){var e;return pe((e={subscribe:function(){return{unsubscribe:function(){}}},id:"anonymous",getSnapshot:function(){}},e[xa]=function(){return this},e),t)}var Ym=function(t){return t.type==="atomic"||t.type==="final"};function BN(t){return Object.keys(t.states).map(function(e){return t.states[e]})}function Cf(t){return BN(t).filter(function(e){return e.type!=="history"})}function FN(t){var e=[t];return Ym(t)?e:e.concat(Kt(Cf(t).map(FN)))}function zc(t,e){var n,r,s,o,u,f,h,d,g=new Set(t),b=I0(g),_=new Set(e);try{for(var E=at(_),C=E.next();!C.done;C=E.next())for(var N=C.value,j=N.parent;j&&!_.has(j);)_.add(j),j=j.parent}catch(I){n={error:I}}finally{try{C&&!C.done&&(r=E.return)&&r.call(E)}finally{if(n)throw n.error}}var U=I0(_);try{for(var M=at(_),z=M.next();!z.done;z=M.next()){var N=z.value;if(N.type==="compound"&&(!U.get(N)||!U.get(N).length))b.get(N)?b.get(N).forEach(function(L){return _.add(L)}):N.initialStateNodes.forEach(function(L){return _.add(L)});else if(N.type==="parallel")try{for(var G=(u=void 0,at(Cf(N))),K=G.next();!K.done;K=G.next()){var H=K.value;_.has(H)||(_.add(H),b.get(H)?b.get(H).forEach(function(L){return _.add(L)}):H.initialStateNodes.forEach(function(L){return _.add(L)}))}}catch(L){u={error:L}}finally{try{K&&!K.done&&(f=G.return)&&f.call(G)}finally{if(u)throw u.error}}}}catch(I){s={error:I}}finally{try{z&&!z.done&&(o=M.return)&&o.call(M)}finally{if(s)throw s.error}}try{for(var A=at(_),S=A.next();!S.done;S=A.next())for(var N=S.value,j=N.parent;j&&!_.has(j);)_.add(j),j=j.parent}catch(I){h={error:I}}finally{try{S&&!S.done&&(d=A.return)&&d.call(A)}finally{if(h)throw h.error}}return _}function HN(t,e){var n=e.get(t);if(!n)return{};if(t.type==="compound"){var r=n[0];if(r){if(Ym(r))return r.key}else return{}}var s={};return n.forEach(function(o){s[o.key]=HN(o,e)}),s}function I0(t){var e,n,r=new Map;try{for(var s=at(t),o=s.next();!o.done;o=s.next()){var u=o.value;r.has(u)||r.set(u,[]),u.parent&&(r.has(u.parent)||r.set(u.parent,[]),r.get(u.parent).push(u))}}catch(f){e={error:f}}finally{try{o&&!o.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}return r}function HB(t,e){var n=zc([t],e);return HN(t,I0(n))}function Bc(t,e){return Array.isArray(t)?t.some(function(n){return n===e}):t instanceof Set?t.has(e):!1}function qB(t){return zt([],dt(new Set(Kt(zt([],dt(t.map(function(e){return e.ownEvents})),!1)))),!1)}function fm(t,e){return e.type==="compound"?Cf(e).some(function(n){return n.type==="final"&&Bc(t,n)}):e.type==="parallel"?Cf(e).every(function(n){return fm(t,n)}):!1}function GB(t){return t===void 0&&(t=[]),t.reduce(function(e,n){return n.meta!==void 0&&(e[n.id]=n.meta),e},{})}function gA(t){return new Set(Kt(t.map(function(e){return e.tags})))}function qN(t,e){if(t===e)return!0;if(t===void 0||e===void 0)return!1;if(vt(t)||vt(e))return t===e;var n=Object.keys(t),r=Object.keys(e);return n.length===r.length&&n.every(function(s){return qN(t[s],e[s])})}function $B(t){return typeof t!="object"||t===null?!1:"value"in t&&"_event"in t}function KB(t,e){var n=t.exec,r=pe(pe({},t),{exec:n!==void 0?function(){return n(e.context,e.event,{action:t,state:e,_event:e._event})}:void 0});return r}var di=(function(){function t(e){var n=this,r;this.actions=[],this.activities=hA,this.meta={},this.events=[],this.value=e.value,this.context=e.context,this._event=e._event,this._sessionid=e._sessionid,this.event=this._event.data,this.historyValue=e.historyValue,this.history=e.history,this.actions=e.actions||[],this.activities=e.activities||hA,this.meta=GB(e.configuration),this.events=e.events||[],this.matches=this.matches.bind(this),this.toStrings=this.toStrings.bind(this),this.configuration=e.configuration,this.transitions=e.transitions,this.children=e.children,this.done=!!e.done,this.tags=(r=Array.isArray(e.tags)?new Set(e.tags):e.tags)!==null&&r!==void 0?r:new Set,this.machine=e.machine,Object.defineProperty(this,"nextEvents",{get:function(){return qB(n.configuration)}})}return t.from=function(e,n){if(e instanceof t)return e.context!==n?new t({value:e.value,context:n,_event:e._event,_sessionid:null,historyValue:e.historyValue,history:e.history,actions:[],activities:e.activities,events:[],configuration:[],transitions:[],children:{}}):e;var r=Jl;return new t({value:e,context:n,_event:r,_sessionid:null,historyValue:void 0,history:void 0,actions:[],activities:void 0,events:[],configuration:[],transitions:[],children:{}})},t.create=function(e){return new t(e)},t.inert=function(e,n){if(e instanceof t){if(!e.actions.length)return e;var r=Jl;return new t({value:e.value,context:n,_event:r,_sessionid:null,historyValue:e.historyValue,history:e.history,activities:e.activities,configuration:e.configuration,transitions:[],children:{}})}return t.from(e,n)},t.prototype.toStrings=function(e,n){var r=this;if(e===void 0&&(e=this.value),n===void 0&&(n="."),vt(e))return[e];var s=Object.keys(e);return s.concat.apply(s,zt([],dt(s.map(function(o){return r.toStrings(e[o],n).map(function(u){return o+n+u})})),!1))},t.prototype.toJSON=function(){var e=this;e.configuration,e.transitions;var n=e.tags;e.machine;var r=S_(e,["configuration","transitions","tags","machine"]);return pe(pe({},r),{tags:Array.from(n)})},t.prototype.matches=function(e){return R_(e,this.value)},t.prototype.hasTag=function(e){return this.tags.has(e)},t.prototype.can=function(e){var n;EB(!!this.machine);var r=(n=this.machine)===null||n===void 0?void 0:n.getTransitionData(this,e);return!!(r!=null&&r.transitions.length)&&r.transitions.some(function(s){return s.target!==void 0||s.actions.length})},t})(),YB={deferEvents:!1},vA=(function(){function t(e){this.processingEvent=!1,this.queue=[],this.initialized=!1,this.options=pe(pe({},YB),e)}return t.prototype.initialize=function(e){if(this.initialized=!0,e){if(!this.options.deferEvents){this.schedule(e);return}this.process(e)}this.flushEvents()},t.prototype.schedule=function(e){if(!this.initialized||this.processingEvent){this.queue.push(e);return}if(this.queue.length!==0)throw new Error("Event queue should be empty when it is not processing events");this.process(e),this.flushEvents()},t.prototype.clear=function(){this.queue=[]},t.prototype.flushEvents=function(){for(var e=this.queue.shift();e;)this.process(e),e=this.queue.shift()},t.prototype.process=function(e){this.processingEvent=!0;try{e()}catch(n){throw this.clear(),n}finally{this.processingEvent=!1}},t})(),xy=new Map,WB=0,Tc={bookId:function(){return"x:".concat(WB++)},register:function(t,e){return xy.set(t,e),t},get:function(t){return xy.get(t)},free:function(t){xy.delete(t)}};function N_(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global}function QB(){var t=N_();if(t&&"__xstate__"in t)return t.__xstate__}function XB(t){if(N_()){var e=QB();e&&e.register(t)}}function ZB(t,e){e===void 0&&(e={});var n=t.initialState,r=new Set,s=[],o=!1,u=function(){if(!o){for(o=!0;s.length>0;){var d=s.shift();n=t.transition(n,d,h),r.forEach(function(g){return g.next(n)})}o=!1}},f=FB({id:e.id,send:function(d){s.push(d),u()},getSnapshot:function(){return n},subscribe:function(d,g,b){var _=um(d,g,b);return r.add(_),_.next(n),{unsubscribe:function(){r.delete(_)}}}}),h={parent:e.parent,self:f,id:e.id||"anonymous",observers:r};return n=t.start?t.start(h):n,f}var JB={sync:!1,autoForward:!1},Pn;(function(t){t[t.NotStarted=0]="NotStarted",t[t.Running=1]="Running",t[t.Stopped=2]="Stopped"})(Pn||(Pn={}));var e7=(function(){function t(e,n){n===void 0&&(n=t.defaultOptions);var r=this;this.machine=e,this.delayedEventsMap={},this.listeners=new Set,this.contextListeners=new Set,this.stopListeners=new Set,this.doneListeners=new Set,this.eventListeners=new Set,this.sendListeners=new Set,this.initialized=!1,this.status=Pn.NotStarted,this.children=new Map,this.forwardTo=new Set,this._outgoingQueue=[],this.init=this.start,this.send=function(g,b){if(Tu(g))return r.batch(g),r.state;var _=Gn(Up(g,b));if(r.status===Pn.Stopped)return r.state;if(r.status!==Pn.Running&&!r.options.deferEvents)throw new Error('Event "'.concat(_.name,'" was sent to uninitialized service "').concat(r.machine.id,`". Make sure .start() is called for this service, or set { deferEvents: true } in the service options.
Event: `).concat(JSON.stringify(_.data)));return r.scheduler.schedule(function(){r.forward(_);var E=r._nextState(_);r.update(E,_)}),r._state},this.sendTo=function(g,b,_){var E=r.parent&&(b===hu.Parent||r.parent.id===b),C=E?r.parent:vt(b)?b===hu.Internal?r:r.children.get(b)||Tc.get(b):SB(b)?b:void 0;if(!C){if(!E)throw new Error("Unable to send event to child '".concat(b,"' from service '").concat(r.id,"'."));return}if("machine"in C){if(r.status!==Pn.Stopped||r.parent!==C||r.state.done){var N=pe(pe({},g),{name:g.name===hB?"".concat(Uc(r.id)):g.name,origin:r.sessionId});!_&&r.machine.config.predictableActionArguments?r._outgoingQueue.push([C,N]):C.send(N)}}else!_&&r.machine.config.predictableActionArguments?r._outgoingQueue.push([C,g.data]):C.send(g.data)},this._exec=function(g,b,_,E){E===void 0&&(E=r.machine.options.actions);var C=g.exec||R0(g.type,E),N=pt(C)?C:C?C.exec:g.exec;if(N)try{return N(b,_.data,r.machine.config.predictableActionArguments?{action:g,_event:_}:{action:g,state:r.state,_event:_})}catch(xe){throw r.parent&&r.parent.send({type:"xstate.error",data:xe}),xe}switch(g.type){case Wf:{var j=g;r.defer(j);break}case Lp:var U=g;if(typeof U.delay=="number"){r.defer(U);return}else U.to?r.sendTo(U._event,U.to,_===Jl):r.send(U._event);break;case IN:r.cancel(g.sendId);break;case E0:{if(r.status!==Pn.Running)return;var M=g.activity;if(!r.machine.config.predictableActionArguments&&!r.state.activities[M.id||M.type])break;if(M.type===Rt.Invoke){var z=LN(M.src),G=r.machine.options.services?r.machine.options.services[z.type]:void 0,K=M.id,H=M.data,A="autoForward"in M?M.autoForward:!!M.forward;if(!G)return;var S=H?$m(H,b,_):void 0;if(typeof G=="string")return;var I=pt(G)?G(b,_.data,{data:S,src:z,meta:M.meta}):G;if(!I)return;var L=void 0;du(I)&&(I=S?I.withContext(S):I,L={autoForward:A}),r.spawn(I,K,L)}else r.spawnActivity(M);break}case A_:{r.stopChild(g.activity.id);break}case NN:var V=g,O=V.label,P=V.value;O?r.logger(O,P):r.logger(P);break}};var s=pe(pe({},t.defaultOptions),n),o=s.clock,u=s.logger,f=s.parent,h=s.id,d=h!==void 0?h:e.id;this.id=d,this.logger=u,this.clock=o,this.parent=f,this.options=s,this.scheduler=new vA({deferEvents:this.options.deferEvents}),this.sessionId=Tc.bookId()}return Object.defineProperty(t.prototype,"initialState",{get:function(){var e=this;return this._initialState?this._initialState:zl(this,function(){return e._initialState=e.machine.initialState,e._initialState})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._state},enumerable:!1,configurable:!0}),t.prototype.execute=function(e,n){var r,s;try{for(var o=at(e.actions),u=o.next();!u.done;u=o.next()){var f=u.value;this.exec(f,e,n)}}catch(h){r={error:h}}finally{try{u&&!u.done&&(s=o.return)&&s.call(o)}finally{if(r)throw r.error}}},t.prototype.update=function(e,n){var r,s,o,u,f,h,d,g,b=this;if(e._sessionid=this.sessionId,this._state=e,(!this.machine.config.predictableActionArguments||n===Jl)&&this.options.execute)this.execute(this.state);else for(var _=void 0;_=this._outgoingQueue.shift();)_[0].send(_[1]);if(this.children.forEach(function(I){b.state.children[I.id]=I}),this.devTools&&this.devTools.send(n.data,e),e.event)try{for(var E=at(this.eventListeners),C=E.next();!C.done;C=E.next()){var N=C.value;N(e.event)}}catch(I){r={error:I}}finally{try{C&&!C.done&&(s=E.return)&&s.call(E)}finally{if(r)throw r.error}}try{for(var j=at(this.listeners),U=j.next();!U.done;U=j.next()){var N=U.value;N(e,e.event)}}catch(I){o={error:I}}finally{try{U&&!U.done&&(u=j.return)&&u.call(j)}finally{if(o)throw o.error}}try{for(var M=at(this.contextListeners),z=M.next();!z.done;z=M.next()){var G=z.value;G(this.state.context,this.state.history?this.state.history.context:void 0)}}catch(I){f={error:I}}finally{try{z&&!z.done&&(h=M.return)&&h.call(M)}finally{if(f)throw f.error}}if(this.state.done){var K=e.configuration.find(function(I){return I.type==="final"&&I.parent===b.machine}),H=K&&K.doneData?$m(K.doneData,e.context,n):void 0;this._doneEvent=cm(this.id,H);try{for(var A=at(this.doneListeners),S=A.next();!S.done;S=A.next()){var N=S.value;N(this._doneEvent)}}catch(I){d={error:I}}finally{try{S&&!S.done&&(g=A.return)&&g.call(A)}finally{if(d)throw d.error}}this._stop(),this._stopChildren(),Tc.free(this.sessionId)}},t.prototype.onTransition=function(e){return this.listeners.add(e),this.status===Pn.Running&&e(this.state,this.state.event),this},t.prototype.subscribe=function(e,n,r){var s=this,o=um(e,n,r);this.listeners.add(o.next),this.status!==Pn.NotStarted&&o.next(this.state);var u=function(){s.doneListeners.delete(u),s.stopListeners.delete(u),o.complete()};return this.status===Pn.Stopped?o.complete():(this.onDone(u),this.onStop(u)),{unsubscribe:function(){s.listeners.delete(o.next),s.doneListeners.delete(u),s.stopListeners.delete(u)}}},t.prototype.onEvent=function(e){return this.eventListeners.add(e),this},t.prototype.onSend=function(e){return this.sendListeners.add(e),this},t.prototype.onChange=function(e){return this.contextListeners.add(e),this},t.prototype.onStop=function(e){return this.stopListeners.add(e),this},t.prototype.onDone=function(e){return this.status===Pn.Stopped&&this._doneEvent?e(this._doneEvent):this.doneListeners.add(e),this},t.prototype.off=function(e){return this.listeners.delete(e),this.eventListeners.delete(e),this.sendListeners.delete(e),this.stopListeners.delete(e),this.doneListeners.delete(e),this.contextListeners.delete(e),this},t.prototype.start=function(e){var n=this;if(this.status===Pn.Running)return this;this.machine._init(),Tc.register(this.sessionId,this),this.initialized=!0,this.status=Pn.Running;var r=e===void 0?this.initialState:zl(this,function(){return $B(e)?n.machine.resolveState(e):n.machine.resolveState(di.from(e,n.machine.context))});return this.options.devTools&&this.attachDev(),this.scheduler.initialize(function(){n.update(r,Jl)}),this},t.prototype._stopChildren=function(){this.children.forEach(function(e){pt(e.stop)&&e.stop()}),this.children.clear()},t.prototype._stop=function(){var e,n,r,s,o,u,f,h,d,g;try{for(var b=at(this.listeners),_=b.next();!_.done;_=b.next()){var E=_.value;this.listeners.delete(E)}}catch(A){e={error:A}}finally{try{_&&!_.done&&(n=b.return)&&n.call(b)}finally{if(e)throw e.error}}try{for(var C=at(this.stopListeners),N=C.next();!N.done;N=C.next()){var E=N.value;E(),this.stopListeners.delete(E)}}catch(A){r={error:A}}finally{try{N&&!N.done&&(s=C.return)&&s.call(C)}finally{if(r)throw r.error}}try{for(var j=at(this.contextListeners),U=j.next();!U.done;U=j.next()){var E=U.value;this.contextListeners.delete(E)}}catch(A){o={error:A}}finally{try{U&&!U.done&&(u=j.return)&&u.call(j)}finally{if(o)throw o.error}}try{for(var M=at(this.doneListeners),z=M.next();!z.done;z=M.next()){var E=z.value;this.doneListeners.delete(E)}}catch(A){f={error:A}}finally{try{z&&!z.done&&(h=M.return)&&h.call(M)}finally{if(f)throw f.error}}if(!this.initialized)return this;this.initialized=!1,this.status=Pn.Stopped,this._initialState=void 0;try{for(var G=at(Object.keys(this.delayedEventsMap)),K=G.next();!K.done;K=G.next()){var H=K.value;this.clock.clearTimeout(this.delayedEventsMap[H])}}catch(A){d={error:A}}finally{try{K&&!K.done&&(g=G.return)&&g.call(G)}finally{if(d)throw d.error}}this.scheduler.clear(),this.scheduler=new vA({deferEvents:this.options.deferEvents})},t.prototype.stop=function(){var e=this,n=this.scheduler;return this._stop(),n.schedule(function(){var r;if(!(!((r=e._state)===null||r===void 0)&&r.done)){var s=Gn({type:"xstate.stop"}),o=zl(e,function(){var u=Kt(zt([],dt(e.state.configuration),!1).sort(function(b,_){return _.order-b.order}).map(function(b){return wa(b.onExit,e.machine.options.actions)})),f=dt(Km(e.machine,e.state,e.state.context,s,[{type:"exit",actions:u}],e.machine.config.predictableActionArguments?e._exec:void 0,e.machine.config.predictableActionArguments||e.machine.config.preserveActionOrder),2),h=f[0],d=f[1],g=new di({value:e.state.value,context:d,_event:s,_sessionid:e.sessionId,historyValue:void 0,history:e.state,actions:h.filter(function(b){return!C0(b)}),activities:{},events:[],configuration:[],transitions:[],children:{},done:e.state.done,tags:e.state.tags,machine:e.machine});return g.changed=!0,g});e.update(o,s),e._stopChildren(),Tc.free(e.sessionId)}}),this},t.prototype.batch=function(e){var n=this;if(!(this.status===Pn.NotStarted&&this.options.deferEvents)){if(this.status!==Pn.Running)throw new Error("".concat(e.length,' event(s) were sent to uninitialized service "').concat(this.machine.id,'". Make sure .start() is called for this service, or set { deferEvents: true } in the service options.'))}if(e.length){var r=!!this.machine.config.predictableActionArguments&&this._exec;this.scheduler.schedule(function(){var s,o,u=n.state,f=!1,h=[],d=function(E){var C=Gn(E);n.forward(C),u=zl(n,function(){return n.machine.transition(u,C,void 0,r||void 0)}),h.push.apply(h,zt([],dt(n.machine.config.predictableActionArguments?u.actions:u.actions.map(function(N){return KB(N,u)})),!1)),f=f||!!u.changed};try{for(var g=at(e),b=g.next();!b.done;b=g.next()){var _=b.value;d(_)}}catch(E){s={error:E}}finally{try{b&&!b.done&&(o=g.return)&&o.call(g)}finally{if(s)throw s.error}}u.changed=f,u.actions=h,n.update(u,Gn(e[e.length-1]))})}},t.prototype.sender=function(e){return this.send.bind(this,e)},t.prototype._nextState=function(e,n){var r=this;n===void 0&&(n=!!this.machine.config.predictableActionArguments&&this._exec);var s=Gn(e);if(s.name.indexOf(fA)===0&&!this.state.nextEvents.some(function(u){return u.indexOf(fA)===0}))throw s.data.data;var o=zl(this,function(){return r.machine.transition(r.state,s,void 0,n||void 0)});return o},t.prototype.nextState=function(e){return this._nextState(e,!1)},t.prototype.forward=function(e){var n,r;try{for(var s=at(this.forwardTo),o=s.next();!o.done;o=s.next()){var u=o.value,f=this.children.get(u);if(!f)throw new Error("Unable to forward event '".concat(e,"' from interpreter '").concat(this.id,"' to nonexistant child '").concat(u,"'."));f.send(e)}}catch(h){n={error:h}}finally{try{o&&!o.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}},t.prototype.defer=function(e){var n=this,r=this.clock.setTimeout(function(){"to"in e&&e.to?n.sendTo(e._event,e.to,!0):n.send(e._event)},e.delay);e.id&&(this.delayedEventsMap[e.id]=r)},t.prototype.cancel=function(e){this.clock.clearTimeout(this.delayedEventsMap[e]),delete this.delayedEventsMap[e]},t.prototype.exec=function(e,n,r){r===void 0&&(r=this.machine.options.actions),this._exec(e,n.context,n._event,r)},t.prototype.removeChild=function(e){var n;this.children.delete(e),this.forwardTo.delete(e),(n=this.state)===null||n===void 0||delete n.children[e]},t.prototype.stopChild=function(e){var n=this.children.get(e);n&&(this.removeChild(e),pt(n.stop)&&n.stop())},t.prototype.spawn=function(e,n,r){if(this.status!==Pn.Running)return zN(e,n);if(mA(e))return this.spawnPromise(Promise.resolve(e),n);if(pt(e))return this.spawnCallback(e,n);if(BB(e))return this.spawnActor(e,n);if(TB(e))return this.spawnObservable(e,n);if(du(e))return this.spawnMachine(e,pe(pe({},r),{id:n}));if(_B(e))return this.spawnBehavior(e,n);throw new Error('Unable to spawn entity "'.concat(n,'" of type "').concat(typeof e,'".'))},t.prototype.spawnMachine=function(e,n){var r=this;n===void 0&&(n={});var s=new t(e,pe(pe({},this.options),{parent:this,id:n.id||e.id})),o=pe(pe({},JB),n);o.sync&&s.onTransition(function(f){r.send(kN,{state:f,id:s.id})});var u=s;return this.children.set(s.id,u),o.autoForward&&this.forwardTo.add(s.id),s.onDone(function(f){r.removeChild(s.id),r.send(Gn(f,{origin:s.id}))}).start(),u},t.prototype.spawnBehavior=function(e,n){var r=ZB(e,{id:n,parent:this});return this.children.set(n,r),r},t.prototype.spawnPromise=function(e,n){var r,s=this,o=!1,u;e.then(function(h){o||(u=h,s.removeChild(n),s.send(Gn(cm(n,h),{origin:n})))},function(h){if(!o){s.removeChild(n);var d=Uc(n,h);try{s.send(Gn(d,{origin:n}))}catch{s.devTools&&s.devTools.send(d,s.state),s.machine.strict&&s.stop()}}});var f=(r={id:n,send:function(){},subscribe:function(h,d,g){var b=um(h,d,g),_=!1;return e.then(function(E){_||(b.next(E),!_&&b.complete())},function(E){_||b.error(E)}),{unsubscribe:function(){return _=!0}}},stop:function(){o=!0},toJSON:function(){return{id:n}},getSnapshot:function(){return u}},r[xa]=function(){return this},r);return this.children.set(n,f),f},t.prototype.spawnCallback=function(e,n){var r,s=this,o=!1,u=new Set,f=new Set,h,d=function(_){h=_,f.forEach(function(E){return E(_)}),!o&&s.send(Gn(_,{origin:n}))},g;try{g=e(d,function(_){u.add(_)})}catch(_){this.send(Uc(n,_))}if(mA(g))return this.spawnPromise(g,n);var b=(r={id:n,send:function(_){return u.forEach(function(E){return E(_)})},subscribe:function(_){var E=um(_);return f.add(E.next),{unsubscribe:function(){f.delete(E.next)}}},stop:function(){o=!0,pt(g)&&g()},toJSON:function(){return{id:n}},getSnapshot:function(){return h}},r[xa]=function(){return this},r);return this.children.set(n,b),b},t.prototype.spawnObservable=function(e,n){var r,s=this,o,u=e.subscribe(function(h){o=h,s.send(Gn(h,{origin:n}))},function(h){s.removeChild(n),s.send(Gn(Uc(n,h),{origin:n}))},function(){s.removeChild(n),s.send(Gn(cm(n),{origin:n}))}),f=(r={id:n,send:function(){},subscribe:function(h,d,g){return e.subscribe(h,d,g)},stop:function(){return u.unsubscribe()},getSnapshot:function(){return o},toJSON:function(){return{id:n}}},r[xa]=function(){return this},r);return this.children.set(n,f),f},t.prototype.spawnActor=function(e,n){return this.children.set(n,e),e},t.prototype.spawnActivity=function(e){var n=this.machine.options&&this.machine.options.activities?this.machine.options.activities[e.type]:void 0;if(n){var r=n(this.state.context,e);this.spawnEffect(e.id,r)}},t.prototype.spawnEffect=function(e,n){var r;this.children.set(e,(r={id:e,send:function(){},subscribe:function(){return{unsubscribe:function(){}}},stop:n||void 0,getSnapshot:function(){},toJSON:function(){return{id:e}}},r[xa]=function(){return this},r))},t.prototype.attachDev=function(){var e=N_();if(this.options.devTools&&e){if(e.__REDUX_DEVTOOLS_EXTENSION__){var n=typeof this.options.devTools=="object"?this.options.devTools:void 0;this.devTools=e.__REDUX_DEVTOOLS_EXTENSION__.connect(pe(pe({name:this.id,autoPause:!0,stateSanitizer:function(r){return{value:r.value,context:r.context,actions:r.actions}}},n),{features:pe({jump:!1,skip:!1},n?n.features:void 0)}),this.machine),this.devTools.init(this.state)}XB(this)}},t.prototype.toJSON=function(){return{id:this.id}},t.prototype[xa]=function(){return this},t.prototype.getSnapshot=function(){return this.status===Pn.NotStarted?this.initialState:this._state},t.defaultOptions={execute:!0,deferEvents:!0,clock:{setTimeout:function(e,n){return setTimeout(e,n)},clearTimeout:function(e){return clearTimeout(e)}},logger:console.log.bind(console),devTools:!1},t.interpret=GN,t})();function GN(t,e){var n=new e7(t,e);return n}function t7(t){if(typeof t=="string"){var e={type:t};return e.toString=function(){return t},e}return t}function jd(t){return pe(pe({type:T0},t),{toJSON:function(){t.onDone,t.onError;var e=S_(t,["onDone","onError"]);return pe(pe({},e),{type:T0,src:t7(t.src)})}})}var Pd="",N0="#",wy="*",Dl={},Ol=function(t){return t[0]===N0},n7=function(){return{actions:{},guards:{},services:{},activities:{},delays:{}}},r7=(function(){function t(e,n,r,s){r===void 0&&(r="context"in e?e.context:void 0);var o=this,u;this.config=e,this._context=r,this.order=-1,this.__xstatenode=!0,this.__cache={events:void 0,relativeValue:new Map,initialStateValue:void 0,initialState:void 0,on:void 0,transitions:void 0,candidates:{},delayedTransitions:void 0},this.idMap={},this.tags=[],this.options=Object.assign(n7(),n),this.parent=s==null?void 0:s.parent,this.key=this.config.key||(s==null?void 0:s.key)||this.config.id||"(machine)",this.machine=this.parent?this.parent.machine:this,this.path=this.parent?this.parent.path.concat(this.key):[],this.delimiter=this.config.delimiter||(this.parent?this.parent.delimiter:DN),this.id=this.config.id||zt([this.machine.key],dt(this.path),!1).join(this.delimiter),this.version=this.parent?this.parent.version:this.config.version,this.type=this.config.type||(this.config.parallel?"parallel":this.config.states&&Object.keys(this.config.states).length?"compound":this.config.history?"history":"atomic"),this.schema=this.parent?this.machine.schema:(u=this.config.schema)!==null&&u!==void 0?u:{},this.description=this.config.description,this.initial=this.config.initial,this.states=this.config.states?Lc(this.config.states,function(d,g){var b,_=new t(d,{},void 0,{parent:o,key:g});return Object.assign(o.idMap,pe((b={},b[_.id]=_,b),_.idMap)),_}):Dl;var f=0;function h(d){var g,b;d.order=f++;try{for(var _=at(BN(d)),E=_.next();!E.done;E=_.next()){var C=E.value;h(C)}}catch(N){g={error:N}}finally{try{E&&!E.done&&(b=_.return)&&b.call(_)}finally{if(g)throw g.error}}}h(this),this.history=this.config.history===!0?"shallow":this.config.history||!1,this._transient=!!this.config.always||(this.config.on?Array.isArray(this.config.on)?this.config.on.some(function(d){var g=d.event;return g===Pd}):Pd in this.config.on:!1),this.strict=!!this.config.strict,this.onEntry=Ai(this.config.entry||this.config.onEntry).map(function(d){return Af(d)}),this.onExit=Ai(this.config.exit||this.config.onExit).map(function(d){return Af(d)}),this.meta=this.config.meta,this.doneData=this.type==="final"?this.config.data:void 0,this.invoke=Ai(this.config.invoke).map(function(d,g){var b,_;if(du(d)){var E=Dd(o.id,g);return o.machine.options.services=pe((b={},b[E]=d,b),o.machine.options.services),jd({src:E,id:E})}else if(vt(d.src)){var E=d.id||Dd(o.id,g);return jd(pe(pe({},d),{id:E,src:d.src}))}else if(du(d.src)||pt(d.src)){var E=d.id||Dd(o.id,g);return o.machine.options.services=pe((_={},_[E]=d.src,_),o.machine.options.services),jd(pe(pe({id:E},d),{src:E}))}else{var C=d.src;return jd(pe(pe({id:Dd(o.id,g)},d),{src:C}))}}),this.activities=Ai(this.config.activities).concat(this.invoke).map(function(d){return I_(d)}),this.transition=this.transition.bind(this),this.tags=Ai(this.config.tags)}return t.prototype._init=function(){this.__cache.transitions||FN(this).forEach(function(e){return e.on})},t.prototype.withConfig=function(e,n){var r=this.options,s=r.actions,o=r.activities,u=r.guards,f=r.services,h=r.delays;return new t(this.config,{actions:pe(pe({},s),e.actions),activities:pe(pe({},o),e.activities),guards:pe(pe({},u),e.guards),services:pe(pe({},f),e.services),delays:pe(pe({},h),e.delays)},n??this.context)},t.prototype.withContext=function(e){return new t(this.config,this.options,e)},Object.defineProperty(t.prototype,"context",{get:function(){return pt(this._context)?this._context():this._context},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"definition",{get:function(){return{id:this.id,key:this.key,version:this.version,context:this.context,type:this.type,initial:this.initial,history:this.history,states:Lc(this.states,function(e){return e.definition}),on:this.on,transitions:this.transitions,entry:this.onEntry,exit:this.onExit,activities:this.activities||[],meta:this.meta,order:this.order||-1,data:this.doneData,invoke:this.invoke,description:this.description,tags:this.tags}},enumerable:!1,configurable:!0}),t.prototype.toJSON=function(){return this.definition},Object.defineProperty(t.prototype,"on",{get:function(){if(this.__cache.on)return this.__cache.on;var e=this.transitions;return this.__cache.on=e.reduce(function(n,r){return n[r.eventType]=n[r.eventType]||[],n[r.eventType].push(r),n},{})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"after",{get:function(){return this.__cache.delayedTransitions||(this.__cache.delayedTransitions=this.getDelayedTransitions(),this.__cache.delayedTransitions)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"transitions",{get:function(){return this.__cache.transitions||(this.__cache.transitions=this.formatTransitions(),this.__cache.transitions)},enumerable:!1,configurable:!0}),t.prototype.getCandidates=function(e){if(this.__cache.candidates[e])return this.__cache.candidates[e];var n=e===Pd,r=this.transitions.filter(function(s){var o=s.eventType===e;return n?o:o||s.eventType===wy});return this.__cache.candidates[e]=r,r},t.prototype.getDelayedTransitions=function(){var e=this,n=this.config.after;if(!n)return[];var r=function(o,u){var f=pt(o)?"".concat(e.id,":delay[").concat(u,"]"):o,h=VB(f,e.id);return e.onEntry.push(IB(h,{delay:o})),e.onExit.push(DB(h)),h},s=Tu(n)?n.map(function(o,u){var f=r(o.delay,u);return pe(pe({},o),{event:f})}):Kt(Object.keys(n).map(function(o,u){var f=n[o],h=vt(f)?{target:f}:f,d=isNaN(+o)?o:+o,g=r(d,u);return Ai(h).map(function(b){return pe(pe({},b),{event:g,delay:d})})}));return s.map(function(o){var u=o.delay;return pe(pe({},e.formatTransition(o)),{delay:u})})},t.prototype.getStateNodes=function(e){var n,r=this;if(!e)return[];var s=e instanceof di?e.value:ef(e,this.delimiter);if(vt(s)){var o=this.getStateNode(s).initial;return o!==void 0?this.getStateNodes((n={},n[s]=o,n)):[this,this.states[s]]}var u=Object.keys(s),f=[this];return f.push.apply(f,zt([],dt(Kt(u.map(function(h){return r.getStateNode(h).getStateNodes(s[h])}))),!1)),f},t.prototype.handles=function(e){var n=ON(e);return this.events.includes(n)},t.prototype.resolveState=function(e){var n=e instanceof di?e:di.create(e),r=Array.from(zc([],this.getStateNodes(n.value)));return new di(pe(pe({},n),{value:this.resolve(n.value),configuration:r,done:fm(r,this),tags:gA(r),machine:this.machine}))},t.prototype.transitionLeafNode=function(e,n,r){var s=this.getStateNode(e),o=s.next(n,r);return!o||!o.transitions.length?this.next(n,r):o},t.prototype.transitionCompoundNode=function(e,n,r){var s=Object.keys(e),o=this.getStateNode(s[0]),u=o._transition(e[s[0]],n,r);return!u||!u.transitions.length?this.next(n,r):u},t.prototype.transitionParallelNode=function(e,n,r){var s,o,u={};try{for(var f=at(Object.keys(e)),h=f.next();!h.done;h=f.next()){var d=h.value,g=e[d];if(g){var b=this.getStateNode(d),_=b._transition(g,n,r);_&&(u[d]=_)}}}catch(U){s={error:U}}finally{try{h&&!h.done&&(o=f.return)&&o.call(f)}finally{if(s)throw s.error}}var E=Object.keys(u).map(function(U){return u[U]}),C=Kt(E.map(function(U){return U.transitions})),N=E.some(function(U){return U.transitions.length>0});if(!N)return this.next(n,r);var j=Kt(Object.keys(u).map(function(U){return u[U].configuration}));return{transitions:C,exitSet:Kt(E.map(function(U){return U.exitSet})),configuration:j,source:n,actions:Kt(Object.keys(u).map(function(U){return u[U].actions}))}},t.prototype._transition=function(e,n,r){return vt(e)?this.transitionLeafNode(e,n,r):Object.keys(e).length===1?this.transitionCompoundNode(e,n,r):this.transitionParallelNode(e,n,r)},t.prototype.getTransitionData=function(e,n){return this._transition(e.value,e,Gn(n))},t.prototype.next=function(e,n){var r,s,o=this,u=n.name,f=[],h=[],d;try{for(var g=at(this.getCandidates(u)),b=g.next();!b.done;b=g.next()){var _=b.value,E=_.cond,C=_.in,N=e.context,j=C?vt(C)&&Ol(C)?e.matches(ef(this.getStateNodeById(C).path,this.delimiter)):R_(ef(C,this.delimiter),vB(this.path.slice(0,-2))(e.value)):!0,U=!1;try{U=!E||VN(this.machine,E,N,n,e)}catch(G){throw new Error("Unable to evaluate guard '".concat(E.name||E.type,"' in transition for event '").concat(u,"' in state node '").concat(this.id,`':
`).concat(G.message))}if(U&&j){_.target!==void 0&&(h=_.target),f.push.apply(f,zt([],dt(_.actions),!1)),d=_;break}}}catch(G){r={error:G}}finally{try{b&&!b.done&&(s=g.return)&&s.call(g)}finally{if(r)throw r.error}}if(d){if(!h.length)return{transitions:[d],exitSet:[],configuration:e.value?[this]:[],source:e,actions:f};var M=Kt(h.map(function(G){return o.getRelativeStateNodes(G,e.historyValue)})),z=!!d.internal;return{transitions:[d],exitSet:z?[]:Kt(h.map(function(G){return o.getPotentiallyReenteringNodes(G)})),configuration:M,source:e,actions:f}}},t.prototype.getPotentiallyReenteringNodes=function(e){if(this.order<e.order)return[this];for(var n=[],r=this,s=e;r&&r!==s;)n.push(r),r=r.parent;return r!==s?[]:(n.push(s),n)},t.prototype.getActions=function(e,n,r,s,o,u,f){var h,d,g,b,_=this,E=u?zc([],this.getStateNodes(u.value)):[],C=new Set;try{for(var N=at(Array.from(e).sort(function(V,O){return V.order-O.order})),j=N.next();!j.done;j=N.next()){var U=j.value;(!Bc(E,U)||Bc(r.exitSet,U)||U.parent&&C.has(U.parent))&&C.add(U)}}catch(V){h={error:V}}finally{try{j&&!j.done&&(d=N.return)&&d.call(N)}finally{if(h)throw h.error}}try{for(var M=at(E),z=M.next();!z.done;z=M.next()){var U=z.value;(!Bc(e,U)||Bc(r.exitSet,U.parent))&&r.exitSet.push(U)}}catch(V){g={error:V}}finally{try{z&&!z.done&&(b=M.return)&&b.call(M)}finally{if(g)throw g.error}}r.exitSet.sort(function(V,O){return O.order-V.order});var G=Array.from(C).sort(function(V,O){return V.order-O.order}),K=new Set(r.exitSet),H=Kt(G.map(function(V){var O=[];if(V.type!=="final")return O;var P=V.parent;if(!P.parent)return O;O.push(Od(V.id,V.doneData),Od(P.id,V.doneData?$m(V.doneData,s,o):void 0));var xe=P.parent;return xe.type==="parallel"&&Cf(xe).every(function(De){return fm(r.configuration,De)})&&O.push(Od(xe.id)),O})),A=G.map(function(V){var O=V.onEntry,P=V.activities.map(function(xe){return OB(xe)});return{type:"entry",actions:wa(f?zt(zt([],dt(O),!1),dt(P),!1):zt(zt([],dt(P),!1),dt(O),!1),_.machine.options.actions)}}).concat({type:"state_done",actions:H.map(function(V){return CB(V)})}),S=Array.from(K).map(function(V){return{type:"exit",actions:wa(zt(zt([],dt(V.onExit),!1),dt(V.activities.map(function(O){return jB(O)})),!1),_.machine.options.actions)}}),I=S.concat({type:"transition",actions:wa(r.actions,this.machine.options.actions)}).concat(A);if(n){var L=wa(Kt(zt([],dt(e),!1).sort(function(V,O){return O.order-V.order}).map(function(V){return V.onExit})),this.machine.options.actions).filter(function(V){return!C0(V)});return I.concat({type:"stop",actions:L})}return I},t.prototype.transition=function(e,n,r,s){e===void 0&&(e=this.initialState);var o=Gn(n),u;if(e instanceof di)u=r===void 0?e:this.resolveState(di.from(e,r));else{var f=vt(e)?this.resolve(Gm(this.getResolvedPath(e))):this.resolve(e),h=r??this.machine.context;u=this.resolveState(di.from(f,h))}if(this.strict&&!this.events.includes(o.name)&&!bB(o.name))throw new Error("Machine '".concat(this.id,"' does not accept event '").concat(o.name,"'"));var d=this._transition(u.value,u,o)||{transitions:[],configuration:[],exitSet:[],source:u,actions:[]},g=zc([],this.getStateNodes(u.value)),b=d.configuration.length?zc(g,d.configuration):g;return d.configuration=zt([],dt(b),!1),this.resolveTransition(d,u,u.context,s,o)},t.prototype.resolveRaisedTransition=function(e,n,r,s){var o,u=e.actions;return e=this.transition(e,n,void 0,s),e._event=r,e.event=r.data,(o=e.actions).unshift.apply(o,zt([],dt(u),!1)),e},t.prototype.resolveTransition=function(e,n,r,s,o){var u,f,h,d,g=this;o===void 0&&(o=Jl);var b=e.configuration,_=!n||e.transitions.length>0,E=_?e.configuration:n?n.configuration:[],C=fm(E,this),N=_?HB(this.machine,b):void 0,j=n?n.historyValue?n.historyValue:e.source?this.machine.historyValue(n.value):void 0:void 0,U=this.getActions(new Set(E),C,e,r,o,n,s),M=n?pe({},n.activities):{};try{for(var z=at(U),G=z.next();!G.done;G=z.next()){var K=G.value;try{for(var H=(h=void 0,at(K.actions)),A=H.next();!A.done;A=H.next()){var S=A.value;S.type===E0?M[S.activity.id||S.activity.type]=S:S.type===A_&&(M[S.activity.id||S.activity.type]=!1)}}catch(re){h={error:re}}finally{try{A&&!A.done&&(d=H.return)&&d.call(H)}finally{if(h)throw h.error}}}}catch(re){u={error:re}}finally{try{G&&!G.done&&(f=z.return)&&f.call(z)}finally{if(u)throw u.error}}var I=dt(Km(this,n,r,o,U,s,this.machine.config.predictableActionArguments||this.machine.config.preserveActionOrder),2),L=I[0],V=I[1],O=dt(xB(L,C0),2),P=O[0],xe=O[1],De=L.filter(function(re){var de;return re.type===E0&&((de=re.activity)===null||de===void 0?void 0:de.type)===T0}),Q=De.reduce(function(re,de){return re[de.activity.id]=UB(de.activity,g.machine,V,o),re},n?pe({},n.children):{}),se=new di({value:N||n.value,context:V,_event:o,_sessionid:n?n._sessionid:null,historyValue:N?j?wB(j,N):void 0:n?n.historyValue:void 0,history:!N||e.source?n:void 0,actions:N?xe:[],activities:N?M:n?n.activities:{},events:[],configuration:E,transitions:e.transitions,children:Q,done:C,tags:gA(E),machine:this}),fe=r!==V;se.changed=o.name===kN||fe;var we=se.history;we&&delete we.history;var Ee=!C&&(this._transient||b.some(function(re){return re._transient}));if(!_&&(!Ee||o.name===Pd))return se;var B=se;if(!C)for(Ee&&(B=this.resolveRaisedTransition(B,{type:cB},o,s));P.length;){var Z=P.shift();B=this.resolveRaisedTransition(B,Z._event,o,s)}var ee=B.changed||(we?!!B.actions.length||fe||typeof we.value!=typeof B.value||!qN(B.value,we.value):void 0);return B.changed=ee,B.history=we,B},t.prototype.getStateNode=function(e){if(Ol(e))return this.machine.getStateNodeById(e);if(!this.states)throw new Error("Unable to retrieve child state '".concat(e,"' from '").concat(this.id,"'; no child states exist."));var n=this.states[e];if(!n)throw new Error("Child state '".concat(e,"' does not exist on '").concat(this.id,"'"));return n},t.prototype.getStateNodeById=function(e){var n=Ol(e)?e.slice(N0.length):e;if(n===this.id)return this;var r=this.machine.idMap[n];if(!r)throw new Error("Child state node '#".concat(n,"' does not exist on machine '").concat(this.id,"'"));return r},t.prototype.getStateNodeByPath=function(e){if(typeof e=="string"&&Ol(e))try{return this.getStateNodeById(e.slice(1))}catch{}for(var n=A0(e,this.delimiter).slice(),r=this;n.length;){var s=n.shift();if(!s.length)break;r=r.getStateNode(s)}return r},t.prototype.resolve=function(e){var n,r=this;if(!e)return this.initialStateValue||Dl;switch(this.type){case"parallel":return Lc(this.initialStateValue,function(o,u){return o?r.getStateNode(u).resolve(e[u]||o):Dl});case"compound":if(vt(e)){var s=this.getStateNode(e);return s.type==="parallel"||s.type==="compound"?(n={},n[e]=s.initialStateValue,n):e}return Object.keys(e).length?Lc(e,function(o,u){return o?r.getStateNode(u).resolve(o):Dl}):this.initialStateValue||{};default:return e||Dl}},t.prototype.getResolvedPath=function(e){if(Ol(e)){var n=this.machine.idMap[e.slice(N0.length)];if(!n)throw new Error("Unable to find state node '".concat(e,"'"));return n.path}return A0(e,this.delimiter)},Object.defineProperty(t.prototype,"initialStateValue",{get:function(){var e;if(this.__cache.initialStateValue)return this.__cache.initialStateValue;var n;if(this.type==="parallel")n=dA(this.states,function(r){return r.initialStateValue||Dl},function(r){return r.type!=="history"});else if(this.initial!==void 0){if(!this.states[this.initial])throw new Error("Initial state '".concat(this.initial,"' not found on '").concat(this.key,"'"));n=Ym(this.states[this.initial])?this.initial:(e={},e[this.initial]=this.states[this.initial].initialStateValue,e)}else n={};return this.__cache.initialStateValue=n,this.__cache.initialStateValue},enumerable:!1,configurable:!0}),t.prototype.getInitialState=function(e,n){this._init();var r=this.getStateNodes(e);return this.resolveTransition({configuration:r,exitSet:[],transitions:[],source:void 0,actions:[]},void 0,n??this.machine.context,void 0)},Object.defineProperty(t.prototype,"initialState",{get:function(){var e=this.initialStateValue;if(!e)throw new Error("Cannot retrieve initial state from simple state '".concat(this.id,"'."));return this.getInitialState(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"target",{get:function(){var e;if(this.type==="history"){var n=this.config;vt(n.target)?e=Ol(n.target)?Gm(this.machine.getStateNodeById(n.target).path.slice(this.path.length-1)):n.target:e=n.target}return e},enumerable:!1,configurable:!0}),t.prototype.getRelativeStateNodes=function(e,n,r){return r===void 0&&(r=!0),r?e.type==="history"?e.resolveHistory(n):e.initialStateNodes:[e]},Object.defineProperty(t.prototype,"initialStateNodes",{get:function(){var e=this;if(Ym(this))return[this];if(this.type==="compound"&&!this.initial)return[this];var n=lm(this.initialStateValue);return Kt(n.map(function(r){return e.getFromRelativePath(r)}))},enumerable:!1,configurable:!0}),t.prototype.getFromRelativePath=function(e){if(!e.length)return[this];var n=dt(e),r=n[0],s=n.slice(1);if(!this.states)throw new Error("Cannot retrieve subPath '".concat(r,"' from node with no states"));var o=this.getStateNode(r);if(o.type==="history")return o.resolveHistory();if(!this.states[r])throw new Error("Child state '".concat(r,"' does not exist on '").concat(this.id,"'"));return this.states[r].getFromRelativePath(s)},t.prototype.historyValue=function(e){if(Object.keys(this.states).length)return{current:e||this.initialStateValue,states:dA(this.states,function(n,r){if(!e)return n.historyValue();var s=vt(e)?void 0:e[r];return n.historyValue(s||n.initialStateValue)},function(n){return!n.history})}},t.prototype.resolveHistory=function(e){var n=this;if(this.type!=="history")return[this];var r=this.parent;if(!e){var s=this.target;return s?Kt(lm(s).map(function(u){return r.getFromRelativePath(u)})):r.initialStateNodes}var o=yB(r.path,"states")(e).current;return vt(o)?[r.getStateNode(o)]:Kt(lm(o).map(function(u){return n.history==="deep"?r.getFromRelativePath(u):[r.states[u[0]]]}))},Object.defineProperty(t.prototype,"stateIds",{get:function(){var e=this,n=Kt(Object.keys(this.states).map(function(r){return e.states[r].stateIds}));return[this.id].concat(n)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"events",{get:function(){var e,n,r,s;if(this.__cache.events)return this.__cache.events;var o=this.states,u=new Set(this.ownEvents);if(o)try{for(var f=at(Object.keys(o)),h=f.next();!h.done;h=f.next()){var d=h.value,g=o[d];if(g.states)try{for(var b=(r=void 0,at(g.events)),_=b.next();!_.done;_=b.next()){var E=_.value;u.add("".concat(E))}}catch(C){r={error:C}}finally{try{_&&!_.done&&(s=b.return)&&s.call(b)}finally{if(r)throw r.error}}}}catch(C){e={error:C}}finally{try{h&&!h.done&&(n=f.return)&&n.call(f)}finally{if(e)throw e.error}}return this.__cache.events=Array.from(u)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ownEvents",{get:function(){var e=new Set(this.transitions.filter(function(n){return!(!n.target&&!n.actions.length&&n.internal)}).map(function(n){return n.eventType}));return Array.from(e)},enumerable:!1,configurable:!0}),t.prototype.resolveTarget=function(e){var n=this;if(e!==void 0)return e.map(function(r){if(!vt(r))return r;var s=r[0]===n.delimiter;if(s&&!n.parent)return n.getStateNodeByPath(r.slice(1));var o=s?n.key+r:r;if(n.parent)try{var u=n.parent.getStateNodeByPath(o);return u}catch(f){throw new Error("Invalid transition definition for state node '".concat(n.id,`':
`).concat(f.message))}else return n.getStateNodeByPath(o)})},t.prototype.formatTransition=function(e){var n=this,r=AB(e.target),s="internal"in e?e.internal:r?r.some(function(h){return vt(h)&&h[0]===n.delimiter}):!0,o=this.machine.options.guards,u=this.resolveTarget(r),f=pe(pe({},e),{actions:wa(Ai(e.actions)),cond:MN(e.cond,o),target:u,source:this,internal:s,eventType:e.event,toJSON:function(){return pe(pe({},f),{target:f.target?f.target.map(function(h){return"#".concat(h.id)}):void 0,source:"#".concat(n.id)})}});return f},t.prototype.formatTransitions=function(){var e,n,r=this,s;if(!this.config.on)s=[];else if(Array.isArray(this.config.on))s=this.config.on;else{var o=this.config.on,u=wy,f=o[u],h=f===void 0?[]:f,d=S_(o,[typeof u=="symbol"?u:u+""]);s=Kt(Object.keys(d).map(function(M){var z=kl(M,d[M]);return z}).concat(kl(wy,h)))}var g=this.config.always?kl("",this.config.always):[],b=this.config.onDone?kl(String(Od(this.id)),this.config.onDone):[],_=Kt(this.invoke.map(function(M){var z=[];return M.onDone&&z.push.apply(z,zt([],dt(kl(String(cm(M.id)),M.onDone)),!1)),M.onError&&z.push.apply(z,zt([],dt(kl(String(Uc(M.id)),M.onError)),!1)),z})),E=this.after,C=Kt(zt(zt(zt(zt([],dt(b),!1),dt(_),!1),dt(s),!1),dt(g),!1).map(function(M){return Ai(M).map(function(z){return r.formatTransition(z)})}));try{for(var N=at(E),j=N.next();!j.done;j=N.next()){var U=j.value;C.push(U)}}catch(M){e={error:M}}finally{try{j&&!j.done&&(n=N.return)&&n.call(N)}finally{if(e)throw e.error}}return C},t})();function i7(t,e,n){return n===void 0&&(n=t.context),new r7(t,e,n)}var s7=MB,k0;(function(t){t[t.Effect=1]="Effect",t[t.LayoutEffect=2]="LayoutEffect"})(k0||(k0={}));var tf=D.useLayoutEffect;function yA(t){var e=D.useRef();return e.current||(e.current={v:t()}),e.current.v}var a7=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),s,o=[],u;try{for(;(e===void 0||e-- >0)&&!(s=r.next()).done;)o.push(s.value)}catch(f){u={error:f}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(u)throw u.error}}return o},o7=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function l7(t,e){var n,r,s=a7([[],[]],2),o=s[0],u=s[1];try{for(var f=o7(t),h=f.next();!h.done;h=f.next()){var d=h.value;e(d)?o.push(d):u.push(d)}}catch(g){n={error:g}}finally{try{h&&!h.done&&(r=f.return)&&r.call(f)}finally{if(n)throw n.error}}return[o,u]}var Sc=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),s,o=[],u;try{for(;(e===void 0||e-- >0)&&!(s=r.next()).done;)o.push(s.value)}catch(f){u={error:f}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(u)throw u.error}}return o},bA=function(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,o;r<s;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))};function _A(t,e){var n=t.exec,r=n(e.context,e._event.data,{action:t,state:e,_event:e._event});r()}function u7(t){var e=D.useRef([]),n=D.useRef([]);tf(function(){var r=t.subscribe(function(s){var o,u;if(s.actions.length){var f=s.actions.filter(function(b){return typeof b.exec=="function"&&"__effect"in b.exec}),h=Sc(l7(f,function(b){return b.exec.__effect===k0.Effect}),2),d=h[0],g=h[1];(o=e.current).push.apply(o,bA([],Sc(d.map(function(b){return[b,s]})),!1)),(u=n.current).push.apply(u,bA([],Sc(g.map(function(b){return[b,s]})),!1))}});return function(){r.unsubscribe()}},[]),tf(function(){for(;n.current.length;){var r=Sc(n.current.shift(),2),s=r[0],o=r[1];_A(s,o)}}),D.useEffect(function(){for(;e.current.length;){var r=Sc(e.current.shift(),2),s=r[0],o=r[1];_A(s,o)}})}var nf=function(){return nf=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},nf.apply(this,arguments)},c7=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};function f7(t,e,n){if(typeof t=="object")return t;var r=function(){};return{next:t,error:e||r,complete:n||r}}function h7(t,e,n){e===void 0&&(e={});var r=yA(function(){return typeof t=="function"?t():t}),s=e.context,o=e.guards,u=e.actions,f=e.activities,h=e.services,d=e.delays,g=e.state,b=c7(e,["context","guards","actions","activities","services","delays","state"]),_=yA(function(){var E={context:s,guards:o,actions:u,activities:f,services:h,delays:d},C=r.withConfig(E,function(){return nf(nf({},r.context),s)});return GN(C,nf({deferEvents:!0},b))});return tf(function(){var E;return n&&(E=_.subscribe(f7(n))),function(){E==null||E.unsubscribe()}},[n]),tf(function(){return _.start(g?di.create(g):void 0),function(){_.stop()}},[]),tf(function(){Object.assign(_.machine.options.actions,u),Object.assign(_.machine.options.guards,o),Object.assign(_.machine.options.activities,f),Object.assign(_.machine.options.services,h),Object.assign(_.machine.options.delays,d)},[u,o,f,h,d]),u7(_),_}var d7=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),s,o=[],u;try{for(;(e===void 0||e-- >0)&&!(s=r.next()).done;)o.push(s.value)}catch(f){u={error:f}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(u)throw u.error}}return o};function m7(t,e){e===void 0&&(e={});var n=D.useCallback(function(f){var h=f.changed===void 0&&Object.keys(f.children).length;(f.changed||h)&&u(f)},[]),r=h7(t,e,n),s=d7(D.useState(function(){var f=r.machine.initialState;return e.state?di.create(e.state):f}),2),o=s[0],u=s[1];return[o,r.send,r]}function tn(){return tn=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tn.apply(null,arguments)}function eu(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}const Ze={arr:Array.isArray,obj:t=>Object.prototype.toString.call(t)==="[object Object]",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",und:t=>t===void 0,nul:t=>t===null,set:t=>t instanceof Set,map:t=>t instanceof Map,equ(t,e){if(typeof t!=typeof e)return!1;if(Ze.str(t)||Ze.num(t))return t===e;if(Ze.obj(t)&&Ze.obj(e)&&Object.keys(t).length+Object.keys(e).length===0)return!0;let n;for(n in t)if(!(n in e))return!1;for(n in e)if(t[n]!==e[n])return!1;return Ze.und(n)?t===e:!0}};function p7(t,e){return n=>(Ze.arr(n)?n:Object.keys(n)).reduce((r,s)=>{const o=s;return r[o]=t(o),r},t)}function g7(){const t=D.useState(!1),e=t[1];return D.useCallback(()=>e(r=>!r),[])}function _o(t,e){return Ze.und(t)||Ze.nul(t)?e:t}function Md(t){return Ze.und(t)?[]:Ze.arr(t)?t:[t]}function $l(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return Ze.fun(t)?t(...n):t}function v7(t){return t.to,t.from,t.config,t.onStart,t.onRest,t.onFrame,t.children,t.reset,t.reverse,t.force,t.immediate,t.delay,t.attach,t.destroyed,t.interpolateTo,t.ref,t.lazy,eu(t,["to","from","config","onStart","onRest","onFrame","children","reset","reverse","force","immediate","delay","attach","destroyed","interpolateTo","ref","lazy"])}function Ey(t){const e=v7(t);if(Ze.und(e))return tn({to:e},t);const n=Object.keys(t).reduce((r,s)=>Ze.und(e[s])?tn({},r,{[s]:t[s]}):r,{});return tn({to:e},n)}function y7(t,e){return e&&(Ze.fun(e)?e(t):Ze.obj(e)&&(e.current=t)),t}class Ci{constructor(){this.payload=void 0,this.children=[]}getAnimatedValue(){return this.getValue()}getPayload(){return this.payload||this}attach(){}detach(){}getChildren(){return this.children}addChild(e){this.children.length===0&&this.attach(),this.children.push(e)}removeChild(e){const n=this.children.indexOf(e);this.children.splice(n,1),this.children.length===0&&this.detach()}}class D0 extends Ci{constructor(){super(...arguments),this.payload=[],this.attach=()=>this.payload.forEach(e=>e instanceof Ci&&e.addChild(this)),this.detach=()=>this.payload.forEach(e=>e instanceof Ci&&e.removeChild(this))}}class $N extends Ci{constructor(){super(...arguments),this.payload={},this.attach=()=>Object.values(this.payload).forEach(e=>e instanceof Ci&&e.addChild(this)),this.detach=()=>Object.values(this.payload).forEach(e=>e instanceof Ci&&e.removeChild(this))}getValue(e){e===void 0&&(e=!1);const n={};for(const r in this.payload){const s=this.payload[r];e&&!(s instanceof Ci)||(n[r]=s instanceof Ci?s[e?"getAnimatedValue":"getValue"]():s)}return n}getAnimatedValue(){return this.getValue(!0)}}let k_;function b7(t,e){k_={fn:t,transform:e}}let KN;function _7(t){KN=t}let YN=t=>typeof window<"u"?window.requestAnimationFrame(t):-1,Wm;function x7(t){Wm=t}let WN=()=>Date.now(),w7=t=>t.current,QN;function E7(t){QN=t}class T7 extends $N{constructor(e,n){super(),this.update=void 0,this.payload=e.style?tn({},e,{style:QN(e.style)}):e,this.update=n,this.attach()}}const S7=t=>Ze.fun(t)&&!(t.prototype instanceof Sn.Component),A7=t=>D.forwardRef((n,r)=>{const s=g7(),o=D.useRef(!0),u=D.useRef(null),f=D.useRef(null),h=D.useCallback(_=>{const E=u.current,C=()=>{let N=!1;f.current&&(N=k_.fn(f.current,u.current.getAnimatedValue())),(!f.current||N===!1)&&s()};u.current=new T7(_,C),E&&E.detach()},[]);D.useEffect(()=>()=>{o.current=!1,u.current&&u.current.detach()},[]),D.useImperativeHandle(r,()=>w7(f)),h(n);const d=u.current.getValue();d.scrollTop,d.scrollLeft;const g=eu(d,["scrollTop","scrollLeft"]),b=S7(t)?void 0:_=>f.current=y7(_,r);return Sn.createElement(t,tn({},g,{ref:b}))});let rf=!1;const Oo=new Set,XN=()=>{if(!rf)return!1;let t=WN();for(let e of Oo){let n=!1;for(let r=0;r<e.configs.length;r++){let s=e.configs[r],o,u;for(let f=0;f<s.animatedValues.length;f++){let h=s.animatedValues[f];if(h.done)continue;let d=s.fromValues[f],g=s.toValues[f],b=h.lastPosition,_=g instanceof Ci,E=Array.isArray(s.initialVelocity)?s.initialVelocity[f]:s.initialVelocity;if(_&&(g=g.getValue()),s.immediate){h.setValue(g),h.done=!0;continue}if(typeof d=="string"||typeof g=="string"){h.setValue(g),h.done=!0;continue}if(s.duration!==void 0)b=d+s.easing((t-h.startTime)/s.duration)*(g-d),o=t>=h.startTime+s.duration;else if(s.decay)b=d+E/(1-.998)*(1-Math.exp(-.0020000000000000018*(t-h.startTime))),o=Math.abs(h.lastPosition-b)<.1,o&&(g=b);else{u=h.lastTime!==void 0?h.lastTime:t,E=h.lastVelocity!==void 0?h.lastVelocity:s.initialVelocity,t>u+64&&(u=t);let C=Math.floor(t-u);for(let M=0;M<C;++M){let z=-s.tension*(b-g),G=-s.friction*E,K=(z+G)/s.mass;E=E+K*1/1e3,b=b+E*1/1e3}let N=s.clamp&&s.tension!==0?d<g?b>g:b<g:!1,j=Math.abs(E)<=s.precision,U=s.tension!==0?Math.abs(g-b)<=s.precision:!0;o=N||j&&U,h.lastVelocity=E,h.lastTime=t}_&&!s.toValues[f].done&&(o=!1),o?(h.value!==g&&(b=g),h.done=!0):n=!0,h.setValue(b),h.lastPosition=b}e.props.onFrame&&(e.values[s.name]=s.interpolation.getValue())}e.props.onFrame&&e.props.onFrame(e.values),n||(Oo.delete(e),e.stop(!0))}return Oo.size?YN(XN):rf=!1,rf},C7=t=>{Oo.has(t)||Oo.add(t),rf||(rf=!0,YN(XN))},R7=t=>{Oo.has(t)&&Oo.delete(t)};function Qm(t,e,n){if(typeof t=="function")return t;if(Array.isArray(t))return Qm({range:t,output:e,extrapolate:n});if(Wm&&typeof t.output[0]=="string")return Wm(t);const r=t,s=r.output,o=r.range||[0,1],u=r.extrapolateLeft||r.extrapolate||"extend",f=r.extrapolateRight||r.extrapolate||"extend",h=r.easing||(d=>d);return d=>{const g=N7(d,o);return I7(d,o[g],o[g+1],s[g],s[g+1],h,u,f,r.map)}}function I7(t,e,n,r,s,o,u,f,h){let d=h?h(t):t;if(d<e){if(u==="identity")return d;u==="clamp"&&(d=e)}if(d>n){if(f==="identity")return d;f==="clamp"&&(d=n)}return r===s?r:e===n?t<=e?r:s:(e===-1/0?d=-d:n===1/0?d=d-e:d=(d-e)/(n-e),d=o(d),r===-1/0?d=-d:s===1/0?d=d+r:d=d*(s-r)+r,d)}function N7(t,e){for(var n=1;n<e.length-1&&!(e[n]>=t);++n);return n-1}class mu extends D0{constructor(e,n,r,s){super(),this.calc=void 0,this.payload=e instanceof D0&&!(e instanceof mu)?e.getPayload():Array.isArray(e)?e:[e],this.calc=Qm(n,r,s)}getValue(){return this.calc(...this.payload.map(e=>e.getValue()))}updateConfig(e,n,r){this.calc=Qm(e,n,r)}interpolate(e,n,r){return new mu(this,e,n,r)}}const jl=(t,e,n)=>t&&new mu(t,e,n),k7={default:{tension:170,friction:26}};function ZN(t,e){"update"in t?e.add(t):t.getChildren().forEach(n=>ZN(n,e))}class O0 extends Ci{constructor(e){var n;super(),n=this,this.animatedStyles=new Set,this.value=void 0,this.startPosition=void 0,this.lastPosition=void 0,this.lastVelocity=void 0,this.startTime=void 0,this.lastTime=void 0,this.done=!1,this.setValue=function(r,s){s===void 0&&(s=!0),n.value=r,s&&n.flush()},this.value=e,this.startPosition=e,this.lastPosition=e}flush(){this.animatedStyles.size===0&&ZN(this,this.animatedStyles),this.animatedStyles.forEach(e=>e.update())}clearStyles(){this.animatedStyles.clear()}getValue(){return this.value}interpolate(e,n,r){return new mu(this,e,n,r)}}class D7 extends D0{constructor(e){super(),this.payload=e.map(n=>new O0(n))}setValue(e,n){n===void 0&&(n=!0),Array.isArray(e)?e.length===this.payload.length&&e.forEach((r,s)=>this.payload[s].setValue(r,n)):this.payload.forEach(r=>r.setValue(e,n))}getValue(){return this.payload.map(e=>e.getValue())}interpolate(e,n){return new mu(this,e,n)}}let O7=0,j7=class{constructor(){this.id=void 0,this.idle=!0,this.hasChanged=!1,this.guid=0,this.local=0,this.props={},this.merged={},this.animations={},this.interpolations={},this.values={},this.configs=[],this.listeners=[],this.queue=[],this.localQueue=void 0,this.getValues=()=>this.interpolations,this.id=O7++}update(e){if(!e)return this;const n=Ey(e),r=n.delay,s=r===void 0?0:r,o=n.to,u=eu(n,["delay","to"]);if(Ze.arr(o)||Ze.fun(o))this.queue.push(tn({},u,{delay:s,to:o}));else if(o){let f={};Object.entries(o).forEach(h=>{let d=h[0],g=h[1];const b=tn({to:{[d]:g},delay:$l(s,d)},u),_=f[b.delay]&&f[b.delay].to;f[b.delay]=tn({},f[b.delay],b,{to:tn({},_,b.to)})}),this.queue=Object.values(f)}return this.queue=this.queue.sort((f,h)=>f.delay-h.delay),this.diff(u),this}start(e){if(this.queue.length){this.idle=!1,this.localQueue&&this.localQueue.forEach(s=>{let o=s.from,u=o===void 0?{}:o,f=s.to,h=f===void 0?{}:f;Ze.obj(u)&&(this.merged=tn({},u,this.merged)),Ze.obj(h)&&(this.merged=tn({},this.merged,h))});const n=this.local=++this.guid,r=this.localQueue=this.queue;this.queue=[],r.forEach((s,o)=>{let u=s.delay,f=eu(s,["delay"]);const h=g=>{o===r.length-1&&n===this.guid&&g&&(this.idle=!0,this.props.onRest&&this.props.onRest(this.merged)),e&&e()};let d=Ze.arr(f.to)||Ze.fun(f.to);u?setTimeout(()=>{n===this.guid&&(d?this.runAsync(f,h):this.diff(f).start(h))},u):d?this.runAsync(f,h):this.diff(f).start(h)})}else Ze.fun(e)&&this.listeners.push(e),this.props.onStart&&this.props.onStart(),C7(this);return this}stop(e){return this.listeners.forEach(n=>n(e)),this.listeners=[],this}pause(e){return this.stop(!0),e&&R7(this),this}runAsync(e,n){var r=this;e.delay;let s=eu(e,["delay"]);const o=this.local;let u=Promise.resolve(void 0);if(Ze.arr(s.to))for(let f=0;f<s.to.length;f++){const h=f,d=tn({},s,Ey(s.to[h]));Ze.arr(d.config)&&(d.config=d.config[h]),u=u.then(()=>{if(o===this.guid)return new Promise(g=>this.diff(d).start(g))})}else if(Ze.fun(s.to)){let f=0,h;u=u.then(()=>s.to(d=>{const g=tn({},s,Ey(d));if(Ze.arr(g.config)&&(g.config=g.config[f]),f++,o===this.guid)return h=new Promise(b=>this.diff(g).start(b))},function(d){return d===void 0&&(d=!0),r.stop(d)}).then(()=>h))}u.then(n)}diff(e){this.props=tn({},this.props,e);let n=this.props,r=n.from,s=r===void 0?{}:r,o=n.to,u=o===void 0?{}:o,f=n.config,h=f===void 0?{}:f,d=n.reverse,g=n.attach,b=n.reset,_=n.immediate;if(d){var E=[u,s];s=E[0],u=E[1]}this.merged=tn({},s,this.merged,u),this.hasChanged=!1;let C=g&&g(this);if(this.animations=Object.entries(this.merged).reduce((N,j)=>{let U=j[0],M=j[1],z=N[U]||{};const G=Ze.num(M),K=Ze.str(M)&&!M.startsWith("#")&&!/\d/.test(M)&&!KN[M],H=Ze.arr(M),A=!G&&!H&&!K;let S=Ze.und(s[U])?M:s[U],I=G||H||K?M:1,L=$l(h,U);C&&(I=C.animations[U].parent);let V=z.parent,O=z.interpolation,P=Md(C?I.getPayload():I),xe,De=M;A&&(De=Wm({range:[0,1],output:[M,M]})(1));let Q=O&&O.getValue();const fe=!Ze.und(V)&&z.animatedValues.some(Z=>!Z.done),we=!Ze.equ(De,Q),Ee=!Ze.equ(De,z.previous),B=!Ze.equ(L,z.config);if(b||Ee&&we||B){if(G||K)V=O=z.parent||new O0(S);else if(H)V=O=z.parent||new D7(S);else if(A){let Z=z.interpolation&&z.interpolation.calc(z.parent.value);Z=Z!==void 0&&!b?Z:S,z.parent?(V=z.parent,V.setValue(0,!1)):V=new O0(0);const ee={output:[Z,M]};z.interpolation?(O=z.interpolation,z.interpolation.updateConfig(ee)):O=V.interpolate(ee)}return P=Md(C?I.getPayload():I),xe=Md(V.getPayload()),b&&!A&&V.setValue(S,!1),this.hasChanged=!0,xe.forEach(Z=>{Z.startPosition=Z.value,Z.lastPosition=Z.value,Z.lastVelocity=fe?Z.lastVelocity:void 0,Z.lastTime=fe?Z.lastTime:void 0,Z.startTime=WN(),Z.done=!1,Z.animatedStyles.clear()}),$l(_,U)&&V.setValue(A?I:M,!1),tn({},N,{[U]:tn({},z,{name:U,parent:V,interpolation:O,animatedValues:xe,toValues:P,previous:De,config:L,fromValues:Md(V.getValue()),immediate:$l(_,U),initialVelocity:_o(L.velocity,0),clamp:_o(L.clamp,!1),precision:_o(L.precision,.01),tension:_o(L.tension,170),friction:_o(L.friction,26),mass:_o(L.mass,1),duration:L.duration,easing:_o(L.easing,Z=>Z),decay:L.decay})})}else return we?N:(A&&(V.setValue(1,!1),O.updateConfig({output:[De,De]})),V.done=!0,this.hasChanged=!0,tn({},N,{[U]:tn({},N[U],{previous:De})}))},this.animations),this.hasChanged){this.configs=Object.values(this.animations),this.values={},this.interpolations={};for(let N in this.animations)this.interpolations[N]=this.animations[N].interpolation,this.values[N]=this.animations[N].interpolation.getValue()}return this}destroy(){this.stop(),this.props={},this.merged={},this.animations={},this.interpolations={},this.values={},this.configs=[],this.local=0}};const P7=(t,e)=>{const n=D.useRef(!1),r=D.useRef(),s=Ze.fun(e),o=D.useMemo(()=>{r.current&&(r.current.map(b=>b.destroy()),r.current=void 0);let g;return[new Array(t).fill().map((b,_)=>{const E=new j7,C=s?$l(e,_,E):e[_];return _===0&&(g=C.ref),E.update(C),g||E.start(),E}),g]},[t]),u=o[0],f=o[1];r.current=u,D.useImperativeHandle(f,()=>({start:()=>Promise.all(r.current.map(g=>new Promise(b=>g.start(b)))),stop:g=>r.current.forEach(b=>b.stop(g)),get controllers(){return r.current}}));const h=D.useMemo(()=>g=>r.current.map((b,_)=>{b.update(s?$l(g,_,b):g[_]),f||b.start()}),[t]);D.useEffect(()=>{n.current?s||h(e):f||r.current.forEach(g=>g.start())}),D.useEffect(()=>(n.current=!0,()=>r.current.forEach(g=>g.destroy())),[]);const d=r.current.map(g=>g.getValues());return s?[d,h,g=>r.current.forEach(b=>b.pause(g))]:d},M7=t=>{const e=Ze.fun(t),n=P7(1,e?t:[t]),r=n[0],s=n[1],o=n[2];return e?[r[0],s,o]:r};class V7 extends $N{constructor(e){e===void 0&&(e={}),super(),e.transform&&!(e.transform instanceof Ci)&&(e=k_.transform(e)),this.payload=e}}const Xm={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},Ni="[-+]?\\d*\\.?\\d+",Zm=Ni+"%";function zp(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return"\\(\\s*("+e.join(")\\s*,\\s*(")+")\\s*\\)"}const L7=new RegExp("rgb"+zp(Ni,Ni,Ni)),U7=new RegExp("rgba"+zp(Ni,Ni,Ni,Ni)),z7=new RegExp("hsl"+zp(Ni,Zm,Zm)),B7=new RegExp("hsla"+zp(Ni,Zm,Zm,Ni)),F7=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,H7=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,q7=/^#([0-9a-fA-F]{6})$/,G7=/^#([0-9a-fA-F]{8})$/;function $7(t){let e;return typeof t=="number"?t>>>0===t&&t>=0&&t<=4294967295?t:null:(e=q7.exec(t))?parseInt(e[1]+"ff",16)>>>0:Xm.hasOwnProperty(t)?Xm[t]:(e=L7.exec(t))?(Pl(e[1])<<24|Pl(e[2])<<16|Pl(e[3])<<8|255)>>>0:(e=U7.exec(t))?(Pl(e[1])<<24|Pl(e[2])<<16|Pl(e[3])<<8|EA(e[4]))>>>0:(e=F7.exec(t))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+"ff",16)>>>0:(e=G7.exec(t))?parseInt(e[1],16)>>>0:(e=H7.exec(t))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+e[4]+e[4],16)>>>0:(e=z7.exec(t))?(xA(wA(e[1]),Vd(e[2]),Vd(e[3]))|255)>>>0:(e=B7.exec(t))?(xA(wA(e[1]),Vd(e[2]),Vd(e[3]))|EA(e[4]))>>>0:null}function Ty(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function xA(t,e,n){const r=n<.5?n*(1+e):n+e-n*e,s=2*n-r,o=Ty(s,r,t+1/3),u=Ty(s,r,t),f=Ty(s,r,t-1/3);return Math.round(o*255)<<24|Math.round(u*255)<<16|Math.round(f*255)<<8}function Pl(t){const e=parseInt(t,10);return e<0?0:e>255?255:e}function wA(t){return(parseFloat(t)%360+360)%360/360}function EA(t){const e=parseFloat(t);return e<0?0:e>1?255:Math.round(e*255)}function Vd(t){const e=parseFloat(t);return e<0?0:e>100?1:e/100}function TA(t){let e=$7(t);if(e===null)return t;e=e||0;let n=(e&4278190080)>>>24,r=(e&16711680)>>>16,s=(e&65280)>>>8,o=(e&255)/255;return`rgba(${n}, ${r}, ${s}, ${o})`}const Ld=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,K7=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,Y7=new RegExp(`(${Object.keys(Xm).join("|")})`,"g"),W7=t=>{const e=t.output.map(s=>s.replace(K7,TA)).map(s=>s.replace(Y7,TA)),n=e[0].match(Ld).map(()=>[]);e.forEach(s=>{s.match(Ld).forEach((o,u)=>n[u].push(+o))});const r=e[0].match(Ld).map((s,o)=>Qm(tn({},t,{output:n[o]})));return s=>{let o=0;return e[0].replace(Ld,()=>r[o++](s)).replace(/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,(u,f,h,d,g)=>`rgba(${Math.round(f)}, ${Math.round(h)}, ${Math.round(d)}, ${g})`)}};let sf={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0};const Q7=(t,e)=>t+e.charAt(0).toUpperCase()+e.substring(1),X7=["Webkit","Ms","Moz","O"];sf=Object.keys(sf).reduce((t,e)=>(X7.forEach(n=>t[Q7(n,e)]=t[e]),t),sf);function Z7(t,e,n){return e==null||typeof e=="boolean"||e===""?"":!n&&typeof e=="number"&&e!==0&&!(sf.hasOwnProperty(t)&&sf[t])?e+"px":(""+e).trim()}const SA={};E7(t=>new V7(t));x7(W7);_7(Xm);b7((t,e)=>{if(t.nodeType&&t.setAttribute!==void 0){const s=e.style,o=e.children,u=e.scrollTop,f=e.scrollLeft,h=eu(e,["style","children","scrollTop","scrollLeft"]),d=t.nodeName==="filter"||t.parentNode&&t.parentNode.nodeName==="filter";u!==void 0&&(t.scrollTop=u),f!==void 0&&(t.scrollLeft=f),o!==void 0&&(t.textContent=o);for(let g in s)if(s.hasOwnProperty(g)){var n=g.indexOf("--")===0,r=Z7(g,s[g],n);g==="float"&&(g="cssFloat"),n?t.style.setProperty(g,r):t.style[g]=r}for(let g in h){const b=d?g:SA[g]||(SA[g]=g.replace(/([A-Z])/g,_=>"-"+_.toLowerCase()));typeof t.getAttribute(b)<"u"&&t.setAttribute(b,h[g])}return}else return!1},t=>t);const J7=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],eF=p7(A7),tF=eF(J7);function AA(t,e){return t.map(function(n,r){return n+e[r]})}function JN(t,e){return t.map(function(n,r){return n-e[r]})}function j0(t){return Math.hypot.apply(Math,t)}function nF(t,e,n){var r=j0(e),s=r===0?0:1/r,o=n===0?0:1/n,u=o*r,f=e.map(function(g){return o*g}),h=e.map(function(g){return s*g}),d=j0(t);return{velocities:f,velocity:u,distance:d,direction:h}}function P0(t){return Math.sign?Math.sign(t):+(t>0)-+(t<0)||+t}function rF(t,e,n){return Math.max(e,Math.min(t,n))}function iF(t,e){return Math.pow(t,e*5)}function CA(t,e,n){return e===0||Math.abs(e)===1/0?iF(t,n):t*e*n/(e+n*t)}function af(t,e,n,r){return r===void 0&&(r=.15),r===0?rF(t,e,n):t<e?-CA(e-t,n-e,r)+e:t>n?+CA(t-n,n-e,r)+n:t}function sF(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function aF(t,e,n){return e&&sF(t.prototype,e),t}function xr(){return xr=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xr.apply(this,arguments)}function ek(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function oF(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,o;for(o=0;o<r.length;o++)s=r[o],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function Ud(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lF(t,e){if(t){if(typeof t=="string")return RA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return RA(t,e)}}function RA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Bp(t,e){var n;if(typeof Symbol>"u"||t[Symbol.iterator]==null){if(Array.isArray(t)||(n=lF(t))||e){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}return n=t[Symbol.iterator](),n.next.bind(n)}function tk(){}function nk(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.length===0?tk:e.length===1?e[0]:function(){for(var r,s=Bp(e),o;!(o=s()).done;){var u=o.value;r=u.apply(this,arguments)||r}return r}}function Ea(t,e){if(t===void 0){if(e===void 0)throw new Error("Must define fallback value if undefined is expected");t=e}return Array.isArray(t)?t:[t,t]}function zd(t){if(typeof t=="function"){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return t.apply(void 0,n)}else return t}function D_(t,e){t===void 0&&(t={});for(var n={},r=0,s=Object.entries(e);r<s.length;r++){var o=s[r],u=o[0],f=o[1];switch(typeof f){case"function":n[u]=f.call(n,t[u],u,t);break;case"object":n[u]=D_(t[u],f);break;case"boolean":f&&(n[u]=t[u]);break}}return n}var uF=180,cF=.15,fF=.5,hF=60,dF={threshold:function(e){return e===void 0&&(e=0),Ea(e)},rubberband:function(e){switch(e===void 0&&(e=0),e){case!0:return Ea(cF);case!1:return Ea(0);default:return Ea(e)}},enabled:function(e){return e===void 0&&(e=!0),e},triggerAllEvents:function(e){return e===void 0&&(e=!1),e},initial:function(e){return e===void 0&&(e=0),typeof e=="function"?e:Ea(e)}},rk=xr({},dF,{axis:!0,lockDirection:function(e){return e===void 0&&(e=!1),e},bounds:function(e){if(e===void 0&&(e={}),typeof e=="function")return function(b){return rk.bounds(e(b))};var n=e,r=n.left,s=r===void 0?-1/0:r,o=n.right,u=o===void 0?1/0:o,f=n.top,h=f===void 0?-1/0:f,d=n.bottom,g=d===void 0?1/0:d;return[[s,u],[h,g]]}}),mF=typeof window<"u"&&window.document&&window.document.createElement,pF={enabled:function(e){return e===void 0&&(e=!0),e},domTarget:!0,window:(function(t){function e(n){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e})(function(t){return t===void 0&&(t=mF?window:void 0),t}),eventOptions:function(e){var n=e===void 0?{}:e,r=n.passive,s=r===void 0?!0:r,o=n.capture,u=o===void 0?!1:o;return{passive:s,capture:u}}},gF=xr({},rk,{threshold:function(e,n,r){var s=r.filterTaps,o=s===void 0?!1:s,u=r.lockDirection,f=u===void 0?!1:u,h=r.axis,d=h===void 0?void 0:h,g=Ea(e,o?3:f||d?1:0);return this.filterTaps=o||g[0]+g[1]>0,g},swipeVelocity:function(e){return e===void 0&&(e=fF),Ea(e)},swipeDistance:function(e){return e===void 0&&(e=hF),Ea(e)},delay:function(e){switch(e===void 0&&(e=0),e){case!0:return uF;case!1:return 0;default:return e}}});function vF(t){return t===void 0&&(t={}),D_(t,pF)}function yF(t){return t===void 0&&(t={}),D_(t,gF)}function bF(t){var e=t.domTarget,n=t.eventOptions,r=t.window,s=t.enabled,o=oF(t,["domTarget","eventOptions","window","enabled"]),u=vF({domTarget:e,eventOptions:n,window:r,enabled:s});return u.drag=yF(o),u}function Ac(t){return xr({_active:!1,_blocked:!1,_intentional:[!1,!1],_movement:[0,0],_initial:[0,0],_bounds:[[-1/0,1/0],[-1/0,1/0]],_lastEventType:void 0,event:void 0,intentional:!1,values:[0,0],velocities:[0,0],delta:[0,0],movement:[0,0],offset:[0,0],lastOffset:[0,0],direction:[0,0],initial:[0,0],previous:[0,0],first:!1,last:!1,active:!1,timeStamp:0,startTime:0,elapsedTime:0,cancel:tk,canceled:!1,memo:void 0,args:void 0},t)}function ik(){var t={hovering:!1,scrolling:!1,wheeling:!1,dragging:!1,moving:!1,pinching:!1,touches:0,buttons:0,down:!1,shiftKey:!1,altKey:!1,metaKey:!1,ctrlKey:!1},e=Ac({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0,_isTap:!0,_delayedEvent:!1,_pointerId:void 0,tap:!1,swipe:[0,0]}),n=Ac({da:[0,0],vdva:[0,0],origin:void 0,turns:0}),r=Ac({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0}),s=Ac({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0}),o=Ac({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0});return{shared:t,drag:e,pinch:n,wheel:r,move:s,scroll:o}}var Ao=new Map,_F=(function(){function t(n,r){var s=this;r===void 0&&(r=[]),this.controller=n,this.args=r,this.debounced=!0,this.setTimeout=function(o,u){var f;u===void 0&&(u=140),clearTimeout(s.controller.timeouts[s.stateKey]);for(var h=arguments.length,d=new Array(h>2?h-2:0),g=2;g<h;g++)d[g-2]=arguments[g];s.controller.timeouts[s.stateKey]=(f=window).setTimeout.apply(f,[o,u].concat(d))},this.clearTimeout=function(){clearTimeout(s.controller.timeouts[s.stateKey])},this.fireGestureHandler=function(o){if(o===void 0&&(o=!1),s.state._blocked)return s.debounced||(s.state._active=!1,s.clean()),null;if(!o&&!s.state.intentional&&!s.config.triggerAllEvents)return null;if(s.state.intentional){var u=s.state.active,f=s.state._active;s.state.active=f,s.state.first=f&&!u,s.state.last=u&&!f,s.controller.state.shared[s.ingKey]=f}var h=xr({},s.controller.state.shared,s.state,s.mapStateValues(s.state)),d=s.handler(h);return s.state.memo=d!==void 0?d:s.state.memo,s.state._active||s.clean(),h}}var e=t.prototype;return e.updateSharedState=function(r){Object.assign(this.controller.state.shared,r)},e.updateGestureState=function(r){Object.assign(this.state,r)},e.checkIntentionality=function(r,s){return{_intentional:r,_blocked:!1}},e.getMovement=function(r){var s=this.config,o=s.initial,u=s.bounds,f=s.rubberband,h=s.threshold,d=this.state,g=d._bounds,b=d._initial,_=d._active,E=d._intentional,C=d.lastOffset,N=d.movement,j=this.getInternalMovement(r,this.state),U=E[0]===!1?IA(j[0],h[0]):E[0],M=E[1]===!1?IA(j[1],h[1]):E[1],z=this.checkIntentionality([U,M],j);if(z._blocked)return xr({},z,{_movement:j,delta:[0,0]});var G=z._intentional,K=j,H,A;if(G[0]!==!1&&E[0]===!1&&(A=zd(o,this.state),H=zd(u,this.state),b[0]=A[0],g[0]=H[0]),G[1]!==!1&&E[1]===!1){var S,I;A=(S=A)!=null?S:zd(o,this.state),H=(I=H)!=null?I:zd(u,this.state),b[1]=A[1],g[1]=H[1]}var L=[G[0]!==!1?j[0]-G[0]:b[0],G[1]!==!1?j[1]-G[1]:b[1]],V=AA(L,C),O=_?f:[0,0];return L=NA(g,AA(L,b),O),xr({},z,{intentional:G[0]!==!1||G[1]!==!1,_initial:b,_movement:K,movement:L,values:r,offset:NA(g,V,O),delta:JN(L,N)})},e.clean=function(){this.clearTimeout()},aF(t,[{key:"config",get:function(){return this.controller.config[this.stateKey]}},{key:"enabled",get:function(){return this.controller.config.enabled&&this.config.enabled}},{key:"state",get:function(){return this.controller.state[this.stateKey]}},{key:"handler",get:function(){return this.controller.handlers[this.stateKey]}}]),t})();function IA(t,e){return Math.abs(t)>=e?P0(t)*e:!1}function NA(t,e,n){var r=e[0],s=e[1],o=n[0],u=n[1],f=t[0],h=f[0],d=f[1],g=t[1],b=g[0],_=g[1];return[af(r,h,d,o),af(s,b,_,u)]}function Sy(t,e,n){var r=t.state,s=t.args,o=e.timeStamp,u=e.type,f=r.values,h=n?0:o-r.startTime;return{_lastEventType:u,event:e,timeStamp:o,elapsedTime:h,args:s,previous:f}}function xF(t,e,n){var r=t.state.offset,s=n.timeStamp;return xr({},ik()[t.stateKey],{_active:!0,values:e,initial:e,offset:r,lastOffset:r,startTime:s})}function wF(t,e){return function(n){for(var r=arguments.length,s=new Array(r>1?r-1:0),o=1;o<r;o++)s[o-1]=arguments[o];return t.call.apply(t,[this,xr({},e,{event:n})].concat(s))}}var EF=function(e){var n=this;this.classes=e,this.bind=function(){for(var r={},s=arguments.length,o=new Array(s),u=0;u<s;u++)o[u]=arguments[u];for(var f=Bp(n.classes),h;!(h=f()).done;){var d=h.value;new d(n,o).addBindings(r)}for(var g=0,b=Object.entries(n.nativeRefs);g<b.length;g++){var _=b[g],E=_[0],C=_[1];M0(r,E,wF(C,xr({},n.state.shared,{args:o})))}return n.config.domTarget?CF(n,r):RF(n,r)},this.effect=function(){return n.config.domTarget&&n.bind(),n.clean},this.clean=function(){var r=ak(n.config),s=n.config.eventOptions;r&&Qf(r,sk(n.domListeners),s),Object.values(n.timeouts).forEach(clearTimeout),TF(n)},this.state=ik(),this.timeouts={},this.domListeners=[],this.windowListeners={}};function TF(t){var e=t.config,n=e.window,r=e.eventOptions,s=t.windowListeners;if(n){for(var o in s){var u=s[o];Qf(n,u,r)}t.windowListeners={}}}function SF(t,e){var n=t.config,r=t.windowListeners;n.window&&(Qf(n.window,r[e],n.eventOptions),delete r[e])}function AF(t,e,n){var r=t.config,s=t.windowListeners;n===void 0&&(n=[]),r.window&&(Qf(r.window,s[e],r.eventOptions),ok(r.window,s[e]=n,r.eventOptions))}function CF(t,e){var n=t.config,r=t.domListeners,s=ak(n);if(!s)throw new Error("domTarget must be defined");var o=n.eventOptions;Qf(s,sk(r),o);for(var u=0,f=Object.entries(e);u<f.length;u++){var h=f[u],d=h[0],g=h[1],b=d.slice(2).toLowerCase();r.push([b,nk.apply(void 0,g)])}ok(s,r,o)}function RF(t,e){for(var n=t.config,r={},s=n.eventOptions.capture?"Capture":"",o=0,u=Object.entries(e);o<u.length;o++){var f=u[o],h=f[0],d=f[1],g=Array.isArray(d)?d:[d],b=h+s;r[b]=nk.apply(void 0,g)}return r}function sk(t){return t===void 0&&(t=[]),t.splice(0,t.length)}function ak(t){var e=t.domTarget;return e&&"current"in e?e.current:e}function M0(t,e,n){t[e]||(t[e]=[]),t[e].push(n)}function ok(t,e,n){e===void 0&&(e=[]),n===void 0&&(n={});for(var r=Bp(e),s;!(s=r()).done;){var o=s.value,u=o[0],f=o[1];t.addEventListener(u,f,n)}}function Qf(t,e,n){e===void 0&&(e=[]),n===void 0&&(n={});for(var r=Bp(e),s;!(s=r()).done;){var o=s.value,u=o[0],f=o[1];t.removeEventListener(u,f,n)}}function IF(t,e,n){n===void 0&&(n={});var r=kF(t),s=Sn.useMemo(function(){return new EF(r)},[]);return s.config=e,s.handlers=t,s.nativeRefs=n,Sn.useEffect(s.effect,[]),s.config.domTarget?NF:s.bind}function NF(){}function kF(t){var e=new Set;return t.drag&&e.add(Ao.get("drag")),t.wheel&&e.add(Ao.get("wheel")),t.scroll&&e.add(Ao.get("scroll")),t.move&&e.add(Ao.get("move")),t.pinch&&e.add(Ao.get("pinch")),t.hover&&e.add(Ao.get("hover")),e}var DF=(function(t){ek(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.getInternalMovement=function(s,o){return JN(s,o.initial)},n.checkIntentionality=function(s,o){if(s[0]===!1&&s[1]===!1)return{_intentional:s,axis:this.state.axis};var u=o.map(Math.abs),f=u[0],h=u[1],d=this.state.axis||(f>h?"x":f<h?"y":void 0);return!this.config.axis&&!this.config.lockDirection?{_intentional:s,_blocked:!1,axis:d}:d?this.config.axis&&d!==this.config.axis?{_intentional:s,_blocked:!0,axis:d}:(s[d==="x"?1:0]=!1,{_intentional:s,_blocked:!1,axis:d}):{_intentional:[!1,!1],_blocked:!1,axis:d}},n.getKinematics=function(s,o){var u=this.getMovement(s);if(!u._blocked){var f=o.timeStamp-this.state.timeStamp;Object.assign(u,nF(u.movement,u.delta,f))}return u},n.mapStateValues=function(s){return{xy:s.values,vxvy:s.velocities}},e})(_F);function lk(t){if("touches"in t){var e=t.targetTouches,n=t.changedTouches;return e.length>0?e:n}return null}function kA(t){var e="buttons"in t?t.buttons:0,n=lk(t),r=n&&n.length||0,s=r>0||e>0,o=t.shiftKey,u=t.altKey,f=t.metaKey,h=t.ctrlKey;return{touches:r,down:s,buttons:e,shiftKey:o,altKey:u,metaKey:f,ctrlKey:h}}function DA(t){var e=lk(t),n=e?e[0]:t,r=n.clientX,s=n.clientY;return[r,s]}var OF=3,jF=220,PF=(function(t){ek(e,t);function e(){var r;return r=t.apply(this,arguments)||this,r.ingKey="dragging",r.stateKey="drag",r.onDragStart=function(s){!r.enabled||r.state._active||(AF(r.controller,r.stateKey,[["pointermove",r.onDragChange],["pointerup",r.onDragEnd],["pointercancel",r.onDragEnd]]),r.updateGestureState({_pointerId:s.pointerId}),r.config.delay>0?(r.state._delayedEvent=!0,"persist"in s&&typeof s.persist=="function"&&s.persist(),r.setTimeout(r.startDrag.bind(Ud(r)),r.config.delay,s)):r.startDrag(s))},r.onDragChange=function(s){if(!r.state.canceled&&s.pointerId===r.state._pointerId){if(!r.state._active){r.state._delayedEvent&&(r.clearTimeout(),r.startDrag(s));return}var o=kA(s);if(!o.down){r.onDragEnd(s);return}r.updateSharedState(o);var u=DA(s),f=r.getKinematics(u,s),h=Sy(Ud(r),s),d=r.state._isTap,g=j0(f._movement);d&&g>=OF&&(d=!1),r.updateGestureState(xr({},h,f,{_isTap:d})),r.fireGestureHandler()}},r.onDragEnd=function(s){if(s.pointerId===r.state._pointerId){r.state._active=!1,r.updateSharedState({down:!1,buttons:0,touches:0});var o=r.state._isTap,u=r.state.velocities,f=u[0],h=u[1],d=r.state.movement,g=d[0],b=d[1],_=r.state._intentional,E=_[0],C=_[1],N=r.config.swipeVelocity,j=N[0],U=N[1],M=r.config.swipeDistance,z=M[0],G=M[1],K=xr({},Sy(Ud(r),s),r.getMovement(r.state.values)),H=[0,0];K.elapsedTime<jF&&(E!==!1&&Math.abs(f)>j&&Math.abs(g)>z&&(H[0]=P0(f)),C!==!1&&Math.abs(h)>U&&Math.abs(b)>G&&(H[1]=P0(h))),r.updateGestureState(xr({},K,{tap:o,swipe:H})),r.fireGestureHandler(o===!0)}},r.clean=function(){t.prototype.clean.call(Ud(r)),r.state._delayedEvent=!1,SF(r.controller,r.stateKey)},r.onCancel=function(){r.state.canceled||(r.updateGestureState({canceled:!0}),r.state._active=!1,r.updateSharedState({down:!1,buttons:0,touches:0}),requestAnimationFrame(function(){return r.fireGestureHandler()}))},r.onClick=function(s){r.state._isTap||s.stopPropagation()},r}var n=e.prototype;return n.startDrag=function(s){var o=DA(s);this.updateSharedState(kA(s)),this.updateGestureState(xr({},xF(this,o,s),Sy(this,s,!0),{_pointerId:s.pointerId,cancel:this.onCancel})),this.updateGestureState(this.getMovement(o)),this.fireGestureHandler()},n.addBindings=function(s){if(M0(s,"onPointerDown",this.onDragStart),this.config.filterTaps){var o=this.controller.config.eventOptions.capture?"onClick":"onClickCapture";M0(s,o,this.onClick)}},e})(DF);function MF(t,e){var n,r=[],s,o=!1;function u(){for(var f=arguments.length,h=new Array(f),d=0;d<f;d++)h[d]=arguments[d];return o&&n===this&&e(h,r)||(s=t.apply(this,h),o=!0,n=this,r=h),s}return u}function hm(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var n,r,s;if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!hm(t[r],e[r]))return!1;return!0}var o;if(typeof Map=="function"&&t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(o=t.entries();!(r=o.next()).done;)if(!e.has(r.value[0]))return!1;for(o=t.entries();!(r=o.next()).done;)if(!hm(r.value[1],e.get(r.value[0])))return!1;return!0}if(typeof Set=="function"&&t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(o=t.entries();!(r=o.next()).done;)if(!e.has(r.value[0]))return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,s[r]))return!1;if(typeof Element<"u"&&t instanceof Element)return!1;for(r=n;r--!==0;)if(!(s[r]==="_owner"&&t.$$typeof)&&!hm(t[s[r]],e[s[r]]))return!1;return!0}return t!==t&&e!==e}function VF(t,e){try{return hm(t,e)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}}function LF(t,e){e===void 0&&(e={}),Ao.set("drag",PF);var n=D.useRef();return n.current||(n.current=MF(bF,VF)),IF({drag:t},n.current(e))}/*!
* tabbable 5.3.3
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var uk=["input","select","textarea","a[href]","button","[tabindex]:not(slot)","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])',"details>summary:first-of-type","details"],Jm=uk.join(","),ck=typeof Element>"u",Ho=ck?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,V0=!ck&&Element.prototype.getRootNode?function(t){return t.getRootNode()}:function(t){return t.ownerDocument},fk=function(e,n,r){var s=Array.prototype.slice.apply(e.querySelectorAll(Jm));return n&&Ho.call(e,Jm)&&s.unshift(e),s=s.filter(r),s},hk=function t(e,n,r){for(var s=[],o=Array.from(e);o.length;){var u=o.shift();if(u.tagName==="SLOT"){var f=u.assignedElements(),h=f.length?f:u.children,d=t(h,!0,r);r.flatten?s.push.apply(s,d):s.push({scope:u,candidates:d})}else{var g=Ho.call(u,Jm);g&&r.filter(u)&&(n||!e.includes(u))&&s.push(u);var b=u.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(u),_=!r.shadowRootFilter||r.shadowRootFilter(u);if(b&&_){var E=t(b===!0?u.children:b.children,!0,r);r.flatten?s.push.apply(s,E):s.push({scope:u,candidates:E})}else o.unshift.apply(o,u.children)}}return s},dk=function(e,n){return e.tabIndex<0&&(n||/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||e.isContentEditable)&&isNaN(parseInt(e.getAttribute("tabindex"),10))?0:e.tabIndex},UF=function(e,n){return e.tabIndex===n.tabIndex?e.documentOrder-n.documentOrder:e.tabIndex-n.tabIndex},mk=function(e){return e.tagName==="INPUT"},zF=function(e){return mk(e)&&e.type==="hidden"},BF=function(e){var n=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(r){return r.tagName==="SUMMARY"});return n},FF=function(e,n){for(var r=0;r<e.length;r++)if(e[r].checked&&e[r].form===n)return e[r]},HF=function(e){if(!e.name)return!0;var n=e.form||V0(e),r=function(f){return n.querySelectorAll('input[type="radio"][name="'+f+'"]')},s;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")s=r(window.CSS.escape(e.name));else try{s=r(e.name)}catch(u){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",u.message),!1}var o=FF(s,e.form);return!o||o===e},qF=function(e){return mk(e)&&e.type==="radio"},GF=function(e){return qF(e)&&!HF(e)},OA=function(e){var n=e.getBoundingClientRect(),r=n.width,s=n.height;return r===0&&s===0},$F=function(e,n){var r=n.displayCheck,s=n.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var o=Ho.call(e,"details>summary:first-of-type"),u=o?e.parentElement:e;if(Ho.call(u,"details:not([open]) *"))return!0;var f=V0(e).host,h=(f==null?void 0:f.ownerDocument.contains(f))||e.ownerDocument.contains(e);if(!r||r==="full"){if(typeof s=="function"){for(var d=e;e;){var g=e.parentElement,b=V0(e);if(g&&!g.shadowRoot&&s(g)===!0)return OA(e);e.assignedSlot?e=e.assignedSlot:!g&&b!==e.ownerDocument?e=b.host:e=g}e=d}if(h)return!e.getClientRects().length}else if(r==="non-zero-area")return OA(e);return!1},KF=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var n=e.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var r=0;r<n.children.length;r++){var s=n.children.item(r);if(s.tagName==="LEGEND")return Ho.call(n,"fieldset[disabled] *")?!0:!s.contains(e)}return!0}n=n.parentElement}return!1},ep=function(e,n){return!(n.disabled||zF(n)||$F(n,e)||BF(n)||KF(n))},L0=function(e,n){return!(GF(n)||dk(n)<0||!ep(e,n))},YF=function(e){var n=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},WF=function t(e){var n=[],r=[];return e.forEach(function(s,o){var u=!!s.scope,f=u?s.scope:s,h=dk(f,u),d=u?t(s.candidates):f;h===0?u?n.push.apply(n,d):n.push(f):r.push({documentOrder:o,tabIndex:h,item:s,isScope:u,content:d})}),r.sort(UF).reduce(function(s,o){return o.isScope?s.push.apply(s,o.content):s.push(o.content),s},[]).concat(n)},QF=function(e,n){n=n||{};var r;return n.getShadowRoot?r=hk([e],n.includeContainer,{filter:L0.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:YF}):r=fk(e,n.includeContainer,L0.bind(null,n)),WF(r)},XF=function(e,n){n=n||{};var r;return n.getShadowRoot?r=hk([e],n.includeContainer,{filter:ep.bind(null,n),flatten:!0,getShadowRoot:n.getShadowRoot}):r=fk(e,n.includeContainer,ep.bind(null,n)),r},Bd=function(e,n){if(n=n||{},!e)throw new Error("No node provided");return Ho.call(e,Jm)===!1?!1:L0(n,e)},ZF=uk.concat("iframe").join(","),Ay=function(e,n){if(n=n||{},!e)throw new Error("No node provided");return Ho.call(e,ZF)===!1?!1:ep(n,e)};/*!
* focus-trap 6.9.4
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function jA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function PA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jA(Object(n),!0).forEach(function(r){JF(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function JF(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var MA=(function(){var t=[];return{activateTrap:function(n){if(t.length>0){var r=t[t.length-1];r!==n&&r.pause()}var s=t.indexOf(n);s===-1||t.splice(s,1),t.push(n)},deactivateTrap:function(n){var r=t.indexOf(n);r!==-1&&t.splice(r,1),t.length>0&&t[t.length-1].unpause()}}})(),eH=function(e){return e.tagName&&e.tagName.toLowerCase()==="input"&&typeof e.select=="function"},tH=function(e){return e.key==="Escape"||e.key==="Esc"||e.keyCode===27},nH=function(e){return e.key==="Tab"||e.keyCode===9},VA=function(e){return setTimeout(e,0)},LA=function(e,n){var r=-1;return e.every(function(s,o){return n(s)?(r=o,!1):!0}),r},Cc=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return typeof e=="function"?e.apply(void 0,r):e},Fd=function(e){return e.target.shadowRoot&&typeof e.composedPath=="function"?e.composedPath()[0]:e.target},rH=function(e,n){var r=(n==null?void 0:n.document)||document,s=PA({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0},n),o={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0},u,f=function(H,A,S){return H&&H[A]!==void 0?H[A]:s[S||A]},h=function(H){return o.containerGroups.findIndex(function(A){var S=A.container,I=A.tabbableNodes;return S.contains(H)||I.find(function(L){return L===H})})},d=function(H){var A=s[H];if(typeof A=="function"){for(var S=arguments.length,I=new Array(S>1?S-1:0),L=1;L<S;L++)I[L-1]=arguments[L];A=A.apply(void 0,I)}if(A===!0&&(A=void 0),!A){if(A===void 0||A===!1)return A;throw new Error("`".concat(H,"` was specified but was not a node, or did not return a node"))}var V=A;if(typeof A=="string"&&(V=r.querySelector(A),!V))throw new Error("`".concat(H,"` as selector refers to no known node"));return V},g=function(){var H=d("initialFocus");if(H===!1)return!1;if(H===void 0)if(h(r.activeElement)>=0)H=r.activeElement;else{var A=o.tabbableGroups[0],S=A&&A.firstTabbableNode;H=S||d("fallbackFocus")}if(!H)throw new Error("Your focus-trap needs to have at least one focusable element");return H},b=function(){if(o.containerGroups=o.containers.map(function(H){var A=QF(H,s.tabbableOptions),S=XF(H,s.tabbableOptions);return{container:H,tabbableNodes:A,focusableNodes:S,firstTabbableNode:A.length>0?A[0]:null,lastTabbableNode:A.length>0?A[A.length-1]:null,nextTabbableNode:function(L){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,O=S.findIndex(function(P){return P===L});if(!(O<0))return V?S.slice(O+1).find(function(P){return Bd(P,s.tabbableOptions)}):S.slice(0,O).reverse().find(function(P){return Bd(P,s.tabbableOptions)})}}}),o.tabbableGroups=o.containerGroups.filter(function(H){return H.tabbableNodes.length>0}),o.tabbableGroups.length<=0&&!d("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times")},_=function K(H){if(H!==!1&&H!==r.activeElement){if(!H||!H.focus){K(g());return}H.focus({preventScroll:!!s.preventScroll}),o.mostRecentlyFocusedNode=H,eH(H)&&H.select()}},E=function(H){var A=d("setReturnFocus",H);return A||(A===!1?!1:H)},C=function(H){var A=Fd(H);if(!(h(A)>=0)){if(Cc(s.clickOutsideDeactivates,H)){u.deactivate({returnFocus:s.returnFocusOnDeactivate&&!Ay(A,s.tabbableOptions)});return}Cc(s.allowOutsideClick,H)||H.preventDefault()}},N=function(H){var A=Fd(H),S=h(A)>=0;S||A instanceof Document?S&&(o.mostRecentlyFocusedNode=A):(H.stopImmediatePropagation(),_(o.mostRecentlyFocusedNode||g()))},j=function(H){var A=Fd(H);b();var S=null;if(o.tabbableGroups.length>0){var I=h(A),L=I>=0?o.containerGroups[I]:void 0;if(I<0)H.shiftKey?S=o.tabbableGroups[o.tabbableGroups.length-1].lastTabbableNode:S=o.tabbableGroups[0].firstTabbableNode;else if(H.shiftKey){var V=LA(o.tabbableGroups,function(se){var fe=se.firstTabbableNode;return A===fe});if(V<0&&(L.container===A||Ay(A,s.tabbableOptions)&&!Bd(A,s.tabbableOptions)&&!L.nextTabbableNode(A,!1))&&(V=I),V>=0){var O=V===0?o.tabbableGroups.length-1:V-1,P=o.tabbableGroups[O];S=P.lastTabbableNode}}else{var xe=LA(o.tabbableGroups,function(se){var fe=se.lastTabbableNode;return A===fe});if(xe<0&&(L.container===A||Ay(A,s.tabbableOptions)&&!Bd(A,s.tabbableOptions)&&!L.nextTabbableNode(A))&&(xe=I),xe>=0){var De=xe===o.tabbableGroups.length-1?0:xe+1,Q=o.tabbableGroups[De];S=Q.firstTabbableNode}}}else S=d("fallbackFocus");S&&(H.preventDefault(),_(S))},U=function(H){if(tH(H)&&Cc(s.escapeDeactivates,H)!==!1){H.preventDefault(),u.deactivate();return}if(nH(H)){j(H);return}},M=function(H){var A=Fd(H);h(A)>=0||Cc(s.clickOutsideDeactivates,H)||Cc(s.allowOutsideClick,H)||(H.preventDefault(),H.stopImmediatePropagation())},z=function(){if(o.active)return MA.activateTrap(u),o.delayInitialFocusTimer=s.delayInitialFocus?VA(function(){_(g())}):_(g()),r.addEventListener("focusin",N,!0),r.addEventListener("mousedown",C,{capture:!0,passive:!1}),r.addEventListener("touchstart",C,{capture:!0,passive:!1}),r.addEventListener("click",M,{capture:!0,passive:!1}),r.addEventListener("keydown",U,{capture:!0,passive:!1}),u},G=function(){if(o.active)return r.removeEventListener("focusin",N,!0),r.removeEventListener("mousedown",C,!0),r.removeEventListener("touchstart",C,!0),r.removeEventListener("click",M,!0),r.removeEventListener("keydown",U,!0),u};return u={get active(){return o.active},get paused(){return o.paused},activate:function(H){if(o.active)return this;var A=f(H,"onActivate"),S=f(H,"onPostActivate"),I=f(H,"checkCanFocusTrap");I||b(),o.active=!0,o.paused=!1,o.nodeFocusedBeforeActivation=r.activeElement,A&&A();var L=function(){I&&b(),z(),S&&S()};return I?(I(o.containers.concat()).then(L,L),this):(L(),this)},deactivate:function(H){if(!o.active)return this;var A=PA({onDeactivate:s.onDeactivate,onPostDeactivate:s.onPostDeactivate,checkCanReturnFocus:s.checkCanReturnFocus},H);clearTimeout(o.delayInitialFocusTimer),o.delayInitialFocusTimer=void 0,G(),o.active=!1,o.paused=!1,MA.deactivateTrap(u);var S=f(A,"onDeactivate"),I=f(A,"onPostDeactivate"),L=f(A,"checkCanReturnFocus"),V=f(A,"returnFocus","returnFocusOnDeactivate");S&&S();var O=function(){VA(function(){V&&_(E(o.nodeFocusedBeforeActivation)),I&&I()})};return V&&L?(L(E(o.nodeFocusedBeforeActivation)).then(O,O),this):(O(),this)},pause:function(){return o.paused||!o.active?this:(o.paused=!0,G(),this)},unpause:function(){return!o.paused||!o.active?this:(o.paused=!1,b(),z(),this)},updateContainerElements:function(H){var A=[].concat(H).filter(Boolean);return o.containers=A.map(function(S){return typeof S=="string"?r.querySelector(S):S}),o.active&&b(),this}},u.updateContainerElements(e),u};function iH(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}else return Array.from(t)}var O_=!1;if(typeof window<"u"){var UA={get passive(){O_=!0}};window.addEventListener("testPassive",null,UA),window.removeEventListener("testPassive",null,UA)}var pk=typeof window<"u"&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||window.navigator.platform==="MacIntel"&&window.navigator.maxTouchPoints>1),Sa=[],tp=!1,gk=-1,of=void 0,lf=void 0,vk=function(e){return Sa.some(function(n){return!!(n.options.allowTouchMove&&n.options.allowTouchMove(e))})},np=function(e){var n=e||window.event;return vk(n.target)||n.touches.length>1?!0:(n.preventDefault&&n.preventDefault(),!1)},sH=function(e){if(lf===void 0){var n=!!e&&e.reserveScrollBarGap===!0,r=window.innerWidth-document.documentElement.clientWidth;n&&r>0&&(lf=document.body.style.paddingRight,document.body.style.paddingRight=r+"px")}of===void 0&&(of=document.body.style.overflow,document.body.style.overflow="hidden")},aH=function(){lf!==void 0&&(document.body.style.paddingRight=lf,lf=void 0),of!==void 0&&(document.body.style.overflow=of,of=void 0)},oH=function(e){return e?e.scrollHeight-e.scrollTop<=e.clientHeight:!1},lH=function(e,n){var r=e.targetTouches[0].clientY-gk;return vk(e.target)?!1:n&&n.scrollTop===0&&r>0||oH(n)&&r<0?np(e):(e.stopPropagation(),!0)},uH=function(e,n){if(!e){console.error("disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.");return}if(!Sa.some(function(s){return s.targetElement===e})){var r={targetElement:e,options:n||{}};Sa=[].concat(iH(Sa),[r]),pk?(e.ontouchstart=function(s){s.targetTouches.length===1&&(gk=s.targetTouches[0].clientY)},e.ontouchmove=function(s){s.targetTouches.length===1&&lH(s,e)},tp||(document.addEventListener("touchmove",np,O_?{passive:!1}:void 0),tp=!0)):sH(n)}},cH=function(e){if(!e){console.error("enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices.");return}Sa=Sa.filter(function(n){return n.targetElement!==e}),pk?(e.ontouchstart=null,e.ontouchmove=null,tp&&Sa.length===0&&(document.removeEventListener("touchmove",np,O_?{passive:!1}:void 0),tp=!1)):Sa.length||aH()},jo=[],fH=function(){return jo.some(function(t){return t.activeTargets.length>0})},hH=function(){return jo.some(function(t){return t.skippedTargets.length>0})},zA="ResizeObserver loop completed with undelivered notifications.",dH=function(){var t;typeof ErrorEvent=="function"?t=new ErrorEvent("error",{message:zA}):(t=document.createEvent("Event"),t.initEvent("error",!1,!1),t.message=zA),window.dispatchEvent(t)},Rf;(function(t){t.BORDER_BOX="border-box",t.CONTENT_BOX="content-box",t.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"})(Rf||(Rf={}));var Po=function(t){return Object.freeze(t)},mH=(function(){function t(e,n){this.inlineSize=e,this.blockSize=n,Po(this)}return t})(),yk=(function(){function t(e,n,r,s){return this.x=e,this.y=n,this.width=r,this.height=s,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,Po(this)}return t.prototype.toJSON=function(){var e=this,n=e.x,r=e.y,s=e.top,o=e.right,u=e.bottom,f=e.left,h=e.width,d=e.height;return{x:n,y:r,top:s,right:o,bottom:u,left:f,width:h,height:d}},t.fromRect=function(e){return new t(e.x,e.y,e.width,e.height)},t})(),j_=function(t){return t instanceof SVGElement&&"getBBox"in t},bk=function(t){if(j_(t)){var e=t.getBBox(),n=e.width,r=e.height;return!n&&!r}var s=t,o=s.offsetWidth,u=s.offsetHeight;return!(o||u||t.getClientRects().length)},BA=function(t){var e;if(t instanceof Element)return!0;var n=(e=t==null?void 0:t.ownerDocument)===null||e===void 0?void 0:e.defaultView;return!!(n&&t instanceof n.Element)},pH=function(t){switch(t.tagName){case"INPUT":if(t.type!=="image")break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1},uf=typeof window<"u"?window:{},Hd=new WeakMap,FA=/auto|scroll/,gH=/^tb|vertical/,vH=/msie|trident/i.test(uf.navigator&&uf.navigator.userAgent),qi=function(t){return parseFloat(t||"0")},tu=function(t,e,n){return t===void 0&&(t=0),e===void 0&&(e=0),n===void 0&&(n=!1),new mH((n?e:t)||0,(n?t:e)||0)},HA=Po({devicePixelContentBoxSize:tu(),borderBoxSize:tu(),contentBoxSize:tu(),contentRect:new yk(0,0,0,0)}),_k=function(t,e){if(e===void 0&&(e=!1),Hd.has(t)&&!e)return Hd.get(t);if(bk(t))return Hd.set(t,HA),HA;var n=getComputedStyle(t),r=j_(t)&&t.ownerSVGElement&&t.getBBox(),s=!vH&&n.boxSizing==="border-box",o=gH.test(n.writingMode||""),u=!r&&FA.test(n.overflowY||""),f=!r&&FA.test(n.overflowX||""),h=r?0:qi(n.paddingTop),d=r?0:qi(n.paddingRight),g=r?0:qi(n.paddingBottom),b=r?0:qi(n.paddingLeft),_=r?0:qi(n.borderTopWidth),E=r?0:qi(n.borderRightWidth),C=r?0:qi(n.borderBottomWidth),N=r?0:qi(n.borderLeftWidth),j=b+d,U=h+g,M=N+E,z=_+C,G=f?t.offsetHeight-z-t.clientHeight:0,K=u?t.offsetWidth-M-t.clientWidth:0,H=s?j+M:0,A=s?U+z:0,S=r?r.width:qi(n.width)-H-K,I=r?r.height:qi(n.height)-A-G,L=S+j+K+M,V=I+U+G+z,O=Po({devicePixelContentBoxSize:tu(Math.round(S*devicePixelRatio),Math.round(I*devicePixelRatio),o),borderBoxSize:tu(L,V,o),contentBoxSize:tu(S,I,o),contentRect:new yk(b,h,S,I)});return Hd.set(t,O),O},xk=function(t,e,n){var r=_k(t,n),s=r.borderBoxSize,o=r.contentBoxSize,u=r.devicePixelContentBoxSize;switch(e){case Rf.DEVICE_PIXEL_CONTENT_BOX:return u;case Rf.BORDER_BOX:return s;default:return o}},yH=(function(){function t(e){var n=_k(e);this.target=e,this.contentRect=n.contentRect,this.borderBoxSize=Po([n.borderBoxSize]),this.contentBoxSize=Po([n.contentBoxSize]),this.devicePixelContentBoxSize=Po([n.devicePixelContentBoxSize])}return t})(),wk=function(t){if(bk(t))return 1/0;for(var e=0,n=t.parentNode;n;)e+=1,n=n.parentNode;return e},bH=function(){var t=1/0,e=[];jo.forEach(function(u){if(u.activeTargets.length!==0){var f=[];u.activeTargets.forEach(function(d){var g=new yH(d.target),b=wk(d.target);f.push(g),d.lastReportedSize=xk(d.target,d.observedBox),b<t&&(t=b)}),e.push(function(){u.callback.call(u.observer,f,u.observer)}),u.activeTargets.splice(0,u.activeTargets.length)}});for(var n=0,r=e;n<r.length;n++){var s=r[n];s()}return t},qA=function(t){jo.forEach(function(n){n.activeTargets.splice(0,n.activeTargets.length),n.skippedTargets.splice(0,n.skippedTargets.length),n.observationTargets.forEach(function(s){s.isActive()&&(wk(s.target)>t?n.activeTargets.push(s):n.skippedTargets.push(s))})})},_H=function(){var t=0;for(qA(t);fH();)t=bH(),qA(t);return hH()&&dH(),t>0},Cy,Ek=[],xH=function(){return Ek.splice(0).forEach(function(t){return t()})},wH=function(t){if(!Cy){var e=0,n=document.createTextNode(""),r={characterData:!0};new MutationObserver(function(){return xH()}).observe(n,r),Cy=function(){n.textContent="".concat(e?e--:e++)}}Ek.push(t),Cy()},EH=function(t){wH(function(){requestAnimationFrame(t)})},dm=0,TH=function(){return!!dm},SH=250,AH={attributes:!0,characterData:!0,childList:!0,subtree:!0},GA=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],$A=function(t){return t===void 0&&(t=0),Date.now()+t},Ry=!1,CH=(function(){function t(){var e=this;this.stopped=!0,this.listener=function(){return e.schedule()}}return t.prototype.run=function(e){var n=this;if(e===void 0&&(e=SH),!Ry){Ry=!0;var r=$A(e);EH(function(){var s=!1;try{s=_H()}finally{if(Ry=!1,e=r-$A(),!TH())return;s?n.run(1e3):e>0?n.run(e):n.start()}})}},t.prototype.schedule=function(){this.stop(),this.run()},t.prototype.observe=function(){var e=this,n=function(){return e.observer&&e.observer.observe(document.body,AH)};document.body?n():uf.addEventListener("DOMContentLoaded",n)},t.prototype.start=function(){var e=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),GA.forEach(function(n){return uf.addEventListener(n,e.listener,!0)}))},t.prototype.stop=function(){var e=this;this.stopped||(this.observer&&this.observer.disconnect(),GA.forEach(function(n){return uf.removeEventListener(n,e.listener,!0)}),this.stopped=!0)},t})(),U0=new CH,KA=function(t){!dm&&t>0&&U0.start(),dm+=t,!dm&&U0.stop()},RH=function(t){return!j_(t)&&!pH(t)&&getComputedStyle(t).display==="inline"},IH=(function(){function t(e,n){this.target=e,this.observedBox=n||Rf.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return t.prototype.isActive=function(){var e=xk(this.target,this.observedBox,!0);return RH(this.target)&&(this.lastReportedSize=e),this.lastReportedSize.inlineSize!==e.inlineSize||this.lastReportedSize.blockSize!==e.blockSize},t})(),NH=(function(){function t(e,n){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=e,this.callback=n}return t})(),qd=new WeakMap,YA=function(t,e){for(var n=0;n<t.length;n+=1)if(t[n].target===e)return n;return-1},Gd=(function(){function t(){}return t.connect=function(e,n){var r=new NH(e,n);qd.set(e,r)},t.observe=function(e,n,r){var s=qd.get(e),o=s.observationTargets.length===0;YA(s.observationTargets,n)<0&&(o&&jo.push(s),s.observationTargets.push(new IH(n,r&&r.box)),KA(1),U0.schedule())},t.unobserve=function(e,n){var r=qd.get(e),s=YA(r.observationTargets,n),o=r.observationTargets.length===1;s>=0&&(o&&jo.splice(jo.indexOf(r),1),r.observationTargets.splice(s,1),KA(-1))},t.disconnect=function(e){var n=this,r=qd.get(e);r.observationTargets.slice().forEach(function(s){return n.unobserve(e,s.target)}),r.activeTargets.splice(0,r.activeTargets.length)},t})(),kH=(function(){function t(e){if(arguments.length===0)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if(typeof e!="function")throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");Gd.connect(this,e)}return t.prototype.observe=function(e,n){if(arguments.length===0)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!BA(e))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");Gd.observe(this,e,n)},t.prototype.unobserve=function(e){if(arguments.length===0)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!BA(e))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");Gd.unobserve(this,e)},t.prototype.disconnect=function(){Gd.disconnect(this)},t.toString=function(){return"function ResizeObserver () { [polyfill code] }"},t})();function ar(){return ar=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ar.apply(this,arguments)}function mm(t,e){if(t==null)return{};var n,r,s={},o=Object.keys(t);for(r=0;r<o.length;r++)e.indexOf(n=o[r])>=0||(s[n]=t[n]);return s}var cf=typeof window<"u"?D.useLayoutEffect:D.useEffect;function Rc(t,e,n){return e=(e=+e)==e?e:0,n=(n=+n)==n?n:0,(t=+t)==t&&(t=(t=t<=n?t:n)>=e?t:e),t}function $d(t){var e=Math.round(t);if(Number.isNaN(t))throw new TypeError("Found a NaN! Check your snapPoints / defaultSnap / snapTo ");return e}var DH={box:"border-box"};function Iy(t,e){var n=e.label,r=e.enabled,s=e.resizeSourceRef,o=D.useState(0),u=o[0],f=o[1];D.useDebugValue(n+": "+u);var h=D.useCallback(function(d){f(d[0].borderBoxSize[0].blockSize),s.current="element"},[s]);return cf(function(){if(t.current&&r){var d=new kH(h);return d.observe(t.current,DH),function(){d.disconnect()}}},[t,h,r]),r?u:0}function ir(t){return t===void 0&&(t=1e3),new Promise(function(e){return setTimeout(e,t)})}var WA={DRAG:{target:"#overlay.dragging",actions:"onOpenEnd"}},QA={RESIZE:{target:"#overlay.resizing",actions:"onOpenEnd"}},OH=i7({id:"overlay",initial:"closed",context:{initialState:"CLOSED"},states:{closed:{on:{OPEN:"opening",CLOSE:void 0}},opening:{initial:"start",states:{start:{invoke:{src:"onOpenStart",onDone:"transition"}},transition:{always:[{target:"immediately",cond:"initiallyOpen"},{target:"smoothly",cond:"initiallyClosed"}]},immediately:{initial:"open",states:{open:{invoke:{src:"openImmediately",onDone:"activating"}},activating:{invoke:{src:"activate",onDone:"#overlay.opening.end"},on:ar({},WA,QA)}}},smoothly:{initial:"visuallyHidden",states:{visuallyHidden:{invoke:{src:"renderVisuallyHidden",onDone:"activating"}},activating:{invoke:{src:"activate",onDone:"open"}},open:{invoke:{src:"openSmoothly",onDone:"#overlay.opening.end"},on:ar({},WA,QA)}}},end:{invoke:{src:"onOpenEnd",onDone:"done"},on:{CLOSE:"#overlay.closing",DRAG:"#overlay.dragging"}},done:{type:"final"}},on:ar({},{CLOSE:{target:"#overlay.closing",actions:"onOpenCancel"}}),onDone:"open"},open:{on:{DRAG:"#overlay.dragging",SNAP:"snapping",RESIZE:"resizing"}},dragging:{on:{SNAP:"snapping"}},snapping:{initial:"start",states:{start:{invoke:{src:"onSnapStart",onDone:"snappingSmoothly"},entry:[s7({y:function(t,e){return e.payload.y},velocity:function(t,e){return e.payload.velocity},snapSource:function(t,e){var n=e.payload.source;return n===void 0?"custom":n}})]},snappingSmoothly:{invoke:{src:"snapSmoothly",onDone:"end"}},end:{invoke:{src:"onSnapEnd",onDone:"done"},on:{RESIZE:"#overlay.resizing",SNAP:"#overlay.snapping",CLOSE:"#overlay.closing",DRAG:"#overlay.dragging"}},done:{type:"final"}},on:{SNAP:{target:"snapping",actions:"onSnapEnd"},RESIZE:{target:"#overlay.resizing",actions:"onSnapCancel"},DRAG:{target:"#overlay.dragging",actions:"onSnapCancel"},CLOSE:{target:"#overlay.closing",actions:"onSnapCancel"}},onDone:"open"},resizing:{initial:"start",states:{start:{invoke:{src:"onResizeStart",onDone:"resizingSmoothly"}},resizingSmoothly:{invoke:{src:"resizeSmoothly",onDone:"end"}},end:{invoke:{src:"onResizeEnd",onDone:"done"},on:{SNAP:"#overlay.snapping",CLOSE:"#overlay.closing",DRAG:"#overlay.dragging"}},done:{type:"final"}},on:{RESIZE:{target:"resizing",actions:"onResizeEnd"},SNAP:{target:"snapping",actions:"onResizeCancel"},DRAG:{target:"#overlay.dragging",actions:"onResizeCancel"},CLOSE:{target:"#overlay.closing",actions:"onResizeCancel"}},onDone:"open"},closing:{initial:"start",states:{start:{invoke:{src:"onCloseStart",onDone:"deactivating"},on:{OPEN:{target:"#overlay.open",actions:"onCloseCancel"}}},deactivating:{invoke:{src:"deactivate",onDone:"closingSmoothly"}},closingSmoothly:{invoke:{src:"closeSmoothly",onDone:"end"}},end:{invoke:{src:"onCloseEnd",onDone:"done"},on:{OPEN:{target:"#overlay.opening",actions:"onCloseCancel"}}},done:{type:"final"}},on:{CLOSE:void 0,OPEN:{target:"#overlay.opening",actions:"onCloseCancel"}},onDone:"closed"}},on:{CLOSE:"closing"}},{actions:{onOpenCancel:function(t,e){},onSnapCancel:function(t,e){},onResizeCancel:function(t,e){},onCloseCancel:function(t,e){},onOpenEnd:function(t,e){},onSnapEnd:function(t,e){},onRezizeEnd:function(t,e){}},services:{onSnapStart:function(){try{return Promise.resolve(ir()).then(function(){})}catch(t){return Promise.reject(t)}},onOpenStart:function(){try{return Promise.resolve(ir()).then(function(){})}catch(t){return Promise.reject(t)}},onCloseStart:function(){try{return Promise.resolve(ir()).then(function(){})}catch(t){return Promise.reject(t)}},onResizeStart:function(){try{return Promise.resolve(ir()).then(function(){})}catch(t){return Promise.reject(t)}},onSnapEnd:function(){try{return Promise.resolve(ir()).then(function(){})}catch(t){return Promise.reject(t)}},onOpenEnd:function(){try{return Promise.resolve(ir()).then(function(){})}catch(t){return Promise.reject(t)}},onCloseEnd:function(){try{return Promise.resolve(ir()).then(function(){})}catch(t){return Promise.reject(t)}},onResizeEnd:function(){try{return Promise.resolve(ir()).then(function(){})}catch(t){return Promise.reject(t)}},renderVisuallyHidden:function(t,e){try{return Promise.resolve(ir()).then(function(){})}catch(n){return Promise.reject(n)}},activate:function(t,e){try{return Promise.resolve(ir()).then(function(){})}catch(n){return Promise.reject(n)}},deactivate:function(t,e){try{return Promise.resolve(ir()).then(function(){})}catch(n){return Promise.reject(n)}},openSmoothly:function(t,e){try{return Promise.resolve(ir()).then(function(){})}catch(n){return Promise.reject(n)}},openImmediately:function(t,e){try{return Promise.resolve(ir()).then(function(){})}catch(n){return Promise.reject(n)}},snapSmoothly:function(t,e){try{return Promise.resolve(ir()).then(function(){})}catch(n){return Promise.reject(n)}},resizeSmoothly:function(t,e){try{return Promise.resolve(ir()).then(function(){})}catch(n){return Promise.reject(n)}},closeSmoothly:function(t,e){try{return Promise.resolve(ir()).then(function(){})}catch(n){return Promise.reject(n)}}},guards:{initiallyClosed:function(t){return t.initialState==="CLOSED"},initiallyOpen:function(t){return t.initialState==="OPEN"}}}),jH=["children","sibling","className","footer","header","open","initialState","lastSnapRef","initialFocusRef","onDismiss","maxHeight","defaultSnap","snapPoints","blocking","scrollLocking","style","onSpringStart","onSpringCancel","onSpringEnd","reserveScrollBarGap","expandOnContentDrag"],PH=["velocity"],MH=["onRest","config"],Tk=k7.default,VH=Tk.tension,Kd=Tk.friction,LH=Sn.forwardRef(function(t,e){var n=t.children,r=t.sibling,s=t.className,o=t.footer,u=t.header,f=t.open,h=t.initialState,d=t.lastSnapRef,g=t.initialFocusRef,b=t.onDismiss,_=t.maxHeight,E=t.defaultSnap,C=E===void 0?zH:E,N=t.snapPoints,j=N===void 0?BH:N,U=t.blocking,M=U===void 0||U,z=t.scrollLocking,G=z===void 0||z,K=t.style,H=t.onSpringStart,A=t.onSpringCancel,S=t.onSpringEnd,I=t.reserveScrollBarGap,L=I===void 0?M:I,V=t.expandOnContentDrag,O=V!==void 0&&V,P=mm(t,jH),xe=(function(){var ue=D.useState(!1),ye=ue[0],ve=ue[1],ge=D.useState({}),Je=ge[0],Le=ge[1],Ce=D.useCallback(function(et){return Le(function(Ge){var ke;return ar({},Ge,((ke={})[et]=!1,ke))}),function(){Le(function(Ge){var ke;return ar({},Ge,((ke={})[et]=!0,ke))})}},[]);return D.useEffect(function(){var et=Object.values(Je);et.length!==0&&et.every(Boolean)&&ve(!0)},[Je]),{ready:ye,registerReady:Ce}})(),De=xe.ready,Q=xe.registerReady,se=D.useRef(!1),fe=D.useRef(H),we=D.useRef(A),Ee=D.useRef(S);D.useEffect(function(){fe.current=H,we.current=A,Ee.current=S},[A,H,S]);var B,Z,ee=M7(function(){return{y:0,ready:0,maxHeight:0,minSnap:0,maxSnap:0}}),re=ee[0],de=ee[1],je=D.useRef(null),Se=D.useRef(null),Dt=D.useRef(null),Et=D.useRef(null),Vn=D.useRef(null),wr=D.useRef(null),Pt=D.useRef(0),Ln=D.useRef(),xn=D.useRef(!1),Cn=(B=D.useMemo(function(){return typeof window<"u"?window.matchMedia("(prefers-reduced-motion: reduce)"):null},[]),Z=D.useRef(B==null?void 0:B.matches),D.useDebugValue(Z.current?"reduce":"no-preference"),D.useEffect(function(){var ue=function(ye){Z.current=ye.matches};return B==null||B.addListener(ue),function(){return B==null?void 0:B.removeListener(ue)}},[B]),Z),Rn=(function(ue){var ye=ue.targetRef,ve=ue.enabled,ge=ue.reserveScrollBarGap,Je=D.useRef({activate:function(){throw new TypeError("Tried to activate scroll lock too early")},deactivate:function(){}});return D.useDebugValue(ve?"Enabled":"Disabled"),D.useEffect(function(){if(!ve)return Je.current.deactivate(),void(Je.current={activate:function(){},deactivate:function(){}});var Le=ye.current,Ce=!1;Je.current={activate:function(){Ce||(Ce=!0,uH(Le,{allowTouchMove:function(et){return et.closest("[data-body-scroll-lock-ignore]")},reserveScrollBarGap:ge}))},deactivate:function(){Ce&&(Ce=!1,cH(Le))}}},[ve,ye,ge]),Je})({targetRef:Se,enabled:De&&G,reserveScrollBarGap:L}),Qn=(function(ue){var ye=ue.targetRef,ve=ue.enabled,ge=D.useRef({activate:function(){throw new TypeError("Tried to activate aria hider too early")},deactivate:function(){}});return D.useDebugValue(ve?"Enabled":"Disabled"),D.useEffect(function(){if(!ve)return ge.current.deactivate(),void(ge.current={activate:function(){},deactivate:function(){}});var Je=ye.current,Le=!1,Ce=[],et=[];ge.current={activate:function(){if(!Le){Le=!0;var Ge=Je.parentNode;document.querySelectorAll("body > *").forEach(function(ke){if(ke!==Ge){var He=ke.getAttribute("aria-hidden");He!==null&&He!=="false"||(Ce.push(He),et.push(ke),ke.setAttribute("aria-hidden","true"))}})}},deactivate:function(){Le&&(Le=!1,et.forEach(function(Ge,ke){var He=Ce[ke];He===null?Ge.removeAttribute("aria-hidden"):Ge.setAttribute("aria-hidden",He)}),Ce=[],et=[])}}},[ye,ve]),ge})({targetRef:je,enabled:De&&M}),Pr=(function(ue){var ye=ue.targetRef,ve=ue.fallbackRef,ge=ue.initialFocusRef,Je=ue.enabled,Le=D.useRef({activate:function(){throw new TypeError("Tried to activate focus trap too early")},deactivate:function(){}});return D.useDebugValue(Je?"Enabled":"Disabled"),D.useEffect(function(){if(!Je)return Le.current.deactivate(),void(Le.current={activate:function(){},deactivate:function(){}});var Ce=ve.current,et=rH(ye.current,{onActivate:void 0,initialFocus:ge?function(){return(ge==null?void 0:ge.current)||Ce}:void 0,fallbackFocus:Ce,escapeDeactivates:!1,clickOutsideDeactivates:!1}),Ge=!1;Le.current={activate:function(){try{return Ge?Promise.resolve():(Ge=!0,Promise.resolve(et.activate()).then(function(){return Promise.resolve(new Promise(function(ke){return setTimeout(function(){return ke(void 0)},0)})).then(function(){})}))}catch(ke){return Promise.reject(ke)}},deactivate:function(){Ge&&(Ge=!1,et.deactivate())}}},[Je,ve,ge,ye]),Le})({targetRef:je,fallbackRef:wr,initialFocusRef:g||void 0,enabled:De&&M&&g!==!1}),Mr=(function(ue){var ye=ue.getSnapPoints,ve=ue.heightRef,ge=ue.lastSnapRef,Je=ue.ready,Le=(function(Tt){var ut=Tt.contentRef,Un=Tt.controlledMaxHeight,It=Tt.footerEnabled,In=Tt.footerRef,Tr=Tt.headerEnabled,Xt=Tt.headerRef,zn=Tt.registerReady,yi=Tt.resizeSourceRef,Nn=D.useMemo(function(){return zn("contentHeight")},[zn]),_t=(function(Ur,Zn,Jn){var er=D.useMemo(function(){return Zn("maxHeight")},[Zn]),ei=D.useState(function(){return $d(Ur)||typeof window<"u"?window.innerHeight:0}),Pi=ei[0],dr=ei[1],Ht=Pi>0,bi=D.useRef(0);return D.useDebugValue(Ur?"controlled":"auto"),D.useEffect(function(){Ht&&er()},[Ht,er]),cf(function(){if(Ur)return dr($d(Ur)),void(Jn.current="maxheightprop");var _i=function(){bi.current||(bi.current=requestAnimationFrame(function(){dr(window.innerHeight),Jn.current="window",bi.current=0}))};return window.addEventListener("resize",_i),dr(window.innerHeight),Jn.current="window",er(),function(){window.removeEventListener("resize",_i),cancelAnimationFrame(bi.current)}},[Ur,er,Jn]),Pi})(Un,zn,yi),he=Iy(Xt,{label:"headerHeight",enabled:Tr,resizeSourceRef:yi}),Re=Iy(ut,{label:"contentHeight",enabled:!0,resizeSourceRef:yi}),Ke=Iy(In,{label:"footerHeight",enabled:It,resizeSourceRef:yi}),Mt=Math.min(_t-he-Ke,Re)+he+Ke;D.useDebugValue("minHeight: "+Mt);var Lr=Re>0;return D.useEffect(function(){Lr&&Nn()},[Lr,Nn]),{maxHeight:_t,minHeight:Mt,headerHeight:he,footerHeight:Ke}})({contentRef:ue.contentRef,controlledMaxHeight:ue.controlledMaxHeight,footerEnabled:ue.footerEnabled,footerRef:ue.footerRef,headerEnabled:ue.headerEnabled,headerRef:ue.headerRef,registerReady:ue.registerReady,resizeSourceRef:ue.resizeSourceRef}),Ce=Le.maxHeight,et=Le.minHeight,Ge=Le.headerHeight,ke=Le.footerHeight,He=(function(Tt,ut){var Un=[].concat(Tt).map($d).reduce(function(Xt,zn){return Xt.add(Rc(zn,0,ut)),Xt},new Set),It=Array.from(Un),In=Math.min.apply(Math,It);if(Number.isNaN(In))throw new TypeError("minSnap is NaN");var Tr=Math.max.apply(Math,It);if(Number.isNaN(Tr))throw new TypeError("maxSnap is NaN");return{snapPoints:It,minSnap:In,maxSnap:Tr}})(Je?ye({height:ve.current,footerHeight:ke,headerHeight:Ge,minHeight:et,maxHeight:Ce}):[0],Ce),Qt=He.snapPoints,En=He.minSnap,$t=He.maxSnap;return D.useDebugValue("minSnap: "+En+", maxSnap:"+$t),{minSnap:En,maxSnap:$t,findSnap:function(Tt){var ut=$d(typeof Tt=="function"?Tt({footerHeight:ke,headerHeight:Ge,height:ve.current,minHeight:et,maxHeight:Ce,snapPoints:Qt,lastSnap:ge.current}):Tt);return Qt.reduce(function(Un,It){return Math.abs(It-ut)<Math.abs(Un-ut)?It:Un},En)},maxHeight:Ce}})({contentRef:Dt,controlledMaxHeight:_,footerEnabled:!!o,footerRef:Vn,getSnapPoints:j,headerEnabled:u!==!1,headerRef:Et,heightRef:Pt,lastSnapRef:d,ready:De,registerReady:Q,resizeSourceRef:Ln}),Xn=Mr.minSnap,fr=Mr.maxSnap,Er=Mr.maxHeight,Vr=Mr.findSnap,bt=D.useRef(Er),hn=D.useRef(Xn),Fe=D.useRef(fr),Ot=D.useRef(Vr),lt=D.useRef(0);cf(function(){bt.current=Er,Fe.current=fr,hn.current=Xn,Ot.current=Vr,lt.current=Vr(C)},[Vr,C,Er,fr,Xn]);var Gt=D.useCallback(function(ue){var ye=ue.onRest,ve=ue.config,ge=(ve=ve===void 0?{}:ve).velocity,Je=ge===void 0?1:ge,Le=mm(ve,PH),Ce=mm(ue,MH);return new Promise(function(et){return de(ar({},Ce,{config:ar({velocity:Je},Le,{mass:1,tension:VH,friction:Math.max(Kd,Kd+(Kd-Kd*Je))}),onRest:function(){var Ge=[].slice.call(arguments);et.apply(void 0,Ge),ye==null||ye.apply(void 0,Ge)}}))})},[de]),vi=m7(OH,{devTools:!1,actions:{onOpenCancel:D.useCallback(function(){return we.current==null?void 0:we.current({type:"OPEN"})},[]),onSnapCancel:D.useCallback(function(ue){return we.current==null?void 0:we.current({type:"SNAP",source:ue.snapSource})},[]),onCloseCancel:D.useCallback(function(){return we.current==null?void 0:we.current({type:"CLOSE"})},[]),onResizeCancel:D.useCallback(function(){return we.current==null?void 0:we.current({type:"RESIZE",source:Ln.current})},[]),onOpenEnd:D.useCallback(function(){return Ee.current==null?void 0:Ee.current({type:"OPEN"})},[]),onSnapEnd:D.useCallback(function(ue,ye){return Ee.current==null?void 0:Ee.current({type:"SNAP",source:ue.snapSource})},[]),onResizeEnd:D.useCallback(function(){return Ee.current==null?void 0:Ee.current({type:"RESIZE",source:Ln.current})},[])},context:{initialState:h},services:{onSnapStart:D.useCallback(function(ue,ye){try{return Promise.resolve(fe.current==null?void 0:fe.current({type:"SNAP",source:ye.payload.source||"custom"}))}catch(ve){return Promise.reject(ve)}},[]),onOpenStart:D.useCallback(function(){try{return Promise.resolve(fe.current==null?void 0:fe.current({type:"OPEN"}))}catch(ue){return Promise.reject(ue)}},[]),onCloseStart:D.useCallback(function(){try{return Promise.resolve(fe.current==null?void 0:fe.current({type:"CLOSE"}))}catch(ue){return Promise.reject(ue)}},[]),onResizeStart:D.useCallback(function(){try{return Promise.resolve(fe.current==null?void 0:fe.current({type:"RESIZE",source:Ln.current}))}catch(ue){return Promise.reject(ue)}},[]),onSnapEnd:D.useCallback(function(ue,ye){try{return Promise.resolve(Ee.current==null?void 0:Ee.current({type:"SNAP",source:ue.snapSource}))}catch(ve){return Promise.reject(ve)}},[]),onOpenEnd:D.useCallback(function(){try{return Promise.resolve(Ee.current==null?void 0:Ee.current({type:"OPEN"}))}catch(ue){return Promise.reject(ue)}},[]),onCloseEnd:D.useCallback(function(){try{return Promise.resolve(Ee.current==null?void 0:Ee.current({type:"CLOSE"}))}catch(ue){return Promise.reject(ue)}},[]),onResizeEnd:D.useCallback(function(){try{return Promise.resolve(Ee.current==null?void 0:Ee.current({type:"RESIZE",source:Ln.current}))}catch(ue){return Promise.reject(ue)}},[]),renderVisuallyHidden:D.useCallback(function(ue,ye){try{return Promise.resolve(Gt({y:lt.current,ready:0,maxHeight:bt.current,maxSnap:Fe.current,minSnap:lt.current,immediate:!0})).then(function(){})}catch(ve){return Promise.reject(ve)}},[Gt]),activate:D.useCallback(function(ue,ye){try{return se.current=!0,Promise.resolve(Promise.all([Rn.current.activate(),Pr.current.activate(),Qn.current.activate()])).then(function(){})}catch(ve){return Promise.reject(ve)}},[Qn,Pr,Rn]),deactivate:D.useCallback(function(){try{return Rn.current.deactivate(),Pr.current.deactivate(),Qn.current.deactivate(),se.current=!1,Promise.resolve()}catch(ue){return Promise.reject(ue)}},[Qn,Pr,Rn]),openImmediately:D.useCallback(function(){try{return Pt.current=lt.current,Promise.resolve(Gt({y:lt.current,ready:1,maxHeight:bt.current,maxSnap:Fe.current,minSnap:lt.current,immediate:!0})).then(function(){})}catch(ue){return Promise.reject(ue)}},[Gt]),openSmoothly:D.useCallback(function(){try{return Promise.resolve(Gt({y:0,ready:1,maxHeight:bt.current,maxSnap:Fe.current,minSnap:lt.current,immediate:!0})).then(function(){return Pt.current=lt.current,Promise.resolve(Gt({y:lt.current,ready:1,maxHeight:bt.current,maxSnap:Fe.current,minSnap:lt.current,immediate:Cn.current})).then(function(){})})}catch(ue){return Promise.reject(ue)}},[Gt,Cn]),snapSmoothly:D.useCallback(function(ue,ye){try{var ve=Ot.current(ue.y);return Pt.current=ve,d.current=ve,Promise.resolve(Gt({y:ve,ready:1,maxHeight:bt.current,maxSnap:Fe.current,minSnap:hn.current,immediate:Cn.current,config:{velocity:ue.velocity}})).then(function(){})}catch(ge){return Promise.reject(ge)}},[Gt,d,Cn]),resizeSmoothly:D.useCallback(function(){try{var ue=Ot.current(Pt.current);return Pt.current=ue,d.current=ue,Promise.resolve(Gt({y:ue,ready:1,maxHeight:bt.current,maxSnap:Fe.current,minSnap:hn.current,immediate:Ln.current!=="element"||Cn.current})).then(function(){})}catch(ye){return Promise.reject(ye)}},[Gt,d,Cn]),closeSmoothly:D.useCallback(function(ue,ye){try{return Gt({minSnap:Pt.current,immediate:!0}),Pt.current=0,Promise.resolve(Gt({y:0,maxHeight:bt.current,maxSnap:Fe.current,immediate:Cn.current})).then(function(){return Promise.resolve(Gt({ready:0,immediate:!0})).then(function(){})})}catch(ve){return Promise.reject(ve)}},[Gt,Cn])}}),Ya=vi[0],wn=vi[1];D.useEffect(function(){De&&wn(f?"OPEN":"CLOSE")},[f,wn,De]),cf(function(){(Er||fr||Xn)&&wn("RESIZE")},[Er,fr,Xn,wn]),D.useEffect(function(){return function(){Rn.current.deactivate(),Pr.current.deactivate(),Qn.current.deactivate()}},[Qn,Pr,Rn]),D.useImperativeHandle(e,function(){return{snapTo:function(ue,ye){var ve=ye===void 0?{}:ye,ge=ve.velocity,Je=ge===void 0?1:ge,Le=ve.source,Ce=Le===void 0?"custom":Le;wn("SNAP",{payload:{y:Ot.current(ue),velocity:Je,source:Ce}})},get height(){return Pt.current}}},[wn]),D.useEffect(function(){var ue=Se.current,ye=function(ge){xn.current&&ge.preventDefault()},ve=function(ge){ue.scrollTop<0&&(requestAnimationFrame(function(){ue.style.overflow="hidden",ue.scrollTop=0,ue.style.removeProperty("overflow")}),ge.preventDefault())};return O&&(ue.addEventListener("scroll",ye),ue.addEventListener("touchmove",ye),ue.addEventListener("touchstart",ve)),function(){ue.removeEventListener("scroll",ye),ue.removeEventListener("touchmove",ye),ue.removeEventListener("touchstart",ve)}},[O,Se]);var hr=LF(function(ue){var ye=ue.args,ve=(ye=ye===void 0?[]:ye)[0],ge=(ve=ve===void 0?{}:ve).closeOnTap,Je=ge!==void 0&&ge,Le=ve.isContentDragging,Ce=Le!==void 0&&Le,et=ue.cancel,Ge=ue.direction[1],ke=ue.down,He=ue.first,Qt=ue.last,En=ue.memo,$t=En===void 0?re.y.getValue():En,Tt=ue.tap,ut=ue.velocity,Un=-1*ue.movement[1];if(!se.current)return et(),$t;if(b&&Je&&Tt)return et(),setTimeout(function(){return b()},0),$t;if(Tt)return $t;var It=$t+Un,In=Un*ut,Tr=Math.max(hn.current,Math.min(Fe.current,It+2*In));if(!ke&&b&&Ge>0&&It+In<hn.current/2)return et(),b(),$t;var Xt=ke?b||hn.current!==Fe.current?af(It,b?0:hn.current,Fe.current,.55):It<hn.current?af(It,hn.current,2*Fe.current,.55):af(It,hn.current/2,Fe.current,.55):Tr;return O&&Ce?(Xt>=Fe.current&&(Xt=Fe.current),$t===Fe.current&&Se.current.scrollTop>0&&(Xt=Fe.current),xn.current=Xt<Fe.current):xn.current=!1,He&&wn("DRAG"),Qt?(wn("SNAP",{payload:{y:Xt,velocity:ut>.05?ut:1,source:"dragging"}}),$t):(de({y:Xt,ready:1,maxHeight:bt.current,maxSnap:Fe.current,minSnap:hn.current,immediate:!0,config:{velocity:ut}}),$t)},{filterTaps:!0});if(Number.isNaN(Fe.current))throw new TypeError("maxSnapRef is NaN!!");if(Number.isNaN(hn.current))throw new TypeError("minSnapRef is NaN!!");var an=(function(ue){var ye,ve=ue.spring,ge=jl([ve.y,ve.maxHeight],function(ke,He){return Math.round(Rc(He-ke,0,16))+"px"}),Je=jl([ve.y,ve.minSnap,ve.maxSnap],function(ke,He,Qt){return Rc(ke,He,Qt)+"px"}),Le=jl([ve.y,ve.minSnap,ve.maxSnap],function(ke,He,Qt){return ke<He?He-ke+"px":ke>Qt?Qt-ke+"px":"0px"}),Ce=jl([ve.y,ve.maxSnap],function(ke,He){return ke>=He?Math.ceil(ke-He):0}),et=jl([ve.y,ve.minSnap],function(ke,He){if(!He)return 0;var Qt=Math.max(He/2-45,0);return Rc((ke-Qt)*(1/(Math.min(He/2+45,He)-Qt)+0),0,1)}),Ge=jl([ve.y,ve.minSnap],function(ke,He){return He?Rc(ke/He,0,1):0});return(ye={})["--rsbs-content-opacity"]=et,ye["--rsbs-backdrop-opacity"]=Ge,ye["--rsbs-antigap-scale-y"]=Ce,ye["--rsbs-overlay-translate-y"]=Le,ye["--rsbs-overlay-rounded"]=ge,ye["--rsbs-overlay-h"]=Je,ye})({spring:re});return Sn.createElement(tF.div,ar({},P,{"data-rsbs-root":!0,"data-rsbs-state":UH.find(Ya.matches),"data-rsbs-is-blocking":M,"data-rsbs-is-dismissable":!!b,"data-rsbs-has-header":!!u,"data-rsbs-has-footer":!!o,className:s,ref:je,style:ar({},an,K,{opacity:re.ready})}),r,M&&Sn.createElement("div",ar({key:"backdrop","data-rsbs-backdrop":!0},hr({closeOnTap:!0}))),Sn.createElement("div",{key:"overlay","aria-modal":"true",role:"dialog","data-rsbs-overlay":!0,tabIndex:-1,ref:wr,onKeyDown:function(ue){ue.key==="Escape"&&(ue.stopPropagation(),b&&b())}},u!==!1&&Sn.createElement("div",ar({key:"header","data-rsbs-header":!0,ref:Et},hr()),u),Sn.createElement("div",ar({key:"scroll","data-rsbs-scroll":!0,ref:Se},O?hr({isContentDragging:!0}):{}),Sn.createElement("div",{"data-rsbs-content":!0,ref:Dt},n)),o&&Sn.createElement("div",ar({key:"footer",ref:Vn,"data-rsbs-footer":!0},hr()),o)))}),UH=["closed","opening","open","closing","dragging","snapping","resizing"];function zH(t){var e=t.lastSnap;return e??Math.min.apply(Math,t.snapPoints)}function BH(t){return t.minHeight}var FH=["onSpringStart","onSpringEnd","skipInitialTransition"],Su=D.forwardRef(function(t,e){var n=t.onSpringStart,r=t.onSpringEnd,s=t.skipInitialTransition,o=mm(t,FH),u=D.useState(!1),f=u[0],h=u[1],d=D.useRef(),g=D.useRef(null),b=D.useRef(s&&o.open?"OPEN":"CLOSED");cf(function(){if(o.open)return cancelAnimationFrame(d.current),h(!0),function(){b.current="CLOSED"}},[o.open]);var _=D.useCallback(function(C){return Promise.resolve(n==null?void 0:n(C)).then(function(){C.type==="OPEN"&&cancelAnimationFrame(d.current)})},[n]),E=D.useCallback(function(C){return Promise.resolve(r==null?void 0:r(C)).then(function(){C.type==="CLOSE"&&(d.current=requestAnimationFrame(function(){return h(!1)}))})},[r]);return f?Sn.createElement(uB,{"data-rsbs-portal":!0},Sn.createElement(LH,ar({},o,{lastSnapRef:g,ref:e,initialState:b.current,onSpringStart:_,onSpringEnd:E}))):null});const HH=({item:t,clothingSets:e,onClose:n,onUpdate:r,onGenerateFrom:s,onRemoveSet:o,onDelete:u,getItemWearCount:f})=>{const[h,d]=D.useState({analysis:t.analysis,category:t.category,color:t.color,material:t.material}),[g,b]=D.useState(!1),[_,E]=D.useState(window.innerWidth<768),[C,N]=D.useState(!1),[j,U]=D.useState(!1),M=document.documentElement.classList.contains("dark"),z=e.find(O=>O.itemIds.includes(t.id));D.useEffect(()=>{d({analysis:t.analysis,category:t.category,color:t.color,material:t.material}),N(!1),requestAnimationFrame(()=>{requestAnimationFrame(()=>{N(!0)})})},[t]),D.useEffect(()=>{const O=()=>E(window.innerWidth<768);return window.addEventListener("resize",O),()=>window.removeEventListener("resize",O)},[]),D.useEffect(()=>{if(!_){const O=P=>{P.key==="Escape"&&n()};return window.addEventListener("keydown",O),()=>window.removeEventListener("keydown",O)}},[_,n]);const G=O=>{const{name:P,value:xe}=O.target;d(De=>({...De,[P]:xe}))},K=O=>{O.preventDefault(),r({...t,...h}),b(!0),setTimeout(()=>{b(!1)},2e3)},H=()=>{U(!0)},A=()=>{u(t.id),U(!1),n()},S=()=>{U(!1)},I=O=>{O.stopPropagation(),r({...t,isFavorite:!t.isFavorite})},L=y.jsxs("div",{className:"bg-white dark:bg-raisin-black text-raisin-black dark:text-snow",children:[y.jsx("div",{className:"relative px-4 pt-2 pb-4",children:y.jsx("img",{src:t.imageSrc,alt:t.analysis,className:"w-full h-auto max-h-[40vh] object-contain rounded-lg"})}),y.jsxs("form",{onSubmit:K,className:"p-6",children:[y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{htmlFor:"analysis",className:"block text-sm font-medium text-gray-500 dark:text-gray-400",children:"Description"}),y.jsx("textarea",{id:"analysis",name:"analysis",value:h.analysis,onChange:G,rows:3,className:"mt-1 w-full px-3 py-2 bg-snow dark:bg-onyx border border-gray-300 dark:border-gray-700 rounded-md focus:outline-none focus:ring-1 focus:ring-gold focus:border-gold transition-colors text-sm text-raisin-black dark:text-snow"})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-500 dark:text-gray-400",children:"Catgorie"}),y.jsx("select",{id:"category",name:"category",value:h.category,onChange:G,className:"mt-1 w-full appearance-none px-3 py-2 bg-snow dark:bg-onyx border border-gray-300 dark:border-gray-700 rounded-md focus:outline-none focus:ring-1 focus:ring-gold focus:border-gold transition-colors text-sm text-raisin-black dark:text-snow",children:["Hauts","Bas","Chaussures","Accessoires"].map(O=>y.jsx("option",{value:O,children:O},O))})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"color",className:"block text-sm font-medium text-gray-500 dark:text-gray-400",children:"Couleur"}),y.jsx("input",{type:"text",id:"color",name:"color",value:h.color,onChange:G,className:"mt-1 w-full px-3 py-2 bg-snow dark:bg-onyx border border-gray-300 dark:border-gray-700 rounded-md focus:outline-none focus:ring-1 focus:ring-gold focus:border-gold transition-colors text-sm text-raisin-black dark:text-snow"})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"material",className:"block text-sm font-medium text-gray-500 dark:text-gray-400",children:"Matire"}),y.jsx("input",{type:"text",id:"material",name:"material",value:h.material,onChange:G,className:"mt-1 w-full px-3 py-2 bg-snow dark:bg-onyx border border-gray-300 dark:border-gray-700 rounded-md focus:outline-none focus:ring-1 focus:ring-gold focus:border-gold transition-colors text-sm text-raisin-black dark:text-snow"})]})]}),y.jsx("div",{className:"bg-gradient-to-r from-gold/5 to-gold-dark/5 dark:from-gold/10 dark:to-gold-dark/10 p-3 rounded-lg border border-gold/20",children:y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{children:[y.jsx("p",{className:"text-xs font-semibold text-gold dark:text-gold-light uppercase tracking-wider",children:"Statistique"}),y.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-300 mt-1",children:["Port ",y.jsx("span",{className:"font-bold text-lg text-gold",children:f(t.id)})," fois ces 30 derniers jours"]})]}),y.jsx("div",{className:"text-3xl",children:""})]})}),z&&y.jsxs("div",{className:"bg-gold/10 dark:bg-gold/20 p-3 rounded-lg flex items-center justify-between gap-4",children:[y.jsxs("div",{children:[y.jsx("p",{className:"text-xs font-semibold text-gold uppercase tracking-wider",children:"Fait partie de l'ensemble"}),y.jsx("p",{className:"font-medium text-onyx dark:text-snow truncate",title:z.name,children:z.name})]}),y.jsxs("button",{type:"button",onClick:()=>{o(z.id),n()},className:"flex-shrink-0 flex items-center gap-2 px-3 py-1.5 text-sm font-semibold bg-white dark:bg-onyx text-rose-500 border border-rose-500/50 rounded-md hover:bg-rose-500 hover:text-white transition-colors",title:"Dissocier l'ensemble",children:[y.jsx(_L,{}),y.jsx("span",{children:"Dissocier"})]})]})]}),y.jsxs("div",{className:"mt-6 pt-4 border-t border-black/10 dark:border-white/10 flex flex-col sm:flex-row gap-3 justify-between",children:[y.jsxs("button",{type:"button",onClick:H,className:"w-full sm:w-auto flex items-center justify-center gap-2 px-4 py-2.5 bg-red-500/10 text-red-500 font-bold rounded-lg hover:bg-red-500/20 transition-all duration-300",children:[y.jsx(Hb,{}),"Supprimer"]}),y.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[y.jsxs("button",{type:"button",onClick:()=>s(t),className:"w-full sm:w-auto flex-1 flex items-center justify-center gap-2 px-4 py-2.5 bg-onyx dark:bg-snow border-2 border-gold text-gold dark:text-onyx font-bold rounded-lg hover:bg-gold/10 dark:hover:bg-onyx/10 transition-all duration-300",children:[y.jsx(_f,{}),"Crer une tenue"]}),y.jsx("button",{type:"submit",disabled:g,className:`w-full sm:w-auto px-6 py-2.5 font-bold rounded-lg transition-all duration-300 flex items-center justify-center gap-2 ${g?"bg-green-600 text-white cursor-not-allowed":"bg-gold text-onyx hover:bg-gold-dark"}`,children:g?y.jsxs(y.Fragment,{children:[y.jsx(qb,{}),"Enregistr !"]}):"Enregistrer"})]})]})]})]}),V=j?RN.createPortal(y.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center p-4 transition-opacity duration-200",style:{zIndex:999999,pointerEvents:"auto"},onClick:S,children:y.jsxs("div",{className:"bg-white dark:bg-raisin-black rounded-2xl shadow-2xl max-w-md w-full p-6 transform transition-all duration-200 scale-100",onClick:O=>O.stopPropagation(),children:[y.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[y.jsx("img",{src:t.imageSrc,alt:t.analysis,className:"w-20 h-20 object-cover rounded-lg flex-shrink-0"}),y.jsxs("div",{className:"flex-1 min-w-0",children:[y.jsx("h3",{className:"text-lg font-bold text-raisin-black dark:text-snow mb-1",children:"Supprimer cet article ?"}),y.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 line-clamp-2",children:t.analysis})]})]}),y.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4 mb-6",children:y.jsxs("div",{className:"flex items-start gap-3",children:[y.jsx("svg",{className:"w-5 h-5 text-red-600 dark:text-red-400 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),y.jsxs("div",{className:"flex-1",children:[y.jsx("p",{className:"text-sm font-semibold text-red-800 dark:text-red-300 mb-1",children:"Cette action est irrversible"}),y.jsx("p",{className:"text-xs text-red-700 dark:text-red-400",children:"L'article sera dfinitivement supprim de votre garde-robe et ne pourra pas tre rcupr."})]})]})}),y.jsxs("div",{className:"flex gap-3",children:[y.jsx("button",{onClick:O=>{O.stopPropagation(),S()},className:"flex-1 px-4 py-2.5 bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 font-semibold rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:"Annuler"}),y.jsx("button",{onClick:O=>{O.stopPropagation(),A()},className:"flex-1 px-4 py-2.5 bg-red-600 text-white font-bold rounded-lg hover:bg-red-700 transition-colors shadow-lg shadow-red-500/30",children:"Supprimer"})]})]})}),document.body):null;return _?y.jsxs(y.Fragment,{children:[y.jsx(Su,{open:!!t&&!j,onDismiss:n,className:M?"dark":"",header:y.jsxs("div",{className:"flex items-center justify-between w-full px-4 py-2",children:[y.jsx("h2",{className:"text-lg font-bold text-raisin-black dark:text-snow",children:"Dtails de l'article"}),y.jsx("button",{onClick:I,className:"p-1.5 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-full transition-colors","aria-label":"Ajouter aux favoris",children:t.isFavorite?y.jsx(lu,{className:"w-6 h-6 text-red-500"}):y.jsx(Vm,{className:"w-6 h-6"})})]}),defaultSnap:({maxHeight:O})=>O*.85,snapPoints:({maxHeight:O})=>[O*.5,O*.85,O*.95],children:L}),V]}):y.jsxs(y.Fragment,{children:[y.jsx("div",{className:`fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4 transition-opacity duration-200 ${C?"opacity-100":"opacity-0"}`,style:j?{pointerEvents:"none"}:void 0,onClick:n,children:y.jsxs("div",{className:`relative bg-white dark:bg-raisin-black rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto transition-all duration-200 ${C?"opacity-100 scale-100":"opacity-0 scale-95"}`,style:j?{pointerEvents:"none"}:void 0,onClick:O=>O.stopPropagation(),children:[y.jsxs("div",{className:"sticky top-0 bg-white dark:bg-raisin-black border-b border-gray-200 dark:border-gray-700 px-6 py-4 flex items-center justify-between z-10",children:[y.jsx("h2",{className:"text-xl font-bold text-raisin-black dark:text-snow",children:"Dtails de l'article"}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("button",{onClick:I,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-full transition-colors","aria-label":"Ajouter aux favoris",children:t.isFavorite?y.jsx(lu,{className:"w-6 h-6 text-red-500"}):y.jsx(Vm,{className:"w-6 h-6"})}),y.jsx("button",{onClick:n,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-full transition-colors","aria-label":"Fermer",children:y.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),L]})}),V]})},Sk=({clothingItems:t,clothingSets:e,onGeneratePlan:n,isGenerating:r})=>{const[s,o]=D.useState(3),[u,f]=D.useState(""),[h,d]=D.useState(""),g=b=>{b.preventDefault();const _=u||"",E=h?parseFloat(h):void 0;_.trim()&&s>0&&n(s,_,E)};return y.jsxs("form",{onSubmit:g,className:"space-y-6",children:[y.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-4 gap-4 items-end",children:[y.jsxs("div",{className:"sm:col-span-1",children:[y.jsx("label",{htmlFor:"days",className:"block text-sm font-medium text-gray-500 dark:text-gray-400 mb-1 text-center sm:text-left",children:"Dure (jours)"}),y.jsx("input",{id:"days",type:"number",value:s,onChange:b=>o(parseInt(b.target.value,10)||1),min:"1",max:"30",className:"w-full px-4 py-3 bg-snow dark:bg-onyx border-2 border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-gold focus:border-transparent transition-colors text-center",disabled:r,required:!0})]}),y.jsxs("div",{className:"sm:col-span-1",children:[y.jsx("label",{htmlFor:"weight",className:"block text-sm font-medium text-gray-500 dark:text-gray-400 mb-1 text-center sm:text-left",children:"Poids max (kg)"}),y.jsxs("div",{className:"relative",children:[y.jsx("input",{id:"weight",type:"number",value:h,onChange:b=>d(b.target.value),placeholder:"Optionnel",min:"1",max:"50",className:"w-full px-4 py-3 bg-snow dark:bg-onyx border-2 border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-gold focus:border-transparent transition-colors text-center",disabled:r}),y.jsx("span",{className:"absolute right-3 top-3.5 text-gray-400 text-sm",children:"kg"})]})]}),y.jsxs("div",{className:"sm:col-span-2",children:[y.jsx("label",{htmlFor:"vacation-context",className:"block text-sm font-medium text-gray-500 dark:text-gray-400 mb-1 text-center sm:text-left",children:"Destination / Mto"}),y.jsx("input",{id:"vacation-context",type:"text",value:u,onChange:b=>f(b.target.value),placeholder:"Ex: Weekend  Rome, temps doux",className:"w-full px-4 py-3 bg-snow dark:bg-onyx border-2 border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-gold focus:border-transparent transition-colors text-center sm:text-left",disabled:r,required:!0})]})]}),y.jsxs("button",{type:"submit",disabled:r||!(u||"").trim()||s<=0,className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-gold text-onyx font-bold rounded-lg hover:bg-gold-dark transition-all duration-300 disabled:bg-gray-400 dark:disabled:bg-gray-600 disabled:cursor-not-allowed transform hover:scale-105",children:[y.jsx(WR,{}),r?"Analyse du poids...":"Gnrer la valise"]})]})},Ak=({plan:t,allClothingItems:e,allClothingSets:n})=>{const r=s=>{const{id:o,description:u}=s;let f=e.find(d=>d.id===o);if(f)return f;let h=n.find(d=>d.id===o);if(h)return h;if(f=e.find(d=>d.analysis===o),f||(f=e.find(d=>d.analysis===u),f))return f};return y.jsx("div",{className:"mt-10",children:y.jsxs("div",{className:"bg-snow dark:bg-onyx border border-black/10 dark:border-white/10 rounded-lg p-5",children:[y.jsx("h3",{className:"font-serif font-bold text-xl text-gold",children:t.titre}),y.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1 mb-5",children:t.resume}),y.jsx("div",{className:"flex flex-wrap gap-3 mb-5",children:t.valise.map((s,o)=>{const u=r(s),f=u?u.imageSrc:null;return y.jsxs("div",{className:"w-20 h-20 bg-gray-200 dark:bg-gray-800 rounded-md shadow-md border-2 border-white dark:border-raisin-black overflow-hidden relative group",title:s.description,children:[f?y.jsx("img",{src:f,alt:s.description,className:"w-full h-full object-cover"}):y.jsx("div",{className:"w-full h-full flex items-center justify-center p-1 text-center",children:y.jsx(YR,{})}),y.jsx("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center p-2",children:y.jsx("p",{className:"text-white text-xs text-center line-clamp-3",children:s.description})})]},o)})}),y.jsx("ul",{className:"list-disc list-inside space-y-1.5 text-sm pt-4 border-t border-black/5 dark:border-white/10",children:t.valise.map((s,o)=>y.jsx("li",{className:"text-gray-700 dark:text-gray-300",children:s.description},o))})]})})},qH=({onFilesSelected:t,isAnalyzing:e,isOtherModalOpen:n})=>{const[r,s]=D.useState(!1),o=D.useRef(null),u=D.useRef(null),f=b=>{const _=Array.from(b.target.files||[]);_.length>0&&(t(_),s(!1)),b.target.value=""},h=()=>{s(!r)},d=()=>{var b;(b=o.current)==null||b.click()},g=()=>{var b;(b=u.current)==null||b.click()};return n?null:y.jsxs(y.Fragment,{children:[y.jsx("input",{ref:o,type:"file",accept:"image/*",capture:"environment",multiple:!0,onChange:f,className:"hidden"}),y.jsx("input",{ref:u,type:"file",accept:"image/*",multiple:!0,onChange:f,className:"hidden"}),r&&y.jsx("div",{className:"md:hidden fixed inset-0 z-30",onClick:()=>s(!1)}),y.jsxs("div",{className:"md:hidden fixed bottom-24 right-6 z-40",children:[y.jsxs("div",{className:`absolute bottom-20 right-0 transition-all duration-300 origin-bottom-right ${r?"opacity-100 scale-100 translate-y-0":"opacity-0 scale-75 translate-y-4 pointer-events-none"}`,children:[y.jsxs("div",{className:"bg-white dark:bg-raisin-black rounded-2xl shadow-2xl border border-black/10 dark:border-white/10 overflow-hidden w-56",children:[y.jsxs("button",{type:"button",onClick:d,className:"w-full flex items-center gap-3 p-4 hover:bg-gold/10 active:bg-gold/20 transition-colors cursor-pointer border-b border-black/5 dark:border-white/5 text-left",children:[y.jsx("div",{className:"w-10 h-10 bg-gold rounded-full flex items-center justify-center flex-shrink-0",children:y.jsxs("svg",{className:"w-5 h-5 text-onyx",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]})}),y.jsxs("div",{children:[y.jsx("p",{className:"font-semibold text-sm",children:"Appareil Photo"}),y.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Prendre une photo"})]})]}),y.jsxs("button",{type:"button",onClick:g,className:"w-full flex items-center gap-3 p-4 hover:bg-gray-100 dark:hover:bg-gray-800 active:bg-gray-200 dark:active:bg-gray-700 transition-colors cursor-pointer text-left",children:[y.jsx("div",{className:"w-10 h-10 bg-gray-200 dark:bg-gray-700 rounded-full flex items-center justify-center flex-shrink-0",children:y.jsx("svg",{className:"w-5 h-5 text-gray-600 dark:text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),y.jsxs("div",{children:[y.jsx("p",{className:"font-semibold text-sm",children:"Galerie"}),y.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Choisir des photos"})]})]})]}),y.jsx("div",{className:"absolute -bottom-2 right-6 w-4 h-4 bg-white dark:bg-raisin-black rotate-45 border-r border-b border-black/10 dark:border-white/10"})]}),y.jsx("button",{onClick:h,disabled:e,className:`
            relative w-16 h-16 
            bg-gradient-to-r from-gold to-gold-dark text-onyx 
            rounded-full shadow-2xl 
            transition-all duration-300 ease-out
            flex items-center justify-center
            disabled:opacity-50 disabled:cursor-not-allowed 
            active:scale-90
            ${r?"rotate-45 shadow-gold/50 ring-4 ring-gold/30":"rotate-0 hover:scale-105 hover:shadow-gold/30"}
          `,"aria-label":r?"Fermer le menu":"Ajouter un vtement",children:e?y.jsxs("svg",{className:"animate-spin h-8 w-8",fill:"none",viewBox:"0 0 24 24",children:[y.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),y.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):y.jsx("svg",{className:"w-8 h-8 transition-transform duration-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M12 4v16m8-8H4"})})})]})]})},GH=({onAnalyzeWardrobe:t,onScrollToOutfits:e,onScrollToVacation:n,onStartSetCreation:r,onShowFavorites:s,onShowWornOutfits:o,isAnalyzingWardrobe:u,clothingCount:f,favoriteOutfitCount:h,wornOutfitCount:d})=>y.jsxs("div",{className:"space-y-4 pb-24",children:[y.jsxs("div",{className:"text-center py-6",children:[y.jsxs("h2",{className:"text-3xl font-serif font-bold mb-2",children:[y.jsx("span",{className:"text-gold",children:"Ma"})," Garde-Robe"]}),y.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:[f," vtement",f>1?"s":""," dans votre collection"]})]}),y.jsxs("div",{className:"space-y-3 px-4",children:[f>=3&&y.jsx("button",{onClick:t,disabled:u,className:"w-full bg-gradient-to-r from-gold/10 to-gold-dark/10 border-2 border-gold/30 rounded-2xl p-5 text-left transition-all active:scale-98 disabled:opacity-50",children:y.jsxs("div",{className:"flex items-start gap-4",children:[y.jsx("div",{className:"w-12 h-12 bg-gold rounded-xl flex items-center justify-center flex-shrink-0",children:u?y.jsxs("svg",{className:"animate-spin h-6 w-6 text-onyx",fill:"none",viewBox:"0 0 24 24",children:[y.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),y.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):y.jsx("svg",{className:"w-6 h-6 text-onyx",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})})}),y.jsxs("div",{className:"flex-1",children:[y.jsx("h3",{className:"text-lg font-bold mb-1",children:" Analyser ma garde-robe"}),y.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Dcouvrez quelles pices acheter pour plus de polyvalence"})]})]})}),y.jsx("button",{onClick:e,className:"w-full bg-gradient-to-r from-purple-500/10 to-pink-500/10 border-2 border-purple-500/30 rounded-2xl p-5 text-left transition-all active:scale-98",children:y.jsxs("div",{className:"flex items-start gap-4",children:[y.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-purple-500 to-pink-500 rounded-xl flex items-center justify-center flex-shrink-0",children:y.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zm0 0h12a2 2 0 002-2v-4a2 2 0 00-2-2h-2.343M11 7.343l1.657-1.657a2 2 0 012.828 0l2.829 2.829a2 2 0 010 2.828l-8.486 8.485M7 17h.01"})})}),y.jsxs("div",{className:"flex-1",children:[y.jsx("h3",{className:"text-lg font-bold mb-1",children:" Crateur de Tenues"}),y.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Gnrez des looks personnaliss avec l'IA"})]})]})}),y.jsx("button",{onClick:n,className:"w-full bg-gradient-to-r from-blue-500/10 to-cyan-500/10 border-2 border-blue-500/30 rounded-2xl p-5 text-left transition-all active:scale-98",children:y.jsxs("div",{className:"flex items-start gap-4",children:[y.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-500 to-cyan-500 rounded-xl flex items-center justify-center flex-shrink-0",children:y.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})})}),y.jsxs("div",{className:"flex-1",children:[y.jsx("h3",{className:"text-lg font-bold mb-1",children:" Planificateur de Valise"}),y.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Prparez votre valise optimale pour votre voyage"})]})]})})]}),y.jsx("div",{className:"px-4 pt-6",children:y.jsxs("div",{className:"bg-gray-100 dark:bg-gray-800 rounded-2xl p-4",children:[y.jsx("h4",{className:"font-semibold mb-3 text-sm text-gray-600 dark:text-gray-400",children:"Aperu rapide"}),y.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[y.jsxs("button",{onClick:o,className:"bg-white dark:bg-raisin-black rounded-xl p-3 text-center flex flex-col items-center justify-center hover:bg-gray-50 dark:hover:bg-raisin-black/50 transition-colors active:scale-95",children:[y.jsx("div",{className:"text-blue-500",children:y.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),y.jsx("p",{className:"text-2xl font-bold",children:d}),y.jsx("p",{className:"text-xs text-gray-500 mt-0.5 font-medium",children:"Portes (7j)"})]}),y.jsxs("button",{onClick:r,className:"bg-white dark:bg-raisin-black rounded-xl p-3 text-center flex flex-col items-center justify-center hover:bg-gray-50 dark:hover:bg-raisin-black/50 transition-colors active:scale-95",children:[y.jsx("div",{className:"text-green-500",children:y.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.536a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})})}),y.jsx("p",{className:"text-xs text-gray-500 mt-1.5 font-medium",children:"Crer un ensemble"})]}),y.jsxs("button",{onClick:s,className:"bg-white dark:bg-raisin-black rounded-xl p-3 text-center flex flex-col items-center justify-center hover:bg-gray-50 dark:hover:bg-raisin-black/50 transition-colors active:scale-95",children:[y.jsx("div",{className:"text-red-500",children:y.jsx(Vm,{})}),y.jsx("p",{className:"text-2xl font-bold",children:h}),y.jsx("p",{className:"text-xs text-gray-500 mt-0.5 font-medium",children:"Favorites"})]})]})]})})]}),$H=({activeTab:t,onTabChange:e,counts:n})=>{const r=[{id:"home",label:"Home",icon:y.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),count:null},{id:"hauts",label:"Hauts",icon:y.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})}),count:n.hauts},{id:"bas",label:"Bas",icon:y.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"})}),count:n.bas},{id:"chaussures",label:"Chaussures",icon:y.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 10l-2 1m0 0l-2-1m2 1v2.5M20 7l-2 1m2-1l-2-1m2 1v2.5M14 4l-2-1-2 1M4 7l2-1M4 7l2 1M4 7v2.5M12 21l-2-1m2 1l2-1m-2 1v-2.5M6 18l-2-1v-2.5M18 18l2-1v-2.5"})}),count:n.chaussures},{id:"accessoires",label:"Accessoires",icon:y.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})}),count:n.accessoires}];return y.jsx("nav",{className:"md:hidden fixed bottom-0 left-0 right-0 bg-white dark:bg-raisin-black border-t border-black/10 dark:border-white/10 z-30 pb-8",children:y.jsx("div",{className:"flex justify-around items-center h-16",children:r.map(s=>{const o=t===s.id;return y.jsxs("button",{onClick:()=>e(s.id),className:`flex flex-col items-center justify-center gap-1 px-3 py-2 transition-all flex-1 ${o?"text-gold":"text-gray-500 dark:text-gray-400"}`,children:[y.jsxs("div",{className:"relative",children:[s.icon,s.count!==null&&s.count>0&&y.jsx("span",{className:`absolute -top-1 -right-1 text-[10px] font-bold px-1.5 py-0.5 rounded-full ${o?"bg-gold text-onyx":"bg-gray-300 dark:bg-gray-600 text-gray-700 dark:text-gray-300"}`,children:s.count})]}),y.jsx("span",{className:`text-xs font-medium ${o?"font-bold":""}`,children:s.label})]},s.id)})})})},KH=({analysis:t,onClose:e})=>{if(!t)return null;const n={high:"bg-red-500/10 text-red-600 dark:text-red-400 border-red-500/20",medium:"bg-yellow-500/10 text-yellow-600 dark:text-yellow-400 border-yellow-500/20",low:"bg-green-500/10 text-green-600 dark:text-green-400 border-green-500/20"},r={high:"Priorit haute",medium:"Priorit moyenne",low:"Bonne ide"};return y.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:y.jsxs("div",{className:"bg-white dark:bg-raisin-black rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[y.jsx("div",{className:"sticky top-0 bg-gradient-to-r from-gold to-gold-dark p-6 rounded-t-2xl",children:y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsx("h2",{className:"text-2xl font-serif font-bold text-onyx",children:" Suggestions d'Achats"}),y.jsx("button",{onClick:e,className:"p-2 hover:bg-black/10 rounded-full transition",children:y.jsx("svg",{className:"w-6 h-6 text-onyx",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),y.jsxs("div",{className:"p-6 space-y-6",children:[y.jsxs("div",{className:"bg-gold/5 border border-gold/20 rounded-xl p-4",children:[y.jsx("h3",{className:"font-semibold text-lg mb-2",children:" Analyse de votre garde-robe"}),y.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:t.summary})]}),y.jsxs("div",{children:[y.jsxs("h3",{className:"font-semibold text-lg mb-3 flex items-center gap-2",children:[y.jsx("span",{className:"text-green-500",children:""})," Points forts"]}),y.jsx("div",{className:"grid gap-2",children:t.strengths.map((s,o)=>y.jsxs("div",{className:"flex items-start gap-2 text-sm",children:[y.jsx("span",{className:"text-green-500 mt-0.5",children:""}),y.jsx("span",{children:s})]},o))})]}),y.jsxs("div",{children:[y.jsxs("h3",{className:"font-semibold text-lg mb-3 flex items-center gap-2",children:[y.jsx("span",{className:"text-orange-500",children:""})," Opportunits d'amlioration"]}),y.jsx("div",{className:"grid gap-2",children:t.gaps.map((s,o)=>y.jsxs("div",{className:"flex items-start gap-2 text-sm",children:[y.jsx("span",{className:"text-orange-500 mt-0.5",children:""}),y.jsx("span",{children:s})]},o))})]}),y.jsxs("div",{children:[y.jsxs("h3",{className:"font-semibold text-xl mb-4 flex items-center gap-2",children:[y.jsx("span",{children:""})," Pices recommandes"]}),y.jsx("div",{className:"grid gap-4",children:t.suggestions.map((s,o)=>y.jsxs("div",{className:"border border-black/10 dark:border-white/10 rounded-xl p-5 hover:shadow-lg transition-shadow",children:[y.jsxs("div",{className:"flex justify-between items-start mb-3",children:[y.jsxs("div",{children:[y.jsx("h4",{className:"font-bold text-lg",children:s.description}),y.jsx("p",{className:"text-sm text-gray-500",children:s.category})]}),y.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold border ${n[s.priority]}`,children:r[s.priority]})]}),y.jsxs("p",{className:"text-sm mb-3 text-gray-700 dark:text-gray-300",children:[y.jsx("span",{className:"font-semibold",children:"Pourquoi ?"})," ",s.reason]}),y.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[s.estimatedPrice&&y.jsxs("div",{className:"flex items-center gap-2 text-sm text-gold font-semibold",children:[y.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),s.estimatedPrice]}),y.jsxs("a",{href:`https://www.google.com/search?q=${encodeURIComponent(s.searchQuery+" achat en ligne")}&tbm=shop`,target:"_blank",rel:"noopener noreferrer",className:"ml-auto inline-flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-blue-500 to-blue-600 text-white text-sm font-semibold rounded-lg hover:from-blue-600 hover:to-blue-700 transition-all shadow-sm hover:shadow-md",children:[y.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),"Rechercher en ligne"]})]})]},o))})]})]})]})})},YH=({open:t,clothingItems:e,clothingSets:n,onGenerate:r,isGenerating:s,suggestedOutfits:o,onClose:u,weatherInfo:f,weatherError:h,favoriteOutfits:d,onToggleFavorite:g,onGenerateVisual:b,generatingVisualFor:_,selectedOutfit:E,onSelectOutfit:C,anchorItem:N,onClearAnchor:j})=>{const U=document.documentElement.classList.contains("dark"),M=D.useRef(null);return D.useEffect(()=>{!s&&o.length>0&&M.current&&M.current.scrollIntoView({behavior:"smooth",block:"nearest"})},[s,o.length]),y.jsx(Su,{open:t,onDismiss:u,className:U?"dark":"",header:y.jsxs("div",{className:"flex items-center justify-between w-full",children:[y.jsx("h2",{className:"text-xl font-bold text-raisin-black dark:text-snow",children:" Crateur de Tenues"}),y.jsx("button",{onClick:u,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-full transition-colors",children:y.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),defaultSnap:({maxHeight:z})=>z*.65,snapPoints:({minHeight:z,maxHeight:G})=>[z,G*.65,G*.85],children:y.jsxs("div",{className:"p-6 space-y-6 bg-white dark:bg-raisin-black text-raisin-black dark:text-snow",children:[y.jsx(CN,{clothingItems:e,clothingSets:n,onGenerate:r,isGenerating:s,weatherInfo:f,weatherError:h,anchorItem:N,onClearAnchor:j}),s&&y.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[y.jsxs("svg",{className:"animate-spin h-10 w-10 text-gold",fill:"none",viewBox:"0 0 24 24",children:[y.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),y.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),y.jsx("p",{className:"mt-4 text-sm text-gray-500 dark:text-gray-400 font-medium",children:"L'IA compose vos tenues..."})]}),y.jsx("div",{ref:M,children:o.length>0&&y.jsx(Zl,{outfits:o,allClothingItems:e,allClothingSets:n,favoriteOutfits:d,onToggleFavorite:g,onGenerateVisual:b,generatingVisualFor:_,selectedOutfit:E,onSelectOutfit:C})})]})})},WH=({open:t,clothingItems:e,clothingSets:n,onGeneratePlan:r,isGenerating:s,vacationPlan:o,onCreateSet:u,onClose:f})=>{const h=document.documentElement.classList.contains("dark");return y.jsx(Su,{open:t,onDismiss:f,className:h?"dark":"",header:y.jsxs("div",{className:"flex items-center justify-between w-full",children:[y.jsx("h2",{className:"text-xl font-bold text-raisin-black dark:text-snow",children:" Planificateur de Valise"}),y.jsx("button",{onClick:f,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-full transition-colors",children:y.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),defaultSnap:({maxHeight:d})=>d*.6,snapPoints:({maxHeight:d})=>[d*.55,d*.85],children:y.jsxs("div",{className:"p-6 space-y-6 bg-white dark:bg-raisin-black text-raisin-black dark:text-snow min-h-[45vh]",children:[y.jsx(Sk,{clothingItems:e,clothingSets:n,onGeneratePlan:r,isGenerating:s}),s&&y.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[y.jsxs("svg",{className:"animate-spin h-10 w-10 text-gold",fill:"none",viewBox:"0 0 24 24",children:[y.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),y.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),y.jsx("p",{className:"mt-4 text-sm text-gray-500 dark:text-gray-400 font-medium",children:"Prparation de votre valise..."})]}),o&&y.jsx(Ak,{plan:o,allClothingItems:e,allClothingSets:n,onCreateSet:u})]})})},QH=({open:t,clothingItems:e,clothingSets:n,onClose:r,onCreateSet:s})=>{const[o,u]=D.useState(new Set),f=new Set(n.flatMap(E=>E.itemIds)),d=e.filter(E=>!f.has(E.id)).reduce((E,C)=>(E[C.category]||(E[C.category]=[]),E[C.category].push(C),E),{}),g=E=>{u(C=>{const N=new Set(C);return N.has(E)?N.delete(E):N.add(E),N})},b=()=>{if(o.size<2){alert("Veuillez slectionner au moins 2 articles.");return}const E=window.prompt("Donnez un nom  cet ensemble :");E&&s(E,Array.from(o))},_=document.documentElement.classList.contains("dark");return y.jsx(Su,{open:t,onDismiss:r,className:_?"dark":"",header:y.jsxs("div",{className:"flex items-center justify-between w-full",children:[y.jsx("h2",{className:"text-xl font-bold text-raisin-black dark:text-snow",children:" Crer un ensemble"}),y.jsx("button",{onClick:r,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-full transition-colors",children:y.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),footer:o.size>0&&y.jsx("div",{className:"p-4 border-t border-black/10 dark:border-white/10 bg-white dark:bg-raisin-black",children:y.jsxs("button",{onClick:b,disabled:o.size<2,className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-gold text-onyx font-bold rounded-lg hover:bg-gold-dark transition-all duration-300 disabled:bg-gray-400 dark:disabled:bg-gray-600",children:[y.jsx(kp,{}),"Lier ",o.size," article",o.size>1?"s":""]})}),defaultSnap:({maxHeight:E})=>E*.6,snapPoints:({maxHeight:E})=>[E*.6,E*.85],children:y.jsxs("div",{className:"p-4 bg-white dark:bg-raisin-black text-raisin-black dark:text-snow",children:[y.jsx("p",{className:"text-sm text-center text-gray-500 dark:text-gray-400 mb-4",children:"Slectionnez les articles que vous souhaitez lier (ex: une veste et son pantalon)."}),y.jsx("div",{className:"space-y-4",children:Object.keys(d).map(E=>d[E].length>0&&y.jsxs("div",{children:[y.jsx("h3",{className:"font-semibold text-lg mb-2",children:E}),y.jsx("div",{className:"grid grid-cols-3 gap-3",children:d[E].map(C=>{const N=o.has(C.id);return y.jsxs("button",{onClick:()=>g(C.id),className:"relative rounded-xl overflow-hidden shadow-lg cursor-pointer active:scale-95 transition-transform border-2",style:{borderColor:N?"#D4AF37":"transparent"},children:[N&&y.jsx("div",{className:"absolute top-1 right-1 p-0.5 bg-gold rounded-full text-onyx z-10",children:y.jsx(qb,{})}),y.jsx("div",{className:"aspect-square",children:y.jsx("img",{src:C.imageSrc,alt:C.analysis,className:"w-full h-full object-cover"})}),y.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 to-transparent"}),y.jsx("p",{className:"absolute bottom-1 left-1 right-1 text-white text-xs font-medium line-clamp-2 p-1",children:C.analysis})]},C.id)})})]},E))})]})})},XH=(t,e)=>{const n=$a(Jr,"users",t,"items"),r=Ap(n);return Ip(r,o=>{const u=o.docs.map(f=>({id:f.id,...f.data()}));e(u)},o=>{console.error("Erreur (items listener):",o)})},ZH=async(t,e)=>{try{const n=$a(Jr,"users",t,"items");return(await Rp(n,e)).id}catch(n){throw console.error("Erreur lors de l'ajout d'un vtement:",n),n}},XA=async(t,e,n)=>{try{const r=xu(Jr,"users",t,"items",e);await w6(r,n)}catch(r){throw console.error("Erreur lors de la mise  jour d'un vtement:",r),r}},ZA=async(t,e)=>{try{const n=xu(Jr,"users",t,"items",e);await Pb(n)}catch(n){throw console.error("Erreur lors de la suppression d'un vtement:",n),n}},JH=(t,e)=>{const n=$a(Jr,"users",t,"favoriteOutfits"),r=Ap(n);return Ip(r,o=>{const u=o.docs.map(f=>({id:f.id,...f.data()}));e(u)},o=>{console.error("Erreur (favoriteOutfits listener):",o)})},eq=async(t,e)=>{try{const n=$a(Jr,"users",t,"favoriteOutfits");return(await Rp(n,e)).id}catch(n){throw console.error("Erreur lors de l'ajout d'une tenue favorite:",n),n}},tq=async(t,e)=>{try{const n=xu(Jr,"users",t,"favoriteOutfits",e);await Pb(n)}catch(n){throw console.error("Erreur lors de la suppression d'une tenue favorite:",n),n}},nq=(t,e)=>{const n=$a(Jr,"users",t,"sets"),r=Ap(n);return Ip(r,o=>{const u=o.docs.map(f=>({id:f.id,...f.data()}));e(u)},o=>{console.error("Erreur (sets listener):",o)})},rq=async(t,e)=>{try{const n=$a(Jr,"users",t,"sets");return(await Rp(n,e)).id}catch(n){throw console.error("Erreur lors de l'ajout d'un ensemble:",n),n}},iq=async(t,e)=>{try{const n=xu(Jr,"users",t,"sets",e);await Pb(n)}catch(n){throw console.error("Erreur lors de la suppression d'un ensemble:",n),n}},sq=async(t,e,n,r)=>{try{const s=$a(Jr,"users",t,"wearHistory");return(await Rp(s,{outfitTitle:e,outfitDescription:n,itemIds:r,wornAt:Date.now()})).id}catch(s){throw console.error("Erreur lors de l'ajout de l'historique de port:",s),s}},aq=(t,e)=>{const n=$a(Jr,"users",t,"wearHistory"),r=Date.now()-720*60*60*1e3,s=Ap(n,v6("wornAt",">=",r));return Ip(s,u=>{const f=u.docs.map(h=>({id:h.id,...h.data()}));e(f)},u=>{console.error("Erreur (wearHistory listener):",u)})},oq=async(t,e,n)=>{try{const r=qR(KR,`users/${t}/clothing/${n}.jpg`);return await N5(r,e,"data_url"),await HR(r)}catch(r){throw console.error("Erreur upload vtement:",r),r}},lq=async(t,e)=>{try{const n=await uq(e,1024),r=qR(KR,`users/${t}/profile/model_photo.jpg`);return await I5(r,n),await HR(r)}catch(n){throw console.error("Erreur upload photo profil:",n),n}},uq=(t,e)=>new Promise((n,r)=>{const s=new FileReader;s.readAsDataURL(t),s.onload=o=>{var f;const u=new Image;u.src=(f=o.target)==null?void 0:f.result,u.onload=()=>{const h=e/u.width,d=document.createElement("canvas");d.width=e,d.height=u.height*h;const g=d.getContext("2d");g?(g.drawImage(u,0,0,d.width,d.height),d.toBlob(b=>{b?n(b):r(new Error("Blob creation failed"))},"image/jpeg",.85)):r(new Error("Canvas error"))}},s.onerror=o=>r(o)}),Ck=D.createContext(void 0),cq=t=>new Promise((e,n)=>{const r=new FileReader;r.readAsDataURL(t),r.onload=s=>{var u;const o=new Image;o.src=(u=s.target)==null?void 0:u.result,o.onload=()=>{const f=document.createElement("canvas"),h=800,d=h/o.width;f.width=h,f.height=o.height*d;const g=f.getContext("2d");g?(g.drawImage(o,0,0,f.width,f.height),e(f.toDataURL("image/jpeg",.7))):n(new Error("Canvas context error"))},o.onerror=f=>n(f)},r.onerror=s=>n(s)}),fq=({children:t,user:e})=>{const[n,r]=D.useState([]),[s,o]=D.useState([]),[u,f]=D.useState([]),[h,d]=D.useState([]),[g,b]=D.useState(localStorage.getItem("dressmup_user_model_url")),[_,E]=D.useState(!1),[C,N]=D.useState(!0);D.useEffect(()=>{g&&localStorage.setItem("dressmup_user_model_url",g)},[g]),D.useEffect(()=>{if(e){const O=XH(e.uid,Q=>{r(Q),N(!1)}),P=nq(e.uid,Q=>{o(Q)}),xe=JH(e.uid,Q=>{f(Q)}),De=aq(e.uid,Q=>{d(Q)});return()=>{O(),P(),xe(),De()}}else r([]),o([]),f([]),d([]),N(!1)},[e]);const j=D.useCallback(async O=>{if(e)try{const P=await lq(e.uid,O);b(P)}catch(P){throw console.error("Erreur mise  jour photo modle:",P),P}},[e]),U=D.useCallback(async O=>{if(!(O.length===0||!e)){E(!0);try{const P=O.map(fe=>cq(fe)),xe=await Promise.all(P),De=xe.map(fe=>fe.split(",")[1]),Q=await sL(De),se=Math.min(Q.length,O.length);for(let fe=0;fe<se;fe++){const we=Q[fe];let Ee="";try{Ee=await ZH(e.uid,{...we,createdAt:Date.now()});const B=await oq(e.uid,xe[fe],Ee);await XA(e.uid,Ee,{imageSrc:B})}catch(B){console.error(`chec pour ${O[fe].name}.`,B),Ee&&await ZA(e.uid,Ee)}}}catch(P){console.error("Erreur lot:",P)}finally{E(!1)}}},[e]),M=D.useCallback(async O=>{e&&await ZA(e.uid,O)},[e]),z=D.useCallback(async O=>{e&&await XA(e.uid,O.id,O)},[e]),G=D.useCallback(async O=>{if(!e)return;const{id:P,...xe}=O;await eq(e.uid,xe)},[e]),K=D.useCallback(async O=>{e&&await tq(e.uid,O)},[e]),H=D.useCallback(async(O,P)=>{var Q;if(!e)return;const xe=((Q=n.find(se=>se.id===P[0]))==null?void 0:Q.imageSrc)||"",De={name:O,itemIds:P,imageSrc:xe};await rq(e.uid,De)},[e,n]),A=D.useCallback(async O=>{e&&await iq(e.uid,O)},[e]),S=D.useCallback(async(O,P,xe)=>{e&&await sq(e.uid,O,P,xe)},[e]),I=D.useCallback(O=>h.filter(P=>P.itemIds.includes(O)).length,[h]),L=D.useCallback(()=>{const O=Date.now()-6048e5;return h.filter(P=>P.wornAt>=O).sort((P,xe)=>xe.wornAt-P.wornAt)},[h]),V={clothingItems:n,clothingSets:s,favoriteOutfits:u,wearHistory:h,userModelImage:g,setUserModelImage:b,updateUserModelPhoto:j,isAnalyzing:_,analyzeClothingItems:U,deleteClothingItem:M,updateClothingItem:z,createClothingSet:H,deleteClothingSet:A,addFavoriteOutfit:G,deleteFavoriteOutfit:K,recordOutfitWear:S,getItemWearCount:I,getWornOutfitsLast7Days:L,loading:C};return y.jsx(Ck.Provider,{value:V,children:t})},hq=()=>{const t=D.useContext(Ck);if(t===void 0)throw new Error("useWardrobe doit tre utilis  l'intrieur d'un WardrobeProvider");return t},dq={openWeatherApiKey:"074ebc9404ca1a72d5b0759070161539"},mq=({open:t,onClose:e,allClothingItems:n,allClothingSets:r,favoriteOutfits:s,onToggleFavorite:o,onGenerateVisual:u,generatingVisualFor:f,selectedOutfit:h,onSelectOutfit:d})=>{const g=document.documentElement.classList.contains("dark");return y.jsx(Su,{open:t,onDismiss:e,className:g?"dark":"",header:y.jsxs("div",{className:"flex items-center justify-between w-full",children:[y.jsx("h2",{className:"text-xl font-bold text-raisin-black dark:text-snow",children:" Tenues Favorites"}),y.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-full transition-colors",children:y.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),defaultSnap:({maxHeight:b})=>b*.65,snapPoints:({maxHeight:b})=>[b*.65,b*.85],children:y.jsx("div",{className:"p-6 bg-white dark:bg-raisin-black text-raisin-black dark:text-snow",children:s.length>0?y.jsx(Zl,{outfits:s,allClothingItems:n,allClothingSets:r,favoriteOutfits:s,onToggleFavorite:o,onGenerateVisual:u,generatingVisualFor:f,selectedOutfit:h,onSelectOutfit:d}):y.jsxs("div",{className:"text-center py-12",children:[y.jsx("p",{className:"text-gray-500",children:"Vous n'avez pas encore de tenues favorites."}),y.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Cliquez sur le cur  sur une tenue gnre pour l'ajouter."})]})})})},pq=({open:t,onClose:e,allClothingItems:n,allClothingSets:r,wornOutfits:s,favoriteOutfits:o,onToggleFavorite:u,onGenerateVisual:f,generatingVisualFor:h,selectedOutfit:d,onSelectOutfit:g})=>{const b=document.documentElement.classList.contains("dark"),_=D.useMemo(()=>s.map(E=>{const C=E.itemIds.map(N=>{const j=n.find(U=>U.id===N);return j?{id:j.id,description:j.analysis}:{id:N,description:"Article supprim"}});return{titre:E.outfitTitle,description:E.outfitDescription,vetements:C}}),[s,n]);return y.jsx(Su,{open:t,onDismiss:e,className:b?"dark":"",header:y.jsxs("div",{className:"flex items-center justify-between w-full",children:[y.jsx("h2",{className:"text-xl font-bold text-raisin-black dark:text-snow",children:" Tenues Portes"}),y.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-full transition-colors",children:y.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),defaultSnap:({maxHeight:E})=>E*.65,snapPoints:({maxHeight:E})=>[E*.65,E*.85],children:y.jsx("div",{className:"p-6 bg-white dark:bg-raisin-black text-raisin-black dark:text-snow",children:_.length>0?y.jsxs(y.Fragment,{children:[y.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Vos tenues portes ces 7 derniers jours"}),y.jsx(Zl,{outfits:_,allClothingItems:n,allClothingSets:r,favoriteOutfits:o,onToggleFavorite:u,onGenerateVisual:f,generatingVisualFor:h,selectedOutfit:d,onSelectOutfit:g})]}):y.jsxs("div",{className:"text-center py-12",children:[y.jsx("div",{className:"text-6xl mb-4",children:""}),y.jsx("p",{className:"text-gray-500 font-medium",children:"Vous n'avez pas encore port de tenue cette semaine."}),y.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Slectionnez une tenue en cliquant sur  pour l'ajouter  votre historique"})]})})})},Yd=!1,xo=t=>{const e=t instanceof Error?t.message:String(t);return e.includes("API_KEY_HTTP_REFERRER_BLOCKED")||e.includes("403")?" Accs refus par Google : Domaine non autoris. Vrifiez la console Google Cloud.":e.includes("429")||e.includes("payment method")||e.includes("throttled")?" Limite de gnration atteinte. Veuillez attendre quelques secondes ou ajouter un moyen de paiement sur Replicate.":e.includes("prediction")?" Erreur lors de la gnration visuelle. Le service est peut-tre surcharg.":e.includes("404")?" Modle introuvable. Veuillez ressayer plus tard.":e.includes("API_KEY_INVALID")?" Cl API invalide. Vrifiez votre configuration.":e},gq=()=>{const[t,e]=D.useState(null),[n,r]=D.useState(null),[s,o]=D.useState([]),[u,f]=D.useState(null),[h,d]=D.useState(!1),[g,b]=D.useState(null),[_,E]=D.useState(!1),[C,N]=D.useState(null),[j,U]=D.useState(!1),[M,z]=D.useState("home"),[G,K]=D.useState(!1),[H,A]=D.useState(!1),[S,I]=D.useState(!1),[L,V]=D.useState(!1),[O,P]=D.useState(!1),[xe,De]=D.useState(!1),[Q,se]=D.useState(null),[fe,we]=D.useState(null),[Ee,B]=D.useState(!1),[Z,ee]=D.useState(0),[re,de]=D.useState(null),[je,Se]=D.useState(null),[Dt,Et]=D.useState(!1),[Vn,wr]=D.useState(!1),[Pt,Ln]=D.useState(""),[xn,Cn]=D.useState("favorites"),[Rn,Qn]=D.useState(null);D.useEffect(()=>{if(n){const he=n.includes("Accs refus")?1e4:5e3,Re=setTimeout(()=>r(null),he);return()=>clearTimeout(Re)}},[n]);const[Pr,Mr]=D.useState(()=>!localStorage.getItem("dressmup_onboarding_complete")),{clothingItems:Xn,clothingSets:fr,isAnalyzing:Er,analyzeClothingItems:Vr,deleteClothingItem:bt,createClothingSet:hn,updateClothingItem:Fe,deleteClothingSet:Ot,favoriteOutfits:lt,addFavoriteOutfit:Gt,deleteFavoriteOutfit:vi,userModelImage:Ya,recordOutfitWear:wn,getItemWearCount:hr,getWornOutfitsLast7Days:an,loading:ue}=hq(),[ye,ve]=D.useState(null),ge=Sn.useMemo(()=>(Xn||[]).sort((Re,Ke)=>(Ke.isFavorite?1:0)-(Re.isFavorite?1:0)),[Xn]),Je=D.useCallback(he=>{const Re=lt.find(Ke=>Ke.titre===he.titre&&Ke.description===he.description);Re?(vi(Re.id),ve("Retir des favoris")):(Gt(he),ve("Ajout aux favoris ")),setTimeout(()=>ve(null),2e3)},[lt,Gt,vi]),Le=D.useCallback(he=>{if((u==null?void 0:u.titre)===he.titre&&(u==null?void 0:u.description)===he.description)f(null),ve("Slection annule");else{f(he),ve("Tenue choisie ");const Ke=he.vetements.map(Mt=>Mt.id);wn(he.titre,he.description,Ke)}setTimeout(()=>ve(null),2e3)},[u,wn]),Ce=Sn.useMemo(()=>fr||[],[fr]),et=Sn.useMemo(()=>new Set(Ce.flatMap(he=>he.itemIds||[])),[Ce]),Ge=D.useMemo(()=>an(),[an]);D.useEffect(()=>{const he=async Re=>{const Ke=Re.coords.latitude,Mt=Re.coords.longitude,Lr=dq.openWeatherApiKey,Ur=`https://api.openweathermap.org/data/2.5/weather?lat=${Ke}&lon=${Mt}&appid=${Lr}&units=metric&lang=fr`;try{const Zn=await fetch(Ur);if(!Zn.ok)throw new Error("Impossible de rcuprer la mto.");const Jn=await Zn.json(),er=`${Math.round(Jn.main.temp)}C, ${Jn.weather[0].description},  ${Jn.name}`;se(er),we(null)}catch{we("Mto indisponible.")}};navigator.geolocation?navigator.geolocation.getCurrentPosition(he,()=>we("Activez la golocalisation pour la mto.")):we("Golocalisation non supporte.")},[]);const ke=D.useCallback(async(he,Re)=>{if(ge.length===0){r("Veuillez d'abord ajouter des vtements.");return}d(!0),r(null);const Ke=Re||Rn,Mt=Q?`Mto actuelle : ${Q}. Occasion : ${he}`:`Occasion : ${he}`;try{const Lr=await oL(ge,Ce,Mt,Ke||void 0);o(Lr),Qn(null)}catch(Lr){r(xo(Lr))}finally{d(!1)}},[ge,Ce,Q,Rn]),He=D.useCallback(async(he,Re,Ke)=>{if(ge.length===0){r("Veuillez d'abord ajouter des vtements.");return}E(!0),r(null);try{const Mt=await fL(ge,Ce,he,Re,Ke);b(Mt)}catch(Mt){r(xo(Mt))}finally{E(!1)}},[ge,Ce]),Qt=D.useCallback(async()=>{if(ge.length<3){r("Ajoutez au moins 3 vtements pour une analyse.");return}U(!0),r(null);try{const he=await uL(ge,Ce);N(he)}catch(he){r(xo(he))}finally{U(!1)}},[ge,Ce]),En=D.useCallback(async he=>{},[ge,Ya]),$t=D.useCallback(()=>K(!0),[]),Tt=D.useCallback(()=>A(!0),[]),ut=he=>e(he),Un=()=>e(null),It=he=>{bt(he).catch(Re=>r(xo(Re))),e(null)},In=he=>{Fe(he).catch(Re=>r(xo(Re))),e(he)},Tr=he=>{Qn(he),e(null),K(!0)},Xt=D.useCallback((he,Re)=>{hn(he,Re).catch(Ke=>r(xo(Ke)))},[hn]),zn=D.useCallback(he=>{Ot(he).catch(Re=>r(xo(Re)))},[Ot]);D.useCallback(async()=>{B(!0),await new Promise(he=>setTimeout(he,1e3)),B(!1)},[]);const yi={hauts:ge.filter(he=>he.category==="Hauts").length,bas:ge.filter(he=>he.category==="Bas").length,chaussures:ge.filter(he=>he.category==="Chaussures").length,accessoires:ge.filter(he=>he.category==="Accessoires").length},Nn=D.useMemo(()=>{if(M==="home")return[];let he=ge.filter(Re=>M==="hauts"?Re.category==="Hauts":M==="bas"?Re.category==="Bas":M==="chaussures"?Re.category==="Chaussures":M==="accessoires"?Re.category==="Accessoires":!1);if(Pt.trim()){const Re=Pt.toLowerCase();he=he.filter(Ke=>Ke.analysis.toLowerCase().includes(Re)||Ke.color.toLowerCase().includes(Re)||Ke.material.toLowerCase().includes(Re))}return[...he].sort((Re,Ke)=>{switch(xn){case"favorites":return(Ke.isFavorite?1:0)-(Re.isFavorite?1:0);case"newest":return(Ke.createdAt||0)-(Re.createdAt||0);case"oldest":return(Re.createdAt||0)-(Ke.createdAt||0);case"color":return Re.color.localeCompare(Ke.color);default:return 0}})},[M,ge,Pt,xn]),_t=G||H||S||!!t||!!C||!!je||xe;return D.useEffect(()=>{const he=document.querySelector("header");he&&(he.style.zIndex=_t?"10":"50")},[_t]),D.useEffect(()=>{if(!Er&&ge.length>Z&&Z>0){const he=ge.length-Z;ve(`${he} vtement${he>1?"s":""} ajout${he>1?"s":""} `),setTimeout(()=>ve(null),2e3)}ee(ge.length)},[Er,ge.length]),y.jsxs("main",{className:"container mx-auto px-4 lg:px-8 py-10",children:[Yd,n&&y.jsxs("div",{className:"bg-red-500/20 border border-red-500 text-red-700 dark:text-red-300 px-4 py-3 rounded-lg relative mb-8 flex items-center justify-between shadow-sm animate-pulse",role:"alert",children:[y.jsxs("div",{className:"flex-1 mr-2",children:[y.jsx("strong",{className:"font-bold block mb-1",children:"Attention :"}),y.jsx("span",{className:"block text-sm leading-relaxed",children:n})]}),y.jsx("button",{onClick:()=>r(null),className:"p-1.5 hover:bg-red-500/30 rounded-full transition-colors flex-shrink-0","aria-label":"Fermer",children:y.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),y.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-10",children:[y.jsxs("div",{className:"lg:col-span-2 space-y-10",children:[Yd,ge.length>=3&&y.jsxs("div",{className:"hidden md:block bg-gradient-to-r from-gold/10 to-gold-dark/10 border-2 border-gold/30 rounded-xl p-4 md:p-6 flex flex-col md:flex-row items-start md:items-center gap-4 md:justify-between",children:[y.jsxs("div",{children:[y.jsx("h3",{className:"text-xl font-bold mb-2",children:" Besoin d'inspiration ?"}),y.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Dcouvrez quelles pices acheter pour rendre votre garde-robe plus polyvalente"})]}),y.jsx("button",{onClick:Qt,disabled:j,className:"px-4 md:px-6 py-3 bg-gradient-to-r from-gold to-gold-dark text-onyx rounded-xl hover:shadow-lg hover:shadow-gold/30 transition-all font-bold disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2 text-sm md:text-base flex-shrink-0",children:j?"Analyse...":"Analyser ma garde-robe"})]}),y.jsx("div",{className:"hidden md:block",children:y.jsx(Jz,{onAnalyze:Vr,isAnalyzing:Er})}),y.jsx("div",{className:"hidden md:block",children:y.jsx(rB,{clothingItems:ge,clothingSets:Ce,onItemClick:ut,onDeleteItem:It,onCreateSet:Xt,isLoading:ue})}),y.jsxs("div",{className:"md:hidden",children:[M==="home"&&y.jsx(GH,{onAnalyzeWardrobe:Qt,onScrollToOutfits:$t,onScrollToVacation:Tt,onStartSetCreation:()=>I(!0),onShowFavorites:()=>V(!0),onShowWornOutfits:()=>P(!0),isAnalyzingWardrobe:j,clothingCount:ge.length,favoriteOutfitCount:lt.length,wornOutfitCount:Ge.length}),M!=="home"&&y.jsxs("div",{className:"pb-24",children:[Ee&&y.jsx("div",{className:"flex justify-center py-4",children:y.jsxs("svg",{className:"animate-spin h-6 w-6 text-gold",fill:"none",viewBox:"0 0 24 24",children:[y.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),y.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}),y.jsxs("div",{className:"text-center py-4 px-4",children:[y.jsx("h2",{className:"text-2xl font-bold mb-1 capitalize",children:M}),y.jsxs("p",{className:"text-sm text-gray-500",children:[Nn.length," vtement",Nn.length>1?"s":""]})]}),y.jsxs("div",{className:"px-4 pb-4 space-y-3",children:[y.jsxs("div",{className:"relative",children:[y.jsx(QR,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),y.jsx("input",{type:"text",value:Pt,onChange:he=>Ln(he.target.value),placeholder:"Rechercher...",className:"w-full pl-10 pr-10 py-2.5 bg-white dark:bg-raisin-black border border-gray-200 dark:border-gray-700 rounded-xl focus:outline-none focus:ring-2 focus:ring-gold focus:border-transparent transition-all"}),Pt&&y.jsx("button",{onClick:()=>Ln(""),className:"absolute right-3 top-1/2 -translate-y-1/2 p-1 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-full transition-colors","aria-label":"Effacer",children:y.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),y.jsxs("div",{className:"relative",children:[y.jsx(XR,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400 pointer-events-none"}),y.jsxs("select",{value:xn,onChange:he=>Cn(he.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-white dark:bg-raisin-black border border-gray-200 dark:border-gray-700 rounded-xl focus:outline-none focus:ring-2 focus:ring-gold focus:border-transparent appearance-none cursor-pointer transition-all",children:[y.jsx("option",{value:"favorites",children:"Favoris d'abord"}),y.jsx("option",{value:"newest",children:"Plus rcents"}),y.jsx("option",{value:"oldest",children:"Plus anciens"}),y.jsx("option",{value:"color",children:"Couleur (A-Z)"})]}),y.jsx(Wc,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400 pointer-events-none"})]})]}),Nn.length>0?y.jsx("div",{className:"grid grid-cols-2 gap-3 px-4",children:Nn.map(he=>y.jsxs("div",{onClick:()=>ut(he),className:"relative bg-white dark:bg-gray-800 rounded-xl overflow-hidden shadow-lg cursor-pointer active:scale-95 transition-transform",children:[he.isFavorite?y.jsx("span",{className:"absolute top-2 left-2 p-1.5 bg-black/50 backdrop-blur-sm rounded-full text-red-500 z-10",children:y.jsx(lu,{className:"w-4 h-4"})}):et.has(he.id)?y.jsx("span",{className:"absolute top-2 left-2 p-1.5 bg-black/50 backdrop-blur-sm rounded-full text-white z-10",children:y.jsx(kp,{})}):null,y.jsx("div",{className:"aspect-square",children:y.jsx("img",{src:he.imageSrc,alt:he.analysis,loading:"lazy",className:"w-full h-full object-cover"})}),y.jsxs("div",{className:"p-3",children:[y.jsx("p",{className:"text-sm font-medium line-clamp-2",children:he.analysis}),y.jsx("p",{className:"text-xs text-gray-500 mt-1",children:he.color})]})]},he.id))}):y.jsx("div",{className:"text-center py-12 px-4",children:Pt?y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"text-6xl mb-4",children:""}),y.jsxs("p",{className:"text-gray-500 font-medium",children:['Aucun rsultat pour "',Pt,'"']}),y.jsx("button",{onClick:()=>Ln(""),className:"mt-3 text-gold font-medium",children:"Effacer la recherche"})]}):y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"text-6xl mb-4",children:""}),y.jsx("p",{className:"text-gray-500 font-medium",children:"Aucun vtement dans cette catgorie"}),y.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Appuyez sur + pour en ajouter"})]})})]})]})]}),y.jsxs("div",{className:"lg:col-span-1 space-y-10 lg:sticky lg:top-40 hidden md:block",children:[y.jsx("div",{id:"outfit-generator",children:y.jsx(CN,{clothingItems:ge,clothingSets:Ce,onGenerate:ke,isGenerating:h,weatherInfo:Q,weatherError:fe,anchorItem:Rn,onClearAnchor:()=>Qn(null)})}),s.length>0&&y.jsx(Zl,{outfits:s,allClothingItems:ge,allClothingSets:Ce,favoriteOutfits:lt,onToggleFavorite:Je,onGenerateVisual:En,generatingVisualFor:re,selectedOutfit:u,onSelectOutfit:Le}),lt.length>0&&y.jsxs("div",{className:"mt-10 border border-black/10 dark:border-white/10 rounded-xl overflow-hidden bg-white dark:bg-raisin-black shadow-sm",children:[y.jsxs("button",{onClick:()=>Et(!Dt),className:"w-full flex items-center justify-between p-5 hover:bg-gray-50 dark:hover:bg-white/5 transition-colors",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx(lu,{className:"text-gold w-5 h-5"}),y.jsxs("h2",{className:"text-xl font-serif font-bold text-raisin-black dark:text-snow",children:["Mes Favoris ",y.jsxs("span",{className:"text-sm font-sans font-normal text-gray-500",children:["(",lt.length,")"]})]})]}),y.jsx("div",{className:`transition-transform duration-300 ${Dt?"rotate-180":""} text-gray-400`,children:y.jsx(Wc,{})})]}),Dt&&y.jsx("div",{className:"p-4 border-t border-black/10 dark:border-white/10 bg-snow dark:bg-onyx/50 max-h-[600px] overflow-y-auto custom-scrollbar",children:y.jsx(Zl,{outfits:lt,allClothingItems:ge,allClothingSets:Ce,favoriteOutfits:lt,onToggleFavorite:Je,onGenerateVisual:En,generatingVisualFor:re,selectedOutfit:u,onSelectOutfit:Le})})]}),Ge.length>0&&y.jsxs("div",{className:"mt-10 border border-black/10 dark:border-white/10 rounded-xl overflow-hidden bg-white dark:bg-raisin-black shadow-sm",children:[y.jsxs("button",{onClick:()=>wr(!Vn),className:"w-full flex items-center justify-between p-5 hover:bg-gray-50 dark:hover:bg-white/5 transition-colors",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("svg",{className:"w-5 h-5 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),y.jsxs("h2",{className:"text-xl font-serif font-bold text-raisin-black dark:text-snow",children:["Tenues Portes ",y.jsxs("span",{className:"text-sm font-sans font-normal text-gray-500",children:["(7 derniers jours - ",Ge.length,")"]})]})]}),y.jsx("div",{className:`transition-transform duration-300 ${Vn?"rotate-180":""} text-gray-400`,children:y.jsx(Wc,{})})]}),Vn&&y.jsx("div",{className:"p-4 border-t border-black/10 dark:border-white/10 bg-snow dark:bg-onyx/50 max-h-[600px] overflow-y-auto custom-scrollbar",children:y.jsx(Zl,{outfits:Ge.map(he=>({titre:he.outfitTitle,description:he.outfitDescription,vetements:he.itemIds.map(Re=>{const Ke=ge.find(Mt=>Mt.id===Re);return{id:Re,description:Ke?Ke.analysis:"Article supprim"}})})),allClothingItems:ge,allClothingSets:Ce,favoriteOutfits:lt,onToggleFavorite:Je,onGenerateVisual:En,generatingVisualFor:re,selectedOutfit:u,onSelectOutfit:Le})})]}),y.jsx("div",{id:"vacation-planner",children:y.jsx(Sk,{clothingItems:ge,clothingSets:Ce,onGeneratePlan:He,isGenerating:_})}),g&&y.jsx(Ak,{plan:g,allClothingItems:ge,allClothingSets:Ce,onCreateSet:Xt})]})]}),t&&y.jsx(HH,{item:t,clothingSets:Ce,onClose:Un,onUpdate:In,onGenerateFrom:Tr,onRemoveSet:zn,onDelete:It,getItemWearCount:hr}),C&&y.jsx(KH,{analysis:C,onClose:()=>N(null)}),Yd,y.jsx(qH,{onFilesSelected:Vr,isAnalyzing:Er,isOtherModalOpen:_t}),y.jsx($H,{activeTab:M,onTabChange:z,counts:yi}),y.jsx(YH,{open:G,clothingItems:ge,clothingSets:Ce,onGenerate:ke,isGenerating:h,suggestedOutfits:s,onClose:()=>{K(!1),Qn(null)},weatherInfo:Q,weatherError:fe,favoriteOutfits:lt,onToggleFavorite:Je,onGenerateVisual:En,generatingVisualFor:re,selectedOutfit:u,onSelectOutfit:Le,anchorItem:Rn,onClearAnchor:()=>Qn(null)}),y.jsx(WH,{open:H,clothingItems:ge,clothingSets:Ce,onGeneratePlan:He,isGenerating:_,vacationPlan:g,onCreateSet:Xt,onClose:()=>A(!1)}),y.jsx(QH,{open:S,clothingItems:ge,clothingSets:Ce,onClose:()=>I(!1),onCreateSet:(he,Re)=>{Xt(he,Re),I(!1)}}),y.jsx(mq,{open:L,onClose:()=>V(!1),allClothingItems:ge,allClothingSets:Ce,favoriteOutfits:lt,onToggleFavorite:Je,onGenerateVisual:En,generatingVisualFor:re,selectedOutfit:u,onSelectOutfit:Le}),y.jsx(pq,{open:O,onClose:()=>P(!1),allClothingItems:ge,allClothingSets:Ce,wornOutfits:Ge,favoriteOutfits:lt,onToggleFavorite:Je,onGenerateVisual:En,generatingVisualFor:re,selectedOutfit:u,onSelectOutfit:Le}),Yd,Pr&&y.jsx(hO,{onComplete:()=>Mr(!1)}),ye&&y.jsx("div",{className:"fixed bottom-32 md:bottom-8 left-1/2 -translate-x-1/2 z-[100]",children:y.jsxs("div",{className:"bg-raisin-black dark:bg-white text-white dark:text-raisin-black px-6 py-3 rounded-full shadow-2xl font-medium flex items-center gap-2 animate-slide-up",children:[ye.includes("")&&y.jsx("span",{className:"animate-pulse",children:""}),ye.includes("Retir")&&y.jsx("span",{children:""}),ye.includes("ajout")&&!ye.includes("")&&y.jsx("span",{children:""}),y.jsx("span",{children:ye.replace("","").trim()})]})})]})},vq=()=>{const[t,e]=D.useState(null),[n,r]=D.useState("dark"),[s,o]=D.useState(!1);D.useEffect(()=>{const f=Qj(Eo,h=>{e(h),h&&o(!1)});return()=>f()},[]),D.useEffect(()=>{n==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[n]);const u=()=>{r(f=>f==="light"?"dark":"light")};return y.jsx("div",{className:"min-h-screen bg-snow dark:bg-onyx text-raisin-black dark:text-snow transition-colors duration-300",children:t?y.jsxs(y.Fragment,{children:[y.jsx(xL,{theme:n,toggleTheme:u,children:y.jsx(WT,{user:t})}),y.jsx(fq,{user:t,children:y.jsx(gq,{})})]}):s?y.jsx("div",{className:"flex items-center justify-center min-h-screen p-4 animate-slide-up",children:y.jsxs("div",{className:"w-full max-w-md",children:[y.jsx("button",{onClick:()=>o(!1),className:"mb-4 flex items-center gap-2 text-gray-500 hover:text-gold transition-colors text-sm font-medium",children:" Retour"}),y.jsx(WT,{user:t})]})}):y.jsx(Zz,{onGetStarted:()=>o(!0)})})},Rk=document.getElementById("root");if(!Rk)throw new Error("L'lment root est introuvable dans le DOM");const yq=fO.createRoot(Rk);yq.render(y.jsx(Sn.StrictMode,{children:y.jsx(vq,{})}));
