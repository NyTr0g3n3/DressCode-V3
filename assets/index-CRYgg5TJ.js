(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function b2(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Jv={exports:{}},Ec={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d1;function xO(){if(d1)return Ec;d1=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,s,o){var u=null;if(o!==void 0&&(u=""+o),s.key!==void 0&&(u=""+s.key),"key"in s){o={};for(var d in s)d!=="key"&&(o[d]=s[d])}else o=s;return s=o.ref,{$$typeof:t,type:r,key:u,ref:s!==void 0?s:null,props:o}}return Ec.Fragment=e,Ec.jsx=n,Ec.jsxs=n,Ec}var f1;function EO(){return f1||(f1=1,Jv.exports=xO()),Jv.exports}var y=EO(),ey={exports:{}},Fe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h1;function TO(){if(h1)return Fe;h1=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),_=Symbol.iterator;function E(B){return B===null||typeof B!="object"?null:(B=_&&B[_]||B["@@iterator"],typeof B=="function"?B:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,D={};function U(B,Z,ee){this.props=B,this.context=Z,this.refs=D,this.updater=ee||C}U.prototype.isReactComponent={},U.prototype.setState=function(B,Z){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,Z,"setState")},U.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function M(){}M.prototype=U.prototype;function z(B,Z,ee){this.props=B,this.context=Z,this.refs=D,this.updater=ee||C}var G=z.prototype=new M;G.constructor=z,N(G,U.prototype),G.isPureReactComponent=!0;var K=Array.isArray;function H(){}var A={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function R(B,Z,ee){var re=ee.ref;return{$$typeof:t,type:B,key:Z,ref:re!==void 0?re:null,props:ee}}function L(B,Z){return R(B.type,Z,B.props)}function V(B){return typeof B=="object"&&B!==null&&B.$$typeof===t}function O(B){var Z={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(ee){return Z[ee]})}var j=/\/+/g;function ve(B,Z){return typeof B=="object"&&B!==null&&B.key!=null?O(""+B.key):Z.toString(36)}function Ce(B){switch(B.status){case"fulfilled":return B.value;case"rejected":throw B.reason;default:switch(typeof B.status=="string"?B.then(H,H):(B.status="pending",B.then(function(Z){B.status==="pending"&&(B.status="fulfilled",B.value=Z)},function(Z){B.status==="pending"&&(B.status="rejected",B.reason=Z)})),B.status){case"fulfilled":return B.value;case"rejected":throw B.reason}}throw B}function Q(B,Z,ee,re,me){var Pe=typeof B;(Pe==="undefined"||Pe==="boolean")&&(B=null);var Se=!1;if(B===null)Se=!0;else switch(Pe){case"bigint":case"string":case"number":Se=!0;break;case"object":switch(B.$$typeof){case t:case e:Se=!0;break;case g:return Se=B._init,Q(Se(B._payload),Z,ee,re,me)}}if(Se)return me=me(B),Se=re===""?"."+ve(B,0):re,K(me)?(ee="",Se!=null&&(ee=Se.replace(j,"$&/")+"/"),Q(me,Z,ee,"",function(jn){return jn})):me!=null&&(V(me)&&(me=L(me,ee+(me.key==null||B&&B.key===me.key?"":(""+me.key).replace(j,"$&/")+"/")+Se)),Z.push(me)),1;Se=0;var Nt=re===""?".":re+":";if(K(B))for(var wt=0;wt<B.length;wt++)re=B[wt],Pe=Nt+ve(re,wt),Se+=Q(re,Z,ee,Pe,me);else if(wt=E(B),typeof wt=="function")for(B=wt.call(B),wt=0;!(re=B.next()).done;)re=re.value,Pe=Nt+ve(re,wt++),Se+=Q(re,Z,ee,Pe,me);else if(Pe==="object"){if(typeof B.then=="function")return Q(Ce(B),Z,ee,re,me);throw Z=String(B),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return Se}function se(B,Z,ee){if(B==null)return B;var re=[],me=0;return Q(B,re,"","",function(Pe){return Z.call(ee,Pe,me++)}),re}function de(B){if(B._status===-1){var Z=B._result;Z=Z(),Z.then(function(ee){(B._status===0||B._status===-1)&&(B._status=1,B._result=ee)},function(ee){(B._status===0||B._status===-1)&&(B._status=2,B._result=ee)}),B._status===-1&&(B._status=0,B._result=Z)}if(B._status===1)return B._result.default;throw B._result}var xe=typeof reportError=="function"?reportError:function(B){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof B=="object"&&B!==null&&typeof B.message=="string"?String(B.message):String(B),error:B});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",B);return}console.error(B)},Ee={map:se,forEach:function(B,Z,ee){se(B,function(){Z.apply(this,arguments)},ee)},count:function(B){var Z=0;return se(B,function(){Z++}),Z},toArray:function(B){return se(B,function(Z){return Z})||[]},only:function(B){if(!V(B))throw Error("React.Children.only expected to receive a single React element child.");return B}};return Fe.Activity=b,Fe.Children=Ee,Fe.Component=U,Fe.Fragment=n,Fe.Profiler=s,Fe.PureComponent=z,Fe.StrictMode=r,Fe.Suspense=f,Fe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=A,Fe.__COMPILER_RUNTIME={__proto__:null,c:function(B){return A.H.useMemoCache(B)}},Fe.cache=function(B){return function(){return B.apply(null,arguments)}},Fe.cacheSignal=function(){return null},Fe.cloneElement=function(B,Z,ee){if(B==null)throw Error("The argument must be a React element, but you passed "+B+".");var re=N({},B.props),me=B.key;if(Z!=null)for(Pe in Z.key!==void 0&&(me=""+Z.key),Z)!S.call(Z,Pe)||Pe==="key"||Pe==="__self"||Pe==="__source"||Pe==="ref"&&Z.ref===void 0||(re[Pe]=Z[Pe]);var Pe=arguments.length-2;if(Pe===1)re.children=ee;else if(1<Pe){for(var Se=Array(Pe),Nt=0;Nt<Pe;Nt++)Se[Nt]=arguments[Nt+2];re.children=Se}return R(B.type,me,re)},Fe.createContext=function(B){return B={$$typeof:u,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null},B.Provider=B,B.Consumer={$$typeof:o,_context:B},B},Fe.createElement=function(B,Z,ee){var re,me={},Pe=null;if(Z!=null)for(re in Z.key!==void 0&&(Pe=""+Z.key),Z)S.call(Z,re)&&re!=="key"&&re!=="__self"&&re!=="__source"&&(me[re]=Z[re]);var Se=arguments.length-2;if(Se===1)me.children=ee;else if(1<Se){for(var Nt=Array(Se),wt=0;wt<Se;wt++)Nt[wt]=arguments[wt+2];me.children=Nt}if(B&&B.defaultProps)for(re in Se=B.defaultProps,Se)me[re]===void 0&&(me[re]=Se[re]);return R(B,Pe,me)},Fe.createRef=function(){return{current:null}},Fe.forwardRef=function(B){return{$$typeof:d,render:B}},Fe.isValidElement=V,Fe.lazy=function(B){return{$$typeof:g,_payload:{_status:-1,_result:B},_init:de}},Fe.memo=function(B,Z){return{$$typeof:h,type:B,compare:Z===void 0?null:Z}},Fe.startTransition=function(B){var Z=A.T,ee={};A.T=ee;try{var re=B(),me=A.S;me!==null&&me(ee,re),typeof re=="object"&&re!==null&&typeof re.then=="function"&&re.then(H,xe)}catch(Pe){xe(Pe)}finally{Z!==null&&ee.types!==null&&(Z.types=ee.types),A.T=Z}},Fe.unstable_useCacheRefresh=function(){return A.H.useCacheRefresh()},Fe.use=function(B){return A.H.use(B)},Fe.useActionState=function(B,Z,ee){return A.H.useActionState(B,Z,ee)},Fe.useCallback=function(B,Z){return A.H.useCallback(B,Z)},Fe.useContext=function(B){return A.H.useContext(B)},Fe.useDebugValue=function(){},Fe.useDeferredValue=function(B,Z){return A.H.useDeferredValue(B,Z)},Fe.useEffect=function(B,Z){return A.H.useEffect(B,Z)},Fe.useEffectEvent=function(B){return A.H.useEffectEvent(B)},Fe.useId=function(){return A.H.useId()},Fe.useImperativeHandle=function(B,Z,ee){return A.H.useImperativeHandle(B,Z,ee)},Fe.useInsertionEffect=function(B,Z){return A.H.useInsertionEffect(B,Z)},Fe.useLayoutEffect=function(B,Z){return A.H.useLayoutEffect(B,Z)},Fe.useMemo=function(B,Z){return A.H.useMemo(B,Z)},Fe.useOptimistic=function(B,Z){return A.H.useOptimistic(B,Z)},Fe.useReducer=function(B,Z,ee){return A.H.useReducer(B,Z,ee)},Fe.useRef=function(B){return A.H.useRef(B)},Fe.useState=function(B){return A.H.useState(B)},Fe.useSyncExternalStore=function(B,Z,ee){return A.H.useSyncExternalStore(B,Z,ee)},Fe.useTransition=function(){return A.H.useTransition()},Fe.version="19.2.1",Fe}var m1;function Z0(){return m1||(m1=1,ey.exports=TO()),ey.exports}var P=Z0();const Sn=b2(P);var ty={exports:{}},Tc={},ny={exports:{}},ry={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p1;function SO(){return p1||(p1=1,(function(t){function e(Q,se){var de=Q.length;Q.push(se);e:for(;0<de;){var xe=de-1>>>1,Ee=Q[xe];if(0<s(Ee,se))Q[xe]=se,Q[de]=Ee,de=xe;else break e}}function n(Q){return Q.length===0?null:Q[0]}function r(Q){if(Q.length===0)return null;var se=Q[0],de=Q.pop();if(de!==se){Q[0]=de;e:for(var xe=0,Ee=Q.length,B=Ee>>>1;xe<B;){var Z=2*(xe+1)-1,ee=Q[Z],re=Z+1,me=Q[re];if(0>s(ee,de))re<Ee&&0>s(me,ee)?(Q[xe]=me,Q[re]=de,xe=re):(Q[xe]=ee,Q[Z]=de,xe=Z);else if(re<Ee&&0>s(me,de))Q[xe]=me,Q[re]=de,xe=re;else break e}}return se}function s(Q,se){var de=Q.sortIndex-se.sortIndex;return de!==0?de:Q.id-se.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,d=u.now();t.unstable_now=function(){return u.now()-d}}var f=[],h=[],g=1,b=null,_=3,E=!1,C=!1,N=!1,D=!1,U=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;function G(Q){for(var se=n(h);se!==null;){if(se.callback===null)r(h);else if(se.startTime<=Q)r(h),se.sortIndex=se.expirationTime,e(f,se);else break;se=n(h)}}function K(Q){if(N=!1,G(Q),!C)if(n(f)!==null)C=!0,H||(H=!0,O());else{var se=n(h);se!==null&&Ce(K,se.startTime-Q)}}var H=!1,A=-1,S=5,R=-1;function L(){return D?!0:!(t.unstable_now()-R<S)}function V(){if(D=!1,H){var Q=t.unstable_now();R=Q;var se=!0;try{e:{C=!1,N&&(N=!1,M(A),A=-1),E=!0;var de=_;try{t:{for(G(Q),b=n(f);b!==null&&!(b.expirationTime>Q&&L());){var xe=b.callback;if(typeof xe=="function"){b.callback=null,_=b.priorityLevel;var Ee=xe(b.expirationTime<=Q);if(Q=t.unstable_now(),typeof Ee=="function"){b.callback=Ee,G(Q),se=!0;break t}b===n(f)&&r(f),G(Q)}else r(f);b=n(f)}if(b!==null)se=!0;else{var B=n(h);B!==null&&Ce(K,B.startTime-Q),se=!1}}break e}finally{b=null,_=de,E=!1}se=void 0}}finally{se?O():H=!1}}}var O;if(typeof z=="function")O=function(){z(V)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,ve=j.port2;j.port1.onmessage=V,O=function(){ve.postMessage(null)}}else O=function(){U(V,0)};function Ce(Q,se){A=U(function(){Q(t.unstable_now())},se)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Q){Q.callback=null},t.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<Q?Math.floor(1e3/Q):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_next=function(Q){switch(_){case 1:case 2:case 3:var se=3;break;default:se=_}var de=_;_=se;try{return Q()}finally{_=de}},t.unstable_requestPaint=function(){D=!0},t.unstable_runWithPriority=function(Q,se){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var de=_;_=Q;try{return se()}finally{_=de}},t.unstable_scheduleCallback=function(Q,se,de){var xe=t.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?xe+de:xe):de=xe,Q){case 1:var Ee=-1;break;case 2:Ee=250;break;case 5:Ee=1073741823;break;case 4:Ee=1e4;break;default:Ee=5e3}return Ee=de+Ee,Q={id:g++,callback:se,priorityLevel:Q,startTime:de,expirationTime:Ee,sortIndex:-1},de>xe?(Q.sortIndex=de,e(h,Q),n(f)===null&&Q===n(h)&&(N?(M(A),A=-1):N=!0,Ce(K,de-xe))):(Q.sortIndex=Ee,e(f,Q),C||E||(C=!0,H||(H=!0,O()))),Q},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(Q){var se=_;return function(){var de=_;_=se;try{return Q.apply(this,arguments)}finally{_=de}}}})(ry)),ry}var g1;function AO(){return g1||(g1=1,ny.exports=SO()),ny.exports}var iy={exports:{}},Yn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v1;function CO(){if(v1)return Yn;v1=1;var t=Z0();function e(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)h+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(f,h,g){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:b==null?null:""+b,children:f,containerInfo:h,implementation:g}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(f,h){if(f==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Yn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Yn.createPortal=function(f,h){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return o(f,h,null,g)},Yn.flushSync=function(f){var h=u.T,g=r.p;try{if(u.T=null,r.p=2,f)return f()}finally{u.T=h,r.p=g,r.d.f()}},Yn.preconnect=function(f,h){typeof f=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(f,h))},Yn.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},Yn.preinit=function(f,h){if(typeof f=="string"&&h&&typeof h.as=="string"){var g=h.as,b=d(g,h.crossOrigin),_=typeof h.integrity=="string"?h.integrity:void 0,E=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;g==="style"?r.d.S(f,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:b,integrity:_,fetchPriority:E}):g==="script"&&r.d.X(f,{crossOrigin:b,integrity:_,fetchPriority:E,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Yn.preinitModule=function(f,h){if(typeof f=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var g=d(h.as,h.crossOrigin);r.d.M(f,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(f)},Yn.preload=function(f,h){if(typeof f=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var g=h.as,b=d(g,h.crossOrigin);r.d.L(f,g,{crossOrigin:b,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Yn.preloadModule=function(f,h){if(typeof f=="string")if(h){var g=d(h.as,h.crossOrigin);r.d.m(f,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(f)},Yn.requestFormReset=function(f){r.d.r(f)},Yn.unstable_batchedUpdates=function(f,h){return f(h)},Yn.useFormState=function(f,h,g){return u.H.useFormState(f,h,g)},Yn.useFormStatus=function(){return u.H.useHostTransitionStatus()},Yn.version="19.2.1",Yn}var y1;function _2(){if(y1)return iy.exports;y1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),iy.exports=CO(),iy.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b1;function RO(){if(b1)return Tc;b1=1;var t=AO(),e=Z0(),n=_2();function r(i){var a="https://react.dev/errors/"+i;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var a=i,l=i;if(i.alternate)for(;a.return;)a=a.return;else{i=a;do a=i,(a.flags&4098)!==0&&(l=a.return),i=a.return;while(i)}return a.tag===3?l:null}function u(i){if(i.tag===13){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function d(i){if(i.tag===31){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function f(i){if(o(i)!==i)throw Error(r(188))}function h(i){var a=i.alternate;if(!a){if(a=o(i),a===null)throw Error(r(188));return a!==i?null:i}for(var l=i,c=a;;){var p=l.return;if(p===null)break;var v=p.alternate;if(v===null){if(c=p.return,c!==null){l=c;continue}break}if(p.child===v.child){for(v=p.child;v;){if(v===l)return f(p),i;if(v===c)return f(p),a;v=v.sibling}throw Error(r(188))}if(l.return!==c.return)l=p,c=v;else{for(var x=!1,I=p.child;I;){if(I===l){x=!0,l=p,c=v;break}if(I===c){x=!0,c=p,l=v;break}I=I.sibling}if(!x){for(I=v.child;I;){if(I===l){x=!0,l=v,c=p;break}if(I===c){x=!0,c=v,l=p;break}I=I.sibling}if(!x)throw Error(r(189))}}if(l.alternate!==c)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?i:a}function g(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i;for(i=i.child;i!==null;){if(a=g(i),a!==null)return a;i=i.sibling}return null}var b=Object.assign,_=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),M=Symbol.for("react.consumer"),z=Symbol.for("react.context"),G=Symbol.for("react.forward_ref"),K=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function O(i){return i===null||typeof i!="object"?null:(i=V&&i[V]||i["@@iterator"],typeof i=="function"?i:null)}var j=Symbol.for("react.client.reference");function ve(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===j?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case N:return"Fragment";case U:return"Profiler";case D:return"StrictMode";case K:return"Suspense";case H:return"SuspenseList";case R:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case C:return"Portal";case z:return i.displayName||"Context";case M:return(i._context.displayName||"Context")+".Consumer";case G:var a=i.render;return i=i.displayName,i||(i=a.displayName||a.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case A:return a=i.displayName||null,a!==null?a:ve(i.type)||"Memo";case S:a=i._payload,i=i._init;try{return ve(i(a))}catch{}}return null}var Ce=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},xe=[],Ee=-1;function B(i){return{current:i}}function Z(i){0>Ee||(i.current=xe[Ee],xe[Ee]=null,Ee--)}function ee(i,a){Ee++,xe[Ee]=i.current,i.current=a}var re=B(null),me=B(null),Pe=B(null),Se=B(null);function Nt(i,a){switch(ee(Pe,a),ee(me,i),ee(re,null),a.nodeType){case 9:case 11:i=(i=a.documentElement)&&(i=i.namespaceURI)?PE(i):0;break;default:if(i=a.tagName,a=a.namespaceURI)a=PE(a),i=jE(a,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}Z(re),ee(re,i)}function wt(){Z(re),Z(me),Z(Pe)}function jn(i){i.memoizedState!==null&&ee(Se,i);var a=re.current,l=jE(a,i.type);a!==l&&(ee(me,i),ee(re,l))}function yr(i){me.current===i&&(Z(re),Z(me)),Se.current===i&&(Z(Se),bc._currentValue=de)}var Pt,Mn;function wn(i){if(Pt===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);Pt=a&&a[1]||"",Mn=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Pt+i+Mn}var Cn=!1;function rr(i,a){if(!i||Cn)return"";Cn=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(a){var le=function(){throw Error()};if(Object.defineProperty(le.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(le,[])}catch(te){var J=te}Reflect.construct(i,[],le)}else{try{le.call()}catch(te){J=te}i.call(le.prototype)}}else{try{throw Error()}catch(te){J=te}(le=i())&&typeof le.catch=="function"&&le.catch(function(){})}}catch(te){if(te&&J&&typeof te.stack=="string")return[te.stack,J.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=c.DetermineComponentFrameRoot(),x=v[0],I=v[1];if(x&&I){var F=x.split(`
`),X=I.split(`
`);for(p=c=0;c<F.length&&!F[c].includes("DetermineComponentFrameRoot");)c++;for(;p<X.length&&!X[p].includes("DetermineComponentFrameRoot");)p++;if(c===F.length||p===X.length)for(c=F.length-1,p=X.length-1;1<=c&&0<=p&&F[c]!==X[p];)p--;for(;1<=c&&0<=p;c--,p--)if(F[c]!==X[p]){if(c!==1||p!==1)do if(c--,p--,0>p||F[c]!==X[p]){var ie=`
`+F[c].replace(" at new "," at ");return i.displayName&&ie.includes("<anonymous>")&&(ie=ie.replace("<anonymous>",i.displayName)),ie}while(1<=c&&0<=p);break}}}finally{Cn=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?wn(l):""}function Zr(i,a){switch(i.tag){case 26:case 27:case 5:return wn(i.type);case 16:return wn("Lazy");case 13:return i.child!==a&&a!==null?wn("Suspense Fallback"):wn("Suspense");case 19:return wn("SuspenseList");case 0:case 15:return rr(i.type,!1);case 11:return rr(i.type.render,!1);case 1:return rr(i.type,!0);case 31:return wn("Activity");default:return""}}function br(i){try{var a="",l=null;do a+=Zr(i,l),l=i,i=i.return;while(i);return a}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var _r=Object.prototype.hasOwnProperty,Rn=t.unstable_scheduleCallback,ir=t.unstable_cancelCallback,vi=t.unstable_shouldYield,Mr=t.unstable_requestPaint,yt=t.unstable_now,dn=t.unstable_getCurrentPriorityLevel,ke=t.unstable_ImmediatePriority,kt=t.unstable_UserBlockingPriority,Gt=t.unstable_NormalPriority,Wt=t.unstable_LowPriority,yi=t.unstable_IdlePriority,Wa=t.log,xn=t.unstable_setDisableYieldValue,sr=null,jt=null;function ae(i){if(typeof Wa=="function"&&xn(i),jt&&typeof jt.setStrictMode=="function")try{jt.setStrictMode(sr,i)}catch{}}var fe=Math.clz32?Math.clz32:De,ye=Math.log,Ue=Math.LN2;function De(i){return i>>>=0,i===0?32:31-(ye(i)/Ue|0)|0}var Ke=256,qe=262144,Qe=4194304;function Xe(i){var a=i&42;if(a!==0)return a;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Ne(i,a,l){var c=i.pendingLanes;if(c===0)return 0;var p=0,v=i.suspendedLanes,x=i.pingedLanes;i=i.warmLanes;var I=c&134217727;return I!==0?(c=I&~v,c!==0?p=Xe(c):(x&=I,x!==0?p=Xe(x):l||(l=I&~i,l!==0&&(p=Xe(l))))):(I=c&~v,I!==0?p=Xe(I):x!==0?p=Xe(x):l||(l=c&~i,l!==0&&(p=Xe(l)))),p===0?0:a!==0&&a!==p&&(a&v)===0&&(v=p&-p,l=a&-a,v>=l||v===32&&(l&4194048)!==0)?a:p}function ze(i,a){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&a)===0}function rn(i,a){switch(i){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wr(){var i=Qe;return Qe<<=1,(Qe&62914560)===0&&(Qe=4194304),i}function Ft(i){for(var a=[],l=0;31>l;l++)a.push(i);return a}function xt(i,a){i.pendingLanes|=a,a!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function lt(i,a,l,c,p,v){var x=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var I=i.entanglements,F=i.expirationTimes,X=i.hiddenUpdates;for(l=x&~l;0<l;){var ie=31-fe(l),le=1<<ie;I[ie]=0,F[ie]=-1;var J=X[ie];if(J!==null)for(X[ie]=null,ie=0;ie<J.length;ie++){var te=J[ie];te!==null&&(te.lane&=-536870913)}l&=~le}c!==0&&Vn(i,c,0),v!==0&&p===0&&i.tag!==0&&(i.suspendedLanes|=v&~(x&~a))}function Vn(i,a,l){i.pendingLanes|=a,i.suspendedLanes&=~a;var c=31-fe(a);i.entangledLanes|=a,i.entanglements[c]=i.entanglements[c]|1073741824|l&261930}function Dt(i,a){var l=i.entangledLanes|=a;for(i=i.entanglements;l;){var c=31-fe(l),p=1<<c;p&a|i[c]&a&&(i[c]|=a),l&=~p}}function sn(i,a){var l=a&-a;return l=(l&42)!==0?1:xr(l),(l&(i.suspendedLanes|a))!==0?0:l}function xr(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function En(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function fn(){var i=se.p;return i!==0?i:(i=window.event,i===void 0?32:i1(i.type))}function Vr(i,a){var l=se.p;try{return se.p=i,a()}finally{se.p=l}}var he=Math.random().toString(36).slice(2),_e="__reactFiber$"+he,Le="__reactProps$"+he,Ct="__reactContainer$"+he,Er="__reactEvents$"+he,ar="__reactListeners$"+he,bi="__reactHandles$"+he,or="__reactResources$"+he,Tr="__reactMarker$"+he;function Jr(i){delete i[_e],delete i[Le],delete i[Er],delete i[ar],delete i[bi]}function Sr(i){var a=i[_e];if(a)return a;for(var l=i.parentNode;l;){if(a=l[Ct]||l[_e]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(i=FE(i);i!==null;){if(l=i[_e])return l;i=FE(i)}return a}i=l,l=i.parentNode}return null}function ei(i){if(i=i[_e]||i[Ct]){var a=i.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return i}return null}function Mi(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i.stateNode;throw Error(r(33))}function lr(i){var a=i[or];return a||(a=i[or]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Ht(i){i[Tr]=!0}var _i=new Set,wi={};function ur(i,a){Vi(i,a),Vi(i+"Capture",a)}function Vi(i,a){for(wi[i]=a,i=0;i<a.length;i++)_i.add(a[i])}var eg=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Nu={},ku={};function rf(i){return _r.call(ku,i)?!0:_r.call(Nu,i)?!1:eg.test(i)?ku[i]=!0:(Nu[i]=!0,!1)}function Ms(i,a,l){if(rf(a))if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(a);return;case"boolean":var c=a.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){i.removeAttribute(a);return}}i.setAttribute(a,""+l)}}function Vs(i,a,l){if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttribute(a,""+l)}}function ti(i,a,l,c){if(c===null)i.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(a,l,""+c)}}function cr(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function sf(i){var a=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function tg(i,a,l){var c=Object.getOwnPropertyDescriptor(i.constructor.prototype,a);if(!i.hasOwnProperty(a)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var p=c.get,v=c.set;return Object.defineProperty(i,a,{configurable:!0,get:function(){return p.call(this)},set:function(x){l=""+x,v.call(this,x)}}),Object.defineProperty(i,a,{enumerable:c.enumerable}),{getValue:function(){return l},setValue:function(x){l=""+x},stopTracking:function(){i._valueTracker=null,delete i[a]}}}}function Qo(i){if(!i._valueTracker){var a=sf(i)?"checked":"value";i._valueTracker=tg(i,a,""+i[a])}}function Du(i){if(!i)return!1;var a=i._valueTracker;if(!a)return!0;var l=a.getValue(),c="";return i&&(c=sf(i)?i.checked?"true":"false":i.value),i=c,i!==l?(a.setValue(i),!0):!1}function Xo(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var rs=/[\n"\\]/g;function Qt(i){return i.replace(rs,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Ls(i,a,l,c,p,v,x,I){i.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?i.type=x:i.removeAttribute("type"),a!=null?x==="number"?(a===0&&i.value===""||i.value!=a)&&(i.value=""+cr(a)):i.value!==""+cr(a)&&(i.value=""+cr(a)):x!=="submit"&&x!=="reset"||i.removeAttribute("value"),a!=null?Zo(i,x,cr(a)):l!=null?Zo(i,x,cr(l)):c!=null&&i.removeAttribute("value"),p==null&&v!=null&&(i.defaultChecked=!!v),p!=null&&(i.checked=p&&typeof p!="function"&&typeof p!="symbol"),I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?i.name=""+cr(I):i.removeAttribute("name")}function Qa(i,a,l,c,p,v,x,I){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(i.type=v),a!=null||l!=null){if(!(v!=="submit"&&v!=="reset"||a!=null)){Qo(i);return}l=l!=null?""+cr(l):"",a=a!=null?""+cr(a):l,I||a===i.value||(i.value=a),i.defaultValue=a}c=c??p,c=typeof c!="function"&&typeof c!="symbol"&&!!c,i.checked=I?i.checked:!!c,i.defaultChecked=!!c,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(i.name=x),Qo(i)}function Zo(i,a,l){a==="number"&&Xo(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function ut(i,a,l,c){if(i=i.options,a){a={};for(var p=0;p<l.length;p++)a["$"+l[p]]=!0;for(l=0;l<i.length;l++)p=a.hasOwnProperty("$"+i[l].value),i[l].selected!==p&&(i[l].selected=p),p&&c&&(i[l].defaultSelected=!0)}else{for(l=""+cr(l),a=null,p=0;p<i.length;p++){if(i[p].value===l){i[p].selected=!0,c&&(i[p].defaultSelected=!0);return}a!==null||i[p].disabled||(a=i[p])}a!==null&&(a.selected=!0)}}function Xa(i,a,l){if(a!=null&&(a=""+cr(a),a!==i.value&&(i.value=a),l==null)){i.defaultValue!==a&&(i.defaultValue=a);return}i.defaultValue=l!=null?""+cr(l):""}function Us(i,a,l,c){if(a==null){if(c!=null){if(l!=null)throw Error(r(92));if(Ce(c)){if(1<c.length)throw Error(r(93));c=c[0]}l=c}l==null&&(l=""),a=l}l=cr(a),i.defaultValue=l,c=i.textContent,c===l&&c!==""&&c!==null&&(i.value=c),Qo(i)}function ni(i,a){if(a){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=a;return}}i.textContent=a}var ng=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ou(i,a,l){var c=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?i.setProperty(a,""):a==="float"?i.cssFloat="":i[a]="":c?i.setProperty(a,l):typeof l!="number"||l===0||ng.has(a)?a==="float"?i.cssFloat=l:i[a]=(""+l).trim():i[a]=l+"px"}function af(i,a,l){if(a!=null&&typeof a!="object")throw Error(r(62));if(i=i.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||a!=null&&a.hasOwnProperty(c)||(c.indexOf("--")===0?i.setProperty(c,""):c==="float"?i.cssFloat="":i[c]="");for(var p in a)c=a[p],a.hasOwnProperty(p)&&l[p]!==c&&Ou(i,p,c)}else for(var v in a)a.hasOwnProperty(v)&&Ou(i,v,a[v])}function Pu(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ig=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Li(i){return ig.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function In(){}var Jo=null;function el(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var is=null,Lr=null;function of(i){var a=ei(i);if(a&&(i=a.stateNode)){var l=i[Le]||null;e:switch(i=a.stateNode,a.type){case"input":if(Ls(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Qt(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var c=l[a];if(c!==i&&c.form===i.form){var p=c[Le]||null;if(!p)throw Error(r(90));Ls(c,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(a=0;a<l.length;a++)c=l[a],c.form===i.form&&Du(c)}break e;case"textarea":Xa(i,l.value,l.defaultValue);break e;case"select":a=l.value,a!=null&&ut(i,!!l.multiple,a,!1)}}}var ju=!1;function lf(i,a,l){if(ju)return i(a,l);ju=!0;try{var c=i(a);return c}finally{if(ju=!1,(is!==null||Lr!==null)&&(ih(),is&&(a=is,i=Lr,Lr=is=null,of(a),i)))for(a=0;a<i.length;a++)of(i[a])}}function Ar(i,a){var l=i.stateNode;if(l===null)return null;var c=l[Le]||null;if(c===null)return null;l=c[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(i=i.type,c=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!c;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(r(231,a,typeof l));return l}var xi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mu=!1;if(xi)try{var Ui={};Object.defineProperty(Ui,"passive",{get:function(){Mu=!0}}),window.addEventListener("test",Ui,Ui),window.removeEventListener("test",Ui,Ui)}catch{Mu=!1}var Ur=null,tl=null,zi=null;function zs(){if(zi)return zi;var i,a=tl,l=a.length,c,p="value"in Ur?Ur.value:Ur.textContent,v=p.length;for(i=0;i<l&&a[i]===p[i];i++);var x=l-i;for(c=1;c<=x&&a[l-c]===p[v-c];c++);return zi=p.slice(i,1<c?1-c:void 0)}function Za(i){var a=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&a===13&&(i=13)):i=a,i===10&&(i=13),32<=i||i===13?i:0}function Bs(){return!0}function Mt(){return!1}function Kn(i){function a(l,c,p,v,x){this._reactName=l,this._targetInst=p,this.type=c,this.nativeEvent=v,this.target=x,this.currentTarget=null;for(var I in i)i.hasOwnProperty(I)&&(l=i[I],this[I]=l?l(v):v[I]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?Bs:Mt,this.isPropagationStopped=Mt,this}return b(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Bs)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Bs)},persist:function(){},isPersistent:Bs}),a}var ss={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ja=Kn(ss),Fs=b({},ss,{view:0,detail:0}),uf=Kn(Fs),Hs,nl,dr,eo=b({},Fs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gs,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==dr&&(dr&&i.type==="mousemove"?(Hs=i.screenX-dr.screenX,nl=i.screenY-dr.screenY):nl=Hs=0,dr=i),Hs)},movementY:function(i){return"movementY"in i?i.movementY:nl}}),cf=Kn(eo),to=b({},eo,{dataTransfer:0}),df=Kn(to),Vu=b({},Fs,{relatedTarget:0}),qs=Kn(Vu),ff=b({},ss,{animationName:0,elapsedTime:0,pseudoElement:0}),rl=Kn(ff),sg=b({},ss,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),hf=Kn(sg),no=b({},ss,{data:0}),Lu=Kn(no),mf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Uu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pf(i){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(i):(i=zu[i])?!!a[i]:!1}function Gs(){return pf}var gf=b({},Fs,{key:function(i){if(i.key){var a=mf[i.key]||i.key;if(a!=="Unidentified")return a}return i.type==="keypress"?(i=Za(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Uu[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gs,charCode:function(i){return i.type==="keypress"?Za(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Za(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),vf=Kn(gf),as=b({},eo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bu=Kn(as),yf=b({},Fs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gs}),bf=Kn(yf),_f=b({},ss,{propertyName:0,elapsedTime:0,pseudoElement:0}),il=Kn(_f),fr=b({},eo,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),wf=Kn(fr),xf=b({},ss,{newState:0,oldState:0}),$s=Kn(xf),m=[9,13,27,32],w=xi&&"CompositionEvent"in window,T=null;xi&&"documentMode"in document&&(T=document.documentMode);var k=xi&&"TextEvent"in window&&!T,Y=xi&&(!w||T&&8<T&&11>=T),ne=" ",pe=!1;function pt(i,a){switch(i){case"keyup":return m.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hn(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Ye=!1;function Nn(i,a){switch(i){case"compositionend":return hn(a);case"keypress":return a.which!==32?null:(pe=!0,ne);case"textInput":return i=a.data,i===ne&&pe?null:i;default:return null}}function kn(i,a){if(Ye)return i==="compositionend"||!w&&pt(i,a)?(i=zs(),zi=tl=Ur=null,Ye=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Y&&a.locale!=="ko"?null:a.data;default:return null}}var Ks={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cr(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a==="input"?!!Ks[i.type]:a==="textarea"}function ro(i,a,l,c){is?Lr?Lr.push(c):Lr=[c]:is=c,a=dh(a,"onChange"),0<a.length&&(l=new Ja("onChange","change",null,l,c),i.push({event:l,listeners:a}))}var os=null,Fu=null;function Wk(i){RE(i,0)}function Ef(i){var a=Mi(i);if(Du(a))return i}function K_(i,a){if(i==="change")return a}var Y_=!1;if(xi){var ag;if(xi){var og="oninput"in document;if(!og){var W_=document.createElement("div");W_.setAttribute("oninput","return;"),og=typeof W_.oninput=="function"}ag=og}else ag=!1;Y_=ag&&(!document.documentMode||9<document.documentMode)}function Q_(){os&&(os.detachEvent("onpropertychange",X_),Fu=os=null)}function X_(i){if(i.propertyName==="value"&&Ef(Fu)){var a=[];ro(a,Fu,i,el(i)),lf(Wk,a)}}function Qk(i,a,l){i==="focusin"?(Q_(),os=a,Fu=l,os.attachEvent("onpropertychange",X_)):i==="focusout"&&Q_()}function Xk(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Ef(Fu)}function Zk(i,a){if(i==="click")return Ef(a)}function Jk(i,a){if(i==="input"||i==="change")return Ef(a)}function eD(i,a){return i===a&&(i!==0||1/i===1/a)||i!==i&&a!==a}var zr=typeof Object.is=="function"?Object.is:eD;function Hu(i,a){if(zr(i,a))return!0;if(typeof i!="object"||i===null||typeof a!="object"||a===null)return!1;var l=Object.keys(i),c=Object.keys(a);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var p=l[c];if(!_r.call(a,p)||!zr(i[p],a[p]))return!1}return!0}function Z_(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function J_(i,a){var l=Z_(i);i=0;for(var c;l;){if(l.nodeType===3){if(c=i+l.textContent.length,i<=a&&c>=a)return{node:l,offset:a-i};i=c}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Z_(l)}}function ew(i,a){return i&&a?i===a?!0:i&&i.nodeType===3?!1:a&&a.nodeType===3?ew(i,a.parentNode):"contains"in i?i.contains(a):i.compareDocumentPosition?!!(i.compareDocumentPosition(a)&16):!1:!1}function tw(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var a=Xo(i.document);a instanceof i.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)i=a.contentWindow;else break;a=Xo(i.document)}return a}function lg(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a&&(a==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||a==="textarea"||i.contentEditable==="true")}var tD=xi&&"documentMode"in document&&11>=document.documentMode,sl=null,ug=null,qu=null,cg=!1;function nw(i,a,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;cg||sl==null||sl!==Xo(c)||(c=sl,"selectionStart"in c&&lg(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),qu&&Hu(qu,c)||(qu=c,c=dh(ug,"onSelect"),0<c.length&&(a=new Ja("onSelect","select",null,a,l),i.push({event:a,listeners:c}),a.target=sl)))}function io(i,a){var l={};return l[i.toLowerCase()]=a.toLowerCase(),l["Webkit"+i]="webkit"+a,l["Moz"+i]="moz"+a,l}var al={animationend:io("Animation","AnimationEnd"),animationiteration:io("Animation","AnimationIteration"),animationstart:io("Animation","AnimationStart"),transitionrun:io("Transition","TransitionRun"),transitionstart:io("Transition","TransitionStart"),transitioncancel:io("Transition","TransitionCancel"),transitionend:io("Transition","TransitionEnd")},dg={},rw={};xi&&(rw=document.createElement("div").style,"AnimationEvent"in window||(delete al.animationend.animation,delete al.animationiteration.animation,delete al.animationstart.animation),"TransitionEvent"in window||delete al.transitionend.transition);function so(i){if(dg[i])return dg[i];if(!al[i])return i;var a=al[i],l;for(l in a)if(a.hasOwnProperty(l)&&l in rw)return dg[i]=a[l];return i}var iw=so("animationend"),sw=so("animationiteration"),aw=so("animationstart"),nD=so("transitionrun"),rD=so("transitionstart"),iD=so("transitioncancel"),ow=so("transitionend"),lw=new Map,fg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");fg.push("scrollEnd");function Ei(i,a){lw.set(i,a),ur(a,[i])}var Tf=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},ri=[],ol=0,hg=0;function Sf(){for(var i=ol,a=hg=ol=0;a<i;){var l=ri[a];ri[a++]=null;var c=ri[a];ri[a++]=null;var p=ri[a];ri[a++]=null;var v=ri[a];if(ri[a++]=null,c!==null&&p!==null){var x=c.pending;x===null?p.next=p:(p.next=x.next,x.next=p),c.pending=p}v!==0&&uw(l,p,v)}}function Af(i,a,l,c){ri[ol++]=i,ri[ol++]=a,ri[ol++]=l,ri[ol++]=c,hg|=c,i.lanes|=c,i=i.alternate,i!==null&&(i.lanes|=c)}function mg(i,a,l,c){return Af(i,a,l,c),Cf(i)}function ao(i,a){return Af(i,null,null,a),Cf(i)}function uw(i,a,l){i.lanes|=l;var c=i.alternate;c!==null&&(c.lanes|=l);for(var p=!1,v=i.return;v!==null;)v.childLanes|=l,c=v.alternate,c!==null&&(c.childLanes|=l),v.tag===22&&(i=v.stateNode,i===null||i._visibility&1||(p=!0)),i=v,v=v.return;return i.tag===3?(v=i.stateNode,p&&a!==null&&(p=31-fe(l),i=v.hiddenUpdates,c=i[p],c===null?i[p]=[a]:c.push(a),a.lane=l|536870912),v):null}function Cf(i){if(50<fc)throw fc=0,Ev=null,Error(r(185));for(var a=i.return;a!==null;)i=a,a=i.return;return i.tag===3?i.stateNode:null}var ll={};function sD(i,a,l,c){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Br(i,a,l,c){return new sD(i,a,l,c)}function pg(i){return i=i.prototype,!(!i||!i.isReactComponent)}function ls(i,a){var l=i.alternate;return l===null?(l=Br(i.tag,a,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=a,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&65011712,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,a=i.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function cw(i,a){i.flags&=65011714;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=a,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,a=l.dependencies,i.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),i}function Rf(i,a,l,c,p,v){var x=0;if(c=i,typeof i=="function")pg(i)&&(x=1);else if(typeof i=="string")x=cO(i,l,re.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case R:return i=Br(31,l,a,p),i.elementType=R,i.lanes=v,i;case N:return oo(l.children,p,v,a);case D:x=8,p|=24;break;case U:return i=Br(12,l,a,p|2),i.elementType=U,i.lanes=v,i;case K:return i=Br(13,l,a,p),i.elementType=K,i.lanes=v,i;case H:return i=Br(19,l,a,p),i.elementType=H,i.lanes=v,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case z:x=10;break e;case M:x=9;break e;case G:x=11;break e;case A:x=14;break e;case S:x=16,c=null;break e}x=29,l=Error(r(130,i===null?"null":typeof i,"")),c=null}return a=Br(x,l,a,p),a.elementType=i,a.type=c,a.lanes=v,a}function oo(i,a,l,c){return i=Br(7,i,c,a),i.lanes=l,i}function gg(i,a,l){return i=Br(6,i,null,a),i.lanes=l,i}function dw(i){var a=Br(18,null,null,0);return a.stateNode=i,a}function vg(i,a,l){return a=Br(4,i.children!==null?i.children:[],i.key,a),a.lanes=l,a.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},a}var fw=new WeakMap;function ii(i,a){if(typeof i=="object"&&i!==null){var l=fw.get(i);return l!==void 0?l:(a={value:i,source:a,stack:br(a)},fw.set(i,a),a)}return{value:i,source:a,stack:br(a)}}var ul=[],cl=0,If=null,Gu=0,si=[],ai=0,Ys=null,Bi=1,Fi="";function us(i,a){ul[cl++]=Gu,ul[cl++]=If,If=i,Gu=a}function hw(i,a,l){si[ai++]=Bi,si[ai++]=Fi,si[ai++]=Ys,Ys=i;var c=Bi;i=Fi;var p=32-fe(c)-1;c&=~(1<<p),l+=1;var v=32-fe(a)+p;if(30<v){var x=p-p%5;v=(c&(1<<x)-1).toString(32),c>>=x,p-=x,Bi=1<<32-fe(a)+p|l<<p|c,Fi=v+i}else Bi=1<<v|l<<p|c,Fi=i}function yg(i){i.return!==null&&(us(i,1),hw(i,1,0))}function bg(i){for(;i===If;)If=ul[--cl],ul[cl]=null,Gu=ul[--cl],ul[cl]=null;for(;i===Ys;)Ys=si[--ai],si[ai]=null,Fi=si[--ai],si[ai]=null,Bi=si[--ai],si[ai]=null}function mw(i,a){si[ai++]=Bi,si[ai++]=Fi,si[ai++]=Ys,Bi=a.id,Fi=a.overflow,Ys=i}var Ln=null,Vt=null,st=!1,Ws=null,oi=!1,_g=Error(r(519));function Qs(i){var a=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw $u(ii(a,i)),_g}function pw(i){var a=i.stateNode,l=i.type,c=i.memoizedProps;switch(a[_e]=i,a[Le]=c,l){case"dialog":Je("cancel",a),Je("close",a);break;case"iframe":case"object":case"embed":Je("load",a);break;case"video":case"audio":for(l=0;l<mc.length;l++)Je(mc[l],a);break;case"source":Je("error",a);break;case"img":case"image":case"link":Je("error",a),Je("load",a);break;case"details":Je("toggle",a);break;case"input":Je("invalid",a),Qa(a,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":Je("invalid",a);break;case"textarea":Je("invalid",a),Us(a,c.value,c.defaultValue,c.children)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||c.suppressHydrationWarning===!0||DE(a.textContent,l)?(c.popover!=null&&(Je("beforetoggle",a),Je("toggle",a)),c.onScroll!=null&&Je("scroll",a),c.onScrollEnd!=null&&Je("scrollend",a),c.onClick!=null&&(a.onclick=In),a=!0):a=!1,a||Qs(i,!0)}function gw(i){for(Ln=i.return;Ln;)switch(Ln.tag){case 5:case 31:case 13:oi=!1;return;case 27:case 3:oi=!0;return;default:Ln=Ln.return}}function dl(i){if(i!==Ln)return!1;if(!st)return gw(i),st=!0,!1;var a=i.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||Lv(i.type,i.memoizedProps)),l=!l),l&&Vt&&Qs(i),gw(i),a===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));Vt=BE(i)}else if(a===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));Vt=BE(i)}else a===27?(a=Vt,ca(i.type)?(i=Hv,Hv=null,Vt=i):Vt=a):Vt=Ln?ui(i.stateNode.nextSibling):null;return!0}function lo(){Vt=Ln=null,st=!1}function wg(){var i=Ws;return i!==null&&(kr===null?kr=i:kr.push.apply(kr,i),Ws=null),i}function $u(i){Ws===null?Ws=[i]:Ws.push(i)}var xg=B(null),uo=null,cs=null;function Xs(i,a,l){ee(xg,a._currentValue),a._currentValue=l}function ds(i){i._currentValue=xg.current,Z(xg)}function Eg(i,a,l){for(;i!==null;){var c=i.alternate;if((i.childLanes&a)!==a?(i.childLanes|=a,c!==null&&(c.childLanes|=a)):c!==null&&(c.childLanes&a)!==a&&(c.childLanes|=a),i===l)break;i=i.return}}function Tg(i,a,l,c){var p=i.child;for(p!==null&&(p.return=i);p!==null;){var v=p.dependencies;if(v!==null){var x=p.child;v=v.firstContext;e:for(;v!==null;){var I=v;v=p;for(var F=0;F<a.length;F++)if(I.context===a[F]){v.lanes|=l,I=v.alternate,I!==null&&(I.lanes|=l),Eg(v.return,l,i),c||(x=null);break e}v=I.next}}else if(p.tag===18){if(x=p.return,x===null)throw Error(r(341));x.lanes|=l,v=x.alternate,v!==null&&(v.lanes|=l),Eg(x,l,i),x=null}else x=p.child;if(x!==null)x.return=p;else for(x=p;x!==null;){if(x===i){x=null;break}if(p=x.sibling,p!==null){p.return=x.return,x=p;break}x=x.return}p=x}}function fl(i,a,l,c){i=null;for(var p=a,v=!1;p!==null;){if(!v){if((p.flags&524288)!==0)v=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var x=p.alternate;if(x===null)throw Error(r(387));if(x=x.memoizedProps,x!==null){var I=p.type;zr(p.pendingProps.value,x.value)||(i!==null?i.push(I):i=[I])}}else if(p===Se.current){if(x=p.alternate,x===null)throw Error(r(387));x.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(i!==null?i.push(bc):i=[bc])}p=p.return}i!==null&&Tg(a,i,l,c),a.flags|=262144}function Nf(i){for(i=i.firstContext;i!==null;){if(!zr(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function co(i){uo=i,cs=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Un(i){return vw(uo,i)}function kf(i,a){return uo===null&&co(i),vw(i,a)}function vw(i,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},cs===null){if(i===null)throw Error(r(308));cs=a,i.dependencies={lanes:0,firstContext:a},i.flags|=524288}else cs=cs.next=a;return l}var aD=typeof AbortController<"u"?AbortController:function(){var i=[],a=this.signal={aborted:!1,addEventListener:function(l,c){i.push(c)}};this.abort=function(){a.aborted=!0,i.forEach(function(l){return l()})}},oD=t.unstable_scheduleCallback,lD=t.unstable_NormalPriority,mn={$$typeof:z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Sg(){return{controller:new aD,data:new Map,refCount:0}}function Ku(i){i.refCount--,i.refCount===0&&oD(lD,function(){i.controller.abort()})}var Yu=null,Ag=0,hl=0,ml=null;function uD(i,a){if(Yu===null){var l=Yu=[];Ag=0,hl=Iv(),ml={status:"pending",value:void 0,then:function(c){l.push(c)}}}return Ag++,a.then(yw,yw),a}function yw(){if(--Ag===0&&Yu!==null){ml!==null&&(ml.status="fulfilled");var i=Yu;Yu=null,hl=0,ml=null;for(var a=0;a<i.length;a++)(0,i[a])()}}function cD(i,a){var l=[],c={status:"pending",value:null,reason:null,then:function(p){l.push(p)}};return i.then(function(){c.status="fulfilled",c.value=a;for(var p=0;p<l.length;p++)(0,l[p])(a)},function(p){for(c.status="rejected",c.reason=p,p=0;p<l.length;p++)(0,l[p])(void 0)}),c}var bw=Q.S;Q.S=function(i,a){nE=yt(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&uD(i,a),bw!==null&&bw(i,a)};var fo=B(null);function Cg(){var i=fo.current;return i!==null?i:Rt.pooledCache}function Df(i,a){a===null?ee(fo,fo.current):ee(fo,a.pool)}function _w(){var i=Cg();return i===null?null:{parent:mn._currentValue,pool:i}}var pl=Error(r(460)),Rg=Error(r(474)),Of=Error(r(542)),Pf={then:function(){}};function ww(i){return i=i.status,i==="fulfilled"||i==="rejected"}function xw(i,a,l){switch(l=i[l],l===void 0?i.push(a):l!==a&&(a.then(In,In),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,Tw(i),i;default:if(typeof a.status=="string")a.then(In,In);else{if(i=Rt,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=a,i.status="pending",i.then(function(c){if(a.status==="pending"){var p=a;p.status="fulfilled",p.value=c}},function(c){if(a.status==="pending"){var p=a;p.status="rejected",p.reason=c}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,Tw(i),i}throw mo=a,pl}}function ho(i){try{var a=i._init;return a(i._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(mo=l,pl):l}}var mo=null;function Ew(){if(mo===null)throw Error(r(459));var i=mo;return mo=null,i}function Tw(i){if(i===pl||i===Of)throw Error(r(483))}var gl=null,Wu=0;function jf(i){var a=Wu;return Wu+=1,gl===null&&(gl=[]),xw(gl,i,a)}function Qu(i,a){a=a.props.ref,i.ref=a!==void 0?a:null}function Mf(i,a){throw a.$$typeof===_?Error(r(525)):(i=Object.prototype.toString.call(a),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i)))}function Sw(i){function a($,q){if(i){var W=$.deletions;W===null?($.deletions=[q],$.flags|=16):W.push(q)}}function l($,q){if(!i)return null;for(;q!==null;)a($,q),q=q.sibling;return null}function c($){for(var q=new Map;$!==null;)$.key!==null?q.set($.key,$):q.set($.index,$),$=$.sibling;return q}function p($,q){return $=ls($,q),$.index=0,$.sibling=null,$}function v($,q,W){return $.index=W,i?(W=$.alternate,W!==null?(W=W.index,W<q?($.flags|=67108866,q):W):($.flags|=67108866,q)):($.flags|=1048576,q)}function x($){return i&&$.alternate===null&&($.flags|=67108866),$}function I($,q,W,oe){return q===null||q.tag!==6?(q=gg(W,$.mode,oe),q.return=$,q):(q=p(q,W),q.return=$,q)}function F($,q,W,oe){var Re=W.type;return Re===N?ie($,q,W.props.children,oe,W.key):q!==null&&(q.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===S&&ho(Re)===q.type)?(q=p(q,W.props),Qu(q,W),q.return=$,q):(q=Rf(W.type,W.key,W.props,null,$.mode,oe),Qu(q,W),q.return=$,q)}function X($,q,W,oe){return q===null||q.tag!==4||q.stateNode.containerInfo!==W.containerInfo||q.stateNode.implementation!==W.implementation?(q=vg(W,$.mode,oe),q.return=$,q):(q=p(q,W.children||[]),q.return=$,q)}function ie($,q,W,oe,Re){return q===null||q.tag!==7?(q=oo(W,$.mode,oe,Re),q.return=$,q):(q=p(q,W),q.return=$,q)}function le($,q,W){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return q=gg(""+q,$.mode,W),q.return=$,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case E:return W=Rf(q.type,q.key,q.props,null,$.mode,W),Qu(W,q),W.return=$,W;case C:return q=vg(q,$.mode,W),q.return=$,q;case S:return q=ho(q),le($,q,W)}if(Ce(q)||O(q))return q=oo(q,$.mode,W,null),q.return=$,q;if(typeof q.then=="function")return le($,jf(q),W);if(q.$$typeof===z)return le($,kf($,q),W);Mf($,q)}return null}function J($,q,W,oe){var Re=q!==null?q.key:null;if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return Re!==null?null:I($,q,""+W,oe);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case E:return W.key===Re?F($,q,W,oe):null;case C:return W.key===Re?X($,q,W,oe):null;case S:return W=ho(W),J($,q,W,oe)}if(Ce(W)||O(W))return Re!==null?null:ie($,q,W,oe,null);if(typeof W.then=="function")return J($,q,jf(W),oe);if(W.$$typeof===z)return J($,q,kf($,W),oe);Mf($,W)}return null}function te($,q,W,oe,Re){if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return $=$.get(W)||null,I(q,$,""+oe,Re);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case E:return $=$.get(oe.key===null?W:oe.key)||null,F(q,$,oe,Re);case C:return $=$.get(oe.key===null?W:oe.key)||null,X(q,$,oe,Re);case S:return oe=ho(oe),te($,q,W,oe,Re)}if(Ce(oe)||O(oe))return $=$.get(W)||null,ie(q,$,oe,Re,null);if(typeof oe.then=="function")return te($,q,W,jf(oe),Re);if(oe.$$typeof===z)return te($,q,W,kf(q,oe),Re);Mf(q,oe)}return null}function Te($,q,W,oe){for(var Re=null,ct=null,Ae=q,$e=q=0,nt=null;Ae!==null&&$e<W.length;$e++){Ae.index>$e?(nt=Ae,Ae=null):nt=Ae.sibling;var dt=J($,Ae,W[$e],oe);if(dt===null){Ae===null&&(Ae=nt);break}i&&Ae&&dt.alternate===null&&a($,Ae),q=v(dt,q,$e),ct===null?Re=dt:ct.sibling=dt,ct=dt,Ae=nt}if($e===W.length)return l($,Ae),st&&us($,$e),Re;if(Ae===null){for(;$e<W.length;$e++)Ae=le($,W[$e],oe),Ae!==null&&(q=v(Ae,q,$e),ct===null?Re=Ae:ct.sibling=Ae,ct=Ae);return st&&us($,$e),Re}for(Ae=c(Ae);$e<W.length;$e++)nt=te(Ae,$,$e,W[$e],oe),nt!==null&&(i&&nt.alternate!==null&&Ae.delete(nt.key===null?$e:nt.key),q=v(nt,q,$e),ct===null?Re=nt:ct.sibling=nt,ct=nt);return i&&Ae.forEach(function(pa){return a($,pa)}),st&&us($,$e),Re}function Oe($,q,W,oe){if(W==null)throw Error(r(151));for(var Re=null,ct=null,Ae=q,$e=q=0,nt=null,dt=W.next();Ae!==null&&!dt.done;$e++,dt=W.next()){Ae.index>$e?(nt=Ae,Ae=null):nt=Ae.sibling;var pa=J($,Ae,dt.value,oe);if(pa===null){Ae===null&&(Ae=nt);break}i&&Ae&&pa.alternate===null&&a($,Ae),q=v(pa,q,$e),ct===null?Re=pa:ct.sibling=pa,ct=pa,Ae=nt}if(dt.done)return l($,Ae),st&&us($,$e),Re;if(Ae===null){for(;!dt.done;$e++,dt=W.next())dt=le($,dt.value,oe),dt!==null&&(q=v(dt,q,$e),ct===null?Re=dt:ct.sibling=dt,ct=dt);return st&&us($,$e),Re}for(Ae=c(Ae);!dt.done;$e++,dt=W.next())dt=te(Ae,$,$e,dt.value,oe),dt!==null&&(i&&dt.alternate!==null&&Ae.delete(dt.key===null?$e:dt.key),q=v(dt,q,$e),ct===null?Re=dt:ct.sibling=dt,ct=dt);return i&&Ae.forEach(function(wO){return a($,wO)}),st&&us($,$e),Re}function St($,q,W,oe){if(typeof W=="object"&&W!==null&&W.type===N&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case E:e:{for(var Re=W.key;q!==null;){if(q.key===Re){if(Re=W.type,Re===N){if(q.tag===7){l($,q.sibling),oe=p(q,W.props.children),oe.return=$,$=oe;break e}}else if(q.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===S&&ho(Re)===q.type){l($,q.sibling),oe=p(q,W.props),Qu(oe,W),oe.return=$,$=oe;break e}l($,q);break}else a($,q);q=q.sibling}W.type===N?(oe=oo(W.props.children,$.mode,oe,W.key),oe.return=$,$=oe):(oe=Rf(W.type,W.key,W.props,null,$.mode,oe),Qu(oe,W),oe.return=$,$=oe)}return x($);case C:e:{for(Re=W.key;q!==null;){if(q.key===Re)if(q.tag===4&&q.stateNode.containerInfo===W.containerInfo&&q.stateNode.implementation===W.implementation){l($,q.sibling),oe=p(q,W.children||[]),oe.return=$,$=oe;break e}else{l($,q);break}else a($,q);q=q.sibling}oe=vg(W,$.mode,oe),oe.return=$,$=oe}return x($);case S:return W=ho(W),St($,q,W,oe)}if(Ce(W))return Te($,q,W,oe);if(O(W)){if(Re=O(W),typeof Re!="function")throw Error(r(150));return W=Re.call(W),Oe($,q,W,oe)}if(typeof W.then=="function")return St($,q,jf(W),oe);if(W.$$typeof===z)return St($,q,kf($,W),oe);Mf($,W)}return typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint"?(W=""+W,q!==null&&q.tag===6?(l($,q.sibling),oe=p(q,W),oe.return=$,$=oe):(l($,q),oe=gg(W,$.mode,oe),oe.return=$,$=oe),x($)):l($,q)}return function($,q,W,oe){try{Wu=0;var Re=St($,q,W,oe);return gl=null,Re}catch(Ae){if(Ae===pl||Ae===Of)throw Ae;var ct=Br(29,Ae,null,$.mode);return ct.lanes=oe,ct.return=$,ct}finally{}}}var po=Sw(!0),Aw=Sw(!1),Zs=!1;function Ig(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ng(i,a){i=i.updateQueue,a.updateQueue===i&&(a.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Js(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function ea(i,a,l){var c=i.updateQueue;if(c===null)return null;if(c=c.shared,(ht&2)!==0){var p=c.pending;return p===null?a.next=a:(a.next=p.next,p.next=a),c.pending=a,a=Cf(i),uw(i,null,l),a}return Af(i,c,a,l),Cf(i)}function Xu(i,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var c=a.lanes;c&=i.pendingLanes,l|=c,a.lanes=l,Dt(i,l)}}function kg(i,a){var l=i.updateQueue,c=i.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var p=null,v=null;if(l=l.firstBaseUpdate,l!==null){do{var x={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};v===null?p=v=x:v=v.next=x,l=l.next}while(l!==null);v===null?p=v=a:v=v.next=a}else p=v=a;l={baseState:c.baseState,firstBaseUpdate:p,lastBaseUpdate:v,shared:c.shared,callbacks:c.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=a:i.next=a,l.lastBaseUpdate=a}var Dg=!1;function Zu(){if(Dg){var i=ml;if(i!==null)throw i}}function Ju(i,a,l,c){Dg=!1;var p=i.updateQueue;Zs=!1;var v=p.firstBaseUpdate,x=p.lastBaseUpdate,I=p.shared.pending;if(I!==null){p.shared.pending=null;var F=I,X=F.next;F.next=null,x===null?v=X:x.next=X,x=F;var ie=i.alternate;ie!==null&&(ie=ie.updateQueue,I=ie.lastBaseUpdate,I!==x&&(I===null?ie.firstBaseUpdate=X:I.next=X,ie.lastBaseUpdate=F))}if(v!==null){var le=p.baseState;x=0,ie=X=F=null,I=v;do{var J=I.lane&-536870913,te=J!==I.lane;if(te?(tt&J)===J:(c&J)===J){J!==0&&J===hl&&(Dg=!0),ie!==null&&(ie=ie.next={lane:0,tag:I.tag,payload:I.payload,callback:null,next:null});e:{var Te=i,Oe=I;J=a;var St=l;switch(Oe.tag){case 1:if(Te=Oe.payload,typeof Te=="function"){le=Te.call(St,le,J);break e}le=Te;break e;case 3:Te.flags=Te.flags&-65537|128;case 0:if(Te=Oe.payload,J=typeof Te=="function"?Te.call(St,le,J):Te,J==null)break e;le=b({},le,J);break e;case 2:Zs=!0}}J=I.callback,J!==null&&(i.flags|=64,te&&(i.flags|=8192),te=p.callbacks,te===null?p.callbacks=[J]:te.push(J))}else te={lane:J,tag:I.tag,payload:I.payload,callback:I.callback,next:null},ie===null?(X=ie=te,F=le):ie=ie.next=te,x|=J;if(I=I.next,I===null){if(I=p.shared.pending,I===null)break;te=I,I=te.next,te.next=null,p.lastBaseUpdate=te,p.shared.pending=null}}while(!0);ie===null&&(F=le),p.baseState=F,p.firstBaseUpdate=X,p.lastBaseUpdate=ie,v===null&&(p.shared.lanes=0),sa|=x,i.lanes=x,i.memoizedState=le}}function Cw(i,a){if(typeof i!="function")throw Error(r(191,i));i.call(a)}function Rw(i,a){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)Cw(l[i],a)}var vl=B(null),Vf=B(0);function Iw(i,a){i=_s,ee(Vf,i),ee(vl,a),_s=i|a.baseLanes}function Og(){ee(Vf,_s),ee(vl,vl.current)}function Pg(){_s=Vf.current,Z(vl),Z(Vf)}var Fr=B(null),li=null;function ta(i){var a=i.alternate;ee(an,an.current&1),ee(Fr,i),li===null&&(a===null||vl.current!==null||a.memoizedState!==null)&&(li=i)}function jg(i){ee(an,an.current),ee(Fr,i),li===null&&(li=i)}function Nw(i){i.tag===22?(ee(an,an.current),ee(Fr,i),li===null&&(li=i)):na()}function na(){ee(an,an.current),ee(Fr,Fr.current)}function Hr(i){Z(Fr),li===i&&(li=null),Z(an)}var an=B(0);function Lf(i){for(var a=i;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||Bv(l)||Fv(l)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var fs=0,Ge=null,Et=null,pn=null,Uf=!1,yl=!1,go=!1,zf=0,ec=0,bl=null,dD=0;function Xt(){throw Error(r(321))}function Mg(i,a){if(a===null)return!1;for(var l=0;l<a.length&&l<i.length;l++)if(!zr(i[l],a[l]))return!1;return!0}function Vg(i,a,l,c,p,v){return fs=v,Ge=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Q.H=i===null||i.memoizedState===null?hx:Zg,go=!1,v=l(c,p),go=!1,yl&&(v=Dw(a,l,c,p)),kw(i),v}function kw(i){Q.H=rc;var a=Et!==null&&Et.next!==null;if(fs=0,pn=Et=Ge=null,Uf=!1,ec=0,bl=null,a)throw Error(r(300));i===null||gn||(i=i.dependencies,i!==null&&Nf(i)&&(gn=!0))}function Dw(i,a,l,c){Ge=i;var p=0;do{if(yl&&(bl=null),ec=0,yl=!1,25<=p)throw Error(r(301));if(p+=1,pn=Et=null,i.updateQueue!=null){var v=i.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}Q.H=mx,v=a(l,c)}while(yl);return v}function fD(){var i=Q.H,a=i.useState()[0];return a=typeof a.then=="function"?tc(a):a,i=i.useState()[0],(Et!==null?Et.memoizedState:null)!==i&&(Ge.flags|=1024),a}function Lg(){var i=zf!==0;return zf=0,i}function Ug(i,a,l){a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~l}function zg(i){if(Uf){for(i=i.memoizedState;i!==null;){var a=i.queue;a!==null&&(a.pending=null),i=i.next}Uf=!1}fs=0,pn=Et=Ge=null,yl=!1,ec=zf=0,bl=null}function hr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pn===null?Ge.memoizedState=pn=i:pn=pn.next=i,pn}function on(){if(Et===null){var i=Ge.alternate;i=i!==null?i.memoizedState:null}else i=Et.next;var a=pn===null?Ge.memoizedState:pn.next;if(a!==null)pn=a,Et=i;else{if(i===null)throw Ge.alternate===null?Error(r(467)):Error(r(310));Et=i,i={memoizedState:Et.memoizedState,baseState:Et.baseState,baseQueue:Et.baseQueue,queue:Et.queue,next:null},pn===null?Ge.memoizedState=pn=i:pn=pn.next=i}return pn}function Bf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function tc(i){var a=ec;return ec+=1,bl===null&&(bl=[]),i=xw(bl,i,a),a=Ge,(pn===null?a.memoizedState:pn.next)===null&&(a=a.alternate,Q.H=a===null||a.memoizedState===null?hx:Zg),i}function Ff(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return tc(i);if(i.$$typeof===z)return Un(i)}throw Error(r(438,String(i)))}function Bg(i){var a=null,l=Ge.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var c=Ge.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(a={data:c.data.map(function(p){return p.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=Bf(),Ge.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(i),c=0;c<i;c++)l[c]=L;return a.index++,l}function hs(i,a){return typeof a=="function"?a(i):a}function Hf(i){var a=on();return Fg(a,Et,i)}function Fg(i,a,l){var c=i.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=l;var p=i.baseQueue,v=c.pending;if(v!==null){if(p!==null){var x=p.next;p.next=v.next,v.next=x}a.baseQueue=p=v,c.pending=null}if(v=i.baseState,p===null)i.memoizedState=v;else{a=p.next;var I=x=null,F=null,X=a,ie=!1;do{var le=X.lane&-536870913;if(le!==X.lane?(tt&le)===le:(fs&le)===le){var J=X.revertLane;if(J===0)F!==null&&(F=F.next={lane:0,revertLane:0,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),le===hl&&(ie=!0);else if((fs&J)===J){X=X.next,J===hl&&(ie=!0);continue}else le={lane:0,revertLane:X.revertLane,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},F===null?(I=F=le,x=v):F=F.next=le,Ge.lanes|=J,sa|=J;le=X.action,go&&l(v,le),v=X.hasEagerState?X.eagerState:l(v,le)}else J={lane:le,revertLane:X.revertLane,gesture:X.gesture,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},F===null?(I=F=J,x=v):F=F.next=J,Ge.lanes|=le,sa|=le;X=X.next}while(X!==null&&X!==a);if(F===null?x=v:F.next=I,!zr(v,i.memoizedState)&&(gn=!0,ie&&(l=ml,l!==null)))throw l;i.memoizedState=v,i.baseState=x,i.baseQueue=F,c.lastRenderedState=v}return p===null&&(c.lanes=0),[i.memoizedState,c.dispatch]}function Hg(i){var a=on(),l=a.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=i;var c=l.dispatch,p=l.pending,v=a.memoizedState;if(p!==null){l.pending=null;var x=p=p.next;do v=i(v,x.action),x=x.next;while(x!==p);zr(v,a.memoizedState)||(gn=!0),a.memoizedState=v,a.baseQueue===null&&(a.baseState=v),l.lastRenderedState=v}return[v,c]}function Ow(i,a,l){var c=Ge,p=on(),v=st;if(v){if(l===void 0)throw Error(r(407));l=l()}else l=a();var x=!zr((Et||p).memoizedState,l);if(x&&(p.memoizedState=l,gn=!0),p=p.queue,$g(Mw.bind(null,c,p,i),[i]),p.getSnapshot!==a||x||pn!==null&&pn.memoizedState.tag&1){if(c.flags|=2048,_l(9,{destroy:void 0},jw.bind(null,c,p,l,a),null),Rt===null)throw Error(r(349));v||(fs&127)!==0||Pw(c,a,l)}return l}function Pw(i,a,l){i.flags|=16384,i={getSnapshot:a,value:l},a=Ge.updateQueue,a===null?(a=Bf(),Ge.updateQueue=a,a.stores=[i]):(l=a.stores,l===null?a.stores=[i]:l.push(i))}function jw(i,a,l,c){a.value=l,a.getSnapshot=c,Vw(a)&&Lw(i)}function Mw(i,a,l){return l(function(){Vw(a)&&Lw(i)})}function Vw(i){var a=i.getSnapshot;i=i.value;try{var l=a();return!zr(i,l)}catch{return!0}}function Lw(i){var a=ao(i,2);a!==null&&Dr(a,i,2)}function qg(i){var a=hr();if(typeof i=="function"){var l=i;if(i=l(),go){ae(!0);try{l()}finally{ae(!1)}}}return a.memoizedState=a.baseState=i,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hs,lastRenderedState:i},a}function Uw(i,a,l,c){return i.baseState=l,Fg(i,Et,typeof c=="function"?c:hs)}function hD(i,a,l,c,p){if($f(i))throw Error(r(485));if(i=a.action,i!==null){var v={payload:p,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){v.listeners.push(x)}};Q.T!==null?l(!0):v.isTransition=!1,c(v),l=a.pending,l===null?(v.next=a.pending=v,zw(a,v)):(v.next=l.next,a.pending=l.next=v)}}function zw(i,a){var l=a.action,c=a.payload,p=i.state;if(a.isTransition){var v=Q.T,x={};Q.T=x;try{var I=l(p,c),F=Q.S;F!==null&&F(x,I),Bw(i,a,I)}catch(X){Gg(i,a,X)}finally{v!==null&&x.types!==null&&(v.types=x.types),Q.T=v}}else try{v=l(p,c),Bw(i,a,v)}catch(X){Gg(i,a,X)}}function Bw(i,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){Fw(i,a,c)},function(c){return Gg(i,a,c)}):Fw(i,a,l)}function Fw(i,a,l){a.status="fulfilled",a.value=l,Hw(a),i.state=l,a=i.pending,a!==null&&(l=a.next,l===a?i.pending=null:(l=l.next,a.next=l,zw(i,l)))}function Gg(i,a,l){var c=i.pending;if(i.pending=null,c!==null){c=c.next;do a.status="rejected",a.reason=l,Hw(a),a=a.next;while(a!==c)}i.action=null}function Hw(i){i=i.listeners;for(var a=0;a<i.length;a++)(0,i[a])()}function qw(i,a){return a}function Gw(i,a){if(st){var l=Rt.formState;if(l!==null){e:{var c=Ge;if(st){if(Vt){t:{for(var p=Vt,v=oi;p.nodeType!==8;){if(!v){p=null;break t}if(p=ui(p.nextSibling),p===null){p=null;break t}}v=p.data,p=v==="F!"||v==="F"?p:null}if(p){Vt=ui(p.nextSibling),c=p.data==="F!";break e}}Qs(c)}c=!1}c&&(a=l[0])}}return l=hr(),l.memoizedState=l.baseState=a,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qw,lastRenderedState:a},l.queue=c,l=cx.bind(null,Ge,c),c.dispatch=l,c=qg(!1),v=Xg.bind(null,Ge,!1,c.queue),c=hr(),p={state:a,dispatch:null,action:i,pending:null},c.queue=p,l=hD.bind(null,Ge,p,v,l),p.dispatch=l,c.memoizedState=i,[a,l,!1]}function $w(i){var a=on();return Kw(a,Et,i)}function Kw(i,a,l){if(a=Fg(i,a,qw)[0],i=Hf(hs)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var c=tc(a)}catch(x){throw x===pl?Of:x}else c=a;a=on();var p=a.queue,v=p.dispatch;return l!==a.memoizedState&&(Ge.flags|=2048,_l(9,{destroy:void 0},mD.bind(null,p,l),null)),[c,v,i]}function mD(i,a){i.action=a}function Yw(i){var a=on(),l=Et;if(l!==null)return Kw(a,l,i);on(),a=a.memoizedState,l=on();var c=l.queue.dispatch;return l.memoizedState=i,[a,c,!1]}function _l(i,a,l,c){return i={tag:i,create:l,deps:c,inst:a,next:null},a=Ge.updateQueue,a===null&&(a=Bf(),Ge.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=i.next=i:(c=l.next,l.next=i,i.next=c,a.lastEffect=i),i}function Ww(){return on().memoizedState}function qf(i,a,l,c){var p=hr();Ge.flags|=i,p.memoizedState=_l(1|a,{destroy:void 0},l,c===void 0?null:c)}function Gf(i,a,l,c){var p=on();c=c===void 0?null:c;var v=p.memoizedState.inst;Et!==null&&c!==null&&Mg(c,Et.memoizedState.deps)?p.memoizedState=_l(a,v,l,c):(Ge.flags|=i,p.memoizedState=_l(1|a,v,l,c))}function Qw(i,a){qf(8390656,8,i,a)}function $g(i,a){Gf(2048,8,i,a)}function pD(i){Ge.flags|=4;var a=Ge.updateQueue;if(a===null)a=Bf(),Ge.updateQueue=a,a.events=[i];else{var l=a.events;l===null?a.events=[i]:l.push(i)}}function Xw(i){var a=on().memoizedState;return pD({ref:a,nextImpl:i}),function(){if((ht&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}function Zw(i,a){return Gf(4,2,i,a)}function Jw(i,a){return Gf(4,4,i,a)}function ex(i,a){if(typeof a=="function"){i=i();var l=a(i);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return i=i(),a.current=i,function(){a.current=null}}function tx(i,a,l){l=l!=null?l.concat([i]):null,Gf(4,4,ex.bind(null,a,i),l)}function Kg(){}function nx(i,a){var l=on();a=a===void 0?null:a;var c=l.memoizedState;return a!==null&&Mg(a,c[1])?c[0]:(l.memoizedState=[i,a],i)}function rx(i,a){var l=on();a=a===void 0?null:a;var c=l.memoizedState;if(a!==null&&Mg(a,c[1]))return c[0];if(c=i(),go){ae(!0);try{i()}finally{ae(!1)}}return l.memoizedState=[c,a],c}function Yg(i,a,l){return l===void 0||(fs&1073741824)!==0&&(tt&261930)===0?i.memoizedState=a:(i.memoizedState=l,i=iE(),Ge.lanes|=i,sa|=i,l)}function ix(i,a,l,c){return zr(l,a)?l:vl.current!==null?(i=Yg(i,l,c),zr(i,a)||(gn=!0),i):(fs&42)===0||(fs&1073741824)!==0&&(tt&261930)===0?(gn=!0,i.memoizedState=l):(i=iE(),Ge.lanes|=i,sa|=i,a)}function sx(i,a,l,c,p){var v=se.p;se.p=v!==0&&8>v?v:8;var x=Q.T,I={};Q.T=I,Xg(i,!1,a,l);try{var F=p(),X=Q.S;if(X!==null&&X(I,F),F!==null&&typeof F=="object"&&typeof F.then=="function"){var ie=cD(F,c);nc(i,a,ie,$r(i))}else nc(i,a,c,$r(i))}catch(le){nc(i,a,{then:function(){},status:"rejected",reason:le},$r())}finally{se.p=v,x!==null&&I.types!==null&&(x.types=I.types),Q.T=x}}function gD(){}function Wg(i,a,l,c){if(i.tag!==5)throw Error(r(476));var p=ax(i).queue;sx(i,p,a,de,l===null?gD:function(){return ox(i),l(c)})}function ax(i){var a=i.memoizedState;if(a!==null)return a;a={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hs,lastRenderedState:de},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hs,lastRenderedState:l},next:null},i.memoizedState=a,i=i.alternate,i!==null&&(i.memoizedState=a),a}function ox(i){var a=ax(i);a.next===null&&(a=i.alternate.memoizedState),nc(i,a.next.queue,{},$r())}function Qg(){return Un(bc)}function lx(){return on().memoizedState}function ux(){return on().memoizedState}function vD(i){for(var a=i.return;a!==null;){switch(a.tag){case 24:case 3:var l=$r();i=Js(l);var c=ea(a,i,l);c!==null&&(Dr(c,a,l),Xu(c,a,l)),a={cache:Sg()},i.payload=a;return}a=a.return}}function yD(i,a,l){var c=$r();l={lane:c,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},$f(i)?dx(a,l):(l=mg(i,a,l,c),l!==null&&(Dr(l,i,c),fx(l,a,c)))}function cx(i,a,l){var c=$r();nc(i,a,l,c)}function nc(i,a,l,c){var p={lane:c,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if($f(i))dx(a,p);else{var v=i.alternate;if(i.lanes===0&&(v===null||v.lanes===0)&&(v=a.lastRenderedReducer,v!==null))try{var x=a.lastRenderedState,I=v(x,l);if(p.hasEagerState=!0,p.eagerState=I,zr(I,x))return Af(i,a,p,0),Rt===null&&Sf(),!1}catch{}finally{}if(l=mg(i,a,p,c),l!==null)return Dr(l,i,c),fx(l,a,c),!0}return!1}function Xg(i,a,l,c){if(c={lane:2,revertLane:Iv(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},$f(i)){if(a)throw Error(r(479))}else a=mg(i,l,c,2),a!==null&&Dr(a,i,2)}function $f(i){var a=i.alternate;return i===Ge||a!==null&&a===Ge}function dx(i,a){yl=Uf=!0;var l=i.pending;l===null?a.next=a:(a.next=l.next,l.next=a),i.pending=a}function fx(i,a,l){if((l&4194048)!==0){var c=a.lanes;c&=i.pendingLanes,l|=c,a.lanes=l,Dt(i,l)}}var rc={readContext:Un,use:Ff,useCallback:Xt,useContext:Xt,useEffect:Xt,useImperativeHandle:Xt,useLayoutEffect:Xt,useInsertionEffect:Xt,useMemo:Xt,useReducer:Xt,useRef:Xt,useState:Xt,useDebugValue:Xt,useDeferredValue:Xt,useTransition:Xt,useSyncExternalStore:Xt,useId:Xt,useHostTransitionStatus:Xt,useFormState:Xt,useActionState:Xt,useOptimistic:Xt,useMemoCache:Xt,useCacheRefresh:Xt};rc.useEffectEvent=Xt;var hx={readContext:Un,use:Ff,useCallback:function(i,a){return hr().memoizedState=[i,a===void 0?null:a],i},useContext:Un,useEffect:Qw,useImperativeHandle:function(i,a,l){l=l!=null?l.concat([i]):null,qf(4194308,4,ex.bind(null,a,i),l)},useLayoutEffect:function(i,a){return qf(4194308,4,i,a)},useInsertionEffect:function(i,a){qf(4,2,i,a)},useMemo:function(i,a){var l=hr();a=a===void 0?null:a;var c=i();if(go){ae(!0);try{i()}finally{ae(!1)}}return l.memoizedState=[c,a],c},useReducer:function(i,a,l){var c=hr();if(l!==void 0){var p=l(a);if(go){ae(!0);try{l(a)}finally{ae(!1)}}}else p=a;return c.memoizedState=c.baseState=p,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:p},c.queue=i,i=i.dispatch=yD.bind(null,Ge,i),[c.memoizedState,i]},useRef:function(i){var a=hr();return i={current:i},a.memoizedState=i},useState:function(i){i=qg(i);var a=i.queue,l=cx.bind(null,Ge,a);return a.dispatch=l,[i.memoizedState,l]},useDebugValue:Kg,useDeferredValue:function(i,a){var l=hr();return Yg(l,i,a)},useTransition:function(){var i=qg(!1);return i=sx.bind(null,Ge,i.queue,!0,!1),hr().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,a,l){var c=Ge,p=hr();if(st){if(l===void 0)throw Error(r(407));l=l()}else{if(l=a(),Rt===null)throw Error(r(349));(tt&127)!==0||Pw(c,a,l)}p.memoizedState=l;var v={value:l,getSnapshot:a};return p.queue=v,Qw(Mw.bind(null,c,v,i),[i]),c.flags|=2048,_l(9,{destroy:void 0},jw.bind(null,c,v,l,a),null),l},useId:function(){var i=hr(),a=Rt.identifierPrefix;if(st){var l=Fi,c=Bi;l=(c&~(1<<32-fe(c)-1)).toString(32)+l,a="_"+a+"R_"+l,l=zf++,0<l&&(a+="H"+l.toString(32)),a+="_"}else l=dD++,a="_"+a+"r_"+l.toString(32)+"_";return i.memoizedState=a},useHostTransitionStatus:Qg,useFormState:Gw,useActionState:Gw,useOptimistic:function(i){var a=hr();a.memoizedState=a.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=Xg.bind(null,Ge,!0,l),l.dispatch=a,[i,a]},useMemoCache:Bg,useCacheRefresh:function(){return hr().memoizedState=vD.bind(null,Ge)},useEffectEvent:function(i){var a=hr(),l={impl:i};return a.memoizedState=l,function(){if((ht&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}},Zg={readContext:Un,use:Ff,useCallback:nx,useContext:Un,useEffect:$g,useImperativeHandle:tx,useInsertionEffect:Zw,useLayoutEffect:Jw,useMemo:rx,useReducer:Hf,useRef:Ww,useState:function(){return Hf(hs)},useDebugValue:Kg,useDeferredValue:function(i,a){var l=on();return ix(l,Et.memoizedState,i,a)},useTransition:function(){var i=Hf(hs)[0],a=on().memoizedState;return[typeof i=="boolean"?i:tc(i),a]},useSyncExternalStore:Ow,useId:lx,useHostTransitionStatus:Qg,useFormState:$w,useActionState:$w,useOptimistic:function(i,a){var l=on();return Uw(l,Et,i,a)},useMemoCache:Bg,useCacheRefresh:ux};Zg.useEffectEvent=Xw;var mx={readContext:Un,use:Ff,useCallback:nx,useContext:Un,useEffect:$g,useImperativeHandle:tx,useInsertionEffect:Zw,useLayoutEffect:Jw,useMemo:rx,useReducer:Hg,useRef:Ww,useState:function(){return Hg(hs)},useDebugValue:Kg,useDeferredValue:function(i,a){var l=on();return Et===null?Yg(l,i,a):ix(l,Et.memoizedState,i,a)},useTransition:function(){var i=Hg(hs)[0],a=on().memoizedState;return[typeof i=="boolean"?i:tc(i),a]},useSyncExternalStore:Ow,useId:lx,useHostTransitionStatus:Qg,useFormState:Yw,useActionState:Yw,useOptimistic:function(i,a){var l=on();return Et!==null?Uw(l,Et,i,a):(l.baseState=i,[i,l.queue.dispatch])},useMemoCache:Bg,useCacheRefresh:ux};mx.useEffectEvent=Xw;function Jg(i,a,l,c){a=i.memoizedState,l=l(c,a),l=l==null?a:b({},a,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var ev={enqueueSetState:function(i,a,l){i=i._reactInternals;var c=$r(),p=Js(c);p.payload=a,l!=null&&(p.callback=l),a=ea(i,p,c),a!==null&&(Dr(a,i,c),Xu(a,i,c))},enqueueReplaceState:function(i,a,l){i=i._reactInternals;var c=$r(),p=Js(c);p.tag=1,p.payload=a,l!=null&&(p.callback=l),a=ea(i,p,c),a!==null&&(Dr(a,i,c),Xu(a,i,c))},enqueueForceUpdate:function(i,a){i=i._reactInternals;var l=$r(),c=Js(l);c.tag=2,a!=null&&(c.callback=a),a=ea(i,c,l),a!==null&&(Dr(a,i,l),Xu(a,i,l))}};function px(i,a,l,c,p,v,x){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(c,v,x):a.prototype&&a.prototype.isPureReactComponent?!Hu(l,c)||!Hu(p,v):!0}function gx(i,a,l,c){i=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,c),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,c),a.state!==i&&ev.enqueueReplaceState(a,a.state,null)}function vo(i,a){var l=a;if("ref"in a){l={};for(var c in a)c!=="ref"&&(l[c]=a[c])}if(i=i.defaultProps){l===a&&(l=b({},l));for(var p in i)l[p]===void 0&&(l[p]=i[p])}return l}function vx(i){Tf(i)}function yx(i){console.error(i)}function bx(i){Tf(i)}function Kf(i,a){try{var l=i.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(c){setTimeout(function(){throw c})}}function _x(i,a,l){try{var c=i.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function tv(i,a,l){return l=Js(l),l.tag=3,l.payload={element:null},l.callback=function(){Kf(i,a)},l}function wx(i){return i=Js(i),i.tag=3,i}function xx(i,a,l,c){var p=l.type.getDerivedStateFromError;if(typeof p=="function"){var v=c.value;i.payload=function(){return p(v)},i.callback=function(){_x(a,l,c)}}var x=l.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(i.callback=function(){_x(a,l,c),typeof p!="function"&&(aa===null?aa=new Set([this]):aa.add(this));var I=c.stack;this.componentDidCatch(c.value,{componentStack:I!==null?I:""})})}function bD(i,a,l,c,p){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(a=l.alternate,a!==null&&fl(a,l,p,!0),l=Fr.current,l!==null){switch(l.tag){case 31:case 13:return li===null?sh():l.alternate===null&&Zt===0&&(Zt=3),l.flags&=-257,l.flags|=65536,l.lanes=p,c===Pf?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([c]):a.add(c),Av(i,c,p)),!1;case 22:return l.flags|=65536,c===Pf?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([c]):l.add(c)),Av(i,c,p)),!1}throw Error(r(435,l.tag))}return Av(i,c,p),sh(),!1}if(st)return a=Fr.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=p,c!==_g&&(i=Error(r(422),{cause:c}),$u(ii(i,l)))):(c!==_g&&(a=Error(r(423),{cause:c}),$u(ii(a,l))),i=i.current.alternate,i.flags|=65536,p&=-p,i.lanes|=p,c=ii(c,l),p=tv(i.stateNode,c,p),kg(i,p),Zt!==4&&(Zt=2)),!1;var v=Error(r(520),{cause:c});if(v=ii(v,l),dc===null?dc=[v]:dc.push(v),Zt!==4&&(Zt=2),a===null)return!0;c=ii(c,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,i=p&-p,l.lanes|=i,i=tv(l.stateNode,c,i),kg(l,i),!1;case 1:if(a=l.type,v=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(aa===null||!aa.has(v))))return l.flags|=65536,p&=-p,l.lanes|=p,p=wx(p),xx(p,i,l,c),kg(l,p),!1}l=l.return}while(l!==null);return!1}var nv=Error(r(461)),gn=!1;function zn(i,a,l,c){a.child=i===null?Aw(a,null,l,c):po(a,i.child,l,c)}function Ex(i,a,l,c,p){l=l.render;var v=a.ref;if("ref"in c){var x={};for(var I in c)I!=="ref"&&(x[I]=c[I])}else x=c;return co(a),c=Vg(i,a,l,x,v,p),I=Lg(),i!==null&&!gn?(Ug(i,a,p),ms(i,a,p)):(st&&I&&yg(a),a.flags|=1,zn(i,a,c,p),a.child)}function Tx(i,a,l,c,p){if(i===null){var v=l.type;return typeof v=="function"&&!pg(v)&&v.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=v,Sx(i,a,v,c,p)):(i=Rf(l.type,null,c,a,a.mode,p),i.ref=a.ref,i.return=a,a.child=i)}if(v=i.child,!cv(i,p)){var x=v.memoizedProps;if(l=l.compare,l=l!==null?l:Hu,l(x,c)&&i.ref===a.ref)return ms(i,a,p)}return a.flags|=1,i=ls(v,c),i.ref=a.ref,i.return=a,a.child=i}function Sx(i,a,l,c,p){if(i!==null){var v=i.memoizedProps;if(Hu(v,c)&&i.ref===a.ref)if(gn=!1,a.pendingProps=c=v,cv(i,p))(i.flags&131072)!==0&&(gn=!0);else return a.lanes=i.lanes,ms(i,a,p)}return rv(i,a,l,c,p)}function Ax(i,a,l,c){var p=c.children,v=i!==null?i.memoizedState:null;if(i===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((a.flags&128)!==0){if(v=v!==null?v.baseLanes|l:l,i!==null){for(c=a.child=i.child,p=0;c!==null;)p=p|c.lanes|c.childLanes,c=c.sibling;c=p&~v}else c=0,a.child=null;return Cx(i,a,v,l,c)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},i!==null&&Df(a,v!==null?v.cachePool:null),v!==null?Iw(a,v):Og(),Nw(a);else return c=a.lanes=536870912,Cx(i,a,v!==null?v.baseLanes|l:l,l,c)}else v!==null?(Df(a,v.cachePool),Iw(a,v),na(),a.memoizedState=null):(i!==null&&Df(a,null),Og(),na());return zn(i,a,p,l),a.child}function ic(i,a){return i!==null&&i.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function Cx(i,a,l,c,p){var v=Cg();return v=v===null?null:{parent:mn._currentValue,pool:v},a.memoizedState={baseLanes:l,cachePool:v},i!==null&&Df(a,null),Og(),Nw(a),i!==null&&fl(i,a,c,!0),a.childLanes=p,null}function Yf(i,a){return a=Qf({mode:a.mode,children:a.children},i.mode),a.ref=i.ref,i.child=a,a.return=i,a}function Rx(i,a,l){return po(a,i.child,null,l),i=Yf(a,a.pendingProps),i.flags|=2,Hr(a),a.memoizedState=null,i}function _D(i,a,l){var c=a.pendingProps,p=(a.flags&128)!==0;if(a.flags&=-129,i===null){if(st){if(c.mode==="hidden")return i=Yf(a,c),a.lanes=536870912,ic(null,i);if(jg(a),(i=Vt)?(i=zE(i,oi),i=i!==null&&i.data==="&"?i:null,i!==null&&(a.memoizedState={dehydrated:i,treeContext:Ys!==null?{id:Bi,overflow:Fi}:null,retryLane:536870912,hydrationErrors:null},l=dw(i),l.return=a,a.child=l,Ln=a,Vt=null)):i=null,i===null)throw Qs(a);return a.lanes=536870912,null}return Yf(a,c)}var v=i.memoizedState;if(v!==null){var x=v.dehydrated;if(jg(a),p)if(a.flags&256)a.flags&=-257,a=Rx(i,a,l);else if(a.memoizedState!==null)a.child=i.child,a.flags|=128,a=null;else throw Error(r(558));else if(gn||fl(i,a,l,!1),p=(l&i.childLanes)!==0,gn||p){if(c=Rt,c!==null&&(x=sn(c,l),x!==0&&x!==v.retryLane))throw v.retryLane=x,ao(i,x),Dr(c,i,x),nv;sh(),a=Rx(i,a,l)}else i=v.treeContext,Vt=ui(x.nextSibling),Ln=a,st=!0,Ws=null,oi=!1,i!==null&&mw(a,i),a=Yf(a,c),a.flags|=4096;return a}return i=ls(i.child,{mode:c.mode,children:c.children}),i.ref=a.ref,a.child=i,i.return=a,i}function Wf(i,a){var l=a.ref;if(l===null)i!==null&&i.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(i===null||i.ref!==l)&&(a.flags|=4194816)}}function rv(i,a,l,c,p){return co(a),l=Vg(i,a,l,c,void 0,p),c=Lg(),i!==null&&!gn?(Ug(i,a,p),ms(i,a,p)):(st&&c&&yg(a),a.flags|=1,zn(i,a,l,p),a.child)}function Ix(i,a,l,c,p,v){return co(a),a.updateQueue=null,l=Dw(a,c,l,p),kw(i),c=Lg(),i!==null&&!gn?(Ug(i,a,v),ms(i,a,v)):(st&&c&&yg(a),a.flags|=1,zn(i,a,l,v),a.child)}function Nx(i,a,l,c,p){if(co(a),a.stateNode===null){var v=ll,x=l.contextType;typeof x=="object"&&x!==null&&(v=Un(x)),v=new l(c,v),a.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=ev,a.stateNode=v,v._reactInternals=a,v=a.stateNode,v.props=c,v.state=a.memoizedState,v.refs={},Ig(a),x=l.contextType,v.context=typeof x=="object"&&x!==null?Un(x):ll,v.state=a.memoizedState,x=l.getDerivedStateFromProps,typeof x=="function"&&(Jg(a,l,x,c),v.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(x=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),x!==v.state&&ev.enqueueReplaceState(v,v.state,null),Ju(a,c,v,p),Zu(),v.state=a.memoizedState),typeof v.componentDidMount=="function"&&(a.flags|=4194308),c=!0}else if(i===null){v=a.stateNode;var I=a.memoizedProps,F=vo(l,I);v.props=F;var X=v.context,ie=l.contextType;x=ll,typeof ie=="object"&&ie!==null&&(x=Un(ie));var le=l.getDerivedStateFromProps;ie=typeof le=="function"||typeof v.getSnapshotBeforeUpdate=="function",I=a.pendingProps!==I,ie||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(I||X!==x)&&gx(a,v,c,x),Zs=!1;var J=a.memoizedState;v.state=J,Ju(a,c,v,p),Zu(),X=a.memoizedState,I||J!==X||Zs?(typeof le=="function"&&(Jg(a,l,le,c),X=a.memoizedState),(F=Zs||px(a,l,F,c,J,X,x))?(ie||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(a.flags|=4194308)):(typeof v.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=c,a.memoizedState=X),v.props=c,v.state=X,v.context=x,c=F):(typeof v.componentDidMount=="function"&&(a.flags|=4194308),c=!1)}else{v=a.stateNode,Ng(i,a),x=a.memoizedProps,ie=vo(l,x),v.props=ie,le=a.pendingProps,J=v.context,X=l.contextType,F=ll,typeof X=="object"&&X!==null&&(F=Un(X)),I=l.getDerivedStateFromProps,(X=typeof I=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(x!==le||J!==F)&&gx(a,v,c,F),Zs=!1,J=a.memoizedState,v.state=J,Ju(a,c,v,p),Zu();var te=a.memoizedState;x!==le||J!==te||Zs||i!==null&&i.dependencies!==null&&Nf(i.dependencies)?(typeof I=="function"&&(Jg(a,l,I,c),te=a.memoizedState),(ie=Zs||px(a,l,ie,c,J,te,F)||i!==null&&i.dependencies!==null&&Nf(i.dependencies))?(X||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(c,te,F),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(c,te,F)),typeof v.componentDidUpdate=="function"&&(a.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof v.componentDidUpdate!="function"||x===i.memoizedProps&&J===i.memoizedState||(a.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||x===i.memoizedProps&&J===i.memoizedState||(a.flags|=1024),a.memoizedProps=c,a.memoizedState=te),v.props=c,v.state=te,v.context=F,c=ie):(typeof v.componentDidUpdate!="function"||x===i.memoizedProps&&J===i.memoizedState||(a.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||x===i.memoizedProps&&J===i.memoizedState||(a.flags|=1024),c=!1)}return v=c,Wf(i,a),c=(a.flags&128)!==0,v||c?(v=a.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:v.render(),a.flags|=1,i!==null&&c?(a.child=po(a,i.child,null,p),a.child=po(a,null,l,p)):zn(i,a,l,p),a.memoizedState=v.state,i=a.child):i=ms(i,a,p),i}function kx(i,a,l,c){return lo(),a.flags|=256,zn(i,a,l,c),a.child}var iv={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function sv(i){return{baseLanes:i,cachePool:_w()}}function av(i,a,l){return i=i!==null?i.childLanes&~l:0,a&&(i|=Gr),i}function Dx(i,a,l){var c=a.pendingProps,p=!1,v=(a.flags&128)!==0,x;if((x=v)||(x=i!==null&&i.memoizedState===null?!1:(an.current&2)!==0),x&&(p=!0,a.flags&=-129),x=(a.flags&32)!==0,a.flags&=-33,i===null){if(st){if(p?ta(a):na(),(i=Vt)?(i=zE(i,oi),i=i!==null&&i.data!=="&"?i:null,i!==null&&(a.memoizedState={dehydrated:i,treeContext:Ys!==null?{id:Bi,overflow:Fi}:null,retryLane:536870912,hydrationErrors:null},l=dw(i),l.return=a,a.child=l,Ln=a,Vt=null)):i=null,i===null)throw Qs(a);return Fv(i)?a.lanes=32:a.lanes=536870912,null}var I=c.children;return c=c.fallback,p?(na(),p=a.mode,I=Qf({mode:"hidden",children:I},p),c=oo(c,p,l,null),I.return=a,c.return=a,I.sibling=c,a.child=I,c=a.child,c.memoizedState=sv(l),c.childLanes=av(i,x,l),a.memoizedState=iv,ic(null,c)):(ta(a),ov(a,I))}var F=i.memoizedState;if(F!==null&&(I=F.dehydrated,I!==null)){if(v)a.flags&256?(ta(a),a.flags&=-257,a=lv(i,a,l)):a.memoizedState!==null?(na(),a.child=i.child,a.flags|=128,a=null):(na(),I=c.fallback,p=a.mode,c=Qf({mode:"visible",children:c.children},p),I=oo(I,p,l,null),I.flags|=2,c.return=a,I.return=a,c.sibling=I,a.child=c,po(a,i.child,null,l),c=a.child,c.memoizedState=sv(l),c.childLanes=av(i,x,l),a.memoizedState=iv,a=ic(null,c));else if(ta(a),Fv(I)){if(x=I.nextSibling&&I.nextSibling.dataset,x)var X=x.dgst;x=X,c=Error(r(419)),c.stack="",c.digest=x,$u({value:c,source:null,stack:null}),a=lv(i,a,l)}else if(gn||fl(i,a,l,!1),x=(l&i.childLanes)!==0,gn||x){if(x=Rt,x!==null&&(c=sn(x,l),c!==0&&c!==F.retryLane))throw F.retryLane=c,ao(i,c),Dr(x,i,c),nv;Bv(I)||sh(),a=lv(i,a,l)}else Bv(I)?(a.flags|=192,a.child=i.child,a=null):(i=F.treeContext,Vt=ui(I.nextSibling),Ln=a,st=!0,Ws=null,oi=!1,i!==null&&mw(a,i),a=ov(a,c.children),a.flags|=4096);return a}return p?(na(),I=c.fallback,p=a.mode,F=i.child,X=F.sibling,c=ls(F,{mode:"hidden",children:c.children}),c.subtreeFlags=F.subtreeFlags&65011712,X!==null?I=ls(X,I):(I=oo(I,p,l,null),I.flags|=2),I.return=a,c.return=a,c.sibling=I,a.child=c,ic(null,c),c=a.child,I=i.child.memoizedState,I===null?I=sv(l):(p=I.cachePool,p!==null?(F=mn._currentValue,p=p.parent!==F?{parent:F,pool:F}:p):p=_w(),I={baseLanes:I.baseLanes|l,cachePool:p}),c.memoizedState=I,c.childLanes=av(i,x,l),a.memoizedState=iv,ic(i.child,c)):(ta(a),l=i.child,i=l.sibling,l=ls(l,{mode:"visible",children:c.children}),l.return=a,l.sibling=null,i!==null&&(x=a.deletions,x===null?(a.deletions=[i],a.flags|=16):x.push(i)),a.child=l,a.memoizedState=null,l)}function ov(i,a){return a=Qf({mode:"visible",children:a},i.mode),a.return=i,i.child=a}function Qf(i,a){return i=Br(22,i,null,a),i.lanes=0,i}function lv(i,a,l){return po(a,i.child,null,l),i=ov(a,a.pendingProps.children),i.flags|=2,a.memoizedState=null,i}function Ox(i,a,l){i.lanes|=a;var c=i.alternate;c!==null&&(c.lanes|=a),Eg(i.return,a,l)}function uv(i,a,l,c,p,v){var x=i.memoizedState;x===null?i.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:p,treeForkCount:v}:(x.isBackwards=a,x.rendering=null,x.renderingStartTime=0,x.last=c,x.tail=l,x.tailMode=p,x.treeForkCount=v)}function Px(i,a,l){var c=a.pendingProps,p=c.revealOrder,v=c.tail;c=c.children;var x=an.current,I=(x&2)!==0;if(I?(x=x&1|2,a.flags|=128):x&=1,ee(an,x),zn(i,a,c,l),c=st?Gu:0,!I&&i!==null&&(i.flags&128)!==0)e:for(i=a.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Ox(i,l,a);else if(i.tag===19)Ox(i,l,a);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(p){case"forwards":for(l=a.child,p=null;l!==null;)i=l.alternate,i!==null&&Lf(i)===null&&(p=l),l=l.sibling;l=p,l===null?(p=a.child,a.child=null):(p=l.sibling,l.sibling=null),uv(a,!1,p,l,v,c);break;case"backwards":case"unstable_legacy-backwards":for(l=null,p=a.child,a.child=null;p!==null;){if(i=p.alternate,i!==null&&Lf(i)===null){a.child=p;break}i=p.sibling,p.sibling=l,l=p,p=i}uv(a,!0,l,null,v,c);break;case"together":uv(a,!1,null,null,void 0,c);break;default:a.memoizedState=null}return a.child}function ms(i,a,l){if(i!==null&&(a.dependencies=i.dependencies),sa|=a.lanes,(l&a.childLanes)===0)if(i!==null){if(fl(i,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(i!==null&&a.child!==i.child)throw Error(r(153));if(a.child!==null){for(i=a.child,l=ls(i,i.pendingProps),a.child=l,l.return=a;i.sibling!==null;)i=i.sibling,l=l.sibling=ls(i,i.pendingProps),l.return=a;l.sibling=null}return a.child}function cv(i,a){return(i.lanes&a)!==0?!0:(i=i.dependencies,!!(i!==null&&Nf(i)))}function wD(i,a,l){switch(a.tag){case 3:Nt(a,a.stateNode.containerInfo),Xs(a,mn,i.memoizedState.cache),lo();break;case 27:case 5:jn(a);break;case 4:Nt(a,a.stateNode.containerInfo);break;case 10:Xs(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,jg(a),null;break;case 13:var c=a.memoizedState;if(c!==null)return c.dehydrated!==null?(ta(a),a.flags|=128,null):(l&a.child.childLanes)!==0?Dx(i,a,l):(ta(a),i=ms(i,a,l),i!==null?i.sibling:null);ta(a);break;case 19:var p=(i.flags&128)!==0;if(c=(l&a.childLanes)!==0,c||(fl(i,a,l,!1),c=(l&a.childLanes)!==0),p){if(c)return Px(i,a,l);a.flags|=128}if(p=a.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),ee(an,an.current),c)break;return null;case 22:return a.lanes=0,Ax(i,a,l,a.pendingProps);case 24:Xs(a,mn,i.memoizedState.cache)}return ms(i,a,l)}function jx(i,a,l){if(i!==null)if(i.memoizedProps!==a.pendingProps)gn=!0;else{if(!cv(i,l)&&(a.flags&128)===0)return gn=!1,wD(i,a,l);gn=(i.flags&131072)!==0}else gn=!1,st&&(a.flags&1048576)!==0&&hw(a,Gu,a.index);switch(a.lanes=0,a.tag){case 16:e:{var c=a.pendingProps;if(i=ho(a.elementType),a.type=i,typeof i=="function")pg(i)?(c=vo(i,c),a.tag=1,a=Nx(null,a,i,c,l)):(a.tag=0,a=rv(null,a,i,c,l));else{if(i!=null){var p=i.$$typeof;if(p===G){a.tag=11,a=Ex(null,a,i,c,l);break e}else if(p===A){a.tag=14,a=Tx(null,a,i,c,l);break e}}throw a=ve(i)||i,Error(r(306,a,""))}}return a;case 0:return rv(i,a,a.type,a.pendingProps,l);case 1:return c=a.type,p=vo(c,a.pendingProps),Nx(i,a,c,p,l);case 3:e:{if(Nt(a,a.stateNode.containerInfo),i===null)throw Error(r(387));c=a.pendingProps;var v=a.memoizedState;p=v.element,Ng(i,a),Ju(a,c,null,l);var x=a.memoizedState;if(c=x.cache,Xs(a,mn,c),c!==v.cache&&Tg(a,[mn],l,!0),Zu(),c=x.element,v.isDehydrated)if(v={element:c,isDehydrated:!1,cache:x.cache},a.updateQueue.baseState=v,a.memoizedState=v,a.flags&256){a=kx(i,a,c,l);break e}else if(c!==p){p=ii(Error(r(424)),a),$u(p),a=kx(i,a,c,l);break e}else{switch(i=a.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(Vt=ui(i.firstChild),Ln=a,st=!0,Ws=null,oi=!0,l=Aw(a,null,c,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(lo(),c===p){a=ms(i,a,l);break e}zn(i,a,c,l)}a=a.child}return a;case 26:return Wf(i,a),i===null?(l=$E(a.type,null,a.pendingProps,null))?a.memoizedState=l:st||(l=a.type,i=a.pendingProps,c=fh(Pe.current).createElement(l),c[_e]=a,c[Le]=i,Bn(c,l,i),Ht(c),a.stateNode=c):a.memoizedState=$E(a.type,i.memoizedProps,a.pendingProps,i.memoizedState),null;case 27:return jn(a),i===null&&st&&(c=a.stateNode=HE(a.type,a.pendingProps,Pe.current),Ln=a,oi=!0,p=Vt,ca(a.type)?(Hv=p,Vt=ui(c.firstChild)):Vt=p),zn(i,a,a.pendingProps.children,l),Wf(i,a),i===null&&(a.flags|=4194304),a.child;case 5:return i===null&&st&&((p=c=Vt)&&(c=XD(c,a.type,a.pendingProps,oi),c!==null?(a.stateNode=c,Ln=a,Vt=ui(c.firstChild),oi=!1,p=!0):p=!1),p||Qs(a)),jn(a),p=a.type,v=a.pendingProps,x=i!==null?i.memoizedProps:null,c=v.children,Lv(p,v)?c=null:x!==null&&Lv(p,x)&&(a.flags|=32),a.memoizedState!==null&&(p=Vg(i,a,fD,null,null,l),bc._currentValue=p),Wf(i,a),zn(i,a,c,l),a.child;case 6:return i===null&&st&&((i=l=Vt)&&(l=ZD(l,a.pendingProps,oi),l!==null?(a.stateNode=l,Ln=a,Vt=null,i=!0):i=!1),i||Qs(a)),null;case 13:return Dx(i,a,l);case 4:return Nt(a,a.stateNode.containerInfo),c=a.pendingProps,i===null?a.child=po(a,null,c,l):zn(i,a,c,l),a.child;case 11:return Ex(i,a,a.type,a.pendingProps,l);case 7:return zn(i,a,a.pendingProps,l),a.child;case 8:return zn(i,a,a.pendingProps.children,l),a.child;case 12:return zn(i,a,a.pendingProps.children,l),a.child;case 10:return c=a.pendingProps,Xs(a,a.type,c.value),zn(i,a,c.children,l),a.child;case 9:return p=a.type._context,c=a.pendingProps.children,co(a),p=Un(p),c=c(p),a.flags|=1,zn(i,a,c,l),a.child;case 14:return Tx(i,a,a.type,a.pendingProps,l);case 15:return Sx(i,a,a.type,a.pendingProps,l);case 19:return Px(i,a,l);case 31:return _D(i,a,l);case 22:return Ax(i,a,l,a.pendingProps);case 24:return co(a),c=Un(mn),i===null?(p=Cg(),p===null&&(p=Rt,v=Sg(),p.pooledCache=v,v.refCount++,v!==null&&(p.pooledCacheLanes|=l),p=v),a.memoizedState={parent:c,cache:p},Ig(a),Xs(a,mn,p)):((i.lanes&l)!==0&&(Ng(i,a),Ju(a,null,null,l),Zu()),p=i.memoizedState,v=a.memoizedState,p.parent!==c?(p={parent:c,cache:c},a.memoizedState=p,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=p),Xs(a,mn,c)):(c=v.cache,Xs(a,mn,c),c!==p.cache&&Tg(a,[mn],l,!0))),zn(i,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(r(156,a.tag))}function ps(i){i.flags|=4}function dv(i,a,l,c,p){if((a=(i.mode&32)!==0)&&(a=!1),a){if(i.flags|=16777216,(p&335544128)===p)if(i.stateNode.complete)i.flags|=8192;else if(lE())i.flags|=8192;else throw mo=Pf,Rg}else i.flags&=-16777217}function Mx(i,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!XE(a))if(lE())i.flags|=8192;else throw mo=Pf,Rg}function Xf(i,a){a!==null&&(i.flags|=4),i.flags&16384&&(a=i.tag!==22?wr():536870912,i.lanes|=a,Tl|=a)}function sc(i,a){if(!st)switch(i.tailMode){case"hidden":a=i.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?a||i.tail===null?i.tail=null:i.tail.sibling=null:c.sibling=null}}function Lt(i){var a=i.alternate!==null&&i.alternate.child===i.child,l=0,c=0;if(a)for(var p=i.child;p!==null;)l|=p.lanes|p.childLanes,c|=p.subtreeFlags&65011712,c|=p.flags&65011712,p.return=i,p=p.sibling;else for(p=i.child;p!==null;)l|=p.lanes|p.childLanes,c|=p.subtreeFlags,c|=p.flags,p.return=i,p=p.sibling;return i.subtreeFlags|=c,i.childLanes=l,a}function xD(i,a,l){var c=a.pendingProps;switch(bg(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Lt(a),null;case 1:return Lt(a),null;case 3:return l=a.stateNode,c=null,i!==null&&(c=i.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),ds(mn),wt(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(dl(a)?ps(a):i===null||i.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,wg())),Lt(a),null;case 26:var p=a.type,v=a.memoizedState;return i===null?(ps(a),v!==null?(Lt(a),Mx(a,v)):(Lt(a),dv(a,p,null,c,l))):v?v!==i.memoizedState?(ps(a),Lt(a),Mx(a,v)):(Lt(a),a.flags&=-16777217):(i=i.memoizedProps,i!==c&&ps(a),Lt(a),dv(a,p,i,c,l)),null;case 27:if(yr(a),l=Pe.current,p=a.type,i!==null&&a.stateNode!=null)i.memoizedProps!==c&&ps(a);else{if(!c){if(a.stateNode===null)throw Error(r(166));return Lt(a),null}i=re.current,dl(a)?pw(a):(i=HE(p,c,l),a.stateNode=i,ps(a))}return Lt(a),null;case 5:if(yr(a),p=a.type,i!==null&&a.stateNode!=null)i.memoizedProps!==c&&ps(a);else{if(!c){if(a.stateNode===null)throw Error(r(166));return Lt(a),null}if(v=re.current,dl(a))pw(a);else{var x=fh(Pe.current);switch(v){case 1:v=x.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:v=x.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":v=x.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":v=x.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":v=x.createElement("div"),v.innerHTML="<script><\/script>",v=v.removeChild(v.firstChild);break;case"select":v=typeof c.is=="string"?x.createElement("select",{is:c.is}):x.createElement("select"),c.multiple?v.multiple=!0:c.size&&(v.size=c.size);break;default:v=typeof c.is=="string"?x.createElement(p,{is:c.is}):x.createElement(p)}}v[_e]=a,v[Le]=c;e:for(x=a.child;x!==null;){if(x.tag===5||x.tag===6)v.appendChild(x.stateNode);else if(x.tag!==4&&x.tag!==27&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===a)break e;for(;x.sibling===null;){if(x.return===null||x.return===a)break e;x=x.return}x.sibling.return=x.return,x=x.sibling}a.stateNode=v;e:switch(Bn(v,p,c),p){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&ps(a)}}return Lt(a),dv(a,a.type,i===null?null:i.memoizedProps,a.pendingProps,l),null;case 6:if(i&&a.stateNode!=null)i.memoizedProps!==c&&ps(a);else{if(typeof c!="string"&&a.stateNode===null)throw Error(r(166));if(i=Pe.current,dl(a)){if(i=a.stateNode,l=a.memoizedProps,c=null,p=Ln,p!==null)switch(p.tag){case 27:case 5:c=p.memoizedProps}i[_e]=a,i=!!(i.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||DE(i.nodeValue,l)),i||Qs(a,!0)}else i=fh(i).createTextNode(c),i[_e]=a,a.stateNode=i}return Lt(a),null;case 31:if(l=a.memoizedState,i===null||i.memoizedState!==null){if(c=dl(a),l!==null){if(i===null){if(!c)throw Error(r(318));if(i=a.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[_e]=a}else lo(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Lt(a),i=!1}else l=wg(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=l),i=!0;if(!i)return a.flags&256?(Hr(a),a):(Hr(a),null);if((a.flags&128)!==0)throw Error(r(558))}return Lt(a),null;case 13:if(c=a.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(p=dl(a),c!==null&&c.dehydrated!==null){if(i===null){if(!p)throw Error(r(318));if(p=a.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(r(317));p[_e]=a}else lo(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Lt(a),p=!1}else p=wg(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=p),p=!0;if(!p)return a.flags&256?(Hr(a),a):(Hr(a),null)}return Hr(a),(a.flags&128)!==0?(a.lanes=l,a):(l=c!==null,i=i!==null&&i.memoizedState!==null,l&&(c=a.child,p=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(p=c.alternate.memoizedState.cachePool.pool),v=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(v=c.memoizedState.cachePool.pool),v!==p&&(c.flags|=2048)),l!==i&&l&&(a.child.flags|=8192),Xf(a,a.updateQueue),Lt(a),null);case 4:return wt(),i===null&&Ov(a.stateNode.containerInfo),Lt(a),null;case 10:return ds(a.type),Lt(a),null;case 19:if(Z(an),c=a.memoizedState,c===null)return Lt(a),null;if(p=(a.flags&128)!==0,v=c.rendering,v===null)if(p)sc(c,!1);else{if(Zt!==0||i!==null&&(i.flags&128)!==0)for(i=a.child;i!==null;){if(v=Lf(i),v!==null){for(a.flags|=128,sc(c,!1),i=v.updateQueue,a.updateQueue=i,Xf(a,i),a.subtreeFlags=0,i=l,l=a.child;l!==null;)cw(l,i),l=l.sibling;return ee(an,an.current&1|2),st&&us(a,c.treeForkCount),a.child}i=i.sibling}c.tail!==null&&yt()>nh&&(a.flags|=128,p=!0,sc(c,!1),a.lanes=4194304)}else{if(!p)if(i=Lf(v),i!==null){if(a.flags|=128,p=!0,i=i.updateQueue,a.updateQueue=i,Xf(a,i),sc(c,!0),c.tail===null&&c.tailMode==="hidden"&&!v.alternate&&!st)return Lt(a),null}else 2*yt()-c.renderingStartTime>nh&&l!==536870912&&(a.flags|=128,p=!0,sc(c,!1),a.lanes=4194304);c.isBackwards?(v.sibling=a.child,a.child=v):(i=c.last,i!==null?i.sibling=v:a.child=v,c.last=v)}return c.tail!==null?(i=c.tail,c.rendering=i,c.tail=i.sibling,c.renderingStartTime=yt(),i.sibling=null,l=an.current,ee(an,p?l&1|2:l&1),st&&us(a,c.treeForkCount),i):(Lt(a),null);case 22:case 23:return Hr(a),Pg(),c=a.memoizedState!==null,i!==null?i.memoizedState!==null!==c&&(a.flags|=8192):c&&(a.flags|=8192),c?(l&536870912)!==0&&(a.flags&128)===0&&(Lt(a),a.subtreeFlags&6&&(a.flags|=8192)):Lt(a),l=a.updateQueue,l!==null&&Xf(a,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),c=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),c!==l&&(a.flags|=2048),i!==null&&Z(fo),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),ds(mn),Lt(a),null;case 25:return null;case 30:return null}throw Error(r(156,a.tag))}function ED(i,a){switch(bg(a),a.tag){case 1:return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 3:return ds(mn),wt(),i=a.flags,(i&65536)!==0&&(i&128)===0?(a.flags=i&-65537|128,a):null;case 26:case 27:case 5:return yr(a),null;case 31:if(a.memoizedState!==null){if(Hr(a),a.alternate===null)throw Error(r(340));lo()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 13:if(Hr(a),i=a.memoizedState,i!==null&&i.dehydrated!==null){if(a.alternate===null)throw Error(r(340));lo()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 19:return Z(an),null;case 4:return wt(),null;case 10:return ds(a.type),null;case 22:case 23:return Hr(a),Pg(),i!==null&&Z(fo),i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 24:return ds(mn),null;case 25:return null;default:return null}}function Vx(i,a){switch(bg(a),a.tag){case 3:ds(mn),wt();break;case 26:case 27:case 5:yr(a);break;case 4:wt();break;case 31:a.memoizedState!==null&&Hr(a);break;case 13:Hr(a);break;case 19:Z(an);break;case 10:ds(a.type);break;case 22:case 23:Hr(a),Pg(),i!==null&&Z(fo);break;case 24:ds(mn)}}function ac(i,a){try{var l=a.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var p=c.next;l=p;do{if((l.tag&i)===i){c=void 0;var v=l.create,x=l.inst;c=v(),x.destroy=c}l=l.next}while(l!==p)}}catch(I){_t(a,a.return,I)}}function ra(i,a,l){try{var c=a.updateQueue,p=c!==null?c.lastEffect:null;if(p!==null){var v=p.next;c=v;do{if((c.tag&i)===i){var x=c.inst,I=x.destroy;if(I!==void 0){x.destroy=void 0,p=a;var F=l,X=I;try{X()}catch(ie){_t(p,F,ie)}}}c=c.next}while(c!==v)}}catch(ie){_t(a,a.return,ie)}}function Lx(i){var a=i.updateQueue;if(a!==null){var l=i.stateNode;try{Rw(a,l)}catch(c){_t(i,i.return,c)}}}function Ux(i,a,l){l.props=vo(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(c){_t(i,a,c)}}function oc(i,a){try{var l=i.ref;if(l!==null){switch(i.tag){case 26:case 27:case 5:var c=i.stateNode;break;case 30:c=i.stateNode;break;default:c=i.stateNode}typeof l=="function"?i.refCleanup=l(c):l.current=c}}catch(p){_t(i,a,p)}}function Hi(i,a){var l=i.ref,c=i.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(p){_t(i,a,p)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(p){_t(i,a,p)}else l.current=null}function zx(i){var a=i.type,l=i.memoizedProps,c=i.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break e;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(p){_t(i,i.return,p)}}function fv(i,a,l){try{var c=i.stateNode;GD(c,i.type,l,a),c[Le]=a}catch(p){_t(i,i.return,p)}}function Bx(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&ca(i.type)||i.tag===4}function hv(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Bx(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&ca(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function mv(i,a,l){var c=i.tag;if(c===5||c===6)i=i.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(i,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(i),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=In));else if(c!==4&&(c===27&&ca(i.type)&&(l=i.stateNode,a=null),i=i.child,i!==null))for(mv(i,a,l),i=i.sibling;i!==null;)mv(i,a,l),i=i.sibling}function Zf(i,a,l){var c=i.tag;if(c===5||c===6)i=i.stateNode,a?l.insertBefore(i,a):l.appendChild(i);else if(c!==4&&(c===27&&ca(i.type)&&(l=i.stateNode),i=i.child,i!==null))for(Zf(i,a,l),i=i.sibling;i!==null;)Zf(i,a,l),i=i.sibling}function Fx(i){var a=i.stateNode,l=i.memoizedProps;try{for(var c=i.type,p=a.attributes;p.length;)a.removeAttributeNode(p[0]);Bn(a,c,l),a[_e]=i,a[Le]=l}catch(v){_t(i,i.return,v)}}var gs=!1,vn=!1,pv=!1,Hx=typeof WeakSet=="function"?WeakSet:Set,Dn=null;function TD(i,a){if(i=i.containerInfo,Mv=bh,i=tw(i),lg(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var p=c.anchorOffset,v=c.focusNode;c=c.focusOffset;try{l.nodeType,v.nodeType}catch{l=null;break e}var x=0,I=-1,F=-1,X=0,ie=0,le=i,J=null;t:for(;;){for(var te;le!==l||p!==0&&le.nodeType!==3||(I=x+p),le!==v||c!==0&&le.nodeType!==3||(F=x+c),le.nodeType===3&&(x+=le.nodeValue.length),(te=le.firstChild)!==null;)J=le,le=te;for(;;){if(le===i)break t;if(J===l&&++X===p&&(I=x),J===v&&++ie===c&&(F=x),(te=le.nextSibling)!==null)break;le=J,J=le.parentNode}le=te}l=I===-1||F===-1?null:{start:I,end:F}}else l=null}l=l||{start:0,end:0}}else l=null;for(Vv={focusedElem:i,selectionRange:l},bh=!1,Dn=a;Dn!==null;)if(a=Dn,i=a.child,(a.subtreeFlags&1028)!==0&&i!==null)i.return=a,Dn=i;else for(;Dn!==null;){switch(a=Dn,v=a.alternate,i=a.flags,a.tag){case 0:if((i&4)!==0&&(i=a.updateQueue,i=i!==null?i.events:null,i!==null))for(l=0;l<i.length;l++)p=i[l],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&v!==null){i=void 0,l=a,p=v.memoizedProps,v=v.memoizedState,c=l.stateNode;try{var Te=vo(l.type,p);i=c.getSnapshotBeforeUpdate(Te,v),c.__reactInternalSnapshotBeforeUpdate=i}catch(Oe){_t(l,l.return,Oe)}}break;case 3:if((i&1024)!==0){if(i=a.stateNode.containerInfo,l=i.nodeType,l===9)zv(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":zv(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=a.sibling,i!==null){i.return=a.return,Dn=i;break}Dn=a.return}}function qx(i,a,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:ys(i,l),c&4&&ac(5,l);break;case 1:if(ys(i,l),c&4)if(i=l.stateNode,a===null)try{i.componentDidMount()}catch(x){_t(l,l.return,x)}else{var p=vo(l.type,a.memoizedProps);a=a.memoizedState;try{i.componentDidUpdate(p,a,i.__reactInternalSnapshotBeforeUpdate)}catch(x){_t(l,l.return,x)}}c&64&&Lx(l),c&512&&oc(l,l.return);break;case 3:if(ys(i,l),c&64&&(i=l.updateQueue,i!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{Rw(i,a)}catch(x){_t(l,l.return,x)}}break;case 27:a===null&&c&4&&Fx(l);case 26:case 5:ys(i,l),a===null&&c&4&&zx(l),c&512&&oc(l,l.return);break;case 12:ys(i,l);break;case 31:ys(i,l),c&4&&Kx(i,l);break;case 13:ys(i,l),c&4&&Yx(i,l),c&64&&(i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(l=OD.bind(null,l),JD(i,l))));break;case 22:if(c=l.memoizedState!==null||gs,!c){a=a!==null&&a.memoizedState!==null||vn,p=gs;var v=vn;gs=c,(vn=a)&&!v?bs(i,l,(l.subtreeFlags&8772)!==0):ys(i,l),gs=p,vn=v}break;case 30:break;default:ys(i,l)}}function Gx(i){var a=i.alternate;a!==null&&(i.alternate=null,Gx(a)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(a=i.stateNode,a!==null&&Jr(a)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var qt=null,Rr=!1;function vs(i,a,l){for(l=l.child;l!==null;)$x(i,a,l),l=l.sibling}function $x(i,a,l){if(jt&&typeof jt.onCommitFiberUnmount=="function")try{jt.onCommitFiberUnmount(sr,l)}catch{}switch(l.tag){case 26:vn||Hi(l,a),vs(i,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:vn||Hi(l,a);var c=qt,p=Rr;ca(l.type)&&(qt=l.stateNode,Rr=!1),vs(i,a,l),gc(l.stateNode),qt=c,Rr=p;break;case 5:vn||Hi(l,a);case 6:if(c=qt,p=Rr,qt=null,vs(i,a,l),qt=c,Rr=p,qt!==null)if(Rr)try{(qt.nodeType===9?qt.body:qt.nodeName==="HTML"?qt.ownerDocument.body:qt).removeChild(l.stateNode)}catch(v){_t(l,a,v)}else try{qt.removeChild(l.stateNode)}catch(v){_t(l,a,v)}break;case 18:qt!==null&&(Rr?(i=qt,LE(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,l.stateNode),Dl(i)):LE(qt,l.stateNode));break;case 4:c=qt,p=Rr,qt=l.stateNode.containerInfo,Rr=!0,vs(i,a,l),qt=c,Rr=p;break;case 0:case 11:case 14:case 15:ra(2,l,a),vn||ra(4,l,a),vs(i,a,l);break;case 1:vn||(Hi(l,a),c=l.stateNode,typeof c.componentWillUnmount=="function"&&Ux(l,a,c)),vs(i,a,l);break;case 21:vs(i,a,l);break;case 22:vn=(c=vn)||l.memoizedState!==null,vs(i,a,l),vn=c;break;default:vs(i,a,l)}}function Kx(i,a){if(a.memoizedState===null&&(i=a.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Dl(i)}catch(l){_t(a,a.return,l)}}}function Yx(i,a){if(a.memoizedState===null&&(i=a.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Dl(i)}catch(l){_t(a,a.return,l)}}function SD(i){switch(i.tag){case 31:case 13:case 19:var a=i.stateNode;return a===null&&(a=i.stateNode=new Hx),a;case 22:return i=i.stateNode,a=i._retryCache,a===null&&(a=i._retryCache=new Hx),a;default:throw Error(r(435,i.tag))}}function Jf(i,a){var l=SD(i);a.forEach(function(c){if(!l.has(c)){l.add(c);var p=PD.bind(null,i,c);c.then(p,p)}})}function Ir(i,a){var l=a.deletions;if(l!==null)for(var c=0;c<l.length;c++){var p=l[c],v=i,x=a,I=x;e:for(;I!==null;){switch(I.tag){case 27:if(ca(I.type)){qt=I.stateNode,Rr=!1;break e}break;case 5:qt=I.stateNode,Rr=!1;break e;case 3:case 4:qt=I.stateNode.containerInfo,Rr=!0;break e}I=I.return}if(qt===null)throw Error(r(160));$x(v,x,p),qt=null,Rr=!1,v=p.alternate,v!==null&&(v.return=null),p.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)Wx(a,i),a=a.sibling}var Ti=null;function Wx(i,a){var l=i.alternate,c=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Ir(a,i),Nr(i),c&4&&(ra(3,i,i.return),ac(3,i),ra(5,i,i.return));break;case 1:Ir(a,i),Nr(i),c&512&&(vn||l===null||Hi(l,l.return)),c&64&&gs&&(i=i.updateQueue,i!==null&&(c=i.callbacks,c!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var p=Ti;if(Ir(a,i),Nr(i),c&512&&(vn||l===null||Hi(l,l.return)),c&4){var v=l!==null?l.memoizedState:null;if(c=i.memoizedState,l===null)if(c===null)if(i.stateNode===null){e:{c=i.type,l=i.memoizedProps,p=p.ownerDocument||p;t:switch(c){case"title":v=p.getElementsByTagName("title")[0],(!v||v[Tr]||v[_e]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=p.createElement(c),p.head.insertBefore(v,p.querySelector("head > title"))),Bn(v,c,l),v[_e]=i,Ht(v),c=v;break e;case"link":var x=WE("link","href",p).get(c+(l.href||""));if(x){for(var I=0;I<x.length;I++)if(v=x[I],v.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&v.getAttribute("rel")===(l.rel==null?null:l.rel)&&v.getAttribute("title")===(l.title==null?null:l.title)&&v.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){x.splice(I,1);break t}}v=p.createElement(c),Bn(v,c,l),p.head.appendChild(v);break;case"meta":if(x=WE("meta","content",p).get(c+(l.content||""))){for(I=0;I<x.length;I++)if(v=x[I],v.getAttribute("content")===(l.content==null?null:""+l.content)&&v.getAttribute("name")===(l.name==null?null:l.name)&&v.getAttribute("property")===(l.property==null?null:l.property)&&v.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&v.getAttribute("charset")===(l.charSet==null?null:l.charSet)){x.splice(I,1);break t}}v=p.createElement(c),Bn(v,c,l),p.head.appendChild(v);break;default:throw Error(r(468,c))}v[_e]=i,Ht(v),c=v}i.stateNode=c}else QE(p,i.type,i.stateNode);else i.stateNode=YE(p,c,i.memoizedProps);else v!==c?(v===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):v.count--,c===null?QE(p,i.type,i.stateNode):YE(p,c,i.memoizedProps)):c===null&&i.stateNode!==null&&fv(i,i.memoizedProps,l.memoizedProps)}break;case 27:Ir(a,i),Nr(i),c&512&&(vn||l===null||Hi(l,l.return)),l!==null&&c&4&&fv(i,i.memoizedProps,l.memoizedProps);break;case 5:if(Ir(a,i),Nr(i),c&512&&(vn||l===null||Hi(l,l.return)),i.flags&32){p=i.stateNode;try{ni(p,"")}catch(Te){_t(i,i.return,Te)}}c&4&&i.stateNode!=null&&(p=i.memoizedProps,fv(i,p,l!==null?l.memoizedProps:p)),c&1024&&(pv=!0);break;case 6:if(Ir(a,i),Nr(i),c&4){if(i.stateNode===null)throw Error(r(162));c=i.memoizedProps,l=i.stateNode;try{l.nodeValue=c}catch(Te){_t(i,i.return,Te)}}break;case 3:if(ph=null,p=Ti,Ti=hh(a.containerInfo),Ir(a,i),Ti=p,Nr(i),c&4&&l!==null&&l.memoizedState.isDehydrated)try{Dl(a.containerInfo)}catch(Te){_t(i,i.return,Te)}pv&&(pv=!1,Qx(i));break;case 4:c=Ti,Ti=hh(i.stateNode.containerInfo),Ir(a,i),Nr(i),Ti=c;break;case 12:Ir(a,i),Nr(i);break;case 31:Ir(a,i),Nr(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Jf(i,c)));break;case 13:Ir(a,i),Nr(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(th=yt()),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Jf(i,c)));break;case 22:p=i.memoizedState!==null;var F=l!==null&&l.memoizedState!==null,X=gs,ie=vn;if(gs=X||p,vn=ie||F,Ir(a,i),vn=ie,gs=X,Nr(i),c&8192)e:for(a=i.stateNode,a._visibility=p?a._visibility&-2:a._visibility|1,p&&(l===null||F||gs||vn||yo(i)),l=null,a=i;;){if(a.tag===5||a.tag===26){if(l===null){F=l=a;try{if(v=F.stateNode,p)x=v.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{I=F.stateNode;var le=F.memoizedProps.style,J=le!=null&&le.hasOwnProperty("display")?le.display:null;I.style.display=J==null||typeof J=="boolean"?"":(""+J).trim()}}catch(Te){_t(F,F.return,Te)}}}else if(a.tag===6){if(l===null){F=a;try{F.stateNode.nodeValue=p?"":F.memoizedProps}catch(Te){_t(F,F.return,Te)}}}else if(a.tag===18){if(l===null){F=a;try{var te=F.stateNode;p?UE(te,!0):UE(F.stateNode,!1)}catch(Te){_t(F,F.return,Te)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===i)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break e;for(;a.sibling===null;){if(a.return===null||a.return===i)break e;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}c&4&&(c=i.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,Jf(i,l))));break;case 19:Ir(a,i),Nr(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Jf(i,c)));break;case 30:break;case 21:break;default:Ir(a,i),Nr(i)}}function Nr(i){var a=i.flags;if(a&2){try{for(var l,c=i.return;c!==null;){if(Bx(c)){l=c;break}c=c.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var p=l.stateNode,v=hv(i);Zf(i,v,p);break;case 5:var x=l.stateNode;l.flags&32&&(ni(x,""),l.flags&=-33);var I=hv(i);Zf(i,I,x);break;case 3:case 4:var F=l.stateNode.containerInfo,X=hv(i);mv(i,X,F);break;default:throw Error(r(161))}}catch(ie){_t(i,i.return,ie)}i.flags&=-3}a&4096&&(i.flags&=-4097)}function Qx(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var a=i;Qx(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),i=i.sibling}}function ys(i,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)qx(i,a.alternate,a),a=a.sibling}function yo(i){for(i=i.child;i!==null;){var a=i;switch(a.tag){case 0:case 11:case 14:case 15:ra(4,a,a.return),yo(a);break;case 1:Hi(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&Ux(a,a.return,l),yo(a);break;case 27:gc(a.stateNode);case 26:case 5:Hi(a,a.return),yo(a);break;case 22:a.memoizedState===null&&yo(a);break;case 30:yo(a);break;default:yo(a)}i=i.sibling}}function bs(i,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var c=a.alternate,p=i,v=a,x=v.flags;switch(v.tag){case 0:case 11:case 15:bs(p,v,l),ac(4,v);break;case 1:if(bs(p,v,l),c=v,p=c.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(X){_t(c,c.return,X)}if(c=v,p=c.updateQueue,p!==null){var I=c.stateNode;try{var F=p.shared.hiddenCallbacks;if(F!==null)for(p.shared.hiddenCallbacks=null,p=0;p<F.length;p++)Cw(F[p],I)}catch(X){_t(c,c.return,X)}}l&&x&64&&Lx(v),oc(v,v.return);break;case 27:Fx(v);case 26:case 5:bs(p,v,l),l&&c===null&&x&4&&zx(v),oc(v,v.return);break;case 12:bs(p,v,l);break;case 31:bs(p,v,l),l&&x&4&&Kx(p,v);break;case 13:bs(p,v,l),l&&x&4&&Yx(p,v);break;case 22:v.memoizedState===null&&bs(p,v,l),oc(v,v.return);break;case 30:break;default:bs(p,v,l)}a=a.sibling}}function gv(i,a){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(i=a.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&Ku(l))}function vv(i,a){i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&Ku(i))}function Si(i,a,l,c){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Xx(i,a,l,c),a=a.sibling}function Xx(i,a,l,c){var p=a.flags;switch(a.tag){case 0:case 11:case 15:Si(i,a,l,c),p&2048&&ac(9,a);break;case 1:Si(i,a,l,c);break;case 3:Si(i,a,l,c),p&2048&&(i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&Ku(i)));break;case 12:if(p&2048){Si(i,a,l,c),i=a.stateNode;try{var v=a.memoizedProps,x=v.id,I=v.onPostCommit;typeof I=="function"&&I(x,a.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(F){_t(a,a.return,F)}}else Si(i,a,l,c);break;case 31:Si(i,a,l,c);break;case 13:Si(i,a,l,c);break;case 23:break;case 22:v=a.stateNode,x=a.alternate,a.memoizedState!==null?v._visibility&2?Si(i,a,l,c):lc(i,a):v._visibility&2?Si(i,a,l,c):(v._visibility|=2,wl(i,a,l,c,(a.subtreeFlags&10256)!==0||!1)),p&2048&&gv(x,a);break;case 24:Si(i,a,l,c),p&2048&&vv(a.alternate,a);break;default:Si(i,a,l,c)}}function wl(i,a,l,c,p){for(p=p&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var v=i,x=a,I=l,F=c,X=x.flags;switch(x.tag){case 0:case 11:case 15:wl(v,x,I,F,p),ac(8,x);break;case 23:break;case 22:var ie=x.stateNode;x.memoizedState!==null?ie._visibility&2?wl(v,x,I,F,p):lc(v,x):(ie._visibility|=2,wl(v,x,I,F,p)),p&&X&2048&&gv(x.alternate,x);break;case 24:wl(v,x,I,F,p),p&&X&2048&&vv(x.alternate,x);break;default:wl(v,x,I,F,p)}a=a.sibling}}function lc(i,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=i,c=a,p=c.flags;switch(c.tag){case 22:lc(l,c),p&2048&&gv(c.alternate,c);break;case 24:lc(l,c),p&2048&&vv(c.alternate,c);break;default:lc(l,c)}a=a.sibling}}var uc=8192;function xl(i,a,l){if(i.subtreeFlags&uc)for(i=i.child;i!==null;)Zx(i,a,l),i=i.sibling}function Zx(i,a,l){switch(i.tag){case 26:xl(i,a,l),i.flags&uc&&i.memoizedState!==null&&dO(l,Ti,i.memoizedState,i.memoizedProps);break;case 5:xl(i,a,l);break;case 3:case 4:var c=Ti;Ti=hh(i.stateNode.containerInfo),xl(i,a,l),Ti=c;break;case 22:i.memoizedState===null&&(c=i.alternate,c!==null&&c.memoizedState!==null?(c=uc,uc=16777216,xl(i,a,l),uc=c):xl(i,a,l));break;default:xl(i,a,l)}}function Jx(i){var a=i.alternate;if(a!==null&&(i=a.child,i!==null)){a.child=null;do a=i.sibling,i.sibling=null,i=a;while(i!==null)}}function cc(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var c=a[l];Dn=c,tE(c,i)}Jx(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)eE(i),i=i.sibling}function eE(i){switch(i.tag){case 0:case 11:case 15:cc(i),i.flags&2048&&ra(9,i,i.return);break;case 3:cc(i);break;case 12:cc(i);break;case 22:var a=i.stateNode;i.memoizedState!==null&&a._visibility&2&&(i.return===null||i.return.tag!==13)?(a._visibility&=-3,eh(i)):cc(i);break;default:cc(i)}}function eh(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var c=a[l];Dn=c,tE(c,i)}Jx(i)}for(i=i.child;i!==null;){switch(a=i,a.tag){case 0:case 11:case 15:ra(8,a,a.return),eh(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,eh(a));break;default:eh(a)}i=i.sibling}}function tE(i,a){for(;Dn!==null;){var l=Dn;switch(l.tag){case 0:case 11:case 15:ra(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Ku(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,Dn=c;else e:for(l=i;Dn!==null;){c=Dn;var p=c.sibling,v=c.return;if(Gx(c),c===l){Dn=null;break e}if(p!==null){p.return=v,Dn=p;break e}Dn=v}}}var AD={getCacheForType:function(i){var a=Un(mn),l=a.data.get(i);return l===void 0&&(l=i(),a.data.set(i,l)),l},cacheSignal:function(){return Un(mn).controller.signal}},CD=typeof WeakMap=="function"?WeakMap:Map,ht=0,Rt=null,Ze=null,tt=0,bt=0,qr=null,ia=!1,El=!1,yv=!1,_s=0,Zt=0,sa=0,bo=0,bv=0,Gr=0,Tl=0,dc=null,kr=null,_v=!1,th=0,nE=0,nh=1/0,rh=null,aa=null,Tn=0,oa=null,Sl=null,ws=0,wv=0,xv=null,rE=null,fc=0,Ev=null;function $r(){return(ht&2)!==0&&tt!==0?tt&-tt:Q.T!==null?Iv():fn()}function iE(){if(Gr===0)if((tt&536870912)===0||st){var i=qe;qe<<=1,(qe&3932160)===0&&(qe=262144),Gr=i}else Gr=536870912;return i=Fr.current,i!==null&&(i.flags|=32),Gr}function Dr(i,a,l){(i===Rt&&(bt===2||bt===9)||i.cancelPendingCommit!==null)&&(Al(i,0),la(i,tt,Gr,!1)),xt(i,l),((ht&2)===0||i!==Rt)&&(i===Rt&&((ht&2)===0&&(bo|=l),Zt===4&&la(i,tt,Gr,!1)),qi(i))}function sE(i,a,l){if((ht&6)!==0)throw Error(r(327));var c=!l&&(a&127)===0&&(a&i.expiredLanes)===0||ze(i,a),p=c?ND(i,a):Sv(i,a,!0),v=c;do{if(p===0){El&&!c&&la(i,a,0,!1);break}else{if(l=i.current.alternate,v&&!RD(l)){p=Sv(i,a,!1),v=!1;continue}if(p===2){if(v=a,i.errorRecoveryDisabledLanes&v)var x=0;else x=i.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){a=x;e:{var I=i;p=dc;var F=I.current.memoizedState.isDehydrated;if(F&&(Al(I,x).flags|=256),x=Sv(I,x,!1),x!==2){if(yv&&!F){I.errorRecoveryDisabledLanes|=v,bo|=v,p=4;break e}v=kr,kr=p,v!==null&&(kr===null?kr=v:kr.push.apply(kr,v))}p=x}if(v=!1,p!==2)continue}}if(p===1){Al(i,0),la(i,a,0,!0);break}e:{switch(c=i,v=p,v){case 0:case 1:throw Error(r(345));case 4:if((a&4194048)!==a)break;case 6:la(c,a,Gr,!ia);break e;case 2:kr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((a&62914560)===a&&(p=th+300-yt(),10<p)){if(la(c,a,Gr,!ia),Ne(c,0,!0)!==0)break e;ws=a,c.timeoutHandle=ME(aE.bind(null,c,l,kr,rh,_v,a,Gr,bo,Tl,ia,v,"Throttled",-0,0),p);break e}aE(c,l,kr,rh,_v,a,Gr,bo,Tl,ia,v,null,-0,0)}}break}while(!0);qi(i)}function aE(i,a,l,c,p,v,x,I,F,X,ie,le,J,te){if(i.timeoutHandle=-1,le=a.subtreeFlags,le&8192||(le&16785408)===16785408){le={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:In},Zx(a,v,le);var Te=(v&62914560)===v?th-yt():(v&4194048)===v?nE-yt():0;if(Te=fO(le,Te),Te!==null){ws=v,i.cancelPendingCommit=Te(mE.bind(null,i,a,v,l,c,p,x,I,F,ie,le,null,J,te)),la(i,v,x,!X);return}}mE(i,a,v,l,c,p,x,I,F)}function RD(i){for(var a=i;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var p=l[c],v=p.getSnapshot;p=p.value;try{if(!zr(v(),p))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function la(i,a,l,c){a&=~bv,a&=~bo,i.suspendedLanes|=a,i.pingedLanes&=~a,c&&(i.warmLanes|=a),c=i.expirationTimes;for(var p=a;0<p;){var v=31-fe(p),x=1<<v;c[v]=-1,p&=~x}l!==0&&Vn(i,l,a)}function ih(){return(ht&6)===0?(hc(0),!1):!0}function Tv(){if(Ze!==null){if(bt===0)var i=Ze.return;else i=Ze,cs=uo=null,zg(i),gl=null,Wu=0,i=Ze;for(;i!==null;)Vx(i.alternate,i),i=i.return;Ze=null}}function Al(i,a){var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,YD(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),ws=0,Tv(),Rt=i,Ze=l=ls(i.current,null),tt=a,bt=0,qr=null,ia=!1,El=ze(i,a),yv=!1,Tl=Gr=bv=bo=sa=Zt=0,kr=dc=null,_v=!1,(a&8)!==0&&(a|=a&32);var c=i.entangledLanes;if(c!==0)for(i=i.entanglements,c&=a;0<c;){var p=31-fe(c),v=1<<p;a|=i[p],c&=~v}return _s=a,Sf(),l}function oE(i,a){Ge=null,Q.H=rc,a===pl||a===Of?(a=Ew(),bt=3):a===Rg?(a=Ew(),bt=4):bt=a===nv?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,qr=a,Ze===null&&(Zt=1,Kf(i,ii(a,i.current)))}function lE(){var i=Fr.current;return i===null?!0:(tt&4194048)===tt?li===null:(tt&62914560)===tt||(tt&536870912)!==0?i===li:!1}function uE(){var i=Q.H;return Q.H=rc,i===null?rc:i}function cE(){var i=Q.A;return Q.A=AD,i}function sh(){Zt=4,ia||(tt&4194048)!==tt&&Fr.current!==null||(El=!0),(sa&134217727)===0&&(bo&134217727)===0||Rt===null||la(Rt,tt,Gr,!1)}function Sv(i,a,l){var c=ht;ht|=2;var p=uE(),v=cE();(Rt!==i||tt!==a)&&(rh=null,Al(i,a)),a=!1;var x=Zt;e:do try{if(bt!==0&&Ze!==null){var I=Ze,F=qr;switch(bt){case 8:Tv(),x=6;break e;case 3:case 2:case 9:case 6:Fr.current===null&&(a=!0);var X=bt;if(bt=0,qr=null,Cl(i,I,F,X),l&&El){x=0;break e}break;default:X=bt,bt=0,qr=null,Cl(i,I,F,X)}}ID(),x=Zt;break}catch(ie){oE(i,ie)}while(!0);return a&&i.shellSuspendCounter++,cs=uo=null,ht=c,Q.H=p,Q.A=v,Ze===null&&(Rt=null,tt=0,Sf()),x}function ID(){for(;Ze!==null;)dE(Ze)}function ND(i,a){var l=ht;ht|=2;var c=uE(),p=cE();Rt!==i||tt!==a?(rh=null,nh=yt()+500,Al(i,a)):El=ze(i,a);e:do try{if(bt!==0&&Ze!==null){a=Ze;var v=qr;t:switch(bt){case 1:bt=0,qr=null,Cl(i,a,v,1);break;case 2:case 9:if(ww(v)){bt=0,qr=null,fE(a);break}a=function(){bt!==2&&bt!==9||Rt!==i||(bt=7),qi(i)},v.then(a,a);break e;case 3:bt=7;break e;case 4:bt=5;break e;case 7:ww(v)?(bt=0,qr=null,fE(a)):(bt=0,qr=null,Cl(i,a,v,7));break;case 5:var x=null;switch(Ze.tag){case 26:x=Ze.memoizedState;case 5:case 27:var I=Ze;if(x?XE(x):I.stateNode.complete){bt=0,qr=null;var F=I.sibling;if(F!==null)Ze=F;else{var X=I.return;X!==null?(Ze=X,ah(X)):Ze=null}break t}}bt=0,qr=null,Cl(i,a,v,5);break;case 6:bt=0,qr=null,Cl(i,a,v,6);break;case 8:Tv(),Zt=6;break e;default:throw Error(r(462))}}kD();break}catch(ie){oE(i,ie)}while(!0);return cs=uo=null,Q.H=c,Q.A=p,ht=l,Ze!==null?0:(Rt=null,tt=0,Sf(),Zt)}function kD(){for(;Ze!==null&&!vi();)dE(Ze)}function dE(i){var a=jx(i.alternate,i,_s);i.memoizedProps=i.pendingProps,a===null?ah(i):Ze=a}function fE(i){var a=i,l=a.alternate;switch(a.tag){case 15:case 0:a=Ix(l,a,a.pendingProps,a.type,void 0,tt);break;case 11:a=Ix(l,a,a.pendingProps,a.type.render,a.ref,tt);break;case 5:zg(a);default:Vx(l,a),a=Ze=cw(a,_s),a=jx(l,a,_s)}i.memoizedProps=i.pendingProps,a===null?ah(i):Ze=a}function Cl(i,a,l,c){cs=uo=null,zg(a),gl=null,Wu=0;var p=a.return;try{if(bD(i,p,a,l,tt)){Zt=1,Kf(i,ii(l,i.current)),Ze=null;return}}catch(v){if(p!==null)throw Ze=p,v;Zt=1,Kf(i,ii(l,i.current)),Ze=null;return}a.flags&32768?(st||c===1?i=!0:El||(tt&536870912)!==0?i=!1:(ia=i=!0,(c===2||c===9||c===3||c===6)&&(c=Fr.current,c!==null&&c.tag===13&&(c.flags|=16384))),hE(a,i)):ah(a)}function ah(i){var a=i;do{if((a.flags&32768)!==0){hE(a,ia);return}i=a.return;var l=xD(a.alternate,a,_s);if(l!==null){Ze=l;return}if(a=a.sibling,a!==null){Ze=a;return}Ze=a=i}while(a!==null);Zt===0&&(Zt=5)}function hE(i,a){do{var l=ED(i.alternate,i);if(l!==null){l.flags&=32767,Ze=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(i=i.sibling,i!==null)){Ze=i;return}Ze=i=l}while(i!==null);Zt=6,Ze=null}function mE(i,a,l,c,p,v,x,I,F){i.cancelPendingCommit=null;do oh();while(Tn!==0);if((ht&6)!==0)throw Error(r(327));if(a!==null){if(a===i.current)throw Error(r(177));if(v=a.lanes|a.childLanes,v|=hg,lt(i,l,v,x,I,F),i===Rt&&(Ze=Rt=null,tt=0),Sl=a,oa=i,ws=l,wv=v,xv=p,rE=c,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,jD(Gt,function(){return bE(),null})):(i.callbackNode=null,i.callbackPriority=0),c=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||c){c=Q.T,Q.T=null,p=se.p,se.p=2,x=ht,ht|=4;try{TD(i,a,l)}finally{ht=x,se.p=p,Q.T=c}}Tn=1,pE(),gE(),vE()}}function pE(){if(Tn===1){Tn=0;var i=oa,a=Sl,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=Q.T,Q.T=null;var c=se.p;se.p=2;var p=ht;ht|=4;try{Wx(a,i);var v=Vv,x=tw(i.containerInfo),I=v.focusedElem,F=v.selectionRange;if(x!==I&&I&&I.ownerDocument&&ew(I.ownerDocument.documentElement,I)){if(F!==null&&lg(I)){var X=F.start,ie=F.end;if(ie===void 0&&(ie=X),"selectionStart"in I)I.selectionStart=X,I.selectionEnd=Math.min(ie,I.value.length);else{var le=I.ownerDocument||document,J=le&&le.defaultView||window;if(J.getSelection){var te=J.getSelection(),Te=I.textContent.length,Oe=Math.min(F.start,Te),St=F.end===void 0?Oe:Math.min(F.end,Te);!te.extend&&Oe>St&&(x=St,St=Oe,Oe=x);var $=J_(I,Oe),q=J_(I,St);if($&&q&&(te.rangeCount!==1||te.anchorNode!==$.node||te.anchorOffset!==$.offset||te.focusNode!==q.node||te.focusOffset!==q.offset)){var W=le.createRange();W.setStart($.node,$.offset),te.removeAllRanges(),Oe>St?(te.addRange(W),te.extend(q.node,q.offset)):(W.setEnd(q.node,q.offset),te.addRange(W))}}}}for(le=[],te=I;te=te.parentNode;)te.nodeType===1&&le.push({element:te,left:te.scrollLeft,top:te.scrollTop});for(typeof I.focus=="function"&&I.focus(),I=0;I<le.length;I++){var oe=le[I];oe.element.scrollLeft=oe.left,oe.element.scrollTop=oe.top}}bh=!!Mv,Vv=Mv=null}finally{ht=p,se.p=c,Q.T=l}}i.current=a,Tn=2}}function gE(){if(Tn===2){Tn=0;var i=oa,a=Sl,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=Q.T,Q.T=null;var c=se.p;se.p=2;var p=ht;ht|=4;try{qx(i,a.alternate,a)}finally{ht=p,se.p=c,Q.T=l}}Tn=3}}function vE(){if(Tn===4||Tn===3){Tn=0,Mr();var i=oa,a=Sl,l=ws,c=rE;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Tn=5:(Tn=0,Sl=oa=null,yE(i,i.pendingLanes));var p=i.pendingLanes;if(p===0&&(aa=null),En(l),a=a.stateNode,jt&&typeof jt.onCommitFiberRoot=="function")try{jt.onCommitFiberRoot(sr,a,void 0,(a.current.flags&128)===128)}catch{}if(c!==null){a=Q.T,p=se.p,se.p=2,Q.T=null;try{for(var v=i.onRecoverableError,x=0;x<c.length;x++){var I=c[x];v(I.value,{componentStack:I.stack})}}finally{Q.T=a,se.p=p}}(ws&3)!==0&&oh(),qi(i),p=i.pendingLanes,(l&261930)!==0&&(p&42)!==0?i===Ev?fc++:(fc=0,Ev=i):fc=0,hc(0)}}function yE(i,a){(i.pooledCacheLanes&=a)===0&&(a=i.pooledCache,a!=null&&(i.pooledCache=null,Ku(a)))}function oh(){return pE(),gE(),vE(),bE()}function bE(){if(Tn!==5)return!1;var i=oa,a=wv;wv=0;var l=En(ws),c=Q.T,p=se.p;try{se.p=32>l?32:l,Q.T=null,l=xv,xv=null;var v=oa,x=ws;if(Tn=0,Sl=oa=null,ws=0,(ht&6)!==0)throw Error(r(331));var I=ht;if(ht|=4,eE(v.current),Xx(v,v.current,x,l),ht=I,hc(0,!1),jt&&typeof jt.onPostCommitFiberRoot=="function")try{jt.onPostCommitFiberRoot(sr,v)}catch{}return!0}finally{se.p=p,Q.T=c,yE(i,a)}}function _E(i,a,l){a=ii(l,a),a=tv(i.stateNode,a,2),i=ea(i,a,2),i!==null&&(xt(i,2),qi(i))}function _t(i,a,l){if(i.tag===3)_E(i,i,l);else for(;a!==null;){if(a.tag===3){_E(a,i,l);break}else if(a.tag===1){var c=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(aa===null||!aa.has(c))){i=ii(l,i),l=wx(2),c=ea(a,l,2),c!==null&&(xx(l,c,a,i),xt(c,2),qi(c));break}}a=a.return}}function Av(i,a,l){var c=i.pingCache;if(c===null){c=i.pingCache=new CD;var p=new Set;c.set(a,p)}else p=c.get(a),p===void 0&&(p=new Set,c.set(a,p));p.has(l)||(yv=!0,p.add(l),i=DD.bind(null,i,a,l),a.then(i,i))}function DD(i,a,l){var c=i.pingCache;c!==null&&c.delete(a),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,Rt===i&&(tt&l)===l&&(Zt===4||Zt===3&&(tt&62914560)===tt&&300>yt()-th?(ht&2)===0&&Al(i,0):bv|=l,Tl===tt&&(Tl=0)),qi(i)}function wE(i,a){a===0&&(a=wr()),i=ao(i,a),i!==null&&(xt(i,a),qi(i))}function OD(i){var a=i.memoizedState,l=0;a!==null&&(l=a.retryLane),wE(i,l)}function PD(i,a){var l=0;switch(i.tag){case 31:case 13:var c=i.stateNode,p=i.memoizedState;p!==null&&(l=p.retryLane);break;case 19:c=i.stateNode;break;case 22:c=i.stateNode._retryCache;break;default:throw Error(r(314))}c!==null&&c.delete(a),wE(i,l)}function jD(i,a){return Rn(i,a)}var lh=null,Rl=null,Cv=!1,uh=!1,Rv=!1,ua=0;function qi(i){i!==Rl&&i.next===null&&(Rl===null?lh=Rl=i:Rl=Rl.next=i),uh=!0,Cv||(Cv=!0,VD())}function hc(i,a){if(!Rv&&uh){Rv=!0;do for(var l=!1,c=lh;c!==null;){if(i!==0){var p=c.pendingLanes;if(p===0)var v=0;else{var x=c.suspendedLanes,I=c.pingedLanes;v=(1<<31-fe(42|i)+1)-1,v&=p&~(x&~I),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(l=!0,SE(c,v))}else v=tt,v=Ne(c,c===Rt?v:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(v&3)===0||ze(c,v)||(l=!0,SE(c,v));c=c.next}while(l);Rv=!1}}function MD(){xE()}function xE(){uh=Cv=!1;var i=0;ua!==0&&KD()&&(i=ua);for(var a=yt(),l=null,c=lh;c!==null;){var p=c.next,v=EE(c,a);v===0?(c.next=null,l===null?lh=p:l.next=p,p===null&&(Rl=l)):(l=c,(i!==0||(v&3)!==0)&&(uh=!0)),c=p}Tn!==0&&Tn!==5||hc(i),ua!==0&&(ua=0)}function EE(i,a){for(var l=i.suspendedLanes,c=i.pingedLanes,p=i.expirationTimes,v=i.pendingLanes&-62914561;0<v;){var x=31-fe(v),I=1<<x,F=p[x];F===-1?((I&l)===0||(I&c)!==0)&&(p[x]=rn(I,a)):F<=a&&(i.expiredLanes|=I),v&=~I}if(a=Rt,l=tt,l=Ne(i,i===a?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c=i.callbackNode,l===0||i===a&&(bt===2||bt===9)||i.cancelPendingCommit!==null)return c!==null&&c!==null&&ir(c),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||ze(i,l)){if(a=l&-l,a===i.callbackPriority)return a;switch(c!==null&&ir(c),En(l)){case 2:case 8:l=kt;break;case 32:l=Gt;break;case 268435456:l=yi;break;default:l=Gt}return c=TE.bind(null,i),l=Rn(l,c),i.callbackPriority=a,i.callbackNode=l,a}return c!==null&&c!==null&&ir(c),i.callbackPriority=2,i.callbackNode=null,2}function TE(i,a){if(Tn!==0&&Tn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var l=i.callbackNode;if(oh()&&i.callbackNode!==l)return null;var c=tt;return c=Ne(i,i===Rt?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c===0?null:(sE(i,c,a),EE(i,yt()),i.callbackNode!=null&&i.callbackNode===l?TE.bind(null,i):null)}function SE(i,a){if(oh())return null;sE(i,a,!0)}function VD(){WD(function(){(ht&6)!==0?Rn(ke,MD):xE()})}function Iv(){if(ua===0){var i=hl;i===0&&(i=Ke,Ke<<=1,(Ke&261888)===0&&(Ke=256)),ua=i}return ua}function AE(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Li(""+i)}function CE(i,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,i.id&&l.setAttribute("form",i.id),a.parentNode.insertBefore(l,a),i=new FormData(i),l.parentNode.removeChild(l),i}function LD(i,a,l,c,p){if(a==="submit"&&l&&l.stateNode===p){var v=AE((p[Le]||null).action),x=c.submitter;x&&(a=(a=x[Le]||null)?AE(a.formAction):x.getAttribute("formAction"),a!==null&&(v=a,x=null));var I=new Ja("action","action",null,c,p);i.push({event:I,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(ua!==0){var F=x?CE(p,x):new FormData(p);Wg(l,{pending:!0,data:F,method:p.method,action:v},null,F)}}else typeof v=="function"&&(I.preventDefault(),F=x?CE(p,x):new FormData(p),Wg(l,{pending:!0,data:F,method:p.method,action:v},v,F))},currentTarget:p}]})}}for(var Nv=0;Nv<fg.length;Nv++){var kv=fg[Nv],UD=kv.toLowerCase(),zD=kv[0].toUpperCase()+kv.slice(1);Ei(UD,"on"+zD)}Ei(iw,"onAnimationEnd"),Ei(sw,"onAnimationIteration"),Ei(aw,"onAnimationStart"),Ei("dblclick","onDoubleClick"),Ei("focusin","onFocus"),Ei("focusout","onBlur"),Ei(nD,"onTransitionRun"),Ei(rD,"onTransitionStart"),Ei(iD,"onTransitionCancel"),Ei(ow,"onTransitionEnd"),Vi("onMouseEnter",["mouseout","mouseover"]),Vi("onMouseLeave",["mouseout","mouseover"]),Vi("onPointerEnter",["pointerout","pointerover"]),Vi("onPointerLeave",["pointerout","pointerover"]),ur("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ur("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ur("onBeforeInput",["compositionend","keypress","textInput","paste"]),ur("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ur("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ur("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),BD=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(mc));function RE(i,a){a=(a&4)!==0;for(var l=0;l<i.length;l++){var c=i[l],p=c.event;c=c.listeners;e:{var v=void 0;if(a)for(var x=c.length-1;0<=x;x--){var I=c[x],F=I.instance,X=I.currentTarget;if(I=I.listener,F!==v&&p.isPropagationStopped())break e;v=I,p.currentTarget=X;try{v(p)}catch(ie){Tf(ie)}p.currentTarget=null,v=F}else for(x=0;x<c.length;x++){if(I=c[x],F=I.instance,X=I.currentTarget,I=I.listener,F!==v&&p.isPropagationStopped())break e;v=I,p.currentTarget=X;try{v(p)}catch(ie){Tf(ie)}p.currentTarget=null,v=F}}}}function Je(i,a){var l=a[Er];l===void 0&&(l=a[Er]=new Set);var c=i+"__bubble";l.has(c)||(IE(a,i,2,!1),l.add(c))}function Dv(i,a,l){var c=0;a&&(c|=4),IE(l,i,c,a)}var ch="_reactListening"+Math.random().toString(36).slice(2);function Ov(i){if(!i[ch]){i[ch]=!0,_i.forEach(function(l){l!=="selectionchange"&&(BD.has(l)||Dv(l,!1,i),Dv(l,!0,i))});var a=i.nodeType===9?i:i.ownerDocument;a===null||a[ch]||(a[ch]=!0,Dv("selectionchange",!1,a))}}function IE(i,a,l,c){switch(i1(a)){case 2:var p=pO;break;case 8:p=gO;break;default:p=Yv}l=p.bind(null,a,l,i),p=void 0,!Mu||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(p=!0),c?p!==void 0?i.addEventListener(a,l,{capture:!0,passive:p}):i.addEventListener(a,l,!0):p!==void 0?i.addEventListener(a,l,{passive:p}):i.addEventListener(a,l,!1)}function Pv(i,a,l,c,p){var v=c;if((a&1)===0&&(a&2)===0&&c!==null)e:for(;;){if(c===null)return;var x=c.tag;if(x===3||x===4){var I=c.stateNode.containerInfo;if(I===p)break;if(x===4)for(x=c.return;x!==null;){var F=x.tag;if((F===3||F===4)&&x.stateNode.containerInfo===p)return;x=x.return}for(;I!==null;){if(x=Sr(I),x===null)return;if(F=x.tag,F===5||F===6||F===26||F===27){c=v=x;continue e}I=I.parentNode}}c=c.return}lf(function(){var X=v,ie=el(l),le=[];e:{var J=lw.get(i);if(J!==void 0){var te=Ja,Te=i;switch(i){case"keypress":if(Za(l)===0)break e;case"keydown":case"keyup":te=vf;break;case"focusin":Te="focus",te=qs;break;case"focusout":Te="blur",te=qs;break;case"beforeblur":case"afterblur":te=qs;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":te=cf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":te=df;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":te=bf;break;case iw:case sw:case aw:te=rl;break;case ow:te=il;break;case"scroll":case"scrollend":te=uf;break;case"wheel":te=wf;break;case"copy":case"cut":case"paste":te=hf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":te=Bu;break;case"toggle":case"beforetoggle":te=$s}var Oe=(a&4)!==0,St=!Oe&&(i==="scroll"||i==="scrollend"),$=Oe?J!==null?J+"Capture":null:J;Oe=[];for(var q=X,W;q!==null;){var oe=q;if(W=oe.stateNode,oe=oe.tag,oe!==5&&oe!==26&&oe!==27||W===null||$===null||(oe=Ar(q,$),oe!=null&&Oe.push(pc(q,oe,W))),St)break;q=q.return}0<Oe.length&&(J=new te(J,Te,null,l,ie),le.push({event:J,listeners:Oe}))}}if((a&7)===0){e:{if(J=i==="mouseover"||i==="pointerover",te=i==="mouseout"||i==="pointerout",J&&l!==Jo&&(Te=l.relatedTarget||l.fromElement)&&(Sr(Te)||Te[Ct]))break e;if((te||J)&&(J=ie.window===ie?ie:(J=ie.ownerDocument)?J.defaultView||J.parentWindow:window,te?(Te=l.relatedTarget||l.toElement,te=X,Te=Te?Sr(Te):null,Te!==null&&(St=o(Te),Oe=Te.tag,Te!==St||Oe!==5&&Oe!==27&&Oe!==6)&&(Te=null)):(te=null,Te=X),te!==Te)){if(Oe=cf,oe="onMouseLeave",$="onMouseEnter",q="mouse",(i==="pointerout"||i==="pointerover")&&(Oe=Bu,oe="onPointerLeave",$="onPointerEnter",q="pointer"),St=te==null?J:Mi(te),W=Te==null?J:Mi(Te),J=new Oe(oe,q+"leave",te,l,ie),J.target=St,J.relatedTarget=W,oe=null,Sr(ie)===X&&(Oe=new Oe($,q+"enter",Te,l,ie),Oe.target=W,Oe.relatedTarget=St,oe=Oe),St=oe,te&&Te)t:{for(Oe=FD,$=te,q=Te,W=0,oe=$;oe;oe=Oe(oe))W++;oe=0;for(var Re=q;Re;Re=Oe(Re))oe++;for(;0<W-oe;)$=Oe($),W--;for(;0<oe-W;)q=Oe(q),oe--;for(;W--;){if($===q||q!==null&&$===q.alternate){Oe=$;break t}$=Oe($),q=Oe(q)}Oe=null}else Oe=null;te!==null&&NE(le,J,te,Oe,!1),Te!==null&&St!==null&&NE(le,St,Te,Oe,!0)}}e:{if(J=X?Mi(X):window,te=J.nodeName&&J.nodeName.toLowerCase(),te==="select"||te==="input"&&J.type==="file")var ct=K_;else if(Cr(J))if(Y_)ct=Jk;else{ct=Xk;var Ae=Qk}else te=J.nodeName,!te||te.toLowerCase()!=="input"||J.type!=="checkbox"&&J.type!=="radio"?X&&Pu(X.elementType)&&(ct=K_):ct=Zk;if(ct&&(ct=ct(i,X))){ro(le,ct,l,ie);break e}Ae&&Ae(i,J,X),i==="focusout"&&X&&J.type==="number"&&X.memoizedProps.value!=null&&Zo(J,"number",J.value)}switch(Ae=X?Mi(X):window,i){case"focusin":(Cr(Ae)||Ae.contentEditable==="true")&&(sl=Ae,ug=X,qu=null);break;case"focusout":qu=ug=sl=null;break;case"mousedown":cg=!0;break;case"contextmenu":case"mouseup":case"dragend":cg=!1,nw(le,l,ie);break;case"selectionchange":if(tD)break;case"keydown":case"keyup":nw(le,l,ie)}var $e;if(w)e:{switch(i){case"compositionstart":var nt="onCompositionStart";break e;case"compositionend":nt="onCompositionEnd";break e;case"compositionupdate":nt="onCompositionUpdate";break e}nt=void 0}else Ye?pt(i,l)&&(nt="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(nt="onCompositionStart");nt&&(Y&&l.locale!=="ko"&&(Ye||nt!=="onCompositionStart"?nt==="onCompositionEnd"&&Ye&&($e=zs()):(Ur=ie,tl="value"in Ur?Ur.value:Ur.textContent,Ye=!0)),Ae=dh(X,nt),0<Ae.length&&(nt=new Lu(nt,i,null,l,ie),le.push({event:nt,listeners:Ae}),$e?nt.data=$e:($e=hn(l),$e!==null&&(nt.data=$e)))),($e=k?Nn(i,l):kn(i,l))&&(nt=dh(X,"onBeforeInput"),0<nt.length&&(Ae=new Lu("onBeforeInput","beforeinput",null,l,ie),le.push({event:Ae,listeners:nt}),Ae.data=$e)),LD(le,i,X,l,ie)}RE(le,a)})}function pc(i,a,l){return{instance:i,listener:a,currentTarget:l}}function dh(i,a){for(var l=a+"Capture",c=[];i!==null;){var p=i,v=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||v===null||(p=Ar(i,l),p!=null&&c.unshift(pc(i,p,v)),p=Ar(i,a),p!=null&&c.push(pc(i,p,v))),i.tag===3)return c;i=i.return}return[]}function FD(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function NE(i,a,l,c,p){for(var v=a._reactName,x=[];l!==null&&l!==c;){var I=l,F=I.alternate,X=I.stateNode;if(I=I.tag,F!==null&&F===c)break;I!==5&&I!==26&&I!==27||X===null||(F=X,p?(X=Ar(l,v),X!=null&&x.unshift(pc(l,X,F))):p||(X=Ar(l,v),X!=null&&x.push(pc(l,X,F)))),l=l.return}x.length!==0&&i.push({event:a,listeners:x})}var HD=/\r\n?/g,qD=/\u0000|\uFFFD/g;function kE(i){return(typeof i=="string"?i:""+i).replace(HD,`
`).replace(qD,"")}function DE(i,a){return a=kE(a),kE(i)===a}function Tt(i,a,l,c,p,v){switch(l){case"children":typeof c=="string"?a==="body"||a==="textarea"&&c===""||ni(i,c):(typeof c=="number"||typeof c=="bigint")&&a!=="body"&&ni(i,""+c);break;case"className":Vs(i,"class",c);break;case"tabIndex":Vs(i,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Vs(i,l,c);break;case"style":af(i,c,v);break;case"data":if(a!=="object"){Vs(i,"data",c);break}case"src":case"href":if(c===""&&(a!=="a"||l!=="href")){i.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(l);break}c=Li(""+c),i.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(l==="formAction"?(a!=="input"&&Tt(i,a,"name",p.name,p,null),Tt(i,a,"formEncType",p.formEncType,p,null),Tt(i,a,"formMethod",p.formMethod,p,null),Tt(i,a,"formTarget",p.formTarget,p,null)):(Tt(i,a,"encType",p.encType,p,null),Tt(i,a,"method",p.method,p,null),Tt(i,a,"target",p.target,p,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(l);break}c=Li(""+c),i.setAttribute(l,c);break;case"onClick":c!=null&&(i.onclick=In);break;case"onScroll":c!=null&&Je("scroll",i);break;case"onScrollEnd":c!=null&&Je("scrollend",i);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(l=c.__html,l!=null){if(p.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"multiple":i.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":i.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){i.removeAttribute("xlink:href");break}l=Li(""+c),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,""+c):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":c===!0?i.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,c):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?i.setAttribute(l,c):i.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?i.removeAttribute(l):i.setAttribute(l,c);break;case"popover":Je("beforetoggle",i),Je("toggle",i),Ms(i,"popover",c);break;case"xlinkActuate":ti(i,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":ti(i,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":ti(i,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":ti(i,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":ti(i,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":ti(i,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":ti(i,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":ti(i,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":ti(i,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Ms(i,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=rg.get(l)||l,Ms(i,l,c))}}function jv(i,a,l,c,p,v){switch(l){case"style":af(i,c,v);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(l=c.__html,l!=null){if(p.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"children":typeof c=="string"?ni(i,c):(typeof c=="number"||typeof c=="bigint")&&ni(i,""+c);break;case"onScroll":c!=null&&Je("scroll",i);break;case"onScrollEnd":c!=null&&Je("scrollend",i);break;case"onClick":c!=null&&(i.onclick=In);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!wi.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(p=l.endsWith("Capture"),a=l.slice(2,p?l.length-7:void 0),v=i[Le]||null,v=v!=null?v[l]:null,typeof v=="function"&&i.removeEventListener(a,v,p),typeof c=="function")){typeof v!="function"&&v!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(a,c,p);break e}l in i?i[l]=c:c===!0?i.setAttribute(l,""):Ms(i,l,c)}}}function Bn(i,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Je("error",i),Je("load",i);var c=!1,p=!1,v;for(v in l)if(l.hasOwnProperty(v)){var x=l[v];if(x!=null)switch(v){case"src":c=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:Tt(i,a,v,x,l,null)}}p&&Tt(i,a,"srcSet",l.srcSet,l,null),c&&Tt(i,a,"src",l.src,l,null);return;case"input":Je("invalid",i);var I=v=x=p=null,F=null,X=null;for(c in l)if(l.hasOwnProperty(c)){var ie=l[c];if(ie!=null)switch(c){case"name":p=ie;break;case"type":x=ie;break;case"checked":F=ie;break;case"defaultChecked":X=ie;break;case"value":v=ie;break;case"defaultValue":I=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(r(137,a));break;default:Tt(i,a,c,ie,l,null)}}Qa(i,v,I,F,X,x,p,!1);return;case"select":Je("invalid",i),c=x=v=null;for(p in l)if(l.hasOwnProperty(p)&&(I=l[p],I!=null))switch(p){case"value":v=I;break;case"defaultValue":x=I;break;case"multiple":c=I;default:Tt(i,a,p,I,l,null)}a=v,l=x,i.multiple=!!c,a!=null?ut(i,!!c,a,!1):l!=null&&ut(i,!!c,l,!0);return;case"textarea":Je("invalid",i),v=p=c=null;for(x in l)if(l.hasOwnProperty(x)&&(I=l[x],I!=null))switch(x){case"value":c=I;break;case"defaultValue":p=I;break;case"children":v=I;break;case"dangerouslySetInnerHTML":if(I!=null)throw Error(r(91));break;default:Tt(i,a,x,I,l,null)}Us(i,c,p,v);return;case"option":for(F in l)if(l.hasOwnProperty(F)&&(c=l[F],c!=null))switch(F){case"selected":i.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:Tt(i,a,F,c,l,null)}return;case"dialog":Je("beforetoggle",i),Je("toggle",i),Je("cancel",i),Je("close",i);break;case"iframe":case"object":Je("load",i);break;case"video":case"audio":for(c=0;c<mc.length;c++)Je(mc[c],i);break;case"image":Je("error",i),Je("load",i);break;case"details":Je("toggle",i);break;case"embed":case"source":case"link":Je("error",i),Je("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(X in l)if(l.hasOwnProperty(X)&&(c=l[X],c!=null))switch(X){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:Tt(i,a,X,c,l,null)}return;default:if(Pu(a)){for(ie in l)l.hasOwnProperty(ie)&&(c=l[ie],c!==void 0&&jv(i,a,ie,c,l,void 0));return}}for(I in l)l.hasOwnProperty(I)&&(c=l[I],c!=null&&Tt(i,a,I,c,l,null))}function GD(i,a,l,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,v=null,x=null,I=null,F=null,X=null,ie=null;for(te in l){var le=l[te];if(l.hasOwnProperty(te)&&le!=null)switch(te){case"checked":break;case"value":break;case"defaultValue":F=le;default:c.hasOwnProperty(te)||Tt(i,a,te,null,c,le)}}for(var J in c){var te=c[J];if(le=l[J],c.hasOwnProperty(J)&&(te!=null||le!=null))switch(J){case"type":v=te;break;case"name":p=te;break;case"checked":X=te;break;case"defaultChecked":ie=te;break;case"value":x=te;break;case"defaultValue":I=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(r(137,a));break;default:te!==le&&Tt(i,a,J,te,c,le)}}Ls(i,x,I,F,X,ie,v,p);return;case"select":te=x=I=J=null;for(v in l)if(F=l[v],l.hasOwnProperty(v)&&F!=null)switch(v){case"value":break;case"multiple":te=F;default:c.hasOwnProperty(v)||Tt(i,a,v,null,c,F)}for(p in c)if(v=c[p],F=l[p],c.hasOwnProperty(p)&&(v!=null||F!=null))switch(p){case"value":J=v;break;case"defaultValue":I=v;break;case"multiple":x=v;default:v!==F&&Tt(i,a,p,v,c,F)}a=I,l=x,c=te,J!=null?ut(i,!!l,J,!1):!!c!=!!l&&(a!=null?ut(i,!!l,a,!0):ut(i,!!l,l?[]:"",!1));return;case"textarea":te=J=null;for(I in l)if(p=l[I],l.hasOwnProperty(I)&&p!=null&&!c.hasOwnProperty(I))switch(I){case"value":break;case"children":break;default:Tt(i,a,I,null,c,p)}for(x in c)if(p=c[x],v=l[x],c.hasOwnProperty(x)&&(p!=null||v!=null))switch(x){case"value":J=p;break;case"defaultValue":te=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(r(91));break;default:p!==v&&Tt(i,a,x,p,c,v)}Xa(i,J,te);return;case"option":for(var Te in l)if(J=l[Te],l.hasOwnProperty(Te)&&J!=null&&!c.hasOwnProperty(Te))switch(Te){case"selected":i.selected=!1;break;default:Tt(i,a,Te,null,c,J)}for(F in c)if(J=c[F],te=l[F],c.hasOwnProperty(F)&&J!==te&&(J!=null||te!=null))switch(F){case"selected":i.selected=J&&typeof J!="function"&&typeof J!="symbol";break;default:Tt(i,a,F,J,c,te)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Oe in l)J=l[Oe],l.hasOwnProperty(Oe)&&J!=null&&!c.hasOwnProperty(Oe)&&Tt(i,a,Oe,null,c,J);for(X in c)if(J=c[X],te=l[X],c.hasOwnProperty(X)&&J!==te&&(J!=null||te!=null))switch(X){case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(r(137,a));break;default:Tt(i,a,X,J,c,te)}return;default:if(Pu(a)){for(var St in l)J=l[St],l.hasOwnProperty(St)&&J!==void 0&&!c.hasOwnProperty(St)&&jv(i,a,St,void 0,c,J);for(ie in c)J=c[ie],te=l[ie],!c.hasOwnProperty(ie)||J===te||J===void 0&&te===void 0||jv(i,a,ie,J,c,te);return}}for(var $ in l)J=l[$],l.hasOwnProperty($)&&J!=null&&!c.hasOwnProperty($)&&Tt(i,a,$,null,c,J);for(le in c)J=c[le],te=l[le],!c.hasOwnProperty(le)||J===te||J==null&&te==null||Tt(i,a,le,J,c,te)}function OE(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function $D(){if(typeof performance.getEntriesByType=="function"){for(var i=0,a=0,l=performance.getEntriesByType("resource"),c=0;c<l.length;c++){var p=l[c],v=p.transferSize,x=p.initiatorType,I=p.duration;if(v&&I&&OE(x)){for(x=0,I=p.responseEnd,c+=1;c<l.length;c++){var F=l[c],X=F.startTime;if(X>I)break;var ie=F.transferSize,le=F.initiatorType;ie&&OE(le)&&(F=F.responseEnd,x+=ie*(F<I?1:(I-X)/(F-X)))}if(--c,a+=8*(v+x)/(p.duration/1e3),i++,10<i)break}}if(0<i)return a/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Mv=null,Vv=null;function fh(i){return i.nodeType===9?i:i.ownerDocument}function PE(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function jE(i,a){if(i===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&a==="foreignObject"?0:i}function Lv(i,a){return i==="textarea"||i==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Uv=null;function KD(){var i=window.event;return i&&i.type==="popstate"?i===Uv?!1:(Uv=i,!0):(Uv=null,!1)}var ME=typeof setTimeout=="function"?setTimeout:void 0,YD=typeof clearTimeout=="function"?clearTimeout:void 0,VE=typeof Promise=="function"?Promise:void 0,WD=typeof queueMicrotask=="function"?queueMicrotask:typeof VE<"u"?function(i){return VE.resolve(null).then(i).catch(QD)}:ME;function QD(i){setTimeout(function(){throw i})}function ca(i){return i==="head"}function LE(i,a){var l=a,c=0;do{var p=l.nextSibling;if(i.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"||l==="/&"){if(c===0){i.removeChild(p),Dl(a);return}c--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")c++;else if(l==="html")gc(i.ownerDocument.documentElement);else if(l==="head"){l=i.ownerDocument.head,gc(l);for(var v=l.firstChild;v;){var x=v.nextSibling,I=v.nodeName;v[Tr]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&v.rel.toLowerCase()==="stylesheet"||l.removeChild(v),v=x}}else l==="body"&&gc(i.ownerDocument.body);l=p}while(l);Dl(a)}function UE(i,a){var l=i;i=0;do{var c=l.nextSibling;if(l.nodeType===1?a?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(a?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),c&&c.nodeType===8)if(l=c.data,l==="/$"){if(i===0)break;i--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||i++;l=c}while(l)}function zv(i){var a=i.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":zv(l),Jr(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function XD(i,a,l,c){for(;i.nodeType===1;){var p=l;if(i.nodeName.toLowerCase()!==a.toLowerCase()){if(!c&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(c){if(!i[Tr])switch(a){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(v=i.getAttribute("rel"),v==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(v!==p.rel||i.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||i.getAttribute("title")!==(p.title==null?null:p.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(v=i.getAttribute("src"),(v!==(p.src==null?null:p.src)||i.getAttribute("type")!==(p.type==null?null:p.type)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&v&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(a==="input"&&i.type==="hidden"){var v=p.name==null?null:""+p.name;if(p.type==="hidden"&&i.getAttribute("name")===v)return i}else return i;if(i=ui(i.nextSibling),i===null)break}return null}function ZD(i,a,l){if(a==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=ui(i.nextSibling),i===null))return null;return i}function zE(i,a){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!a||(i=ui(i.nextSibling),i===null))return null;return i}function Bv(i){return i.data==="$?"||i.data==="$~"}function Fv(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function JD(i,a){var l=i.ownerDocument;if(i.data==="$~")i._reactRetry=a;else if(i.data!=="$?"||l.readyState!=="loading")a();else{var c=function(){a(),l.removeEventListener("DOMContentLoaded",c)};l.addEventListener("DOMContentLoaded",c),i._reactRetry=c}}function ui(i){for(;i!=null;i=i.nextSibling){var a=i.nodeType;if(a===1||a===3)break;if(a===8){if(a=i.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return i}var Hv=null;function BE(i){i=i.nextSibling;for(var a=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"||l==="/&"){if(a===0)return ui(i.nextSibling);a--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||a++}i=i.nextSibling}return null}function FE(i){i=i.previousSibling;for(var a=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(a===0)return i;a--}else l!=="/$"&&l!=="/&"||a++}i=i.previousSibling}return null}function HE(i,a,l){switch(a=fh(l),i){case"html":if(i=a.documentElement,!i)throw Error(r(452));return i;case"head":if(i=a.head,!i)throw Error(r(453));return i;case"body":if(i=a.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function gc(i){for(var a=i.attributes;a.length;)i.removeAttributeNode(a[0]);Jr(i)}var ci=new Map,qE=new Set;function hh(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var xs=se.d;se.d={f:eO,r:tO,D:nO,C:rO,L:iO,m:sO,X:oO,S:aO,M:lO};function eO(){var i=xs.f(),a=ih();return i||a}function tO(i){var a=ei(i);a!==null&&a.tag===5&&a.type==="form"?ox(a):xs.r(i)}var Il=typeof document>"u"?null:document;function GE(i,a,l){var c=Il;if(c&&typeof a=="string"&&a){var p=Qt(a);p='link[rel="'+i+'"][href="'+p+'"]',typeof l=="string"&&(p+='[crossorigin="'+l+'"]'),qE.has(p)||(qE.add(p),i={rel:i,crossOrigin:l,href:a},c.querySelector(p)===null&&(a=c.createElement("link"),Bn(a,"link",i),Ht(a),c.head.appendChild(a)))}}function nO(i){xs.D(i),GE("dns-prefetch",i,null)}function rO(i,a){xs.C(i,a),GE("preconnect",i,a)}function iO(i,a,l){xs.L(i,a,l);var c=Il;if(c&&i&&a){var p='link[rel="preload"][as="'+Qt(a)+'"]';a==="image"&&l&&l.imageSrcSet?(p+='[imagesrcset="'+Qt(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(p+='[imagesizes="'+Qt(l.imageSizes)+'"]')):p+='[href="'+Qt(i)+'"]';var v=p;switch(a){case"style":v=Nl(i);break;case"script":v=kl(i)}ci.has(v)||(i=b({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:i,as:a},l),ci.set(v,i),c.querySelector(p)!==null||a==="style"&&c.querySelector(vc(v))||a==="script"&&c.querySelector(yc(v))||(a=c.createElement("link"),Bn(a,"link",i),Ht(a),c.head.appendChild(a)))}}function sO(i,a){xs.m(i,a);var l=Il;if(l&&i){var c=a&&typeof a.as=="string"?a.as:"script",p='link[rel="modulepreload"][as="'+Qt(c)+'"][href="'+Qt(i)+'"]',v=p;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=kl(i)}if(!ci.has(v)&&(i=b({rel:"modulepreload",href:i},a),ci.set(v,i),l.querySelector(p)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(yc(v)))return}c=l.createElement("link"),Bn(c,"link",i),Ht(c),l.head.appendChild(c)}}}function aO(i,a,l){xs.S(i,a,l);var c=Il;if(c&&i){var p=lr(c).hoistableStyles,v=Nl(i);a=a||"default";var x=p.get(v);if(!x){var I={loading:0,preload:null};if(x=c.querySelector(vc(v)))I.loading=5;else{i=b({rel:"stylesheet",href:i,"data-precedence":a},l),(l=ci.get(v))&&qv(i,l);var F=x=c.createElement("link");Ht(F),Bn(F,"link",i),F._p=new Promise(function(X,ie){F.onload=X,F.onerror=ie}),F.addEventListener("load",function(){I.loading|=1}),F.addEventListener("error",function(){I.loading|=2}),I.loading|=4,mh(x,a,c)}x={type:"stylesheet",instance:x,count:1,state:I},p.set(v,x)}}}function oO(i,a){xs.X(i,a);var l=Il;if(l&&i){var c=lr(l).hoistableScripts,p=kl(i),v=c.get(p);v||(v=l.querySelector(yc(p)),v||(i=b({src:i,async:!0},a),(a=ci.get(p))&&Gv(i,a),v=l.createElement("script"),Ht(v),Bn(v,"link",i),l.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},c.set(p,v))}}function lO(i,a){xs.M(i,a);var l=Il;if(l&&i){var c=lr(l).hoistableScripts,p=kl(i),v=c.get(p);v||(v=l.querySelector(yc(p)),v||(i=b({src:i,async:!0,type:"module"},a),(a=ci.get(p))&&Gv(i,a),v=l.createElement("script"),Ht(v),Bn(v,"link",i),l.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},c.set(p,v))}}function $E(i,a,l,c){var p=(p=Pe.current)?hh(p):null;if(!p)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=Nl(l.href),l=lr(p).hoistableStyles,c=l.get(a),c||(c={type:"style",instance:null,count:0,state:null},l.set(a,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=Nl(l.href);var v=lr(p).hoistableStyles,x=v.get(i);if(x||(p=p.ownerDocument||p,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(i,x),(v=p.querySelector(vc(i)))&&!v._p&&(x.instance=v,x.state.loading=5),ci.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},ci.set(i,l),v||uO(p,i,l,x.state))),a&&c===null)throw Error(r(528,""));return x}if(a&&c!==null)throw Error(r(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=kl(l),l=lr(p).hoistableScripts,c=l.get(a),c||(c={type:"script",instance:null,count:0,state:null},l.set(a,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Nl(i){return'href="'+Qt(i)+'"'}function vc(i){return'link[rel="stylesheet"]['+i+"]"}function KE(i){return b({},i,{"data-precedence":i.precedence,precedence:null})}function uO(i,a,l,c){i.querySelector('link[rel="preload"][as="style"]['+a+"]")?c.loading=1:(a=i.createElement("link"),c.preload=a,a.addEventListener("load",function(){return c.loading|=1}),a.addEventListener("error",function(){return c.loading|=2}),Bn(a,"link",l),Ht(a),i.head.appendChild(a))}function kl(i){return'[src="'+Qt(i)+'"]'}function yc(i){return"script[async]"+i}function YE(i,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var c=i.querySelector('style[data-href~="'+Qt(l.href)+'"]');if(c)return a.instance=c,Ht(c),c;var p=b({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(i.ownerDocument||i).createElement("style"),Ht(c),Bn(c,"style",p),mh(c,l.precedence,i),a.instance=c;case"stylesheet":p=Nl(l.href);var v=i.querySelector(vc(p));if(v)return a.state.loading|=4,a.instance=v,Ht(v),v;c=KE(l),(p=ci.get(p))&&qv(c,p),v=(i.ownerDocument||i).createElement("link"),Ht(v);var x=v;return x._p=new Promise(function(I,F){x.onload=I,x.onerror=F}),Bn(v,"link",c),a.state.loading|=4,mh(v,l.precedence,i),a.instance=v;case"script":return v=kl(l.src),(p=i.querySelector(yc(v)))?(a.instance=p,Ht(p),p):(c=l,(p=ci.get(v))&&(c=b({},l),Gv(c,p)),i=i.ownerDocument||i,p=i.createElement("script"),Ht(p),Bn(p,"link",c),i.head.appendChild(p),a.instance=p);case"void":return null;default:throw Error(r(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(c=a.instance,a.state.loading|=4,mh(c,l.precedence,i));return a.instance}function mh(i,a,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=c.length?c[c.length-1]:null,v=p,x=0;x<c.length;x++){var I=c[x];if(I.dataset.precedence===a)v=I;else if(v!==p)break}v?v.parentNode.insertBefore(i,v.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(i,a.firstChild))}function qv(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.title==null&&(i.title=a.title)}function Gv(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.integrity==null&&(i.integrity=a.integrity)}var ph=null;function WE(i,a,l){if(ph===null){var c=new Map,p=ph=new Map;p.set(l,c)}else p=ph,c=p.get(l),c||(c=new Map,p.set(l,c));if(c.has(i))return c;for(c.set(i,null),l=l.getElementsByTagName(i),p=0;p<l.length;p++){var v=l[p];if(!(v[Tr]||v[_e]||i==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var x=v.getAttribute(a)||"";x=i+x;var I=c.get(x);I?I.push(v):c.set(x,[v])}}return c}function QE(i,a,l){i=i.ownerDocument||i,i.head.insertBefore(l,a==="title"?i.querySelector("head > title"):null)}function cO(i,a,l){if(l===1||a.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return i=a.disabled,typeof a.precedence=="string"&&i==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function XE(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function dO(i,a,l,c){if(l.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var p=Nl(c.href),v=a.querySelector(vc(p));if(v){a=v._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(i.count++,i=gh.bind(i),a.then(i,i)),l.state.loading|=4,l.instance=v,Ht(v);return}v=a.ownerDocument||a,c=KE(c),(p=ci.get(p))&&qv(c,p),v=v.createElement("link"),Ht(v);var x=v;x._p=new Promise(function(I,F){x.onload=I,x.onerror=F}),Bn(v,"link",c),l.instance=v}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(l,a),(a=l.state.preload)&&(l.state.loading&3)===0&&(i.count++,l=gh.bind(i),a.addEventListener("load",l),a.addEventListener("error",l))}}var $v=0;function fO(i,a){return i.stylesheets&&i.count===0&&yh(i,i.stylesheets),0<i.count||0<i.imgCount?function(l){var c=setTimeout(function(){if(i.stylesheets&&yh(i,i.stylesheets),i.unsuspend){var v=i.unsuspend;i.unsuspend=null,v()}},6e4+a);0<i.imgBytes&&$v===0&&($v=62500*$D());var p=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&yh(i,i.stylesheets),i.unsuspend)){var v=i.unsuspend;i.unsuspend=null,v()}},(i.imgBytes>$v?50:800)+a);return i.unsuspend=l,function(){i.unsuspend=null,clearTimeout(c),clearTimeout(p)}}:null}function gh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)yh(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var vh=null;function yh(i,a){i.stylesheets=null,i.unsuspend!==null&&(i.count++,vh=new Map,a.forEach(hO,i),vh=null,gh.call(i))}function hO(i,a){if(!(a.state.loading&4)){var l=vh.get(i);if(l)var c=l.get(null);else{l=new Map,vh.set(i,l);for(var p=i.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<p.length;v++){var x=p[v];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(l.set(x.dataset.precedence,x),c=x)}c&&l.set(null,c)}p=a.instance,x=p.getAttribute("data-precedence"),v=l.get(x)||c,v===c&&l.set(null,p),l.set(x,p),this.count++,c=gh.bind(this),p.addEventListener("load",c),p.addEventListener("error",c),v?v.parentNode.insertBefore(p,v.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(p,i.firstChild)),a.state.loading|=4}}var bc={$$typeof:z,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function mO(i,a,l,c,p,v,x,I,F){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ft(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ft(0),this.hiddenUpdates=Ft(null),this.identifierPrefix=c,this.onUncaughtError=p,this.onCaughtError=v,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=F,this.incompleteTransitions=new Map}function ZE(i,a,l,c,p,v,x,I,F,X,ie,le){return i=new mO(i,a,l,x,F,X,ie,le,I),a=1,v===!0&&(a|=24),v=Br(3,null,null,a),i.current=v,v.stateNode=i,a=Sg(),a.refCount++,i.pooledCache=a,a.refCount++,v.memoizedState={element:c,isDehydrated:l,cache:a},Ig(v),i}function JE(i){return i?(i=ll,i):ll}function e1(i,a,l,c,p,v){p=JE(p),c.context===null?c.context=p:c.pendingContext=p,c=Js(a),c.payload={element:l},v=v===void 0?null:v,v!==null&&(c.callback=v),l=ea(i,c,a),l!==null&&(Dr(l,i,a),Xu(l,i,a))}function t1(i,a){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<a?l:a}}function Kv(i,a){t1(i,a),(i=i.alternate)&&t1(i,a)}function n1(i){if(i.tag===13||i.tag===31){var a=ao(i,67108864);a!==null&&Dr(a,i,67108864),Kv(i,67108864)}}function r1(i){if(i.tag===13||i.tag===31){var a=$r();a=xr(a);var l=ao(i,a);l!==null&&Dr(l,i,a),Kv(i,a)}}var bh=!0;function pO(i,a,l,c){var p=Q.T;Q.T=null;var v=se.p;try{se.p=2,Yv(i,a,l,c)}finally{se.p=v,Q.T=p}}function gO(i,a,l,c){var p=Q.T;Q.T=null;var v=se.p;try{se.p=8,Yv(i,a,l,c)}finally{se.p=v,Q.T=p}}function Yv(i,a,l,c){if(bh){var p=Wv(c);if(p===null)Pv(i,a,c,_h,l),s1(i,c);else if(yO(p,i,a,l,c))c.stopPropagation();else if(s1(i,c),a&4&&-1<vO.indexOf(i)){for(;p!==null;){var v=ei(p);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var x=Xe(v.pendingLanes);if(x!==0){var I=v;for(I.pendingLanes|=2,I.entangledLanes|=2;x;){var F=1<<31-fe(x);I.entanglements[1]|=F,x&=~F}qi(v),(ht&6)===0&&(nh=yt()+500,hc(0))}}break;case 31:case 13:I=ao(v,2),I!==null&&Dr(I,v,2),ih(),Kv(v,2)}if(v=Wv(c),v===null&&Pv(i,a,c,_h,l),v===p)break;p=v}p!==null&&c.stopPropagation()}else Pv(i,a,c,null,l)}}function Wv(i){return i=el(i),Qv(i)}var _h=null;function Qv(i){if(_h=null,i=Sr(i),i!==null){var a=o(i);if(a===null)i=null;else{var l=a.tag;if(l===13){if(i=u(a),i!==null)return i;i=null}else if(l===31){if(i=d(a),i!==null)return i;i=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return _h=i,null}function i1(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(dn()){case ke:return 2;case kt:return 8;case Gt:case Wt:return 32;case yi:return 268435456;default:return 32}default:return 32}}var Xv=!1,da=null,fa=null,ha=null,_c=new Map,wc=new Map,ma=[],vO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function s1(i,a){switch(i){case"focusin":case"focusout":da=null;break;case"dragenter":case"dragleave":fa=null;break;case"mouseover":case"mouseout":ha=null;break;case"pointerover":case"pointerout":_c.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":wc.delete(a.pointerId)}}function xc(i,a,l,c,p,v){return i===null||i.nativeEvent!==v?(i={blockedOn:a,domEventName:l,eventSystemFlags:c,nativeEvent:v,targetContainers:[p]},a!==null&&(a=ei(a),a!==null&&n1(a)),i):(i.eventSystemFlags|=c,a=i.targetContainers,p!==null&&a.indexOf(p)===-1&&a.push(p),i)}function yO(i,a,l,c,p){switch(a){case"focusin":return da=xc(da,i,a,l,c,p),!0;case"dragenter":return fa=xc(fa,i,a,l,c,p),!0;case"mouseover":return ha=xc(ha,i,a,l,c,p),!0;case"pointerover":var v=p.pointerId;return _c.set(v,xc(_c.get(v)||null,i,a,l,c,p)),!0;case"gotpointercapture":return v=p.pointerId,wc.set(v,xc(wc.get(v)||null,i,a,l,c,p)),!0}return!1}function a1(i){var a=Sr(i.target);if(a!==null){var l=o(a);if(l!==null){if(a=l.tag,a===13){if(a=u(l),a!==null){i.blockedOn=a,Vr(i.priority,function(){r1(l)});return}}else if(a===31){if(a=d(l),a!==null){i.blockedOn=a,Vr(i.priority,function(){r1(l)});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function wh(i){if(i.blockedOn!==null)return!1;for(var a=i.targetContainers;0<a.length;){var l=Wv(i.nativeEvent);if(l===null){l=i.nativeEvent;var c=new l.constructor(l.type,l);Jo=c,l.target.dispatchEvent(c),Jo=null}else return a=ei(l),a!==null&&n1(a),i.blockedOn=l,!1;a.shift()}return!0}function o1(i,a,l){wh(i)&&l.delete(a)}function bO(){Xv=!1,da!==null&&wh(da)&&(da=null),fa!==null&&wh(fa)&&(fa=null),ha!==null&&wh(ha)&&(ha=null),_c.forEach(o1),wc.forEach(o1)}function xh(i,a){i.blockedOn===a&&(i.blockedOn=null,Xv||(Xv=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,bO)))}var Eh=null;function l1(i){Eh!==i&&(Eh=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Eh===i&&(Eh=null);for(var a=0;a<i.length;a+=3){var l=i[a],c=i[a+1],p=i[a+2];if(typeof c!="function"){if(Qv(c||l)===null)continue;break}var v=ei(l);v!==null&&(i.splice(a,3),a-=3,Wg(v,{pending:!0,data:p,method:l.method,action:c},c,p))}}))}function Dl(i){function a(F){return xh(F,i)}da!==null&&xh(da,i),fa!==null&&xh(fa,i),ha!==null&&xh(ha,i),_c.forEach(a),wc.forEach(a);for(var l=0;l<ma.length;l++){var c=ma[l];c.blockedOn===i&&(c.blockedOn=null)}for(;0<ma.length&&(l=ma[0],l.blockedOn===null);)a1(l),l.blockedOn===null&&ma.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var p=l[c],v=l[c+1],x=p[Le]||null;if(typeof v=="function")x||l1(l);else if(x){var I=null;if(v&&v.hasAttribute("formAction")){if(p=v,x=v[Le]||null)I=x.formAction;else if(Qv(p)!==null)continue}else I=x.action;typeof I=="function"?l[c+1]=I:(l.splice(c,3),c-=3),l1(l)}}}function u1(){function i(v){v.canIntercept&&v.info==="react-transition"&&v.intercept({handler:function(){return new Promise(function(x){return p=x})},focusReset:"manual",scroll:"manual"})}function a(){p!==null&&(p(),p=null),c||setTimeout(l,20)}function l(){if(!c&&!navigation.transition){var v=navigation.currentEntry;v&&v.url!=null&&navigation.navigate(v.url,{state:v.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,p=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(l,100),function(){c=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),p!==null&&(p(),p=null)}}}function Zv(i){this._internalRoot=i}Th.prototype.render=Zv.prototype.render=function(i){var a=this._internalRoot;if(a===null)throw Error(r(409));var l=a.current,c=$r();e1(l,c,i,a,null,null)},Th.prototype.unmount=Zv.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var a=i.containerInfo;e1(i.current,2,null,i,null,null),ih(),a[Ct]=null}};function Th(i){this._internalRoot=i}Th.prototype.unstable_scheduleHydration=function(i){if(i){var a=fn();i={blockedOn:null,target:i,priority:a};for(var l=0;l<ma.length&&a!==0&&a<ma[l].priority;l++);ma.splice(l,0,i),l===0&&a1(i)}};var c1=e.version;if(c1!=="19.2.1")throw Error(r(527,c1,"19.2.1"));se.findDOMNode=function(i){var a=i._reactInternals;if(a===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=h(a),i=i!==null?g(i):null,i=i===null?null:i.stateNode,i};var _O={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sh.isDisabled&&Sh.supportsFiber)try{sr=Sh.inject(_O),jt=Sh}catch{}}return Tc.createRoot=function(i,a){if(!s(i))throw Error(r(299));var l=!1,c="",p=vx,v=yx,x=bx;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(p=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(x=a.onRecoverableError)),a=ZE(i,1,!1,null,null,l,c,null,p,v,x,u1),i[Ct]=a.current,Ov(i),new Zv(a)},Tc.hydrateRoot=function(i,a,l){if(!s(i))throw Error(r(299));var c=!1,p="",v=vx,x=yx,I=bx,F=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(v=l.onUncaughtError),l.onCaughtError!==void 0&&(x=l.onCaughtError),l.onRecoverableError!==void 0&&(I=l.onRecoverableError),l.formState!==void 0&&(F=l.formState)),a=ZE(i,1,!0,a,l??null,c,p,F,v,x,I,u1),a.context=JE(null),l=a.current,c=$r(),c=xr(c),p=Js(c),p.callback=null,ea(l,p,c),l=c,a.current.lanes=l,xt(a,l),qi(a),i[Ct]=a.current,Ov(i),new Th(a)},Tc.version="19.2.1",Tc}var _1;function IO(){if(_1)return ty.exports;_1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ty.exports=RO(),ty.exports}var NO=IO();const kO=b2(NO),Sc=[{emoji:"",title:"Bienvenue dans Dress Me Up!",description:"Votre assistant mode personnel propuls par l'IA. Dcouvrons ensemble comment a marche."},{emoji:"",title:"Ajoutez vos vtements",description:"Prenez en photo vos vtements. L'IA analysera automatiquement la couleur, la matire et le type."},{emoji:"",title:"Gnrez des tenues",description:"Dcrivez une occasion et l'IA crera des combinaisons parfaites  partir de votre garde-robe."},{emoji:"",title:"Planifiez vos valises",description:"Partez en voyage ? L'IA optimise votre valise selon la dure et la destination."}],DO=({onComplete:t})=>{const[e,n]=P.useState(0),r=()=>{e<Sc.length-1?n(e+1):(localStorage.setItem("dressmup_onboarding_complete","true"),t())},s=()=>{localStorage.setItem("dressmup_onboarding_complete","true"),t()},o=Sc[e];return y.jsx("div",{className:"fixed inset-0 bg-onyx/90 backdrop-blur-md flex items-center justify-center z-[200] p-4",children:y.jsxs("div",{className:"bg-white dark:bg-raisin-black rounded-2xl shadow-2xl max-w-md w-full overflow-hidden",children:[y.jsx("div",{className:"h-1 bg-gray-200 dark:bg-gray-700",children:y.jsx("div",{className:"h-full bg-gold transition-all duration-300",style:{width:`${(e+1)/Sc.length*100}%`}})}),y.jsxs("div",{className:"p-8 text-center",children:[y.jsx("div",{className:"text-6xl mb-6",children:o.emoji}),y.jsx("h2",{className:"text-2xl font-serif font-bold mb-4",children:o.title}),y.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-8",children:o.description}),y.jsx("div",{className:"flex justify-center gap-2 mb-8",children:Sc.map((u,d)=>y.jsx("div",{className:`w-2 h-2 rounded-full transition-all ${d===e?"bg-gold w-6":"bg-gray-300 dark:bg-gray-600"}`},d))}),y.jsxs("div",{className:"flex gap-3",children:[y.jsx("button",{onClick:s,className:"flex-1 px-4 py-3 text-gray-500 hover:text-gray-700 dark:hover:text-gray-300 font-medium transition-colors",children:"Passer"}),y.jsx("button",{onClick:r,className:"flex-1 px-4 py-3 bg-gold text-onyx font-bold rounded-xl hover:bg-gold-dark transition-all",children:e<Sc.length-1?"Suivant":"Commencer"})]})]})]})})},OO=()=>{};var w1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w2=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},PO=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const o=t[n++];e[r++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=t[n++],u=t[n++],d=t[n++],f=((s&7)<<18|(o&63)<<12|(u&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const o=t[n++],u=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(o&63)<<6|u&63)}}return e.join("")},x2={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const o=t[s],u=s+1<t.length,d=u?t[s+1]:0,f=s+2<t.length,h=f?t[s+2]:0,g=o>>2,b=(o&3)<<4|d>>4;let _=(d&15)<<2|h>>6,E=h&63;f||(E=64,u||(_=64)),r.push(n[g],n[b],n[_],n[E])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(w2(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):PO(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const o=n[t.charAt(s++)],d=s<t.length?n[t.charAt(s)]:0;++s;const h=s<t.length?n[t.charAt(s)]:64;++s;const b=s<t.length?n[t.charAt(s)]:64;if(++s,o==null||d==null||h==null||b==null)throw new jO;const _=o<<2|d>>4;if(r.push(_),h!==64){const E=d<<4&240|h>>2;if(r.push(E),b!==64){const C=h<<6&192|b;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class jO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const MO=function(t){const e=w2(t);return x2.encodeByteArray(e,!0)},Tm=function(t){return MO(t).replace(/\./g,"")},E2=function(t){try{return x2.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LO=()=>VO().__FIREBASE_DEFAULTS__,UO=()=>{if(typeof process>"u"||typeof w1>"u")return;const t=w1.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},zO=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&E2(t[1]);return e&&JSON.parse(e)},mp=()=>{try{return OO()||LO()||UO()||zO()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},T2=t=>{var e,n;return(n=(e=mp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},J0=t=>{const e=T2(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},S2=()=>{var t;return(t=mp())===null||t===void 0?void 0:t.config},A2=t=>{var e;return(e=mp())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function js(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function pp(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C2(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Tm(JSON.stringify(n)),Tm(JSON.stringify(u)),""].join(".")}const $c={};function FO(){const t={prod:[],emulator:[]};for(const e of Object.keys($c))$c[e]?t.emulator.push(e):t.prod.push(e);return t}function HO(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let x1=!1;function gp(t,e){if(typeof window>"u"||typeof document>"u"||!js(window.location.host)||$c[t]===e||$c[t]||x1)return;$c[t]=e;function n(_){return`__firebase__banner__${_}`}const r="__firebase__banner",o=FO().prod.length>0;function u(){const _=document.getElementById(r);_&&_.remove()}function d(_){_.style.display="flex",_.style.background="#7faaf0",_.style.position="fixed",_.style.bottom="5px",_.style.left="5px",_.style.padding=".5em",_.style.borderRadius="5px",_.style.alignItems="center"}function f(_,E){_.setAttribute("width","24"),_.setAttribute("id",E),_.setAttribute("height","24"),_.setAttribute("viewBox","0 0 24 24"),_.setAttribute("fill","none"),_.style.marginLeft="-6px"}function h(){const _=document.createElement("span");return _.style.cursor="pointer",_.style.marginLeft="16px",_.style.fontSize="24px",_.innerHTML=" &times;",_.onclick=()=>{x1=!0,u()},_}function g(_,E){_.setAttribute("id",E),_.innerText="Learn more",_.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",_.setAttribute("target","__blank"),_.style.paddingLeft="5px",_.style.textDecoration="underline"}function b(){const _=HO(r),E=n("text"),C=document.getElementById(E)||document.createElement("span"),N=n("learnmore"),D=document.getElementById(N)||document.createElement("a"),U=n("preprendIcon"),M=document.getElementById(U)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(_.created){const z=_.element;d(z),g(D,N);const G=h();f(M,U),z.append(M,C,D,G),document.body.appendChild(z)}o?(C.innerText="Preview backend disconnected.",M.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(M.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",E)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function qO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(nr())}function GO(){var t;const e=(t=mp())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function $O(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function KO(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function YO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function WO(){const t=nr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function QO(){return!GO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function XO(){try{return typeof indexedDB=="object"}catch{return!1}}function ZO(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var o;e(((o=s.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JO="FirebaseError";class ji extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=JO,Object.setPrototypeOf(this,ji.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Pd.prototype.create)}}class Pd{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,o=this.errors[e],u=o?e4(o,r):"Error",d=`${this.serviceName}: ${u} (${s}).`;return new ji(s,d,r)}}function e4(t,e){return t.replace(t4,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const t4=/\{\$([^}]+)}/g;function n4(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Lo(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const o=t[s],u=e[s];if(E1(o)&&E1(u)){if(!Lo(o,u))return!1}else if(o!==u)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function E1(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jd(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Oc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,o]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(o)}}),e}function Pc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function r4(t,e){const n=new i4(t,e);return n.subscribe.bind(n)}class i4{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");s4(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=sy),s.error===void 0&&(s.error=sy),s.complete===void 0&&(s.complete=sy);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function s4(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function sy(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function It(t){return t&&t._delegate?t._delegate:t}class Is{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a4{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new BO;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(l4(e))try{this.getOrInitializeService({instanceIdentifier:Eo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:s});r.resolve(o)}catch{}}}}clearInstance(e=Eo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Eo){return this.instances.has(e)}getOptions(e=Eo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,u]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(o);r===d&&u.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:o4(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Eo){return this.component?this.component.multipleInstances?e:Eo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function o4(t){return t===Eo?void 0:t}function l4(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u4{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new a4(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(rt||(rt={}));const c4={debug:rt.DEBUG,verbose:rt.VERBOSE,info:rt.INFO,warn:rt.WARN,error:rt.ERROR,silent:rt.SILENT},d4=rt.INFO,f4={[rt.DEBUG]:"log",[rt.VERBOSE]:"log",[rt.INFO]:"info",[rt.WARN]:"warn",[rt.ERROR]:"error"},h4=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=f4[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class eb{constructor(e){this.name=e,this._logLevel=d4,this._logHandler=h4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in rt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?c4[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,rt.DEBUG,...e),this._logHandler(this,rt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,rt.VERBOSE,...e),this._logHandler(this,rt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,rt.INFO,...e),this._logHandler(this,rt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,rt.WARN,...e),this._logHandler(this,rt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,rt.ERROR,...e),this._logHandler(this,rt.ERROR,...e)}}const m4=(t,e)=>e.some(n=>t instanceof n);let T1,S1;function p4(){return T1||(T1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function g4(){return S1||(S1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const R2=new WeakMap,Fy=new WeakMap,I2=new WeakMap,ay=new WeakMap,tb=new WeakMap;function v4(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",o),t.removeEventListener("error",u)},o=()=>{n(Ca(t.result)),s()},u=()=>{r(t.error),s()};t.addEventListener("success",o),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&R2.set(n,t)}).catch(()=>{}),tb.set(e,t),e}function y4(t){if(Fy.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",u),t.removeEventListener("abort",u)},o=()=>{n(),s()},u=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",o),t.addEventListener("error",u),t.addEventListener("abort",u)});Fy.set(t,e)}let Hy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Fy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||I2.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ca(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function b4(t){Hy=t(Hy)}function _4(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(oy(this),e,...n);return I2.set(r,e.sort?e.sort():[e]),Ca(r)}:g4().includes(t)?function(...e){return t.apply(oy(this),e),Ca(R2.get(this))}:function(...e){return Ca(t.apply(oy(this),e))}}function w4(t){return typeof t=="function"?_4(t):(t instanceof IDBTransaction&&y4(t),m4(t,p4())?new Proxy(t,Hy):t)}function Ca(t){if(t instanceof IDBRequest)return v4(t);if(ay.has(t))return ay.get(t);const e=w4(t);return e!==t&&(ay.set(t,e),tb.set(e,t)),e}const oy=t=>tb.get(t);function x4(t,e,{blocked:n,upgrade:r,blocking:s,terminated:o}={}){const u=indexedDB.open(t,e),d=Ca(u);return r&&u.addEventListener("upgradeneeded",f=>{r(Ca(u.result),f.oldVersion,f.newVersion,Ca(u.transaction),f)}),n&&u.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),d.then(f=>{o&&f.addEventListener("close",()=>o()),s&&f.addEventListener("versionchange",h=>s(h.oldVersion,h.newVersion,h))}).catch(()=>{}),d}const E4=["get","getKey","getAll","getAllKeys","count"],T4=["put","add","delete","clear"],ly=new Map;function A1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ly.get(e))return ly.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=T4.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||E4.includes(n)))return;const o=async function(u,...d){const f=this.transaction(u,s?"readwrite":"readonly");let h=f.store;return r&&(h=h.index(d.shift())),(await Promise.all([h[n](...d),s&&f.done]))[0]};return ly.set(e,o),o}b4(t=>({...t,get:(e,n,r)=>A1(e,n)||t.get(e,n,r),has:(e,n)=>!!A1(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(A4(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function A4(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const qy="@firebase/app",C1="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ns=new eb("@firebase/app"),C4="@firebase/app-compat",R4="@firebase/analytics-compat",I4="@firebase/analytics",N4="@firebase/app-check-compat",k4="@firebase/app-check",D4="@firebase/auth",O4="@firebase/auth-compat",P4="@firebase/database",j4="@firebase/data-connect",M4="@firebase/database-compat",V4="@firebase/functions",L4="@firebase/functions-compat",U4="@firebase/installations",z4="@firebase/installations-compat",B4="@firebase/messaging",F4="@firebase/messaging-compat",H4="@firebase/performance",q4="@firebase/performance-compat",G4="@firebase/remote-config",$4="@firebase/remote-config-compat",K4="@firebase/storage",Y4="@firebase/storage-compat",W4="@firebase/firestore",Q4="@firebase/ai",X4="@firebase/firestore-compat",Z4="firebase",J4="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gy="[DEFAULT]",eP={[qy]:"fire-core",[C4]:"fire-core-compat",[I4]:"fire-analytics",[R4]:"fire-analytics-compat",[k4]:"fire-app-check",[N4]:"fire-app-check-compat",[D4]:"fire-auth",[O4]:"fire-auth-compat",[P4]:"fire-rtdb",[j4]:"fire-data-connect",[M4]:"fire-rtdb-compat",[V4]:"fire-fn",[L4]:"fire-fn-compat",[U4]:"fire-iid",[z4]:"fire-iid-compat",[B4]:"fire-fcm",[F4]:"fire-fcm-compat",[H4]:"fire-perf",[q4]:"fire-perf-compat",[G4]:"fire-rc",[$4]:"fire-rc-compat",[K4]:"fire-gcs",[Y4]:"fire-gcs-compat",[W4]:"fire-fst",[X4]:"fire-fst-compat",[Q4]:"fire-vertex","fire-js":"fire-js",[Z4]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sm=new Map,tP=new Map,$y=new Map;function R1(t,e){try{t.container.addComponent(e)}catch(n){Ns.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Da(t){const e=t.name;if($y.has(e))return Ns.debug(`There were multiple attempts to register component ${e}.`),!1;$y.set(e,t);for(const n of Sm.values())R1(n,t);for(const n of tP.values())R1(n,t);return!0}function Md(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function gr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ra=new Pd("app","Firebase",nP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rP{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Is("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ra.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $o=J4;function N2(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Gy,automaticDataCollectionEnabled:!0},e),s=r.name;if(typeof s!="string"||!s)throw Ra.create("bad-app-name",{appName:String(s)});if(n||(n=S2()),!n)throw Ra.create("no-options");const o=Sm.get(s);if(o){if(Lo(n,o.options)&&Lo(r,o.config))return o;throw Ra.create("duplicate-app",{appName:s})}const u=new u4(s);for(const f of $y.values())u.addComponent(f);const d=new rP(n,r,u);return Sm.set(s,d),d}function vp(t=Gy){const e=Sm.get(t);if(!e&&t===Gy&&S2())return N2();if(!e)throw Ra.create("no-app",{appName:t});return e}function pi(t,e,n){var r;let s=(r=eP[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const d=[`Unable to register library "${s}" with version "${e}":`];o&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&d.push("and"),u&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ns.warn(d.join(" "));return}Da(new Is(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iP="firebase-heartbeat-database",sP=1,pd="firebase-heartbeat-store";let uy=null;function k2(){return uy||(uy=x4(iP,sP,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(pd)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ra.create("idb-open",{originalErrorMessage:t.message})})),uy}async function aP(t){try{const n=(await k2()).transaction(pd),r=await n.objectStore(pd).get(D2(t));return await n.done,r}catch(e){if(e instanceof ji)Ns.warn(e.message);else{const n=Ra.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ns.warn(n.message)}}}async function I1(t,e){try{const r=(await k2()).transaction(pd,"readwrite");await r.objectStore(pd).put(e,D2(t)),await r.done}catch(n){if(n instanceof ji)Ns.warn(n.message);else{const r=Ra.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ns.warn(r.message)}}}function D2(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oP=1024,lP=30;class uP{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new dP(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=N1();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(u=>u.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:s}),this._heartbeatsCache.heartbeats.length>lP){const u=fP(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ns.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=N1(),{heartbeatsToSend:r,unsentEntries:s}=cP(this._heartbeatsCache.heartbeats),o=Tm(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Ns.warn(n),""}}}function N1(){return new Date().toISOString().substring(0,10)}function cP(t,e=oP){const n=[];let r=t.slice();for(const s of t){const o=n.find(u=>u.agent===s.agent);if(o){if(o.dates.push(s.date),k1(n)>e){o.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),k1(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class dP{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return XO()?ZO().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await aP(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return I1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return I1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function k1(t){return Tm(JSON.stringify({version:2,heartbeats:t})).length}function fP(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hP(t){Da(new Is("platform-logger",e=>new S4(e),"PRIVATE")),Da(new Is("heartbeat",e=>new uP(e),"PRIVATE")),pi(qy,C1,t),pi(qy,C1,"esm2017"),pi("fire-js","")}hP("");function nb(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function O2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const mP=O2,P2=new Pd("auth","Firebase",O2());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Am=new eb("@firebase/auth");function pP(t,...e){Am.logLevel<=rt.WARN&&Am.warn(`Auth (${$o}): ${t}`,...e)}function im(t,...e){Am.logLevel<=rt.ERROR&&Am.error(`Auth (${$o}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gi(t,...e){throw ib(t,...e)}function Di(t,...e){return ib(t,...e)}function rb(t,e,n){const r=Object.assign(Object.assign({},mP()),{[e]:n});return new Pd("auth","Firebase",r).create(e,{appName:t.name})}function As(t){return rb(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function gP(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&gi(t,"argument-error"),rb(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ib(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return P2.create(t,...e)}function Me(t,e,...n){if(!t)throw ib(e,...n)}function Ts(t){const e="INTERNAL ASSERTION FAILED: "+t;throw im(e),new Error(e)}function ks(t,e){t||Ts(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ky(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function vP(){return D1()==="http:"||D1()==="https:"}function D1(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yP(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(vP()||KO()||"connection"in navigator)?navigator.onLine:!0}function bP(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(e,n){this.shortDelay=e,this.longDelay=n,ks(n>e,"Short delay should be less than long delay!"),this.isMobile=qO()||YO()}get(){return yP()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sb(t,e){ks(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ts("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ts("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ts("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _P={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wP=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],xP=new Vd(3e4,6e4);function Fa(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ha(t,e,n,r,s={}){return M2(t,s,async()=>{let o={},u={};r&&(e==="GET"?u=r:o={body:JSON.stringify(r)});const d=jd(Object.assign({key:t.config.apiKey},u)).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const h=Object.assign({method:e,headers:f},o);return $O()||(h.referrerPolicy="no-referrer"),t.emulatorConfig&&js(t.emulatorConfig.host)&&(h.credentials="include"),j2.fetch()(await V2(t,t.config.apiHost,n,d),h)})}async function M2(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},_P),e);try{const s=new TP(t),o=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const u=await o.json();if("needConfirmation"in u)throw Ah(t,"account-exists-with-different-credential",u);if(o.ok&&!("errorMessage"in u))return u;{const d=o.ok?u.errorMessage:u.error.message,[f,h]=d.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ah(t,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw Ah(t,"email-already-in-use",u);if(f==="USER_DISABLED")throw Ah(t,"user-disabled",u);const g=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw rb(t,g,h);gi(t,g)}}catch(s){if(s instanceof ji)throw s;gi(t,"network-request-failed",{message:String(s)})}}async function Ld(t,e,n,r,s={}){const o=await Ha(t,e,n,r,s);return"mfaPendingCredential"in o&&gi(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function V2(t,e,n,r){const s=`${e}${n}?${r}`,o=t,u=o.config.emulator?sb(t.config,s):`${t.config.apiScheme}://${s}`;return wP.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(u).toString():u}function EP(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class TP{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Di(this.auth,"network-request-failed")),xP.get())})}}function Ah(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Di(t,e,r);return s.customData._tokenResponse=n,s}function O1(t){return t!==void 0&&t.enterprise!==void 0}class SP{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return EP(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function AP(t,e){return Ha(t,"GET","/v2/recaptchaConfig",Fa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CP(t,e){return Ha(t,"POST","/v1/accounts:delete",e)}async function Cm(t,e){return Ha(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function RP(t,e=!1){const n=It(t),r=await n.getIdToken(e),s=ab(r);Me(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,u=o==null?void 0:o.sign_in_provider;return{claims:s,token:r,authTime:Kc(cy(s.auth_time)),issuedAtTime:Kc(cy(s.iat)),expirationTime:Kc(cy(s.exp)),signInProvider:u||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function cy(t){return Number(t)*1e3}function ab(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return im("JWT malformed, contained fewer than 3 sections"),null;try{const s=E2(n);return s?JSON.parse(s):(im("Failed to decode base64 JWT payload"),null)}catch(s){return im("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function P1(t){const e=ab(t);return Me(e,"internal-error"),Me(typeof e.exp<"u","internal-error"),Me(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gd(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ji&&IP(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function IP({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NP{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yy{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Kc(this.lastLoginAt),this.creationTime=Kc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rm(t){var e;const n=t.auth,r=await t.getIdToken(),s=await gd(t,Cm(n,{idToken:r}));Me(s==null?void 0:s.users.length,n,"internal-error");const o=s.users[0];t._notifyReloadListener(o);const u=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?L2(o.providerUserInfo):[],d=DP(t.providerData,u),f=t.isAnonymous,h=!(t.email&&o.passwordHash)&&!(d!=null&&d.length),g=f?h:!1,b={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new Yy(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(t,b)}async function kP(t){const e=It(t);await Rm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function DP(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function L2(t){return t.map(e=>{var{providerId:n}=e,r=nb(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OP(t,e){const n=await M2(t,{},async()=>{const r=jd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:o}=t.config,u=await V2(t,s,"/v1/token",`key=${o}`),d=await t._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:d,body:r};return t.emulatorConfig&&js(t.emulatorConfig.host)&&(f.credentials="include"),j2.fetch()(u,f)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function PP(t,e){return Ha(t,"POST","/v2/accounts:revokeToken",Fa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Me(e.idToken,"internal-error"),Me(typeof e.idToken<"u","internal-error"),Me(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):P1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Me(e.length!==0,"internal-error");const n=P1(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Me(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:o}=await OP(e,n);this.updateTokensAndExpiration(r,s,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:o}=n,u=new Wl;return r&&(Me(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),s&&(Me(typeof s=="string","internal-error",{appName:e}),u.accessToken=s),o&&(Me(typeof o=="number","internal-error",{appName:e}),u.expirationTime=o),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Wl,this.toJSON())}_performRefresh(){return Ts("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ga(t,e){Me(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ii{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,o=nb(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new NP(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Yy(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await gd(this,this.stsTokenManager.getToken(this.auth,e));return Me(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return RP(this,e)}reload(){return kP(this)}_assign(e){this!==e&&(Me(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ii(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Rm(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(gr(this.auth.app))return Promise.reject(As(this.auth));const e=await this.getIdToken();return await gd(this,CP(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,o,u,d,f,h,g;const b=(r=n.displayName)!==null&&r!==void 0?r:void 0,_=(s=n.email)!==null&&s!==void 0?s:void 0,E=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,C=(u=n.photoURL)!==null&&u!==void 0?u:void 0,N=(d=n.tenantId)!==null&&d!==void 0?d:void 0,D=(f=n._redirectEventId)!==null&&f!==void 0?f:void 0,U=(h=n.createdAt)!==null&&h!==void 0?h:void 0,M=(g=n.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:z,emailVerified:G,isAnonymous:K,providerData:H,stsTokenManager:A}=n;Me(z&&A,e,"internal-error");const S=Wl.fromJSON(this.name,A);Me(typeof z=="string",e,"internal-error"),ga(b,e.name),ga(_,e.name),Me(typeof G=="boolean",e,"internal-error"),Me(typeof K=="boolean",e,"internal-error"),ga(E,e.name),ga(C,e.name),ga(N,e.name),ga(D,e.name),ga(U,e.name),ga(M,e.name);const R=new Ii({uid:z,auth:e,email:_,emailVerified:G,displayName:b,isAnonymous:K,photoURL:C,phoneNumber:E,tenantId:N,stsTokenManager:S,createdAt:U,lastLoginAt:M});return H&&Array.isArray(H)&&(R.providerData=H.map(L=>Object.assign({},L))),D&&(R._redirectEventId=D),R}static async _fromIdTokenResponse(e,n,r=!1){const s=new Wl;s.updateFromServerResponse(n);const o=new Ii({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Rm(o),o}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Me(s.localId!==void 0,"internal-error");const o=s.providerUserInfo!==void 0?L2(s.providerUserInfo):[],u=!(s.email&&s.passwordHash)&&!(o!=null&&o.length),d=new Wl;d.updateFromIdToken(r);const f=new Ii({uid:s.localId,auth:e,stsTokenManager:d,isAnonymous:u}),h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Yy(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(o!=null&&o.length)};return Object.assign(f,h),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j1=new Map;function Ss(t){ks(t instanceof Function,"Expected a class definition");let e=j1.get(t);return e?(ks(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,j1.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}U2.type="NONE";const M1=U2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sm(t,e,n){return`firebase:${t}:${e}:${n}`}class Ql{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:o}=this.auth;this.fullUserKey=sm(this.userKey,s.apiKey,o),this.fullPersistenceKey=sm("persistence",s.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Cm(this.auth,{idToken:e}).catch(()=>{});return n?Ii._fromGetAccountInfoResponse(this.auth,n,e):null}return Ii._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ql(Ss(M1),e,r);const s=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let o=s[0]||Ss(M1);const u=sm(r,e.config.apiKey,e.name);let d=null;for(const h of n)try{const g=await h._get(u);if(g){let b;if(typeof g=="string"){const _=await Cm(e,{idToken:g}).catch(()=>{});if(!_)break;b=await Ii._fromGetAccountInfoResponse(e,_,g)}else b=Ii._fromJSON(e,g);h!==o&&(d=b),o=h;break}}catch{}const f=s.filter(h=>h._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new Ql(o,e,r):(o=f[0],d&&await o._set(u,d.toJSON()),await Promise.all(n.map(async h=>{if(h!==o)try{await h._remove(u)}catch{}})),new Ql(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(H2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(z2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(G2(e))return"Blackberry";if($2(e))return"Webos";if(B2(e))return"Safari";if((e.includes("chrome/")||F2(e))&&!e.includes("edge/"))return"Chrome";if(q2(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function z2(t=nr()){return/firefox\//i.test(t)}function B2(t=nr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function F2(t=nr()){return/crios\//i.test(t)}function H2(t=nr()){return/iemobile/i.test(t)}function q2(t=nr()){return/android/i.test(t)}function G2(t=nr()){return/blackberry/i.test(t)}function $2(t=nr()){return/webos/i.test(t)}function ob(t=nr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function jP(t=nr()){var e;return ob(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function MP(){return WO()&&document.documentMode===10}function K2(t=nr()){return ob(t)||q2(t)||$2(t)||G2(t)||/windows phone/i.test(t)||H2(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y2(t,e=[]){let n;switch(t){case"Browser":n=V1(nr());break;case"Worker":n=`${V1(nr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${$o}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VP{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((u,d)=>{try{const f=e(o);u(f)}catch(f){d(f)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LP(t,e={}){return Ha(t,"GET","/v2/passwordPolicy",Fa(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UP=6;class zP{constructor(e){var n,r,s,o;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=u.minPasswordLength)!==null&&n!==void 0?n:UP,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,o,u,d;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(n=f.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),f.isValid&&(f.isValid=(r=f.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),f.isValid&&(f.isValid=(s=f.containsLowercaseLetter)!==null&&s!==void 0?s:!0),f.isValid&&(f.isValid=(o=f.containsUppercaseLetter)!==null&&o!==void 0?o:!0),f.isValid&&(f.isValid=(u=f.containsNumericCharacter)!==null&&u!==void 0?u:!0),f.isValid&&(f.isValid=(d=f.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),f}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BP{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new L1(this),this.idTokenSubscription=new L1(this),this.beforeStateQueue=new VP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=P2,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ss(n)),this._initializationPromise=this.queue(async()=>{var r,s,o;if(!this._deleted&&(this.persistenceManager=await Ql.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Cm(this,{idToken:e}),r=await Ii._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(gr(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(d,d))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,d=s==null?void 0:s._redirectEventId,f=await this.tryRedirectSignIn(e);(!u||u===d)&&(f!=null&&f.user)&&(s=f.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Me(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Rm(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=bP()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(gr(this.app))return Promise.reject(As(this));const n=e?It(e):null;return n&&Me(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Me(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return gr(this.app)?Promise.reject(As(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return gr(this.app)?Promise.reject(As(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ss(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await LP(this),n=new zP(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Pd("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await PP(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ss(e)||this._popupRedirectResolver;Me(n,this,"argument-error"),this.redirectPersistenceManager=await Ql.create(this,[Ss(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let u=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Me(d,this,"internal-error"),d.then(()=>{u||o(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,r,s);return()=>{u=!0,f()}}else{const f=e.addObserver(n);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Y2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;if(gr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&pP(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function qa(t){return It(t)}class L1{constructor(e){this.auth=e,this.observer=null,this.addObserver=r4(n=>this.observer=n)}get next(){return Me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function FP(t){yp=t}function W2(t){return yp.loadJS(t)}function HP(){return yp.recaptchaEnterpriseScript}function qP(){return yp.gapiScript}function GP(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class $P{constructor(){this.enterprise=new KP}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class KP{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const YP="recaptcha-enterprise",Q2="NO_RECAPTCHA";class WP{constructor(e){this.type=YP,this.auth=qa(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(u,d)=>{AP(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const h=new SP(f);return o.tenantId==null?o._agentRecaptchaConfig=h:o._tenantRecaptchaConfigs[o.tenantId]=h,u(h.siteKey)}}).catch(f=>{d(f)})})}function s(o,u,d){const f=window.grecaptcha;O1(f)?f.enterprise.ready(()=>{f.enterprise.execute(o,{action:e}).then(h=>{u(h)}).catch(()=>{u(Q2)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new $P().execute("siteKey",{action:"verify"}):new Promise((o,u)=>{r(this.auth).then(d=>{if(!n&&O1(window.grecaptcha))s(d,o,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let f=HP();f.length!==0&&(f+=d),W2(f).then(()=>{s(d,o,u)}).catch(h=>{u(h)})}}).catch(d=>{u(d)})})}}async function U1(t,e,n,r=!1,s=!1){const o=new WP(t);let u;if(s)u=Q2;else try{u=await o.verify(n)}catch{u=await o.verify(n,!0)}const d=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const f=d.phoneEnrollmentInfo.phoneNumber,h=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:h,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const f=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return r?Object.assign(d,{captchaResp:u}):Object.assign(d,{captchaResponse:u}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function Wy(t,e,n,r,s){var o;if(!((o=t._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await U1(t,e,n,n==="getOobCode");return r(t,u)}else return r(t,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await U1(t,e,n,n==="getOobCode");return r(t,d)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QP(t,e){const n=Md(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),o=n.getOptions();if(Lo(o,e??{}))return s;gi(s,"already-initialized")}return n.initialize({options:e})}function XP(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ss);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function ZP(t,e,n){const r=qa(t);Me(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,o=X2(e),{host:u,port:d}=JP(e),f=d===null?"":`:${d}`,h={url:`${o}//${u}${f}/`},g=Object.freeze({host:u,port:d,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Me(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Me(Lo(h,r.config.emulator)&&Lo(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=h,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,js(u)?(pp(`${o}//${u}${f}`),gp("Auth",!0)):ej()}function X2(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function JP(t){const e=X2(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const o=s[1];return{host:o,port:z1(r.substr(o.length+1))}}else{const[o,u]=r.split(":");return{host:o,port:z1(u)}}}function z1(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function ej(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lb{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ts("not implemented")}_getIdTokenResponse(e){return Ts("not implemented")}_linkToIdToken(e,n){return Ts("not implemented")}_getReauthenticationResolver(e){return Ts("not implemented")}}async function tj(t,e){return Ha(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nj(t,e){return Ld(t,"POST","/v1/accounts:signInWithPassword",Fa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rj(t,e){return Ld(t,"POST","/v1/accounts:signInWithEmailLink",Fa(t,e))}async function ij(t,e){return Ld(t,"POST","/v1/accounts:signInWithEmailLink",Fa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd extends lb{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new vd(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new vd(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Wy(e,n,"signInWithPassword",nj);case"emailLink":return rj(e,{email:this._email,oobCode:this._password});default:gi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Wy(e,r,"signUpPassword",tj);case"emailLink":return ij(e,{idToken:n,email:this._email,oobCode:this._password});default:gi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xl(t,e){return Ld(t,"POST","/v1/accounts:signInWithIdp",Fa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sj="http://localhost";class Uo extends lb{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Uo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):gi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,o=nb(n,["providerId","signInMethod"]);if(!r||!s)return null;const u=new Uo(r,s);return u.idToken=o.idToken||void 0,u.accessToken=o.accessToken||void 0,u.secret=o.secret,u.nonce=o.nonce,u.pendingToken=o.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return Xl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Xl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Xl(e,n)}buildRequest(){const e={requestUri:sj,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=jd(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aj(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function oj(t){const e=Oc(Pc(t)).link,n=e?Oc(Pc(e)).deep_link_id:null,r=Oc(Pc(t)).deep_link_id;return(r?Oc(Pc(r)).link:null)||r||n||e||t}class ub{constructor(e){var n,r,s,o,u,d;const f=Oc(Pc(e)),h=(n=f.apiKey)!==null&&n!==void 0?n:null,g=(r=f.oobCode)!==null&&r!==void 0?r:null,b=aj((s=f.mode)!==null&&s!==void 0?s:null);Me(h&&g&&b,"argument-error"),this.apiKey=h,this.operation=b,this.code=g,this.continueUrl=(o=f.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(u=f.lang)!==null&&u!==void 0?u:null,this.tenantId=(d=f.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const n=oj(e);try{return new ub(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu{constructor(){this.providerId=bu.PROVIDER_ID}static credential(e,n){return vd._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=ub.parseLink(n);return Me(r,"argument-error"),vd._fromEmailAndCode(e,r.code,r.tenantId)}}bu.PROVIDER_ID="password";bu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";bu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud extends cb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya extends Ud{constructor(){super("facebook.com")}static credential(e){return Uo._fromParams({providerId:ya.PROVIDER_ID,signInMethod:ya.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ya.credentialFromTaggedObject(e)}static credentialFromError(e){return ya.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ya.credential(e.oauthAccessToken)}catch{return null}}}ya.FACEBOOK_SIGN_IN_METHOD="facebook.com";ya.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es extends Ud{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Uo._fromParams({providerId:Es.PROVIDER_ID,signInMethod:Es.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Es.credentialFromTaggedObject(e)}static credentialFromError(e){return Es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Es.credential(n,r)}catch{return null}}}Es.GOOGLE_SIGN_IN_METHOD="google.com";Es.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba extends Ud{constructor(){super("github.com")}static credential(e){return Uo._fromParams({providerId:ba.PROVIDER_ID,signInMethod:ba.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ba.credentialFromTaggedObject(e)}static credentialFromError(e){return ba.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ba.credential(e.oauthAccessToken)}catch{return null}}}ba.GITHUB_SIGN_IN_METHOD="github.com";ba.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a extends Ud{constructor(){super("twitter.com")}static credential(e,n){return Uo._fromParams({providerId:_a.PROVIDER_ID,signInMethod:_a.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return _a.credentialFromTaggedObject(e)}static credentialFromError(e){return _a.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return _a.credential(n,r)}catch{return null}}}_a.TWITTER_SIGN_IN_METHOD="twitter.com";_a.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lj(t,e){return Ld(t,"POST","/v1/accounts:signUp",Fa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const o=await Ii._fromIdTokenResponse(e,r,s),u=B1(r);return new zo({user:o,providerId:u,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=B1(r);return new zo({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function B1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im extends ji{constructor(e,n,r,s){var o;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Im.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Im(e,n,r,s)}}function Z2(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Im._fromErrorAndOperation(t,o,e,r):o})}async function uj(t,e,n=!1){const r=await gd(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return zo._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cj(t,e,n=!1){const{auth:r}=t;if(gr(r.app))return Promise.reject(As(r));const s="reauthenticate";try{const o=await gd(t,Z2(r,s,e,t),n);Me(o.idToken,r,"internal-error");const u=ab(o.idToken);Me(u,r,"internal-error");const{sub:d}=u;return Me(t.uid===d,r,"user-mismatch"),zo._forOperation(t,s,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&gi(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J2(t,e,n=!1){if(gr(t.app))return Promise.reject(As(t));const r="signIn",s=await Z2(t,r,e),o=await zo._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(o.user),o}async function dj(t,e){return J2(qa(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eC(t){const e=qa(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function fj(t,e,n){if(gr(t.app))return Promise.reject(As(t));const r=qa(t),u=await Wy(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",lj).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&eC(t),f}),d=await zo._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(d.user),d}function hj(t,e,n){return gr(t.app)?Promise.reject(As(t)):dj(It(t),bu.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&eC(t),r})}function mj(t,e,n,r){return It(t).onIdTokenChanged(e,n,r)}function pj(t,e,n){return It(t).beforeAuthStateChanged(e,n)}function gj(t,e,n,r){return It(t).onAuthStateChanged(e,n,r)}function dy(t){return It(t).signOut()}const Nm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Nm,"1"),this.storage.removeItem(Nm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vj=1e3,yj=10;class nC extends tC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=K2(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,d,f)=>{this.notifyListeners(u,f)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const u=this.storage.getItem(r);!n&&this.localCache[r]===u||this.notifyListeners(r,u)},o=this.storage.getItem(r);MP()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,yj):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},vj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}nC.type="LOCAL";const bj=nC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC extends tC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}rC.type="SESSION";const iC=rC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _j(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new bp(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:o}=n.data,u=this.handlersMap[s];if(!(u!=null&&u.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const d=Array.from(u).map(async h=>h(n.origin,o)),f=await _j(d);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}bp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function db(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wj{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,u;return new Promise((d,f)=>{const h=db("",20);s.port1.start();const g=setTimeout(()=>{f(new Error("unsupported_event"))},r);u={messageChannel:s,onMessage(b){const _=b;if(_.data.eventId===h)switch(_.data.status){case"ack":clearTimeout(g),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),d(_.data.response);break;default:clearTimeout(g),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(u),s.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[s.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yi(){return window}function xj(t){Yi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sC(){return typeof Yi().WorkerGlobalScope<"u"&&typeof Yi().importScripts=="function"}async function Ej(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Tj(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Sj(){return sC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aC="firebaseLocalStorageDb",Aj=1,km="firebaseLocalStorage",oC="fbase_key";class zd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function _p(t,e){return t.transaction([km],e?"readwrite":"readonly").objectStore(km)}function Cj(){const t=indexedDB.deleteDatabase(aC);return new zd(t).toPromise()}function Qy(){const t=indexedDB.open(aC,Aj);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(km,{keyPath:oC})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(km)?e(r):(r.close(),await Cj(),e(await Qy()))})})}async function F1(t,e,n){const r=_p(t,!0).put({[oC]:e,value:n});return new zd(r).toPromise()}async function Rj(t,e){const n=_p(t,!1).get(e),r=await new zd(n).toPromise();return r===void 0?null:r.value}function H1(t,e){const n=_p(t,!0).delete(e);return new zd(n).toPromise()}const Ij=800,Nj=3;class lC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Qy(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Nj)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return sC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=bp._getInstance(Sj()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await Ej(),!this.activeServiceWorker)return;this.sender=new wj(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Tj()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Qy();return await F1(e,Nm,"1"),await H1(e,Nm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>F1(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Rj(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>H1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const o=_p(s,!1).getAll();return new zd(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:o}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Ij)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}lC.type="LOCAL";const kj=lC;new Vd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uC(t,e){return e?Ss(e):(Me(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb extends lb{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Xl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Xl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Xl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Dj(t){return J2(t.auth,new fb(t),t.bypassAuthState)}function Oj(t){const{auth:e,user:n}=t;return Me(n,e,"internal-error"),cj(n,new fb(t),t.bypassAuthState)}async function Pj(t){const{auth:e,user:n}=t;return Me(n,e,"internal-error"),uj(n,new fb(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(e,n,r,s,o=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:o,error:u,type:d}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(f))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Dj;case"linkViaPopup":case"linkViaRedirect":return Pj;case"reauthViaPopup":case"reauthViaRedirect":return Oj;default:gi(this.auth,"internal-error")}}resolve(e){ks(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ks(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jj=new Vd(2e3,1e4);async function Mj(t,e,n){if(gr(t.app))return Promise.reject(Di(t,"operation-not-supported-in-this-environment"));const r=qa(t);gP(t,e,cb);const s=uC(r,n);return new Ro(r,"signInViaPopup",e,s).executeNotNull()}class Ro extends cC{constructor(e,n,r,s,o){super(e,n,s,o),this.provider=r,this.authWindow=null,this.pollId=null,Ro.currentPopupAction&&Ro.currentPopupAction.cancel(),Ro.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Me(e,this.auth,"internal-error"),e}async onExecution(){ks(this.filter.length===1,"Popup operations only handle one event");const e=db();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Di(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Di(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ro.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Di(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,jj.get())};e()}}Ro.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vj="pendingRedirect",am=new Map;class Lj extends cC{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=am.get(this.auth._key());if(!e){try{const r=await Uj(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}am.set(this.auth._key(),e)}return this.bypassAuthState||am.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Uj(t,e){const n=Fj(e),r=Bj(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function zj(t,e){am.set(t._key(),e)}function Bj(t){return Ss(t._redirectPersistence)}function Fj(t){return sm(Vj,t.config.apiKey,t.name)}async function Hj(t,e,n=!1){if(gr(t.app))return Promise.reject(As(t));const r=qa(t),s=uC(r,e),u=await new Lj(r,s,n).execute();return u&&!n&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qj=600*1e3;class Gj{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!$j(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!dC(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Di(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=qj&&this.cachedEventUids.clear(),this.cachedEventUids.has(q1(e))}saveEventToCache(e){this.cachedEventUids.add(q1(e)),this.lastProcessedEventTime=Date.now()}}function q1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function dC({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function $j(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return dC(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kj(t,e={}){return Ha(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yj=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Wj=/^https?/;async function Qj(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Kj(t);for(const n of e)try{if(Xj(n))return}catch{}gi(t,"unauthorized-domain")}function Xj(t){const e=Ky(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===r}if(!Wj.test(n))return!1;if(Yj.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zj=new Vd(3e4,6e4);function G1(){const t=Yi().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Jj(t){return new Promise((e,n)=>{var r,s,o;function u(){G1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{G1(),n(Di(t,"network-request-failed"))},timeout:Zj.get()})}if(!((s=(r=Yi().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((o=Yi().gapi)===null||o===void 0)&&o.load)u();else{const d=GP("iframefcb");return Yi()[d]=()=>{gapi.load?u():n(Di(t,"network-request-failed"))},W2(`${qP()}?onload=${d}`).catch(f=>n(f))}}).catch(e=>{throw om=null,e})}let om=null;function eM(t){return om=om||Jj(t),om}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tM=new Vd(5e3,15e3),nM="__/auth/iframe",rM="emulator/auth/iframe",iM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},sM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function aM(t){const e=t.config;Me(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?sb(e,rM):`https://${t.config.authDomain}/${nM}`,r={apiKey:e.apiKey,appName:t.name,v:$o},s=sM.get(t.config.apiHost);s&&(r.eid=s);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${jd(r).slice(1)}`}async function oM(t){const e=await eM(t),n=Yi().gapi;return Me(n,t,"internal-error"),e.open({where:document.body,url:aM(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:iM,dontclear:!0},r=>new Promise(async(s,o)=>{await r.restyle({setHideOnLeave:!1});const u=Di(t,"network-request-failed"),d=Yi().setTimeout(()=>{o(u)},tM.get());function f(){Yi().clearTimeout(d),s(r)}r.ping(f).then(f,()=>{o(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},uM=500,cM=600,dM="_blank",fM="http://localhost";class $1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function hM(t,e,n,r=uM,s=cM){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const f=Object.assign(Object.assign({},lM),{width:r.toString(),height:s.toString(),top:o,left:u}),h=nr().toLowerCase();n&&(d=F2(h)?dM:n),z2(h)&&(e=e||fM,f.scrollbars="yes");const g=Object.entries(f).reduce((_,[E,C])=>`${_}${E}=${C},`,"");if(jP(h)&&d!=="_self")return mM(e||"",d),new $1(null);const b=window.open(e||"",d,g);Me(b,t,"popup-blocked");try{b.focus()}catch{}return new $1(b)}function mM(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pM="__/auth/handler",gM="emulator/auth/handler",vM=encodeURIComponent("fac");async function K1(t,e,n,r,s,o){Me(t.config.authDomain,t,"auth-domain-config-required"),Me(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:$o,eventId:s};if(e instanceof cb){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",n4(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,b]of Object.entries({}))u[g]=b}if(e instanceof Ud){const g=e.getScopes().filter(b=>b!=="");g.length>0&&(u.scopes=g.join(","))}t.tenantId&&(u.tid=t.tenantId);const d=u;for(const g of Object.keys(d))d[g]===void 0&&delete d[g];const f=await t._getAppCheckToken(),h=f?`#${vM}=${encodeURIComponent(f)}`:"";return`${yM(t)}?${jd(d).slice(1)}${h}`}function yM({config:t}){return t.emulator?sb(t,gM):`https://${t.authDomain}/${pM}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fy="webStorageSupport";class bM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=iC,this._completeRedirectFn=Hj,this._overrideRedirectResult=zj}async _openPopup(e,n,r,s){var o;ks((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const u=await K1(e,n,r,Ky(),s);return hM(e,u,db())}async _openRedirect(e,n,r,s){await this._originValidation(e);const o=await K1(e,n,r,Ky(),s);return xj(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:o}=this.eventManagers[n];return s?Promise.resolve(s):(ks(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await oM(e),r=new Gj(e);return n.register("authEvent",s=>(Me(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(fy,{type:fy},s=>{var o;const u=(o=s==null?void 0:s[0])===null||o===void 0?void 0:o[fy];u!==void 0&&n(!!u),gi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Qj(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return K2()||B2()||ob()}}const _M=bM;var Y1="@firebase/auth",W1="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xM(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function EM(t){Da(new Is("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:u,authDomain:d}=r.options;Me(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:u,authDomain:d,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Y2(t)},h=new BP(r,s,o,f);return XP(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Da(new Is("auth-internal",e=>{const n=qa(e.getProvider("auth").getImmediate());return(r=>new wM(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),pi(Y1,W1,xM(t)),pi(Y1,W1,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TM=300,SM=A2("authIdTokenMaxAge")||TM;let Q1=null;const AM=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>SM)return;const s=n==null?void 0:n.token;Q1!==s&&(Q1=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function CM(t=vp()){const e=Md(t,"auth");if(e.isInitialized())return e.getImmediate();const n=QP(t,{popupRedirectResolver:_M,persistence:[kj,bj,iC]}),r=A2("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const u=AM(o.toString());pj(n,u,()=>u(n.currentUser)),mj(n,d=>u(d))}}const s=T2("auth");return s&&ZP(n,`http://${s}`),n}function RM(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}FP({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const o=Di("internal-error");o.customData=s,n(o)},r.type="text/javascript",r.charset="UTF-8",RM().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});EM("Browser");var IM="firebase",NM="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pi(IM,NM,"app");var X1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ia,fC;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,S){function R(){}R.prototype=S.prototype,A.D=S.prototype,A.prototype=new R,A.prototype.constructor=A,A.C=function(L,V,O){for(var j=Array(arguments.length-2),ve=2;ve<arguments.length;ve++)j[ve-2]=arguments[ve];return S.prototype[V].apply(L,j)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(A,S,R){R||(R=0);var L=Array(16);if(typeof S=="string")for(var V=0;16>V;++V)L[V]=S.charCodeAt(R++)|S.charCodeAt(R++)<<8|S.charCodeAt(R++)<<16|S.charCodeAt(R++)<<24;else for(V=0;16>V;++V)L[V]=S[R++]|S[R++]<<8|S[R++]<<16|S[R++]<<24;S=A.g[0],R=A.g[1],V=A.g[2];var O=A.g[3],j=S+(O^R&(V^O))+L[0]+3614090360&4294967295;S=R+(j<<7&4294967295|j>>>25),j=O+(V^S&(R^V))+L[1]+3905402710&4294967295,O=S+(j<<12&4294967295|j>>>20),j=V+(R^O&(S^R))+L[2]+606105819&4294967295,V=O+(j<<17&4294967295|j>>>15),j=R+(S^V&(O^S))+L[3]+3250441966&4294967295,R=V+(j<<22&4294967295|j>>>10),j=S+(O^R&(V^O))+L[4]+4118548399&4294967295,S=R+(j<<7&4294967295|j>>>25),j=O+(V^S&(R^V))+L[5]+1200080426&4294967295,O=S+(j<<12&4294967295|j>>>20),j=V+(R^O&(S^R))+L[6]+2821735955&4294967295,V=O+(j<<17&4294967295|j>>>15),j=R+(S^V&(O^S))+L[7]+4249261313&4294967295,R=V+(j<<22&4294967295|j>>>10),j=S+(O^R&(V^O))+L[8]+1770035416&4294967295,S=R+(j<<7&4294967295|j>>>25),j=O+(V^S&(R^V))+L[9]+2336552879&4294967295,O=S+(j<<12&4294967295|j>>>20),j=V+(R^O&(S^R))+L[10]+4294925233&4294967295,V=O+(j<<17&4294967295|j>>>15),j=R+(S^V&(O^S))+L[11]+2304563134&4294967295,R=V+(j<<22&4294967295|j>>>10),j=S+(O^R&(V^O))+L[12]+1804603682&4294967295,S=R+(j<<7&4294967295|j>>>25),j=O+(V^S&(R^V))+L[13]+4254626195&4294967295,O=S+(j<<12&4294967295|j>>>20),j=V+(R^O&(S^R))+L[14]+2792965006&4294967295,V=O+(j<<17&4294967295|j>>>15),j=R+(S^V&(O^S))+L[15]+1236535329&4294967295,R=V+(j<<22&4294967295|j>>>10),j=S+(V^O&(R^V))+L[1]+4129170786&4294967295,S=R+(j<<5&4294967295|j>>>27),j=O+(R^V&(S^R))+L[6]+3225465664&4294967295,O=S+(j<<9&4294967295|j>>>23),j=V+(S^R&(O^S))+L[11]+643717713&4294967295,V=O+(j<<14&4294967295|j>>>18),j=R+(O^S&(V^O))+L[0]+3921069994&4294967295,R=V+(j<<20&4294967295|j>>>12),j=S+(V^O&(R^V))+L[5]+3593408605&4294967295,S=R+(j<<5&4294967295|j>>>27),j=O+(R^V&(S^R))+L[10]+38016083&4294967295,O=S+(j<<9&4294967295|j>>>23),j=V+(S^R&(O^S))+L[15]+3634488961&4294967295,V=O+(j<<14&4294967295|j>>>18),j=R+(O^S&(V^O))+L[4]+3889429448&4294967295,R=V+(j<<20&4294967295|j>>>12),j=S+(V^O&(R^V))+L[9]+568446438&4294967295,S=R+(j<<5&4294967295|j>>>27),j=O+(R^V&(S^R))+L[14]+3275163606&4294967295,O=S+(j<<9&4294967295|j>>>23),j=V+(S^R&(O^S))+L[3]+4107603335&4294967295,V=O+(j<<14&4294967295|j>>>18),j=R+(O^S&(V^O))+L[8]+1163531501&4294967295,R=V+(j<<20&4294967295|j>>>12),j=S+(V^O&(R^V))+L[13]+2850285829&4294967295,S=R+(j<<5&4294967295|j>>>27),j=O+(R^V&(S^R))+L[2]+4243563512&4294967295,O=S+(j<<9&4294967295|j>>>23),j=V+(S^R&(O^S))+L[7]+1735328473&4294967295,V=O+(j<<14&4294967295|j>>>18),j=R+(O^S&(V^O))+L[12]+2368359562&4294967295,R=V+(j<<20&4294967295|j>>>12),j=S+(R^V^O)+L[5]+4294588738&4294967295,S=R+(j<<4&4294967295|j>>>28),j=O+(S^R^V)+L[8]+2272392833&4294967295,O=S+(j<<11&4294967295|j>>>21),j=V+(O^S^R)+L[11]+1839030562&4294967295,V=O+(j<<16&4294967295|j>>>16),j=R+(V^O^S)+L[14]+4259657740&4294967295,R=V+(j<<23&4294967295|j>>>9),j=S+(R^V^O)+L[1]+2763975236&4294967295,S=R+(j<<4&4294967295|j>>>28),j=O+(S^R^V)+L[4]+1272893353&4294967295,O=S+(j<<11&4294967295|j>>>21),j=V+(O^S^R)+L[7]+4139469664&4294967295,V=O+(j<<16&4294967295|j>>>16),j=R+(V^O^S)+L[10]+3200236656&4294967295,R=V+(j<<23&4294967295|j>>>9),j=S+(R^V^O)+L[13]+681279174&4294967295,S=R+(j<<4&4294967295|j>>>28),j=O+(S^R^V)+L[0]+3936430074&4294967295,O=S+(j<<11&4294967295|j>>>21),j=V+(O^S^R)+L[3]+3572445317&4294967295,V=O+(j<<16&4294967295|j>>>16),j=R+(V^O^S)+L[6]+76029189&4294967295,R=V+(j<<23&4294967295|j>>>9),j=S+(R^V^O)+L[9]+3654602809&4294967295,S=R+(j<<4&4294967295|j>>>28),j=O+(S^R^V)+L[12]+3873151461&4294967295,O=S+(j<<11&4294967295|j>>>21),j=V+(O^S^R)+L[15]+530742520&4294967295,V=O+(j<<16&4294967295|j>>>16),j=R+(V^O^S)+L[2]+3299628645&4294967295,R=V+(j<<23&4294967295|j>>>9),j=S+(V^(R|~O))+L[0]+4096336452&4294967295,S=R+(j<<6&4294967295|j>>>26),j=O+(R^(S|~V))+L[7]+1126891415&4294967295,O=S+(j<<10&4294967295|j>>>22),j=V+(S^(O|~R))+L[14]+2878612391&4294967295,V=O+(j<<15&4294967295|j>>>17),j=R+(O^(V|~S))+L[5]+4237533241&4294967295,R=V+(j<<21&4294967295|j>>>11),j=S+(V^(R|~O))+L[12]+1700485571&4294967295,S=R+(j<<6&4294967295|j>>>26),j=O+(R^(S|~V))+L[3]+2399980690&4294967295,O=S+(j<<10&4294967295|j>>>22),j=V+(S^(O|~R))+L[10]+4293915773&4294967295,V=O+(j<<15&4294967295|j>>>17),j=R+(O^(V|~S))+L[1]+2240044497&4294967295,R=V+(j<<21&4294967295|j>>>11),j=S+(V^(R|~O))+L[8]+1873313359&4294967295,S=R+(j<<6&4294967295|j>>>26),j=O+(R^(S|~V))+L[15]+4264355552&4294967295,O=S+(j<<10&4294967295|j>>>22),j=V+(S^(O|~R))+L[6]+2734768916&4294967295,V=O+(j<<15&4294967295|j>>>17),j=R+(O^(V|~S))+L[13]+1309151649&4294967295,R=V+(j<<21&4294967295|j>>>11),j=S+(V^(R|~O))+L[4]+4149444226&4294967295,S=R+(j<<6&4294967295|j>>>26),j=O+(R^(S|~V))+L[11]+3174756917&4294967295,O=S+(j<<10&4294967295|j>>>22),j=V+(S^(O|~R))+L[2]+718787259&4294967295,V=O+(j<<15&4294967295|j>>>17),j=R+(O^(V|~S))+L[9]+3951481745&4294967295,A.g[0]=A.g[0]+S&4294967295,A.g[1]=A.g[1]+(V+(j<<21&4294967295|j>>>11))&4294967295,A.g[2]=A.g[2]+V&4294967295,A.g[3]=A.g[3]+O&4294967295}r.prototype.u=function(A,S){S===void 0&&(S=A.length);for(var R=S-this.blockSize,L=this.B,V=this.h,O=0;O<S;){if(V==0)for(;O<=R;)s(this,A,O),O+=this.blockSize;if(typeof A=="string"){for(;O<S;)if(L[V++]=A.charCodeAt(O++),V==this.blockSize){s(this,L),V=0;break}}else for(;O<S;)if(L[V++]=A[O++],V==this.blockSize){s(this,L),V=0;break}}this.h=V,this.o+=S},r.prototype.v=function(){var A=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);A[0]=128;for(var S=1;S<A.length-8;++S)A[S]=0;var R=8*this.o;for(S=A.length-8;S<A.length;++S)A[S]=R&255,R/=256;for(this.u(A),A=Array(16),S=R=0;4>S;++S)for(var L=0;32>L;L+=8)A[R++]=this.g[S]>>>L&255;return A};function o(A,S){var R=d;return Object.prototype.hasOwnProperty.call(R,A)?R[A]:R[A]=S(A)}function u(A,S){this.h=S;for(var R=[],L=!0,V=A.length-1;0<=V;V--){var O=A[V]|0;L&&O==S||(R[V]=O,L=!1)}this.g=R}var d={};function f(A){return-128<=A&&128>A?o(A,function(S){return new u([S|0],0>S?-1:0)}):new u([A|0],0>A?-1:0)}function h(A){if(isNaN(A)||!isFinite(A))return b;if(0>A)return D(h(-A));for(var S=[],R=1,L=0;A>=R;L++)S[L]=A/R|0,R*=4294967296;return new u(S,0)}function g(A,S){if(A.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(A.charAt(0)=="-")return D(g(A.substring(1),S));if(0<=A.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=h(Math.pow(S,8)),L=b,V=0;V<A.length;V+=8){var O=Math.min(8,A.length-V),j=parseInt(A.substring(V,V+O),S);8>O?(O=h(Math.pow(S,O)),L=L.j(O).add(h(j))):(L=L.j(R),L=L.add(h(j)))}return L}var b=f(0),_=f(1),E=f(16777216);t=u.prototype,t.m=function(){if(N(this))return-D(this).m();for(var A=0,S=1,R=0;R<this.g.length;R++){var L=this.i(R);A+=(0<=L?L:4294967296+L)*S,S*=4294967296}return A},t.toString=function(A){if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(C(this))return"0";if(N(this))return"-"+D(this).toString(A);for(var S=h(Math.pow(A,6)),R=this,L="";;){var V=G(R,S).g;R=U(R,V.j(S));var O=((0<R.g.length?R.g[0]:R.h)>>>0).toString(A);if(R=V,C(R))return O+L;for(;6>O.length;)O="0"+O;L=O+L}},t.i=function(A){return 0>A?0:A<this.g.length?this.g[A]:this.h};function C(A){if(A.h!=0)return!1;for(var S=0;S<A.g.length;S++)if(A.g[S]!=0)return!1;return!0}function N(A){return A.h==-1}t.l=function(A){return A=U(this,A),N(A)?-1:C(A)?0:1};function D(A){for(var S=A.g.length,R=[],L=0;L<S;L++)R[L]=~A.g[L];return new u(R,~A.h).add(_)}t.abs=function(){return N(this)?D(this):this},t.add=function(A){for(var S=Math.max(this.g.length,A.g.length),R=[],L=0,V=0;V<=S;V++){var O=L+(this.i(V)&65535)+(A.i(V)&65535),j=(O>>>16)+(this.i(V)>>>16)+(A.i(V)>>>16);L=j>>>16,O&=65535,j&=65535,R[V]=j<<16|O}return new u(R,R[R.length-1]&-2147483648?-1:0)};function U(A,S){return A.add(D(S))}t.j=function(A){if(C(this)||C(A))return b;if(N(this))return N(A)?D(this).j(D(A)):D(D(this).j(A));if(N(A))return D(this.j(D(A)));if(0>this.l(E)&&0>A.l(E))return h(this.m()*A.m());for(var S=this.g.length+A.g.length,R=[],L=0;L<2*S;L++)R[L]=0;for(L=0;L<this.g.length;L++)for(var V=0;V<A.g.length;V++){var O=this.i(L)>>>16,j=this.i(L)&65535,ve=A.i(V)>>>16,Ce=A.i(V)&65535;R[2*L+2*V]+=j*Ce,M(R,2*L+2*V),R[2*L+2*V+1]+=O*Ce,M(R,2*L+2*V+1),R[2*L+2*V+1]+=j*ve,M(R,2*L+2*V+1),R[2*L+2*V+2]+=O*ve,M(R,2*L+2*V+2)}for(L=0;L<S;L++)R[L]=R[2*L+1]<<16|R[2*L];for(L=S;L<2*S;L++)R[L]=0;return new u(R,0)};function M(A,S){for(;(A[S]&65535)!=A[S];)A[S+1]+=A[S]>>>16,A[S]&=65535,S++}function z(A,S){this.g=A,this.h=S}function G(A,S){if(C(S))throw Error("division by zero");if(C(A))return new z(b,b);if(N(A))return S=G(D(A),S),new z(D(S.g),D(S.h));if(N(S))return S=G(A,D(S)),new z(D(S.g),S.h);if(30<A.g.length){if(N(A)||N(S))throw Error("slowDivide_ only works with positive integers.");for(var R=_,L=S;0>=L.l(A);)R=K(R),L=K(L);var V=H(R,1),O=H(L,1);for(L=H(L,2),R=H(R,2);!C(L);){var j=O.add(L);0>=j.l(A)&&(V=V.add(R),O=j),L=H(L,1),R=H(R,1)}return S=U(A,V.j(S)),new z(V,S)}for(V=b;0<=A.l(S);){for(R=Math.max(1,Math.floor(A.m()/S.m())),L=Math.ceil(Math.log(R)/Math.LN2),L=48>=L?1:Math.pow(2,L-48),O=h(R),j=O.j(S);N(j)||0<j.l(A);)R-=L,O=h(R),j=O.j(S);C(O)&&(O=_),V=V.add(O),A=U(A,j)}return new z(V,A)}t.A=function(A){return G(this,A).h},t.and=function(A){for(var S=Math.max(this.g.length,A.g.length),R=[],L=0;L<S;L++)R[L]=this.i(L)&A.i(L);return new u(R,this.h&A.h)},t.or=function(A){for(var S=Math.max(this.g.length,A.g.length),R=[],L=0;L<S;L++)R[L]=this.i(L)|A.i(L);return new u(R,this.h|A.h)},t.xor=function(A){for(var S=Math.max(this.g.length,A.g.length),R=[],L=0;L<S;L++)R[L]=this.i(L)^A.i(L);return new u(R,this.h^A.h)};function K(A){for(var S=A.g.length+1,R=[],L=0;L<S;L++)R[L]=A.i(L)<<1|A.i(L-1)>>>31;return new u(R,A.h)}function H(A,S){var R=S>>5;S%=32;for(var L=A.g.length-R,V=[],O=0;O<L;O++)V[O]=0<S?A.i(O+R)>>>S|A.i(O+R+1)<<32-S:A.i(O+R);return new u(V,A.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,fC=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=h,u.fromString=g,Ia=u}).apply(typeof X1<"u"?X1:typeof self<"u"?self:typeof window<"u"?window:{});var Ch=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var hC,jc,mC,lm,Xy,pC,gC,vC;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,w,T){return m==Array.prototype||m==Object.prototype||(m[w]=T.value),m};function n(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ch=="object"&&Ch];for(var w=0;w<m.length;++w){var T=m[w];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=n(this);function s(m,w){if(w)e:{var T=r;m=m.split(".");for(var k=0;k<m.length-1;k++){var Y=m[k];if(!(Y in T))break e;T=T[Y]}m=m[m.length-1],k=T[m],w=w(k),w!=k&&w!=null&&e(T,m,{configurable:!0,writable:!0,value:w})}}function o(m,w){m instanceof String&&(m+="");var T=0,k=!1,Y={next:function(){if(!k&&T<m.length){var ne=T++;return{value:w(ne,m[ne]),done:!1}}return k=!0,{done:!0,value:void 0}}};return Y[Symbol.iterator]=function(){return Y},Y}s("Array.prototype.values",function(m){return m||function(){return o(this,function(w,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},d=this||self;function f(m){var w=typeof m;return w=w!="object"?w:m?Array.isArray(m)?"array":w:"null",w=="array"||w=="object"&&typeof m.length=="number"}function h(m){var w=typeof m;return w=="object"&&m!=null||w=="function"}function g(m,w,T){return m.call.apply(m.bind,arguments)}function b(m,w,T){if(!m)throw Error();if(2<arguments.length){var k=Array.prototype.slice.call(arguments,2);return function(){var Y=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Y,k),m.apply(w,Y)}}return function(){return m.apply(w,arguments)}}function _(m,w,T){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:b,_.apply(null,arguments)}function E(m,w){var T=Array.prototype.slice.call(arguments,1);return function(){var k=T.slice();return k.push.apply(k,arguments),m.apply(this,k)}}function C(m,w){function T(){}T.prototype=w.prototype,m.aa=w.prototype,m.prototype=new T,m.prototype.constructor=m,m.Qb=function(k,Y,ne){for(var pe=Array(arguments.length-2),pt=2;pt<arguments.length;pt++)pe[pt-2]=arguments[pt];return w.prototype[Y].apply(k,pe)}}function N(m){const w=m.length;if(0<w){const T=Array(w);for(let k=0;k<w;k++)T[k]=m[k];return T}return[]}function D(m,w){for(let T=1;T<arguments.length;T++){const k=arguments[T];if(f(k)){const Y=m.length||0,ne=k.length||0;m.length=Y+ne;for(let pe=0;pe<ne;pe++)m[Y+pe]=k[pe]}else m.push(k)}}class U{constructor(w,T){this.i=w,this.j=T,this.h=0,this.g=null}get(){let w;return 0<this.h?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function M(m){return/^[\s\xa0]*$/.test(m)}function z(){var m=d.navigator;return m&&(m=m.userAgent)?m:""}function G(m){return G[" "](m),m}G[" "]=function(){};var K=z().indexOf("Gecko")!=-1&&!(z().toLowerCase().indexOf("webkit")!=-1&&z().indexOf("Edge")==-1)&&!(z().indexOf("Trident")!=-1||z().indexOf("MSIE")!=-1)&&z().indexOf("Edge")==-1;function H(m,w,T){for(const k in m)w.call(T,m[k],k,m)}function A(m,w){for(const T in m)w.call(void 0,m[T],T,m)}function S(m){const w={};for(const T in m)w[T]=m[T];return w}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(m,w){let T,k;for(let Y=1;Y<arguments.length;Y++){k=arguments[Y];for(T in k)m[T]=k[T];for(let ne=0;ne<R.length;ne++)T=R[ne],Object.prototype.hasOwnProperty.call(k,T)&&(m[T]=k[T])}}function V(m){var w=1;m=m.split(":");const T=[];for(;0<w&&m.length;)T.push(m.shift()),w--;return m.length&&T.push(m.join(":")),T}function O(m){d.setTimeout(()=>{throw m},0)}function j(){var m=xe;let w=null;return m.g&&(w=m.g,m.g=m.g.next,m.g||(m.h=null),w.next=null),w}class ve{constructor(){this.h=this.g=null}add(w,T){const k=Ce.get();k.set(w,T),this.h?this.h.next=k:this.g=k,this.h=k}}var Ce=new U(()=>new Q,m=>m.reset());class Q{constructor(){this.next=this.g=this.h=null}set(w,T){this.h=w,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let se,de=!1,xe=new ve,Ee=()=>{const m=d.Promise.resolve(void 0);se=()=>{m.then(B)}};var B=()=>{for(var m;m=j();){try{m.h.call(m.g)}catch(T){O(T)}var w=Ce;w.j(m),100>w.h&&(w.h++,m.next=w.g,w.g=m)}de=!1};function Z(){this.s=this.s,this.C=this.C}Z.prototype.s=!1,Z.prototype.ma=function(){this.s||(this.s=!0,this.N())},Z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ee(m,w){this.type=m,this.g=this.target=w,this.defaultPrevented=!1}ee.prototype.h=function(){this.defaultPrevented=!0};var re=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var m=!1,w=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const T=()=>{};d.addEventListener("test",T,w),d.removeEventListener("test",T,w)}catch{}return m})();function me(m,w){if(ee.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var T=this.type=m.type,k=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=w,w=m.relatedTarget){if(K){e:{try{G(w.nodeName);var Y=!0;break e}catch{}Y=!1}Y||(w=null)}}else T=="mouseover"?w=m.fromElement:T=="mouseout"&&(w=m.toElement);this.relatedTarget=w,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:Pe[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&me.aa.h.call(this)}}C(me,ee);var Pe={2:"touch",3:"pen",4:"mouse"};me.prototype.h=function(){me.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var Se="closure_listenable_"+(1e6*Math.random()|0),Nt=0;function wt(m,w,T,k,Y){this.listener=m,this.proxy=null,this.src=w,this.type=T,this.capture=!!k,this.ha=Y,this.key=++Nt,this.da=this.fa=!1}function jn(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function yr(m){this.src=m,this.g={},this.h=0}yr.prototype.add=function(m,w,T,k,Y){var ne=m.toString();m=this.g[ne],m||(m=this.g[ne]=[],this.h++);var pe=Mn(m,w,k,Y);return-1<pe?(w=m[pe],T||(w.fa=!1)):(w=new wt(w,this.src,ne,!!k,Y),w.fa=T,m.push(w)),w};function Pt(m,w){var T=w.type;if(T in m.g){var k=m.g[T],Y=Array.prototype.indexOf.call(k,w,void 0),ne;(ne=0<=Y)&&Array.prototype.splice.call(k,Y,1),ne&&(jn(w),m.g[T].length==0&&(delete m.g[T],m.h--))}}function Mn(m,w,T,k){for(var Y=0;Y<m.length;++Y){var ne=m[Y];if(!ne.da&&ne.listener==w&&ne.capture==!!T&&ne.ha==k)return Y}return-1}var wn="closure_lm_"+(1e6*Math.random()|0),Cn={};function rr(m,w,T,k,Y){if(Array.isArray(w)){for(var ne=0;ne<w.length;ne++)rr(m,w[ne],T,k,Y);return null}return T=dn(T),m&&m[Se]?m.K(w,T,h(k)?!!k.capture:!1,Y):Zr(m,w,T,!1,k,Y)}function Zr(m,w,T,k,Y,ne){if(!w)throw Error("Invalid event type");var pe=h(Y)?!!Y.capture:!!Y,pt=Mr(m);if(pt||(m[wn]=pt=new yr(m)),T=pt.add(w,T,k,pe,ne),T.proxy)return T;if(k=br(),T.proxy=k,k.src=m,k.listener=T,m.addEventListener)re||(Y=pe),Y===void 0&&(Y=!1),m.addEventListener(w.toString(),k,Y);else if(m.attachEvent)m.attachEvent(ir(w.toString()),k);else if(m.addListener&&m.removeListener)m.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return T}function br(){function m(T){return w.call(m.src,m.listener,T)}const w=vi;return m}function _r(m,w,T,k,Y){if(Array.isArray(w))for(var ne=0;ne<w.length;ne++)_r(m,w[ne],T,k,Y);else k=h(k)?!!k.capture:!!k,T=dn(T),m&&m[Se]?(m=m.i,w=String(w).toString(),w in m.g&&(ne=m.g[w],T=Mn(ne,T,k,Y),-1<T&&(jn(ne[T]),Array.prototype.splice.call(ne,T,1),ne.length==0&&(delete m.g[w],m.h--)))):m&&(m=Mr(m))&&(w=m.g[w.toString()],m=-1,w&&(m=Mn(w,T,k,Y)),(T=-1<m?w[m]:null)&&Rn(T))}function Rn(m){if(typeof m!="number"&&m&&!m.da){var w=m.src;if(w&&w[Se])Pt(w.i,m);else{var T=m.type,k=m.proxy;w.removeEventListener?w.removeEventListener(T,k,m.capture):w.detachEvent?w.detachEvent(ir(T),k):w.addListener&&w.removeListener&&w.removeListener(k),(T=Mr(w))?(Pt(T,m),T.h==0&&(T.src=null,w[wn]=null)):jn(m)}}}function ir(m){return m in Cn?Cn[m]:Cn[m]="on"+m}function vi(m,w){if(m.da)m=!0;else{w=new me(w,this);var T=m.listener,k=m.ha||m.src;m.fa&&Rn(m),m=T.call(k,w)}return m}function Mr(m){return m=m[wn],m instanceof yr?m:null}var yt="__closure_events_fn_"+(1e9*Math.random()>>>0);function dn(m){return typeof m=="function"?m:(m[yt]||(m[yt]=function(w){return m.handleEvent(w)}),m[yt])}function ke(){Z.call(this),this.i=new yr(this),this.M=this,this.F=null}C(ke,Z),ke.prototype[Se]=!0,ke.prototype.removeEventListener=function(m,w,T,k){_r(this,m,w,T,k)};function kt(m,w){var T,k=m.F;if(k)for(T=[];k;k=k.F)T.push(k);if(m=m.M,k=w.type||w,typeof w=="string")w=new ee(w,m);else if(w instanceof ee)w.target=w.target||m;else{var Y=w;w=new ee(k,m),L(w,Y)}if(Y=!0,T)for(var ne=T.length-1;0<=ne;ne--){var pe=w.g=T[ne];Y=Gt(pe,k,!0,w)&&Y}if(pe=w.g=m,Y=Gt(pe,k,!0,w)&&Y,Y=Gt(pe,k,!1,w)&&Y,T)for(ne=0;ne<T.length;ne++)pe=w.g=T[ne],Y=Gt(pe,k,!1,w)&&Y}ke.prototype.N=function(){if(ke.aa.N.call(this),this.i){var m=this.i,w;for(w in m.g){for(var T=m.g[w],k=0;k<T.length;k++)jn(T[k]);delete m.g[w],m.h--}}this.F=null},ke.prototype.K=function(m,w,T,k){return this.i.add(String(m),w,!1,T,k)},ke.prototype.L=function(m,w,T,k){return this.i.add(String(m),w,!0,T,k)};function Gt(m,w,T,k){if(w=m.i.g[String(w)],!w)return!0;w=w.concat();for(var Y=!0,ne=0;ne<w.length;++ne){var pe=w[ne];if(pe&&!pe.da&&pe.capture==T){var pt=pe.listener,hn=pe.ha||pe.src;pe.fa&&Pt(m.i,pe),Y=pt.call(hn,k)!==!1&&Y}}return Y&&!k.defaultPrevented}function Wt(m,w,T){if(typeof m=="function")T&&(m=_(m,T));else if(m&&typeof m.handleEvent=="function")m=_(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(w)?-1:d.setTimeout(m,w||0)}function yi(m){m.g=Wt(()=>{m.g=null,m.i&&(m.i=!1,yi(m))},m.l);const w=m.h;m.h=null,m.m.apply(null,w)}class Wa extends Z{constructor(w,T){super(),this.m=w,this.l=T,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:yi(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function xn(m){Z.call(this),this.h=m,this.g={}}C(xn,Z);var sr=[];function jt(m){H(m.g,function(w,T){this.g.hasOwnProperty(T)&&Rn(w)},m),m.g={}}xn.prototype.N=function(){xn.aa.N.call(this),jt(this)},xn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ae=d.JSON.stringify,fe=d.JSON.parse,ye=class{stringify(m){return d.JSON.stringify(m,void 0)}parse(m){return d.JSON.parse(m,void 0)}};function Ue(){}Ue.prototype.h=null;function De(m){return m.h||(m.h=m.i())}function Ke(){}var qe={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Qe(){ee.call(this,"d")}C(Qe,ee);function Xe(){ee.call(this,"c")}C(Xe,ee);var Ne={},ze=null;function rn(){return ze=ze||new ke}Ne.La="serverreachability";function wr(m){ee.call(this,Ne.La,m)}C(wr,ee);function Ft(m){const w=rn();kt(w,new wr(w))}Ne.STAT_EVENT="statevent";function xt(m,w){ee.call(this,Ne.STAT_EVENT,m),this.stat=w}C(xt,ee);function lt(m){const w=rn();kt(w,new xt(w,m))}Ne.Ma="timingevent";function Vn(m,w){ee.call(this,Ne.Ma,m),this.size=w}C(Vn,ee);function Dt(m,w){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){m()},w)}function sn(){this.g=!0}sn.prototype.xa=function(){this.g=!1};function xr(m,w,T,k,Y,ne){m.info(function(){if(m.g)if(ne)for(var pe="",pt=ne.split("&"),hn=0;hn<pt.length;hn++){var Ye=pt[hn].split("=");if(1<Ye.length){var Nn=Ye[0];Ye=Ye[1];var kn=Nn.split("_");pe=2<=kn.length&&kn[1]=="type"?pe+(Nn+"="+Ye+"&"):pe+(Nn+"=redacted&")}}else pe=null;else pe=ne;return"XMLHTTP REQ ("+k+") [attempt "+Y+"]: "+w+`
`+T+`
`+pe})}function En(m,w,T,k,Y,ne,pe){m.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+Y+"]: "+w+`
`+T+`
`+ne+" "+pe})}function fn(m,w,T,k){m.info(function(){return"XMLHTTP TEXT ("+w+"): "+he(m,T)+(k?" "+k:"")})}function Vr(m,w){m.info(function(){return"TIMEOUT: "+w})}sn.prototype.info=function(){};function he(m,w){if(!m.g)return w;if(!w)return null;try{var T=JSON.parse(w);if(T){for(m=0;m<T.length;m++)if(Array.isArray(T[m])){var k=T[m];if(!(2>k.length)){var Y=k[1];if(Array.isArray(Y)&&!(1>Y.length)){var ne=Y[0];if(ne!="noop"&&ne!="stop"&&ne!="close")for(var pe=1;pe<Y.length;pe++)Y[pe]=""}}}}return ae(T)}catch{return w}}var _e={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Le={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ct;function Er(){}C(Er,Ue),Er.prototype.g=function(){return new XMLHttpRequest},Er.prototype.i=function(){return{}},Ct=new Er;function ar(m,w,T,k){this.j=m,this.i=w,this.l=T,this.R=k||1,this.U=new xn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new bi}function bi(){this.i=null,this.g="",this.h=!1}var or={},Tr={};function Jr(m,w,T){m.L=1,m.v=Xa(Qt(w)),m.m=T,m.P=!0,Sr(m,null)}function Sr(m,w){m.F=Date.now(),lr(m),m.A=Qt(m.v);var T=m.A,k=m.R;Array.isArray(k)||(k=[String(k)]),is(T.i,"t",k),m.C=0,T=m.j.J,m.h=new bi,m.g=bf(m.j,T?w:null,!m.m),0<m.O&&(m.M=new Wa(_(m.Y,m,m.g),m.O)),w=m.U,T=m.g,k=m.ca;var Y="readystatechange";Array.isArray(Y)||(Y&&(sr[0]=Y.toString()),Y=sr);for(var ne=0;ne<Y.length;ne++){var pe=rr(T,Y[ne],k||w.handleEvent,!1,w.h||w);if(!pe)break;w.g[pe.key]=pe}w=m.H?S(m.H):{},m.m?(m.u||(m.u="POST"),w["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,w)):(m.u="GET",m.g.ea(m.A,m.u,null,w)),Ft(),xr(m.i,m.u,m.A,m.l,m.R,m.m)}ar.prototype.ca=function(m){m=m.target;const w=this.M;w&&dr(m)==3?w.j():this.Y(m)},ar.prototype.Y=function(m){try{if(m==this.g)e:{const kn=dr(this.g);var w=this.g.Ba();const Ks=this.g.Z();if(!(3>kn)&&(kn!=3||this.g&&(this.h.h||this.g.oa()||eo(this.g)))){this.J||kn!=4||w==7||(w==8||0>=Ks?Ft(3):Ft(2)),_i(this);var T=this.g.Z();this.X=T;t:if(ei(this)){var k=eo(this.g);m="";var Y=k.length,ne=dr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ur(this),wi(this);var pe="";break t}this.h.i=new d.TextDecoder}for(w=0;w<Y;w++)this.h.h=!0,m+=this.h.i.decode(k[w],{stream:!(ne&&w==Y-1)});k.length=0,this.h.g+=m,this.C=0,pe=this.h.g}else pe=this.g.oa();if(this.o=T==200,En(this.i,this.u,this.A,this.l,this.R,kn,T),this.o){if(this.T&&!this.K){t:{if(this.g){var pt,hn=this.g;if((pt=hn.g?hn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(pt)){var Ye=pt;break t}}Ye=null}if(T=Ye)fn(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Vi(this,T);else{this.o=!1,this.s=3,lt(12),ur(this),wi(this);break e}}if(this.P){T=!0;let Cr;for(;!this.J&&this.C<pe.length;)if(Cr=Mi(this,pe),Cr==Tr){kn==4&&(this.s=4,lt(14),T=!1),fn(this.i,this.l,null,"[Incomplete Response]");break}else if(Cr==or){this.s=4,lt(15),fn(this.i,this.l,pe,"[Invalid Chunk]"),T=!1;break}else fn(this.i,this.l,Cr,null),Vi(this,Cr);if(ei(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),kn!=4||pe.length!=0||this.h.h||(this.s=1,lt(16),T=!1),this.o=this.o&&T,!T)fn(this.i,this.l,pe,"[Invalid Chunked Response]"),ur(this),wi(this);else if(0<pe.length&&!this.W){this.W=!0;var Nn=this.j;Nn.g==this&&Nn.ba&&!Nn.M&&(Nn.j.info("Great, no buffering proxy detected. Bytes received: "+pe.length),zu(Nn),Nn.M=!0,lt(11))}}else fn(this.i,this.l,pe,null),Vi(this,pe);kn==4&&ur(this),this.o&&!this.J&&(kn==4?gf(this.j,this):(this.o=!1,lr(this)))}else cf(this.g),T==400&&0<pe.indexOf("Unknown SID")?(this.s=3,lt(12)):(this.s=0,lt(13)),ur(this),wi(this)}}}catch{}finally{}};function ei(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function Mi(m,w){var T=m.C,k=w.indexOf(`
`,T);return k==-1?Tr:(T=Number(w.substring(T,k)),isNaN(T)?or:(k+=1,k+T>w.length?Tr:(w=w.slice(k,k+T),m.C=k+T,w)))}ar.prototype.cancel=function(){this.J=!0,ur(this)};function lr(m){m.S=Date.now()+m.I,Ht(m,m.I)}function Ht(m,w){if(m.B!=null)throw Error("WatchDog timer not null");m.B=Dt(_(m.ba,m),w)}function _i(m){m.B&&(d.clearTimeout(m.B),m.B=null)}ar.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(Vr(this.i,this.A),this.L!=2&&(Ft(),lt(17)),ur(this),this.s=2,wi(this)):Ht(this,this.S-m)};function wi(m){m.j.G==0||m.J||gf(m.j,m)}function ur(m){_i(m);var w=m.M;w&&typeof w.ma=="function"&&w.ma(),m.M=null,jt(m.U),m.g&&(w=m.g,m.g=null,w.abort(),w.ma())}function Vi(m,w){try{var T=m.j;if(T.G!=0&&(T.g==m||Ms(T.h,m))){if(!m.K&&Ms(T.h,m)&&T.G==3){try{var k=T.Da.g.parse(w)}catch{k=null}if(Array.isArray(k)&&k.length==3){var Y=k;if(Y[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<m.F)Gs(T),qs(T);else break e;Uu(T),lt(18)}}else T.za=Y[1],0<T.za-T.T&&37500>Y[2]&&T.F&&T.v==0&&!T.C&&(T.C=Dt(_(T.Za,T),6e3));if(1>=rf(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else as(T,11)}else if((m.K||T.g==m)&&Gs(T),!M(w))for(Y=T.Da.g.parse(w),w=0;w<Y.length;w++){let Ye=Y[w];if(T.T=Ye[0],Ye=Ye[1],T.G==2)if(Ye[0]=="c"){T.K=Ye[1],T.ia=Ye[2];const Nn=Ye[3];Nn!=null&&(T.la=Nn,T.j.info("VER="+T.la));const kn=Ye[4];kn!=null&&(T.Aa=kn,T.j.info("SVER="+T.Aa));const Ks=Ye[5];Ks!=null&&typeof Ks=="number"&&0<Ks&&(k=1.5*Ks,T.L=k,T.j.info("backChannelRequestTimeoutMs_="+k)),k=T;const Cr=m.g;if(Cr){const ro=Cr.g?Cr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ro){var ne=k.h;ne.g||ro.indexOf("spdy")==-1&&ro.indexOf("quic")==-1&&ro.indexOf("h2")==-1||(ne.j=ne.l,ne.g=new Set,ne.h&&(Vs(ne,ne.h),ne.h=null))}if(k.D){const os=Cr.g?Cr.g.getResponseHeader("X-HTTP-Session-Id"):null;os&&(k.ya=os,ut(k.I,k.D,os))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-m.F,T.j.info("Handshake RTT: "+T.R+"ms")),k=T;var pe=m;if(k.qa=yf(k,k.J?k.ia:null,k.W),pe.K){ti(k.h,pe);var pt=pe,hn=k.L;hn&&(pt.I=hn),pt.B&&(_i(pt),lr(pt)),k.g=pe}else mf(k);0<T.i.length&&rl(T)}else Ye[0]!="stop"&&Ye[0]!="close"||as(T,7);else T.G==3&&(Ye[0]=="stop"||Ye[0]=="close"?Ye[0]=="stop"?as(T,7):Vu(T):Ye[0]!="noop"&&T.l&&T.l.ta(Ye),T.v=0)}}Ft(4)}catch{}}var eg=class{constructor(m,w){this.g=m,this.map=w}};function Nu(m){this.l=m||10,d.PerformanceNavigationTiming?(m=d.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ku(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function rf(m){return m.h?1:m.g?m.g.size:0}function Ms(m,w){return m.h?m.h==w:m.g?m.g.has(w):!1}function Vs(m,w){m.g?m.g.add(w):m.h=w}function ti(m,w){m.h&&m.h==w?m.h=null:m.g&&m.g.has(w)&&m.g.delete(w)}Nu.prototype.cancel=function(){if(this.i=cr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function cr(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let w=m.i;for(const T of m.g.values())w=w.concat(T.D);return w}return N(m.i)}function sf(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(f(m)){for(var w=[],T=m.length,k=0;k<T;k++)w.push(m[k]);return w}w=[],T=0;for(k in m)w[T++]=m[k];return w}function tg(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(f(m)||typeof m=="string"){var w=[];m=m.length;for(var T=0;T<m;T++)w.push(T);return w}w=[],T=0;for(const k in m)w[T++]=k;return w}}}function Qo(m,w){if(m.forEach&&typeof m.forEach=="function")m.forEach(w,void 0);else if(f(m)||typeof m=="string")Array.prototype.forEach.call(m,w,void 0);else for(var T=tg(m),k=sf(m),Y=k.length,ne=0;ne<Y;ne++)w.call(void 0,k[ne],T&&T[ne],m)}var Du=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Xo(m,w){if(m){m=m.split("&");for(var T=0;T<m.length;T++){var k=m[T].indexOf("="),Y=null;if(0<=k){var ne=m[T].substring(0,k);Y=m[T].substring(k+1)}else ne=m[T];w(ne,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function rs(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof rs){this.h=m.h,Ls(this,m.j),this.o=m.o,this.g=m.g,Qa(this,m.s),this.l=m.l;var w=m.i,T=new Li;T.i=w.i,w.g&&(T.g=new Map(w.g),T.h=w.h),Zo(this,T),this.m=m.m}else m&&(w=String(m).match(Du))?(this.h=!1,Ls(this,w[1]||"",!0),this.o=Us(w[2]||""),this.g=Us(w[3]||"",!0),Qa(this,w[4]),this.l=Us(w[5]||"",!0),Zo(this,w[6]||"",!0),this.m=Us(w[7]||"")):(this.h=!1,this.i=new Li(null,this.h))}rs.prototype.toString=function(){var m=[],w=this.j;w&&m.push(ni(w,Ou,!0),":");var T=this.g;return(T||w=="file")&&(m.push("//"),(w=this.o)&&m.push(ni(w,Ou,!0),"@"),m.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&m.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&m.push("/"),m.push(ni(T,T.charAt(0)=="/"?Pu:af,!0))),(T=this.i.toString())&&m.push("?",T),(T=this.m)&&m.push("#",ni(T,ig)),m.join("")};function Qt(m){return new rs(m)}function Ls(m,w,T){m.j=T?Us(w,!0):w,m.j&&(m.j=m.j.replace(/:$/,""))}function Qa(m,w){if(w){if(w=Number(w),isNaN(w)||0>w)throw Error("Bad port number "+w);m.s=w}else m.s=null}function Zo(m,w,T){w instanceof Li?(m.i=w,of(m.i,m.h)):(T||(w=ni(w,rg)),m.i=new Li(w,m.h))}function ut(m,w,T){m.i.set(w,T)}function Xa(m){return ut(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function Us(m,w){return m?w?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function ni(m,w,T){return typeof m=="string"?(m=encodeURI(m).replace(w,ng),T&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function ng(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var Ou=/[#\/\?@]/g,af=/[#\?:]/g,Pu=/[#\?]/g,rg=/[#\?@]/g,ig=/#/g;function Li(m,w){this.h=this.g=null,this.i=m||null,this.j=!!w}function In(m){m.g||(m.g=new Map,m.h=0,m.i&&Xo(m.i,function(w,T){m.add(decodeURIComponent(w.replace(/\+/g," ")),T)}))}t=Li.prototype,t.add=function(m,w){In(this),this.i=null,m=Lr(this,m);var T=this.g.get(m);return T||this.g.set(m,T=[]),T.push(w),this.h+=1,this};function Jo(m,w){In(m),w=Lr(m,w),m.g.has(w)&&(m.i=null,m.h-=m.g.get(w).length,m.g.delete(w))}function el(m,w){return In(m),w=Lr(m,w),m.g.has(w)}t.forEach=function(m,w){In(this),this.g.forEach(function(T,k){T.forEach(function(Y){m.call(w,Y,k,this)},this)},this)},t.na=function(){In(this);const m=Array.from(this.g.values()),w=Array.from(this.g.keys()),T=[];for(let k=0;k<w.length;k++){const Y=m[k];for(let ne=0;ne<Y.length;ne++)T.push(w[k])}return T},t.V=function(m){In(this);let w=[];if(typeof m=="string")el(this,m)&&(w=w.concat(this.g.get(Lr(this,m))));else{m=Array.from(this.g.values());for(let T=0;T<m.length;T++)w=w.concat(m[T])}return w},t.set=function(m,w){return In(this),this.i=null,m=Lr(this,m),el(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[w]),this.h+=1,this},t.get=function(m,w){return m?(m=this.V(m),0<m.length?String(m[0]):w):w};function is(m,w,T){Jo(m,w),0<T.length&&(m.i=null,m.g.set(Lr(m,w),N(T)),m.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],w=Array.from(this.g.keys());for(var T=0;T<w.length;T++){var k=w[T];const ne=encodeURIComponent(String(k)),pe=this.V(k);for(k=0;k<pe.length;k++){var Y=ne;pe[k]!==""&&(Y+="="+encodeURIComponent(String(pe[k]))),m.push(Y)}}return this.i=m.join("&")};function Lr(m,w){return w=String(w),m.j&&(w=w.toLowerCase()),w}function of(m,w){w&&!m.j&&(In(m),m.i=null,m.g.forEach(function(T,k){var Y=k.toLowerCase();k!=Y&&(Jo(this,k),is(this,Y,T))},m)),m.j=w}function ju(m,w){const T=new sn;if(d.Image){const k=new Image;k.onload=E(Ar,T,"TestLoadImage: loaded",!0,w,k),k.onerror=E(Ar,T,"TestLoadImage: error",!1,w,k),k.onabort=E(Ar,T,"TestLoadImage: abort",!1,w,k),k.ontimeout=E(Ar,T,"TestLoadImage: timeout",!1,w,k),d.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=m}else w(!1)}function lf(m,w){const T=new sn,k=new AbortController,Y=setTimeout(()=>{k.abort(),Ar(T,"TestPingServer: timeout",!1,w)},1e4);fetch(m,{signal:k.signal}).then(ne=>{clearTimeout(Y),ne.ok?Ar(T,"TestPingServer: ok",!0,w):Ar(T,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(Y),Ar(T,"TestPingServer: error",!1,w)})}function Ar(m,w,T,k,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),k(T)}catch{}}function xi(){this.g=new ye}function Mu(m,w,T){const k=T||"";try{Qo(m,function(Y,ne){let pe=Y;h(Y)&&(pe=ae(Y)),w.push(k+ne+"="+encodeURIComponent(pe))})}catch(Y){throw w.push(k+"type="+encodeURIComponent("_badmap")),Y}}function Ui(m){this.l=m.Ub||null,this.j=m.eb||!1}C(Ui,Ue),Ui.prototype.g=function(){return new Ur(this.l,this.j)},Ui.prototype.i=(function(m){return function(){return m}})({});function Ur(m,w){ke.call(this),this.D=m,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(Ur,ke),t=Ur.prototype,t.open=function(m,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=w,this.readyState=1,zs(this)},t.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const w={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(w.body=m),(this.D||d).fetch(new Request(this.A,w)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,zi(this)),this.readyState=0},t.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,zs(this)),this.g&&(this.readyState=3,zs(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;tl(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function tl(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}t.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var w=m.value?m.value:new Uint8Array(0);(w=this.v.decode(w,{stream:!m.done}))&&(this.response=this.responseText+=w)}m.done?zi(this):zs(this),this.readyState==3&&tl(this)}},t.Ra=function(m){this.g&&(this.response=this.responseText=m,zi(this))},t.Qa=function(m){this.g&&(this.response=m,zi(this))},t.ga=function(){this.g&&zi(this)};function zi(m){m.readyState=4,m.l=null,m.j=null,m.v=null,zs(m)}t.setRequestHeader=function(m,w){this.u.append(m,w)},t.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],w=this.h.entries();for(var T=w.next();!T.done;)T=T.value,m.push(T[0]+": "+T[1]),T=w.next();return m.join(`\r
`)};function zs(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(Ur.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function Za(m){let w="";return H(m,function(T,k){w+=k,w+=":",w+=T,w+=`\r
`}),w}function Bs(m,w,T){e:{for(k in T){var k=!1;break e}k=!0}k||(T=Za(T),typeof m=="string"?T!=null&&encodeURIComponent(String(T)):ut(m,w,T))}function Mt(m){ke.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(Mt,ke);var Kn=/^https?$/i,ss=["POST","PUT"];t=Mt.prototype,t.Ha=function(m){this.J=m},t.ea=function(m,w,T,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);w=w?w.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ct.g(),this.v=this.o?De(this.o):De(Ct),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(w,String(m),!0),this.B=!1}catch(ne){Ja(this,ne);return}if(m=T||"",T=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var Y in k)T.set(Y,k[Y]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const ne of k.keys())T.set(ne,k.get(ne));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(T.keys()).find(ne=>ne.toLowerCase()=="content-type"),Y=d.FormData&&m instanceof d.FormData,!(0<=Array.prototype.indexOf.call(ss,w,void 0))||k||Y||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ne,pe]of T)this.g.setRequestHeader(ne,pe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{nl(this),this.u=!0,this.g.send(m),this.u=!1}catch(ne){Ja(this,ne)}};function Ja(m,w){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=w,m.m=5,Fs(m),Hs(m)}function Fs(m){m.A||(m.A=!0,kt(m,"complete"),kt(m,"error"))}t.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,kt(this,"complete"),kt(this,"abort"),Hs(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Hs(this,!0)),Mt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?uf(this):this.bb())},t.bb=function(){uf(this)};function uf(m){if(m.h&&typeof u<"u"&&(!m.v[1]||dr(m)!=4||m.Z()!=2)){if(m.u&&dr(m)==4)Wt(m.Ea,0,m);else if(kt(m,"readystatechange"),dr(m)==4){m.h=!1;try{const pe=m.Z();e:switch(pe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var T;if(!(T=w)){var k;if(k=pe===0){var Y=String(m.D).match(Du)[1]||null;!Y&&d.self&&d.self.location&&(Y=d.self.location.protocol.slice(0,-1)),k=!Kn.test(Y?Y.toLowerCase():"")}T=k}if(T)kt(m,"complete"),kt(m,"success");else{m.m=6;try{var ne=2<dr(m)?m.g.statusText:""}catch{ne=""}m.l=ne+" ["+m.Z()+"]",Fs(m)}}finally{Hs(m)}}}}function Hs(m,w){if(m.g){nl(m);const T=m.g,k=m.v[0]?()=>{}:null;m.g=null,m.v=null,w||kt(m,"ready");try{T.onreadystatechange=k}catch{}}}function nl(m){m.I&&(d.clearTimeout(m.I),m.I=null)}t.isActive=function(){return!!this.g};function dr(m){return m.g?m.g.readyState:0}t.Z=function(){try{return 2<dr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(m){if(this.g){var w=this.g.responseText;return m&&w.indexOf(m)==0&&(w=w.substring(m.length)),fe(w)}};function eo(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function cf(m){const w={};m=(m.g&&2<=dr(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<m.length;k++){if(M(m[k]))continue;var T=V(m[k]);const Y=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const ne=w[Y]||[];w[Y]=ne,ne.push(T)}A(w,function(k){return k.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function to(m,w,T){return T&&T.internalChannelParams&&T.internalChannelParams[m]||w}function df(m){this.Aa=0,this.i=[],this.j=new sn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=to("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=to("baseRetryDelayMs",5e3,m),this.cb=to("retryDelaySeedMs",1e4,m),this.Wa=to("forwardChannelMaxRetries",2,m),this.wa=to("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new Nu(m&&m.concurrentRequestLimit),this.Da=new xi,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=df.prototype,t.la=8,t.G=1,t.connect=function(m,w,T,k){lt(0),this.W=m,this.H=w||{},T&&k!==void 0&&(this.H.OSID=T,this.H.OAID=k),this.F=this.X,this.I=yf(this,null,this.W),rl(this)};function Vu(m){if(ff(m),m.G==3){var w=m.U++,T=Qt(m.I);if(ut(T,"SID",m.K),ut(T,"RID",w),ut(T,"TYPE","terminate"),no(m,T),w=new ar(m,m.j,w),w.L=2,w.v=Xa(Qt(T)),T=!1,d.navigator&&d.navigator.sendBeacon)try{T=d.navigator.sendBeacon(w.v.toString(),"")}catch{}!T&&d.Image&&(new Image().src=w.v,T=!0),T||(w.g=bf(w.j,null),w.g.ea(w.v)),w.F=Date.now(),lr(w)}Bu(m)}function qs(m){m.g&&(zu(m),m.g.cancel(),m.g=null)}function ff(m){qs(m),m.u&&(d.clearTimeout(m.u),m.u=null),Gs(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&d.clearTimeout(m.s),m.s=null)}function rl(m){if(!ku(m.h)&&!m.s){m.s=!0;var w=m.Ga;se||Ee(),de||(se(),de=!0),xe.add(w,m),m.B=0}}function sg(m,w){return rf(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=w.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=Dt(_(m.Ga,m,w),vf(m,m.B)),m.B++,!0)}t.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const Y=new ar(this,this.j,m);let ne=this.o;if(this.S&&(ne?(ne=S(ne),L(ne,this.S)):ne=this.S),this.m!==null||this.O||(Y.H=ne,ne=null),this.P)e:{for(var w=0,T=0;T<this.i.length;T++){t:{var k=this.i[T];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break t}k=void 0}if(k===void 0)break;if(w+=k,4096<w){w=T;break e}if(w===4096||T===this.i.length-1){w=T+1;break e}}w=1e3}else w=1e3;w=Lu(this,Y,w),T=Qt(this.I),ut(T,"RID",m),ut(T,"CVER",22),this.D&&ut(T,"X-HTTP-Session-Id",this.D),no(this,T),ne&&(this.O?w="headers="+encodeURIComponent(String(Za(ne)))+"&"+w:this.m&&Bs(T,this.m,ne)),Vs(this.h,Y),this.Ua&&ut(T,"TYPE","init"),this.P?(ut(T,"$req",w),ut(T,"SID","null"),Y.T=!0,Jr(Y,T,null)):Jr(Y,T,w),this.G=2}}else this.G==3&&(m?hf(this,m):this.i.length==0||ku(this.h)||hf(this))};function hf(m,w){var T;w?T=w.l:T=m.U++;const k=Qt(m.I);ut(k,"SID",m.K),ut(k,"RID",T),ut(k,"AID",m.T),no(m,k),m.m&&m.o&&Bs(k,m.m,m.o),T=new ar(m,m.j,T,m.B+1),m.m===null&&(T.H=m.o),w&&(m.i=w.D.concat(m.i)),w=Lu(m,T,1e3),T.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),Vs(m.h,T),Jr(T,k,w)}function no(m,w){m.H&&H(m.H,function(T,k){ut(w,k,T)}),m.l&&Qo({},function(T,k){ut(w,k,T)})}function Lu(m,w,T){T=Math.min(m.i.length,T);var k=m.l?_(m.l.Na,m.l,m):null;e:{var Y=m.i;let ne=-1;for(;;){const pe=["count="+T];ne==-1?0<T?(ne=Y[0].g,pe.push("ofs="+ne)):ne=0:pe.push("ofs="+ne);let pt=!0;for(let hn=0;hn<T;hn++){let Ye=Y[hn].g;const Nn=Y[hn].map;if(Ye-=ne,0>Ye)ne=Math.max(0,Y[hn].g-100),pt=!1;else try{Mu(Nn,pe,"req"+Ye+"_")}catch{k&&k(Nn)}}if(pt){k=pe.join("&");break e}}}return m=m.i.splice(0,T),w.D=m,k}function mf(m){if(!m.g&&!m.u){m.Y=1;var w=m.Fa;se||Ee(),de||(se(),de=!0),xe.add(w,m),m.v=0}}function Uu(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=Dt(_(m.Fa,m),vf(m,m.v)),m.v++,!0)}t.Fa=function(){if(this.u=null,pf(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=Dt(_(this.ab,this),m)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,lt(10),qs(this),pf(this))};function zu(m){m.A!=null&&(d.clearTimeout(m.A),m.A=null)}function pf(m){m.g=new ar(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var w=Qt(m.qa);ut(w,"RID","rpc"),ut(w,"SID",m.K),ut(w,"AID",m.T),ut(w,"CI",m.F?"0":"1"),!m.F&&m.ja&&ut(w,"TO",m.ja),ut(w,"TYPE","xmlhttp"),no(m,w),m.m&&m.o&&Bs(w,m.m,m.o),m.L&&(m.g.I=m.L);var T=m.g;m=m.ia,T.L=1,T.v=Xa(Qt(w)),T.m=null,T.P=!0,Sr(T,m)}t.Za=function(){this.C!=null&&(this.C=null,qs(this),Uu(this),lt(19))};function Gs(m){m.C!=null&&(d.clearTimeout(m.C),m.C=null)}function gf(m,w){var T=null;if(m.g==w){Gs(m),zu(m),m.g=null;var k=2}else if(Ms(m.h,w))T=w.D,ti(m.h,w),k=1;else return;if(m.G!=0){if(w.o)if(k==1){T=w.m?w.m.length:0,w=Date.now()-w.F;var Y=m.B;k=rn(),kt(k,new Vn(k,T)),rl(m)}else mf(m);else if(Y=w.s,Y==3||Y==0&&0<w.X||!(k==1&&sg(m,w)||k==2&&Uu(m)))switch(T&&0<T.length&&(w=m.h,w.i=w.i.concat(T)),Y){case 1:as(m,5);break;case 4:as(m,10);break;case 3:as(m,6);break;default:as(m,2)}}}function vf(m,w){let T=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(T*=2),T*w}function as(m,w){if(m.j.info("Error code "+w),w==2){var T=_(m.fb,m),k=m.Xa;const Y=!k;k=new rs(k||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ls(k,"https"),Xa(k),Y?ju(k.toString(),T):lf(k.toString(),T)}else lt(2);m.G=0,m.l&&m.l.sa(w),Bu(m),ff(m)}t.fb=function(m){m?(this.j.info("Successfully pinged google.com"),lt(2)):(this.j.info("Failed to ping google.com"),lt(1))};function Bu(m){if(m.G=0,m.ka=[],m.l){const w=cr(m.h);(w.length!=0||m.i.length!=0)&&(D(m.ka,w),D(m.ka,m.i),m.h.i.length=0,N(m.i),m.i.length=0),m.l.ra()}}function yf(m,w,T){var k=T instanceof rs?Qt(T):new rs(T);if(k.g!="")w&&(k.g=w+"."+k.g),Qa(k,k.s);else{var Y=d.location;k=Y.protocol,w=w?w+"."+Y.hostname:Y.hostname,Y=+Y.port;var ne=new rs(null);k&&Ls(ne,k),w&&(ne.g=w),Y&&Qa(ne,Y),T&&(ne.l=T),k=ne}return T=m.D,w=m.ya,T&&w&&ut(k,T,w),ut(k,"VER",m.la),no(m,k),k}function bf(m,w,T){if(w&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return w=m.Ca&&!m.pa?new Mt(new Ui({eb:T})):new Mt(m.pa),w.Ha(m.J),w}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function _f(){}t=_f.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function il(){}il.prototype.g=function(m,w){return new fr(m,w)};function fr(m,w){ke.call(this),this.g=new df(w),this.l=m,this.h=w&&w.messageUrlParams||null,m=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(m?m["X-WebChannel-Content-Type"]=w.messageContentType:m={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.va&&(m?m["X-WebChannel-Client-Profile"]=w.va:m={"X-WebChannel-Client-Profile":w.va}),this.g.S=m,(m=w&&w.Sb)&&!M(m)&&(this.g.m=m),this.v=w&&w.supportsCrossDomainXhr||!1,this.u=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!M(w)&&(this.g.D=w,m=this.h,m!==null&&w in m&&(m=this.h,w in m&&delete m[w])),this.j=new $s(this)}C(fr,ke),fr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},fr.prototype.close=function(){Vu(this.g)},fr.prototype.o=function(m){var w=this.g;if(typeof m=="string"){var T={};T.__data__=m,m=T}else this.u&&(T={},T.__data__=ae(m),m=T);w.i.push(new eg(w.Ya++,m)),w.G==3&&rl(w)},fr.prototype.N=function(){this.g.l=null,delete this.j,Vu(this.g),delete this.g,fr.aa.N.call(this)};function wf(m){Qe.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var w=m.__sm__;if(w){e:{for(const T in w){m=T;break e}m=void 0}(this.i=m)&&(m=this.i,w=w!==null&&m in w?w[m]:void 0),this.data=w}else this.data=m}C(wf,Qe);function xf(){Xe.call(this),this.status=1}C(xf,Xe);function $s(m){this.g=m}C($s,_f),$s.prototype.ua=function(){kt(this.g,"a")},$s.prototype.ta=function(m){kt(this.g,new wf(m))},$s.prototype.sa=function(m){kt(this.g,new xf)},$s.prototype.ra=function(){kt(this.g,"b")},il.prototype.createWebChannel=il.prototype.g,fr.prototype.send=fr.prototype.o,fr.prototype.open=fr.prototype.m,fr.prototype.close=fr.prototype.close,vC=function(){return new il},gC=function(){return rn()},pC=Ne,Xy={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},_e.NO_ERROR=0,_e.TIMEOUT=8,_e.HTTP_ERROR=6,lm=_e,Le.COMPLETE="complete",mC=Le,Ke.EventType=qe,qe.OPEN="a",qe.CLOSE="b",qe.ERROR="c",qe.MESSAGE="d",ke.prototype.listen=ke.prototype.K,jc=Ke,Mt.prototype.listenOnce=Mt.prototype.L,Mt.prototype.getLastError=Mt.prototype.Ka,Mt.prototype.getLastErrorCode=Mt.prototype.Ba,Mt.prototype.getStatus=Mt.prototype.Z,Mt.prototype.getResponseJson=Mt.prototype.Oa,Mt.prototype.getResponseText=Mt.prototype.oa,Mt.prototype.send=Mt.prototype.ea,Mt.prototype.setWithCredentials=Mt.prototype.Ha,hC=Mt}).apply(typeof Ch<"u"?Ch:typeof self<"u"?self:typeof window<"u"?window:{});const Z1="@firebase/firestore",J1="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Jn.UNAUTHENTICATED=new Jn(null),Jn.GOOGLE_CREDENTIALS=new Jn("google-credentials-uid"),Jn.FIRST_PARTY=new Jn("first-party-uid"),Jn.MOCK_USER=new Jn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _u="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bo=new eb("@firebase/firestore");function Ll(){return Bo.logLevel}function we(t,...e){if(Bo.logLevel<=rt.DEBUG){const n=e.map(hb);Bo.debug(`Firestore (${_u}): ${t}`,...n)}}function Ds(t,...e){if(Bo.logLevel<=rt.ERROR){const n=e.map(hb);Bo.error(`Firestore (${_u}): ${t}`,...n)}}function Oa(t,...e){if(Bo.logLevel<=rt.WARN){const n=e.map(hb);Bo.warn(`Firestore (${_u}): ${t}`,...n)}}function hb(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ve(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,yC(t,r,n)}function yC(t,e,n){let r=`FIRESTORE (${_u}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Ds(r),new Error(r)}function vt(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||yC(e,s,r)}function He(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ue={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class be extends ji{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class kM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Jn.UNAUTHENTICATED)))}shutdown(){}}class DM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class OM{constructor(e){this.t=e,this.currentUser=Jn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){vt(this.o===void 0,42304);let r=this.i;const s=f=>this.i!==r?(r=this.i,n(f)):Promise.resolve();let o=new Na;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Na,e.enqueueRetryable((()=>s(this.currentUser)))};const u=()=>{const f=o;e.enqueueRetryable((async()=>{await f.promise,await s(this.currentUser)}))},d=f=>{we("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((f=>d(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?d(f):(we("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Na)}}),0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(we("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(vt(typeof r.accessToken=="string",31837,{l:r}),new bC(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return vt(e===null||typeof e=="string",2055,{h:e}),new Jn(e)}}class PM{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Jn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class jM{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new PM(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Jn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class eT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class MM{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,gr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){vt(this.o===void 0,3512);const r=o=>{o.error!=null&&we("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.m;return this.m=o.token,we("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>r(o)))};const s=o=>{we("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>s(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?s(o):we("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new eT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(vt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new eT(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VM(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _C(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mb{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=VM(40);for(let o=0;o<s.length;++o)r.length<20&&s[o]<n&&(r+=e.charAt(s[o]%62))}return r}}function We(t,e){return t<e?-1:t>e?1:0}function Zy(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),s=e.codePointAt(n);if(r!==s){if(r<128&&s<128)return We(r,s);{const o=_C(),u=LM(o.encode(tT(t,n)),o.encode(tT(e,n)));return u!==0?u:We(r,s)}}n+=r>65535?2:1}return We(t.length,e.length)}function tT(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function LM(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return We(t[n],e[n]);return We(t.length,e.length)}function su(t,e,n){return t.length===e.length&&t.every(((r,s)=>n(r,e[s])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nT="__name__";class Ki{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ve(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ve(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ki.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ki?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const o=Ki.compareSegments(e.get(s),n.get(s));if(o!==0)return o}return We(e.length,n.length)}static compareSegments(e,n){const r=Ki.isNumericId(e),s=Ki.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Ki.extractNumericId(e).compare(Ki.extractNumericId(n)):Zy(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ia.fromString(e.substring(4,e.length-2))}}class Ot extends Ki{construct(e,n,r){return new Ot(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new be(ue.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((s=>s.length>0)))}return new Ot(n)}static emptyPath(){return new Ot([])}}const UM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Gn extends Ki{construct(e,n,r){return new Gn(e,n,r)}static isValidIdentifier(e){return UM.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Gn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===nT}static keyField(){return new Gn([nT])}static fromServerFormat(e){const n=[];let r="",s=0;const o=()=>{if(r.length===0)throw new be(ue.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let u=!1;for(;s<e.length;){const d=e[s];if(d==="\\"){if(s+1===e.length)throw new be(ue.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[s+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new be(ue.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,s+=2}else d==="`"?(u=!u,s++):d!=="."||u?(r+=d,s++):(o(),s++)}if(o(),u)throw new be(ue.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Gn(n)}static emptyPath(){return new Gn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e){this.path=e}static fromPath(e){return new Ie(Ot.fromString(e))}static fromName(e){return new Ie(Ot.fromString(e).popFirst(5))}static empty(){return new Ie(Ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ot.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ot.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ie(new Ot(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wC(t,e,n){if(!n)throw new be(ue.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function zM(t,e,n,r){if(e===!0&&r===!0)throw new be(ue.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function rT(t){if(!Ie.isDocumentKey(t))throw new be(ue.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function iT(t){if(Ie.isDocumentKey(t))throw new be(ue.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function xC(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function wp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ve(12329,{type:typeof t})}function Wi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new be(ue.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=wp(t);throw new be(ue.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _n(t,e){const n={typeString:t};return e&&(n.value=e),n}function Bd(t,e){if(!xC(t))throw new be(ue.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const u=t[r];if(s&&typeof u!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(o!==void 0&&u!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new be(ue.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sT=-62135596800,aT=1e6;class zt{static now(){return zt.fromMillis(Date.now())}static fromDate(e){return zt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*aT);return new zt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new be(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new be(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<sT)throw new be(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new be(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/aT}_compareTo(e){return this.seconds===e.seconds?We(this.nanoseconds,e.nanoseconds):We(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:zt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Bd(e,zt._jsonSchema))return new zt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-sT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}zt._jsonSchemaVersion="firestore/timestamp/1.0",zt._jsonSchema={type:_n("string",zt._jsonSchemaVersion),seconds:_n("number"),nanoseconds:_n("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{static fromTimestamp(e){return new Be(e)}static min(){return new Be(new zt(0,0))}static max(){return new Be(new zt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yd=-1;function BM(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Be.fromTimestamp(r===1e9?new zt(n+1,0):new zt(n,r));return new Pa(s,Ie.empty(),e)}function FM(t){return new Pa(t.readTime,t.key,yd)}class Pa{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Pa(Be.min(),Ie.empty(),yd)}static max(){return new Pa(Be.max(),Ie.empty(),yd)}}function HM(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ie.comparator(t.documentKey,e.documentKey),n!==0?n:We(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class GM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wu(t){if(t.code!==ue.FAILED_PRECONDITION||t.message!==qM)throw t;we("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ve(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ce(((r,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,s)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,s)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ce?n:ce.resolve(n)}catch(n){return ce.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ce.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ce.reject(n)}static resolve(e){return new ce(((n,r)=>{n(e)}))}static reject(e){return new ce(((n,r)=>{r(e)}))}static waitFor(e){return new ce(((n,r)=>{let s=0,o=0,u=!1;e.forEach((d=>{++s,d.next((()=>{++o,u&&o===s&&n()}),(f=>r(f)))})),u=!0,o===s&&n()}))}static or(e){let n=ce.resolve(!1);for(const r of e)n=n.next((s=>s?ce.resolve(s):r()));return n}static forEach(e,n){const r=[];return e.forEach(((s,o)=>{r.push(n.call(this,s,o))})),this.waitFor(r)}static mapArray(e,n){return new ce(((r,s)=>{const o=e.length,u=new Array(o);let d=0;for(let f=0;f<o;f++){const h=f;n(e[h]).next((g=>{u[h]=g,++d,d===o&&r(u)}),(g=>s(g)))}}))}static doWhile(e,n){return new ce(((r,s)=>{const o=()=>{e()===!0?n().next((()=>{o()}),s):r()};o()}))}}function $M(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function xu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this._e(r),this.ae=r=>n.writeSequenceNumber(r))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}xp.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pb=-1;function Ep(t){return t==null}function Dm(t){return t===0&&1/t==-1/0}function KM(t){return typeof t=="number"&&Number.isInteger(t)&&!Dm(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EC="";function YM(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=oT(e)),e=WM(t.get(n),e);return oT(e)}function WM(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const o=t.charAt(s);switch(o){case"\0":n+="";break;case EC:n+="";break;default:n+=o}}return n}function oT(t){return t+EC+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ga(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function TC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e,n){this.comparator=e,this.root=n||qn.EMPTY}insert(e,n){return new Yt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,qn.BLACK,null,null))}remove(e){return new Yt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,qn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Rh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Rh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Rh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Rh(this.root,e,this.comparator,!0)}}class Rh{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class qn{constructor(e,n,r,s,o){this.key=e,this.value=n,this.color=r??qn.RED,this.left=s??qn.EMPTY,this.right=o??qn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,o){return new qn(e??this.key,n??this.value,r??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const o=r(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,n,r),null):o===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return qn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return qn.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,qn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,qn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ve(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ve(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ve(27949);return e+(this.isRed()?0:1)}}qn.EMPTY=null,qn.RED=!0,qn.BLACK=!1;qn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ve(57766)}get value(){throw Ve(16141)}get color(){throw Ve(16727)}get left(){throw Ve(29726)}get right(){throw Ve(36894)}copy(e,n,r,s,o){return this}insert(e,n,r){return new qn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e){this.comparator=e,this.data=new Yt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new uT(this.data.getIterator())}getIteratorFrom(e){return new uT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof An)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=r.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new An(this.comparator);return n.data=e,n}}class uT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(e){this.fields=e,e.sort(Gn.comparator)}static empty(){return new Kr([])}unionWith(e){let n=new An(Gn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Kr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return su(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new SC("Invalid base64 string: "+o):o}})(e);return new $n(n)}static fromUint8Array(e){const n=(function(s){let o="";for(let u=0;u<s.length;++u)o+=String.fromCharCode(s[u]);return o})(e);return new $n(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return We(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}$n.EMPTY_BYTE_STRING=new $n("");const QM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ja(t){if(vt(!!t,39018),typeof t=="string"){let e=0;const n=QM.exec(t);if(vt(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:un(t.seconds),nanos:un(t.nanos)}}function un(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ma(t){return typeof t=="string"?$n.fromBase64String(t):$n.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AC="server_timestamp",CC="__type__",RC="__previous_value__",IC="__local_write_time__";function gb(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[CC])===null||n===void 0?void 0:n.stringValue)===AC}function Tp(t){const e=t.mapValue.fields[RC];return gb(e)?Tp(e):e}function bd(t){const e=ja(t.mapValue.fields[IC].timestampValue);return new zt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XM{constructor(e,n,r,s,o,u,d,f,h,g){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=d,this.longPollingOptions=f,this.useFetchStreams=h,this.isUsingEmulator=g}}const Om="(default)";class _d{constructor(e,n){this.projectId=e,this.database=n||Om}static empty(){return new _d("","")}get isDefaultDatabase(){return this.database===Om}isEqual(e){return e instanceof _d&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NC="__type__",ZM="__max__",Ih={mapValue:{}},kC="__vector__",Pm="value";function Va(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?gb(t)?4:eV(t)?9007199254740991:JM(t)?10:11:Ve(28295,{value:t})}function ns(t,e){if(t===e)return!0;const n=Va(t);if(n!==Va(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return bd(t).isEqual(bd(e));case 3:return(function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const u=ja(s.timestampValue),d=ja(o.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(s,o){return Ma(s.bytesValue).isEqual(Ma(o.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(s,o){return un(s.geoPointValue.latitude)===un(o.geoPointValue.latitude)&&un(s.geoPointValue.longitude)===un(o.geoPointValue.longitude)})(t,e);case 2:return(function(s,o){if("integerValue"in s&&"integerValue"in o)return un(s.integerValue)===un(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const u=un(s.doubleValue),d=un(o.doubleValue);return u===d?Dm(u)===Dm(d):isNaN(u)&&isNaN(d)}return!1})(t,e);case 9:return su(t.arrayValue.values||[],e.arrayValue.values||[],ns);case 10:case 11:return(function(s,o){const u=s.mapValue.fields||{},d=o.mapValue.fields||{};if(lT(u)!==lT(d))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(d[f]===void 0||!ns(u[f],d[f])))return!1;return!0})(t,e);default:return Ve(52216,{left:t})}}function wd(t,e){return(t.values||[]).find((n=>ns(n,e)))!==void 0}function au(t,e){if(t===e)return 0;const n=Va(t),r=Va(e);if(n!==r)return We(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return We(t.booleanValue,e.booleanValue);case 2:return(function(o,u){const d=un(o.integerValue||o.doubleValue),f=un(u.integerValue||u.doubleValue);return d<f?-1:d>f?1:d===f?0:isNaN(d)?isNaN(f)?0:-1:1})(t,e);case 3:return cT(t.timestampValue,e.timestampValue);case 4:return cT(bd(t),bd(e));case 5:return Zy(t.stringValue,e.stringValue);case 6:return(function(o,u){const d=Ma(o),f=Ma(u);return d.compareTo(f)})(t.bytesValue,e.bytesValue);case 7:return(function(o,u){const d=o.split("/"),f=u.split("/");for(let h=0;h<d.length&&h<f.length;h++){const g=We(d[h],f[h]);if(g!==0)return g}return We(d.length,f.length)})(t.referenceValue,e.referenceValue);case 8:return(function(o,u){const d=We(un(o.latitude),un(u.latitude));return d!==0?d:We(un(o.longitude),un(u.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return dT(t.arrayValue,e.arrayValue);case 10:return(function(o,u){var d,f,h,g;const b=o.fields||{},_=u.fields||{},E=(d=b[Pm])===null||d===void 0?void 0:d.arrayValue,C=(f=_[Pm])===null||f===void 0?void 0:f.arrayValue,N=We(((h=E==null?void 0:E.values)===null||h===void 0?void 0:h.length)||0,((g=C==null?void 0:C.values)===null||g===void 0?void 0:g.length)||0);return N!==0?N:dT(E,C)})(t.mapValue,e.mapValue);case 11:return(function(o,u){if(o===Ih.mapValue&&u===Ih.mapValue)return 0;if(o===Ih.mapValue)return 1;if(u===Ih.mapValue)return-1;const d=o.fields||{},f=Object.keys(d),h=u.fields||{},g=Object.keys(h);f.sort(),g.sort();for(let b=0;b<f.length&&b<g.length;++b){const _=Zy(f[b],g[b]);if(_!==0)return _;const E=au(d[f[b]],h[g[b]]);if(E!==0)return E}return We(f.length,g.length)})(t.mapValue,e.mapValue);default:throw Ve(23264,{le:n})}}function cT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return We(t,e);const n=ja(t),r=ja(e),s=We(n.seconds,r.seconds);return s!==0?s:We(n.nanos,r.nanos)}function dT(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const o=au(n[s],r[s]);if(o)return o}return We(n.length,r.length)}function ou(t){return Jy(t)}function Jy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=ja(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Ma(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Ie.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",s=!0;for(const o of n.values||[])s?s=!1:r+=",",r+=Jy(o);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let s="{",o=!0;for(const u of r)o?o=!1:s+=",",s+=`${u}:${Jy(n.fields[u])}`;return s+"}"})(t.mapValue):Ve(61005,{value:t})}function um(t){switch(Va(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Tp(t);return e?16+um(e):16;case 5:return 2*t.stringValue.length;case 6:return Ma(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((s,o)=>s+um(o)),0)})(t.arrayValue);case 10:case 11:return(function(r){let s=0;return Ga(r.fields,((o,u)=>{s+=o.length+um(u)})),s})(t.mapValue);default:throw Ve(13486,{value:t})}}function fT(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function e0(t){return!!t&&"integerValue"in t}function vb(t){return!!t&&"arrayValue"in t}function hT(t){return!!t&&"nullValue"in t}function mT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function cm(t){return!!t&&"mapValue"in t}function JM(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[NC])===null||n===void 0?void 0:n.stringValue)===kC}function Yc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ga(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Yc(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Yc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function eV(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===ZM}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(e){this.value=e}static empty(){return new Pr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!cm(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Yc(n)}setAll(e){let n=Gn.emptyPath(),r={},s=[];e.forEach(((u,d)=>{if(!n.isImmediateParentOf(d)){const f=this.getFieldsMap(n);this.applyChanges(f,r,s),r={},s=[],n=d.popLast()}u?r[d.lastSegment()]=Yc(u):s.push(d.lastSegment())}));const o=this.getFieldsMap(n);this.applyChanges(o,r,s)}delete(e){const n=this.field(e.popLast());cm(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ns(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];cm(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Ga(n,((s,o)=>e[s]=o));for(const s of r)delete e[s]}clone(){return new Pr(Yc(this.value))}}function DC(t){const e=[];return Ga(t.fields,((n,r)=>{const s=new Gn([n]);if(cm(r)){const o=DC(r.mapValue).fields;if(o.length===0)e.push(s);else for(const u of o)e.push(s.child(u))}else e.push(s)})),new Kr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(e,n,r,s,o,u,d){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=o,this.data=u,this.documentState=d}static newInvalidDocument(e){return new er(e,0,Be.min(),Be.min(),Be.min(),Pr.empty(),0)}static newFoundDocument(e,n,r,s){return new er(e,1,n,Be.min(),r,s,0)}static newNoDocument(e,n){return new er(e,2,n,Be.min(),Be.min(),Pr.empty(),0)}static newUnknownDocument(e,n){return new er(e,3,n,Be.min(),Be.min(),Pr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Pr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Pr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof er&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new er(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jm{constructor(e,n){this.position=e,this.inclusive=n}}function pT(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const o=e[s],u=t.position[s];if(o.field.isKeyField()?r=Ie.comparator(Ie.fromName(u.referenceValue),n.key):r=au(u,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function gT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ns(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(e,n="asc"){this.field=e,this.dir=n}}function tV(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{}class bn extends OC{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new rV(e,n,r):n==="array-contains"?new aV(e,r):n==="in"?new oV(e,r):n==="not-in"?new lV(e,r):n==="array-contains-any"?new uV(e,r):new bn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new iV(e,r):new sV(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(au(n,this.value)):n!==null&&Va(this.value)===Va(n)&&this.matchesComparison(au(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ve(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Pi extends OC{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new Pi(e,n)}matches(e){return PC(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function PC(t){return t.op==="and"}function jC(t){return nV(t)&&PC(t)}function nV(t){for(const e of t.filters)if(e instanceof Pi)return!1;return!0}function t0(t){if(t instanceof bn)return t.field.canonicalString()+t.op.toString()+ou(t.value);if(jC(t))return t.filters.map((e=>t0(e))).join(",");{const e=t.filters.map((n=>t0(n))).join(",");return`${t.op}(${e})`}}function MC(t,e){return t instanceof bn?(function(r,s){return s instanceof bn&&r.op===s.op&&r.field.isEqual(s.field)&&ns(r.value,s.value)})(t,e):t instanceof Pi?(function(r,s){return s instanceof Pi&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce(((o,u,d)=>o&&MC(u,s.filters[d])),!0):!1})(t,e):void Ve(19439)}function VC(t){return t instanceof bn?(function(n){return`${n.field.canonicalString()} ${n.op} ${ou(n.value)}`})(t):t instanceof Pi?(function(n){return n.op.toString()+" {"+n.getFilters().map(VC).join(" ,")+"}"})(t):"Filter"}class rV extends bn{constructor(e,n,r){super(e,n,r),this.key=Ie.fromName(r.referenceValue)}matches(e){const n=Ie.comparator(e.key,this.key);return this.matchesComparison(n)}}class iV extends bn{constructor(e,n){super(e,"in",n),this.keys=LC("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class sV extends bn{constructor(e,n){super(e,"not-in",n),this.keys=LC("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function LC(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map((r=>Ie.fromName(r.referenceValue)))}class aV extends bn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return vb(n)&&wd(n.arrayValue,this.value)}}class oV extends bn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&wd(this.value.arrayValue,n)}}class lV extends bn{constructor(e,n){super(e,"not-in",n)}matches(e){if(wd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!wd(this.value.arrayValue,n)}}class uV extends bn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!vb(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>wd(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cV{constructor(e,n=null,r=[],s=[],o=null,u=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=o,this.startAt=u,this.endAt=d,this.Pe=null}}function vT(t,e=null,n=[],r=[],s=null,o=null,u=null){return new cV(t,e,n,r,s,o,u)}function yb(t){const e=He(t);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>t0(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(o){return o.field.canonicalString()+o.dir})(r))).join(","),Ep(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>ou(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>ou(r))).join(",")),e.Pe=n}return e.Pe}function bb(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!tV(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!MC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!gT(t.startAt,e.startAt)&&gT(t.endAt,e.endAt)}function n0(t){return Ie.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(e,n=null,r=[],s=[],o=null,u="F",d=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=o,this.limitType=u,this.startAt=d,this.endAt=f,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function dV(t,e,n,r,s,o,u,d){return new Fd(t,e,n,r,s,o,u,d)}function Sp(t){return new Fd(t)}function yT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function UC(t){return t.collectionGroup!==null}function Wc(t){const e=He(t);if(e.Te===null){e.Te=[];const n=new Set;for(const o of e.explicitOrderBy)e.Te.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let d=new An(Gn.comparator);return u.filters.forEach((f=>{f.getFlattenedFilters().forEach((h=>{h.isInequality()&&(d=d.add(h.field))}))})),d})(e).forEach((o=>{n.has(o.canonicalString())||o.isKeyField()||e.Te.push(new Mm(o,r))})),n.has(Gn.keyField().canonicalString())||e.Te.push(new Mm(Gn.keyField(),r))}return e.Te}function Qi(t){const e=He(t);return e.Ie||(e.Ie=fV(e,Wc(t))),e.Ie}function fV(t,e){if(t.limitType==="F")return vT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((s=>{const o=s.dir==="desc"?"asc":"desc";return new Mm(s.field,o)}));const n=t.endAt?new jm(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new jm(t.startAt.position,t.startAt.inclusive):null;return vT(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function r0(t,e){const n=t.filters.concat([e]);return new Fd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function i0(t,e,n){return new Fd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ap(t,e){return bb(Qi(t),Qi(e))&&t.limitType===e.limitType}function zC(t){return`${yb(Qi(t))}|lt:${t.limitType}`}function Ul(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((s=>VC(s))).join(", ")}]`),Ep(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((s=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(s))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((s=>ou(s))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((s=>ou(s))).join(",")),`Target(${r})`})(Qi(t))}; limitType=${t.limitType})`}function Cp(t,e){return e.isFoundDocument()&&(function(r,s){const o=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Ie.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(t,e)&&(function(r,s){for(const o of Wc(r))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0})(t,e)&&(function(r,s){for(const o of r.filters)if(!o.matches(s))return!1;return!0})(t,e)&&(function(r,s){return!(r.startAt&&!(function(u,d,f){const h=pT(u,d,f);return u.inclusive?h<=0:h<0})(r.startAt,Wc(r),s)||r.endAt&&!(function(u,d,f){const h=pT(u,d,f);return u.inclusive?h>=0:h>0})(r.endAt,Wc(r),s))})(t,e)}function hV(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function BC(t){return(e,n)=>{let r=!1;for(const s of Wc(t)){const o=mV(s,e,n);if(o!==0)return o;r=r||s.field.isKeyField()}return 0}}function mV(t,e,n){const r=t.field.isKeyField()?Ie.comparator(e.key,n.key):(function(o,u,d){const f=u.data.field(o),h=d.data.field(o);return f!==null&&h!==null?au(f,h):Ve(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ve(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,o]of r)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Ga(this.inner,((n,r)=>{for(const[s,o]of r)e(s,o)}))}isEmpty(){return TC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pV=new Yt(Ie.comparator);function Os(){return pV}const FC=new Yt(Ie.comparator);function Mc(...t){let e=FC;for(const n of t)e=e.insert(n.key,n);return e}function HC(t){let e=FC;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Io(){return Qc()}function qC(){return Qc()}function Qc(){return new Ko((t=>t.toString()),((t,e)=>t.isEqual(e)))}const gV=new Yt(Ie.comparator),vV=new An(Ie.comparator);function it(...t){let e=vV;for(const n of t)e=e.add(n);return e}const yV=new An(We);function bV(){return yV}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _b(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Dm(e)?"-0":e}}function GC(t){return{integerValue:""+t}}function _V(t,e){return KM(e)?GC(e):_b(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp{constructor(){this._=void 0}}function wV(t,e,n){return t instanceof Vm?(function(s,o){const u={fields:{[CC]:{stringValue:AC},[IC]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&gb(o)&&(o=Tp(o)),o&&(u.fields[RC]=o),{mapValue:u}})(n,e):t instanceof xd?KC(t,e):t instanceof Ed?YC(t,e):(function(s,o){const u=$C(s,o),d=bT(u)+bT(s.Ee);return e0(u)&&e0(s.Ee)?GC(d):_b(s.serializer,d)})(t,e)}function xV(t,e,n){return t instanceof xd?KC(t,e):t instanceof Ed?YC(t,e):n}function $C(t,e){return t instanceof Lm?(function(r){return e0(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}class Vm extends Rp{}class xd extends Rp{constructor(e){super(),this.elements=e}}function KC(t,e){const n=WC(e);for(const r of t.elements)n.some((s=>ns(s,r)))||n.push(r);return{arrayValue:{values:n}}}class Ed extends Rp{constructor(e){super(),this.elements=e}}function YC(t,e){let n=WC(e);for(const r of t.elements)n=n.filter((s=>!ns(s,r)));return{arrayValue:{values:n}}}class Lm extends Rp{constructor(e,n){super(),this.serializer=e,this.Ee=n}}function bT(t){return un(t.integerValue||t.doubleValue)}function WC(t){return vb(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function EV(t,e){return t.field.isEqual(e.field)&&(function(r,s){return r instanceof xd&&s instanceof xd||r instanceof Ed&&s instanceof Ed?su(r.elements,s.elements,ns):r instanceof Lm&&s instanceof Lm?ns(r.Ee,s.Ee):r instanceof Vm&&s instanceof Vm})(t.transform,e.transform)}class TV{constructor(e,n){this.version=e,this.transformResults=n}}class Oi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Oi}static exists(e){return new Oi(void 0,e)}static updateTime(e){return new Oi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function dm(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Ip{}function QC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new wb(t.key,Oi.none()):new Hd(t.key,t.data,Oi.none());{const n=t.data,r=Pr.empty();let s=new An(Gn.comparator);for(let o of e.fields)if(!s.has(o)){let u=n.field(o);u===null&&o.length>1&&(o=o.popLast(),u=n.field(o)),u===null?r.delete(o):r.set(o,u),s=s.add(o)}return new $a(t.key,r,new Kr(s.toArray()),Oi.none())}}function SV(t,e,n){t instanceof Hd?(function(s,o,u){const d=s.value.clone(),f=wT(s.fieldTransforms,o,u.transformResults);d.setAll(f),o.convertToFoundDocument(u.version,d).setHasCommittedMutations()})(t,e,n):t instanceof $a?(function(s,o,u){if(!dm(s.precondition,o))return void o.convertToUnknownDocument(u.version);const d=wT(s.fieldTransforms,o,u.transformResults),f=o.data;f.setAll(XC(s)),f.setAll(d),o.convertToFoundDocument(u.version,f).setHasCommittedMutations()})(t,e,n):(function(s,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,n)}function Xc(t,e,n,r){return t instanceof Hd?(function(o,u,d,f){if(!dm(o.precondition,u))return d;const h=o.value.clone(),g=xT(o.fieldTransforms,f,u);return h.setAll(g),u.convertToFoundDocument(u.version,h).setHasLocalMutations(),null})(t,e,n,r):t instanceof $a?(function(o,u,d,f){if(!dm(o.precondition,u))return d;const h=xT(o.fieldTransforms,f,u),g=u.data;return g.setAll(XC(o)),g.setAll(h),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),d===null?null:d.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((b=>b.field)))})(t,e,n,r):(function(o,u,d){return dm(o.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):d})(t,e,n)}function AV(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),o=$C(r.transform,s||null);o!=null&&(n===null&&(n=Pr.empty()),n.set(r.field,o))}return n||null}function _T(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&su(r,s,((o,u)=>EV(o,u)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Hd extends Ip{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class $a extends Ip{constructor(e,n,r,s,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function XC(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function wT(t,e,n){const r=new Map;vt(t.length===n.length,32656,{Ae:n.length,Re:t.length});for(let s=0;s<n.length;s++){const o=t[s],u=o.transform,d=e.data.field(o.field);r.set(o.field,xV(u,d,n[s]))}return r}function xT(t,e,n){const r=new Map;for(const s of t){const o=s.transform,u=n.data.field(s.field);r.set(s.field,wV(o,u,e))}return r}class wb extends Ip{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class CV extends Ip{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RV{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&SV(o,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Xc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Xc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=qC();return this.mutations.forEach((s=>{const o=e.get(s.key),u=o.overlayedDocument;let d=this.applyToLocalView(u,o.mutatedFields);d=n.has(s.key)?null:d;const f=QC(u,d);f!==null&&r.set(s.key,f),u.isValidDocument()||u.convertToNoDocument(Be.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),it())}isEqual(e){return this.batchId===e.batchId&&su(this.mutations,e.mutations,((n,r)=>_T(n,r)))&&su(this.baseMutations,e.baseMutations,((n,r)=>_T(n,r)))}}class xb{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){vt(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let s=(function(){return gV})();const o=e.mutations;for(let u=0;u<o.length;u++)s=s.insert(o[u].key,r[u].version);return new xb(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IV{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NV{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yn,ot;function kV(t){switch(t){case ue.OK:return Ve(64938);case ue.CANCELLED:case ue.UNKNOWN:case ue.DEADLINE_EXCEEDED:case ue.RESOURCE_EXHAUSTED:case ue.INTERNAL:case ue.UNAVAILABLE:case ue.UNAUTHENTICATED:return!1;case ue.INVALID_ARGUMENT:case ue.NOT_FOUND:case ue.ALREADY_EXISTS:case ue.PERMISSION_DENIED:case ue.FAILED_PRECONDITION:case ue.ABORTED:case ue.OUT_OF_RANGE:case ue.UNIMPLEMENTED:case ue.DATA_LOSS:return!0;default:return Ve(15467,{code:t})}}function ZC(t){if(t===void 0)return Ds("GRPC error has no .code"),ue.UNKNOWN;switch(t){case yn.OK:return ue.OK;case yn.CANCELLED:return ue.CANCELLED;case yn.UNKNOWN:return ue.UNKNOWN;case yn.DEADLINE_EXCEEDED:return ue.DEADLINE_EXCEEDED;case yn.RESOURCE_EXHAUSTED:return ue.RESOURCE_EXHAUSTED;case yn.INTERNAL:return ue.INTERNAL;case yn.UNAVAILABLE:return ue.UNAVAILABLE;case yn.UNAUTHENTICATED:return ue.UNAUTHENTICATED;case yn.INVALID_ARGUMENT:return ue.INVALID_ARGUMENT;case yn.NOT_FOUND:return ue.NOT_FOUND;case yn.ALREADY_EXISTS:return ue.ALREADY_EXISTS;case yn.PERMISSION_DENIED:return ue.PERMISSION_DENIED;case yn.FAILED_PRECONDITION:return ue.FAILED_PRECONDITION;case yn.ABORTED:return ue.ABORTED;case yn.OUT_OF_RANGE:return ue.OUT_OF_RANGE;case yn.UNIMPLEMENTED:return ue.UNIMPLEMENTED;case yn.DATA_LOSS:return ue.DATA_LOSS;default:return Ve(39323,{code:t})}}(ot=yn||(yn={}))[ot.OK=0]="OK",ot[ot.CANCELLED=1]="CANCELLED",ot[ot.UNKNOWN=2]="UNKNOWN",ot[ot.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ot[ot.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ot[ot.NOT_FOUND=5]="NOT_FOUND",ot[ot.ALREADY_EXISTS=6]="ALREADY_EXISTS",ot[ot.PERMISSION_DENIED=7]="PERMISSION_DENIED",ot[ot.UNAUTHENTICATED=16]="UNAUTHENTICATED",ot[ot.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ot[ot.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ot[ot.ABORTED=10]="ABORTED",ot[ot.OUT_OF_RANGE=11]="OUT_OF_RANGE",ot[ot.UNIMPLEMENTED=12]="UNIMPLEMENTED",ot[ot.INTERNAL=13]="INTERNAL",ot[ot.UNAVAILABLE=14]="UNAVAILABLE",ot[ot.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DV=new Ia([4294967295,4294967295],0);function ET(t){const e=_C().encode(t),n=new fC;return n.update(e),new Uint8Array(n.digest())}function TT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Ia([n,r],0),new Ia([s,o],0)]}class Eb{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Vc(`Invalid padding: ${n}`);if(r<0)throw new Vc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Vc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Vc(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=Ia.fromNumber(this.fe)}pe(e,n,r){let s=e.add(n.multiply(Ia.fromNumber(r)));return s.compare(DV)===1&&(s=new Ia([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const n=ET(e),[r,s]=TT(n);for(let o=0;o<this.hashCount;o++){const u=this.pe(r,s,o);if(!this.ye(u))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),u=new Eb(o,s,n);return r.forEach((d=>u.insert(d))),u}insert(e){if(this.fe===0)return;const n=ET(e),[r,s]=TT(n);for(let o=0;o<this.hashCount;o++){const u=this.pe(r,s,o);this.we(u)}}we(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Vc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Np{constructor(e,n,r,s,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,qd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Np(Be.min(),s,new Yt(We),Os(),it())}}class qd{constructor(e,n,r,s,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new qd(r,n,it(),it(),it())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(e,n,r,s){this.Se=e,this.removedTargetIds=n,this.key=r,this.be=s}}class JC{constructor(e,n){this.targetId=e,this.De=n}}class eR{constructor(e,n,r=$n.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class ST{constructor(){this.ve=0,this.Ce=AT(),this.Fe=$n.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=it(),n=it(),r=it();return this.Ce.forEach(((s,o)=>{switch(o){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Ve(38017,{changeType:o})}})),new qd(this.Fe,this.Me,e,n,r)}ke(){this.xe=!1,this.Ce=AT()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,vt(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class OV{constructor(e){this.We=e,this.Ge=new Map,this.ze=Os(),this.je=Nh(),this.Je=Nh(),this.He=new Yt(We)}Ye(e){for(const n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(const n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,(n=>{const r=this.tt(n);switch(e.state){case 0:this.nt(n)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),r.Be(e.resumeToken));break;default:Ve(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach(((r,s)=>{this.nt(s)&&n(s)}))}it(e){const n=e.targetId,r=e.De.count,s=this.st(n);if(s){const o=s.target;if(n0(o))if(r===0){const u=new Ie(o.path);this.Xe(n,u,er.newNoDocument(u,Be.min()))}else vt(r===1,20013,{expectedCount:r});else{const u=this.ot(n);if(u!==r){const d=this._t(e),f=d?this.ut(d,e,u):1;if(f!==0){this.rt(n);const h=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,h)}}}}}_t(e){const n=e.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:o=0}=n;let u,d;try{u=Ma(r).toUint8Array()}catch(f){if(f instanceof SC)return Oa("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{d=new Eb(u,s,o)}catch(f){return Oa(f instanceof Vc?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return d.fe===0?null:d}ut(e,n,r){return n.De.count===r-this.ht(e,n.targetId)?0:2}ht(e,n){const r=this.We.getRemoteKeysForTarget(n);let s=0;return r.forEach((o=>{const u=this.We.lt(),d=`projects/${u.projectId}/databases/${u.database}/documents/${o.path.canonicalString()}`;e.mightContain(d)||(this.Xe(n,o,null),s++)})),s}Pt(e){const n=new Map;this.Ge.forEach(((o,u)=>{const d=this.st(u);if(d){if(o.current&&n0(d.target)){const f=new Ie(d.target.path);this.Tt(f).has(u)||this.It(u,f)||this.Xe(u,f,er.newNoDocument(f,e))}o.Ne&&(n.set(u,o.Le()),o.ke())}}));let r=it();this.Je.forEach(((o,u)=>{let d=!0;u.forEachWhile((f=>{const h=this.st(f);return!h||h.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(r=r.add(o))})),this.ze.forEach(((o,u)=>u.setReadTime(e)));const s=new Np(e,n,this.He,this.ze,r);return this.ze=Os(),this.je=Nh(),this.Je=Nh(),this.He=new Yt(We),s}Ze(e,n){if(!this.nt(e))return;const r=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,r),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,r){if(!this.nt(e))return;const s=this.tt(e);this.It(e,n)?s.qe(n,1):s.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),r&&(this.ze=this.ze.insert(n,r))}removeTarget(e){this.Ge.delete(e)}ot(e){const n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new ST,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new An(We),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new An(We),this.je=this.je.insert(e,n)),n}nt(e){const n=this.st(e)!==null;return n||we("WatchChangeAggregator","Detected inactive target",e),n}st(e){const n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new ST),this.We.getRemoteKeysForTarget(e).forEach((n=>{this.Xe(e,n,null)}))}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}}function Nh(){return new Yt(Ie.comparator)}function AT(){return new Yt(Ie.comparator)}const PV={asc:"ASCENDING",desc:"DESCENDING"},jV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},MV={and:"AND",or:"OR"};class VV{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function s0(t,e){return t.useProto3Json||Ep(e)?e:{value:e}}function Um(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function tR(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function LV(t,e){return Um(t,e.toTimestamp())}function Xi(t){return vt(!!t,49232),Be.fromTimestamp((function(n){const r=ja(n);return new zt(r.seconds,r.nanos)})(t))}function Tb(t,e){return a0(t,e).canonicalString()}function a0(t,e){const n=(function(s){return new Ot(["projects",s.projectId,"databases",s.database])})(t).child("documents");return e===void 0?n:n.child(e)}function nR(t){const e=Ot.fromString(t);return vt(oR(e),10190,{key:e.toString()}),e}function o0(t,e){return Tb(t.databaseId,e.path)}function hy(t,e){const n=nR(e);if(n.get(1)!==t.databaseId.projectId)throw new be(ue.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new be(ue.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ie(iR(n))}function rR(t,e){return Tb(t.databaseId,e)}function UV(t){const e=nR(t);return e.length===4?Ot.emptyPath():iR(e)}function l0(t){return new Ot(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function iR(t){return vt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function CT(t,e,n){return{name:o0(t,e),fields:n.value.mapValue.fields}}function zV(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Ve(39313,{state:h})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],o=(function(h,g){return h.useProto3Json?(vt(g===void 0||typeof g=="string",58123),$n.fromBase64String(g||"")):(vt(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),$n.fromUint8Array(g||new Uint8Array))})(t,e.targetChange.resumeToken),u=e.targetChange.cause,d=u&&(function(h){const g=h.code===void 0?ue.UNKNOWN:ZC(h.code);return new be(g,h.message||"")})(u);n=new eR(r,s,o,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=hy(t,r.document.name),o=Xi(r.document.updateTime),u=r.document.createTime?Xi(r.document.createTime):Be.min(),d=new Pr({mapValue:{fields:r.document.fields}}),f=er.newFoundDocument(s,o,u,d),h=r.targetIds||[],g=r.removedTargetIds||[];n=new fm(h,g,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=hy(t,r.document),o=r.readTime?Xi(r.readTime):Be.min(),u=er.newNoDocument(s,o),d=r.removedTargetIds||[];n=new fm([],d,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=hy(t,r.document),o=r.removedTargetIds||[];n=new fm([],o,s,null)}else{if(!("filter"in e))return Ve(11601,{At:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:o}=r,u=new NV(s,o),d=r.targetId;n=new JC(d,u)}}return n}function BV(t,e){let n;if(e instanceof Hd)n={update:CT(t,e.key,e.value)};else if(e instanceof wb)n={delete:o0(t,e.key)};else if(e instanceof $a)n={update:CT(t,e.key,e.data),updateMask:QV(e.fieldMask)};else{if(!(e instanceof CV))return Ve(16599,{Rt:e.type});n={verify:o0(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(o,u){const d=u.transform;if(d instanceof Vm)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof xd)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Ed)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Lm)return{fieldPath:u.field.canonicalString(),increment:d.Ee};throw Ve(20930,{transform:u.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(s,o){return o.updateTime!==void 0?{updateTime:LV(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ve(27497)})(t,e.precondition)),n}function FV(t,e){return t&&t.length>0?(vt(e!==void 0,14353),t.map((n=>(function(s,o){let u=s.updateTime?Xi(s.updateTime):Xi(o);return u.isEqual(Be.min())&&(u=Xi(o)),new TV(u,s.transformResults||[])})(n,e)))):[]}function HV(t,e){return{documents:[rR(t,e.path)]}}function qV(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=rR(t,s);const o=(function(h){if(h.length!==0)return aR(Pi.create(h,"and"))})(e.filters);o&&(n.structuredQuery.where=o);const u=(function(h){if(h.length!==0)return h.map((g=>(function(_){return{field:zl(_.field),direction:KV(_.dir)}})(g)))})(e.orderBy);u&&(n.structuredQuery.orderBy=u);const d=s0(t,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=(function(h){return{before:h.inclusive,values:h.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(h){return{before:!h.inclusive,values:h.position}})(e.endAt)),{Vt:n,parent:s}}function GV(t){let e=UV(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){vt(r===1,65062);const g=n.from[0];g.allDescendants?s=g.collectionId:e=e.child(g.collectionId)}let o=[];n.where&&(o=(function(b){const _=sR(b);return _ instanceof Pi&&jC(_)?_.getFilters():[_]})(n.where));let u=[];n.orderBy&&(u=(function(b){return b.map((_=>(function(C){return new Mm(Bl(C.field),(function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(C.direction))})(_)))})(n.orderBy));let d=null;n.limit&&(d=(function(b){let _;return _=typeof b=="object"?b.value:b,Ep(_)?null:_})(n.limit));let f=null;n.startAt&&(f=(function(b){const _=!!b.before,E=b.values||[];return new jm(E,_)})(n.startAt));let h=null;return n.endAt&&(h=(function(b){const _=!b.before,E=b.values||[];return new jm(E,_)})(n.endAt)),dV(e,s,u,o,d,"F",f,h)}function $V(t,e){const n=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ve(28987,{purpose:s})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function sR(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Bl(n.unaryFilter.field);return bn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Bl(n.unaryFilter.field);return bn.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Bl(n.unaryFilter.field);return bn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Bl(n.unaryFilter.field);return bn.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ve(61313);default:return Ve(60726)}})(t):t.fieldFilter!==void 0?(function(n){return bn.create(Bl(n.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ve(58110);default:return Ve(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Pi.create(n.compositeFilter.filters.map((r=>sR(r))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ve(1026)}})(n.compositeFilter.op))})(t):Ve(30097,{filter:t})}function KV(t){return PV[t]}function YV(t){return jV[t]}function WV(t){return MV[t]}function zl(t){return{fieldPath:t.canonicalString()}}function Bl(t){return Gn.fromServerFormat(t.fieldPath)}function aR(t){return t instanceof bn?(function(n){if(n.op==="=="){if(mT(n.value))return{unaryFilter:{field:zl(n.field),op:"IS_NAN"}};if(hT(n.value))return{unaryFilter:{field:zl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(mT(n.value))return{unaryFilter:{field:zl(n.field),op:"IS_NOT_NAN"}};if(hT(n.value))return{unaryFilter:{field:zl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:zl(n.field),op:YV(n.op),value:n.value}}})(t):t instanceof Pi?(function(n){const r=n.getFilters().map((s=>aR(s)));return r.length===1?r[0]:{compositeFilter:{op:WV(n.op),filters:r}}})(t):Ve(54877,{filter:t})}function QV(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function oR(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(e,n,r,s,o=Be.min(),u=Be.min(),d=$n.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=d,this.expectedCount=f}withSequenceNumber(e){return new Sa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Sa(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Sa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Sa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XV{constructor(e){this.gt=e}}function ZV(t){const e=GV({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?i0(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JV{constructor(){this.Dn=new e3}addToCollectionParentIndex(e,n){return this.Dn.add(n),ce.resolve()}getCollectionParents(e,n){return ce.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return ce.resolve()}deleteFieldIndex(e,n){return ce.resolve()}deleteAllFieldIndexes(e){return ce.resolve()}createTargetIndexes(e,n){return ce.resolve()}getDocumentsMatchingTarget(e,n){return ce.resolve(null)}getIndexType(e,n){return ce.resolve(0)}getFieldIndexes(e,n){return ce.resolve([])}getNextCollectionGroupToUpdate(e){return ce.resolve(null)}getMinOffset(e,n){return ce.resolve(Pa.min())}getMinOffsetFromCollectionGroup(e,n){return ce.resolve(Pa.min())}updateCollectionGroup(e,n,r){return ce.resolve()}updateIndexEntries(e,n){return ce.resolve()}}class e3{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new An(Ot.comparator),o=!s.has(r);return this.index[n]=s.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new An(Ot.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},lR=41943040;class Or{static withCacheSize(e){return new Or(e,Or.DEFAULT_COLLECTION_PERCENTILE,Or.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Or.DEFAULT_COLLECTION_PERCENTILE=10,Or.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Or.DEFAULT=new Or(lR,Or.DEFAULT_COLLECTION_PERCENTILE,Or.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Or.DISABLED=new Or(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new lu(0)}static ur(){return new lu(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IT="LruGarbageCollector",t3=1048576;function NT([t,e],[n,r]){const s=We(t,n);return s===0?We(e,r):s}class n3{constructor(e){this.Tr=e,this.buffer=new An(NT),this.Ir=0}dr(){return++this.Ir}Er(e){const n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();NT(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class r3{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){we(IT,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){xu(n)?we(IT,"Ignoring IndexedDB error during garbage collection: ",n):await wu(n)}await this.Rr(3e5)}))}}class i3{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return ce.resolve(xp.ue);const r=new n3(n);return this.Vr.forEachTarget(e,(s=>r.Er(s.sequenceNumber))).next((()=>this.Vr.gr(e,(s=>r.Er(s))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(we("LruGarbageCollector","Garbage collection skipped; disabled"),ce.resolve(RT)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(we("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),RT):this.pr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let r,s,o,u,d,f,h;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(we("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),s=this.params.maximumSequenceNumbersToCollect):s=b,u=Date.now(),this.nthSequenceNumber(e,s)))).next((b=>(r=b,d=Date.now(),this.removeTargets(e,r,n)))).next((b=>(o=b,f=Date.now(),this.removeOrphanedDocuments(e,r)))).next((b=>(h=Date.now(),Ll()<=rt.DEBUG&&we("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-g}ms
	Determined least recently used ${s} in `+(d-u)+`ms
	Removed ${o} targets in `+(f-d)+`ms
	Removed ${b} documents in `+(h-f)+`ms
Total Duration: ${h-g}ms`),ce.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:o,documentsRemoved:b}))))}}function s3(t,e){return new i3(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a3{constructor(){this.changes=new Ko((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,er.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ce.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o3{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l3{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((s=>(r=s,this.remoteDocumentCache.getEntry(e,n)))).next((s=>(r!==null&&Xc(r.mutation,s,Kr.empty(),zt.now()),s)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,it()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=it()){const s=Io();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,r).next((o=>{let u=Mc();return o.forEach(((d,f)=>{u=u.insert(d,f.overlayedDocument)})),u}))))}getOverlayedDocuments(e,n){const r=Io();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,it())))}populateOverlays(e,n,r){const s=[];return r.forEach((o=>{n.has(o)||s.push(o)})),this.documentOverlayCache.getOverlays(e,s).next((o=>{o.forEach(((u,d)=>{n.set(u,d)}))}))}computeViews(e,n,r,s){let o=Os();const u=Qc(),d=(function(){return Qc()})();return n.forEach(((f,h)=>{const g=r.get(h.key);s.has(h.key)&&(g===void 0||g.mutation instanceof $a)?o=o.insert(h.key,h):g!==void 0?(u.set(h.key,g.mutation.getFieldMask()),Xc(g.mutation,h,g.mutation.getFieldMask(),zt.now())):u.set(h.key,Kr.empty())})),this.recalculateAndSaveOverlays(e,o).next((f=>(f.forEach(((h,g)=>u.set(h,g))),n.forEach(((h,g)=>{var b;return d.set(h,new o3(g,(b=u.get(h))!==null&&b!==void 0?b:null))})),d)))}recalculateAndSaveOverlays(e,n){const r=Qc();let s=new Yt(((u,d)=>u-d)),o=it();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((u=>{for(const d of u)d.keys().forEach((f=>{const h=n.get(f);if(h===null)return;let g=r.get(f)||Kr.empty();g=d.applyToLocalView(h,g),r.set(f,g);const b=(s.get(d.batchId)||it()).add(f);s=s.insert(d.batchId,b)}))})).next((()=>{const u=[],d=s.getReverseIterator();for(;d.hasNext();){const f=d.getNext(),h=f.key,g=f.value,b=qC();g.forEach((_=>{if(!o.has(_)){const E=QC(n.get(_),r.get(_));E!==null&&b.set(_,E),o=o.add(_)}})),u.push(this.documentOverlayCache.saveOverlays(e,h,b))}return ce.waitFor(u)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,s){return(function(u){return Ie.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):UC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next((o=>{const u=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-o.size):ce.resolve(Io());let d=yd,f=o;return u.next((h=>ce.forEach(h,((g,b)=>(d<b.largestBatchId&&(d=b.largestBatchId),o.get(g)?ce.resolve():this.remoteDocumentCache.getEntry(e,g).next((_=>{f=f.insert(g,_)}))))).next((()=>this.populateOverlays(e,h,o))).next((()=>this.computeViews(e,f,h,it()))).next((g=>({batchId:d,changes:HC(g)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ie(n)).next((r=>{let s=Mc();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const o=n.collectionGroup;let u=Mc();return this.indexManager.getCollectionParents(e,o).next((d=>ce.forEach(d,(f=>{const h=(function(b,_){return new Fd(_,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,f.child(o));return this.getDocumentsMatchingCollectionQuery(e,h,r,s).next((g=>{g.forEach(((b,_)=>{u=u.insert(b,_)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,n,r,s){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,s)))).next((u=>{o.forEach(((f,h)=>{const g=h.getKey();u.get(g)===null&&(u=u.insert(g,er.newInvalidDocument(g)))}));let d=Mc();return u.forEach(((f,h)=>{const g=o.get(f);g!==void 0&&Xc(g.mutation,h,Kr.empty(),zt.now()),Cp(n,h)&&(d=d.insert(f,h))})),d}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u3{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return ce.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,(function(s){return{id:s.id,version:s.version,createTime:Xi(s.createTime)}})(n)),ce.resolve()}getNamedQuery(e,n){return ce.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,(function(s){return{name:s.name,query:ZV(s.bundledQuery),readTime:Xi(s.readTime)}})(n)),ce.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c3{constructor(){this.overlays=new Yt(Ie.comparator),this.kr=new Map}getOverlay(e,n){return ce.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Io();return ce.forEach(n,(s=>this.getOverlay(e,s).next((o=>{o!==null&&r.set(s,o)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((s,o)=>{this.wt(e,n,o)})),ce.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.kr.get(r);return s!==void 0&&(s.forEach((o=>this.overlays=this.overlays.remove(o))),this.kr.delete(r)),ce.resolve()}getOverlaysForCollection(e,n,r){const s=Io(),o=n.length+1,u=new Ie(n.child("")),d=this.overlays.getIteratorFrom(u);for(;d.hasNext();){const f=d.getNext().value,h=f.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===o&&f.largestBatchId>r&&s.set(f.getKey(),f)}return ce.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let o=new Yt(((h,g)=>h-g));const u=this.overlays.getIterator();for(;u.hasNext();){const h=u.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let g=o.get(h.largestBatchId);g===null&&(g=Io(),o=o.insert(h.largestBatchId,g)),g.set(h.getKey(),h)}}const d=Io(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((h,g)=>d.set(h,g))),!(d.size()>=s)););return ce.resolve(d)}wt(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const u=this.kr.get(s.largestBatchId).delete(r.key);this.kr.set(s.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new IV(n,r));let o=this.kr.get(n);o===void 0&&(o=it(),this.kr.set(n,o)),this.kr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d3{constructor(){this.sessionToken=$n.EMPTY_BYTE_STRING}getSessionToken(e){return ce.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ce.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb{constructor(){this.qr=new An(Pn.Qr),this.$r=new An(Pn.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){const r=new Pn(e,n);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Wr(new Pn(e,n))}Gr(e,n){e.forEach((r=>this.removeReference(r,n)))}zr(e){const n=new Ie(new Ot([])),r=new Pn(n,e),s=new Pn(n,e+1),o=[];return this.$r.forEachInRange([r,s],(u=>{this.Wr(u),o.push(u.key)})),o}jr(){this.qr.forEach((e=>this.Wr(e)))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const n=new Ie(new Ot([])),r=new Pn(n,e),s=new Pn(n,e+1);let o=it();return this.$r.forEachInRange([r,s],(u=>{o=o.add(u.key)})),o}containsKey(e){const n=new Pn(e,0),r=this.qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Pn{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return Ie.comparator(e.key,n.key)||We(e.Hr,n.Hr)}static Ur(e,n){return We(e.Hr,n.Hr)||Ie.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f3{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new An(Pn.Qr)}checkEmpty(e){return ce.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const o=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new RV(o,n,r,s);this.mutationQueue.push(u);for(const d of s)this.Yr=this.Yr.add(new Pn(d.key,o)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return ce.resolve(u)}lookupMutationBatch(e,n){return ce.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.Xr(r),o=s<0?0:s;return ce.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ce.resolve(this.mutationQueue.length===0?pb:this.er-1)}getAllMutationBatches(e){return ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Pn(n,0),s=new Pn(n,Number.POSITIVE_INFINITY),o=[];return this.Yr.forEachInRange([r,s],(u=>{const d=this.Zr(u.Hr);o.push(d)})),ce.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new An(We);return n.forEach((s=>{const o=new Pn(s,0),u=new Pn(s,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([o,u],(d=>{r=r.add(d.Hr)}))})),ce.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let o=r;Ie.isDocumentKey(o)||(o=o.child(""));const u=new Pn(new Ie(o),0);let d=new An(We);return this.Yr.forEachWhile((f=>{const h=f.key.path;return!!r.isPrefixOf(h)&&(h.length===s&&(d=d.add(f.Hr)),!0)}),u),ce.resolve(this.ei(d))}ei(e){const n=[];return e.forEach((r=>{const s=this.Zr(r);s!==null&&n.push(s)})),n}removeMutationBatch(e,n){vt(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return ce.forEach(n.mutations,(s=>{const o=new Pn(s.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Yr=r}))}rr(e){}containsKey(e,n){const r=new Pn(n,0),s=this.Yr.firstAfterOrEqual(r);return ce.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,ce.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h3{constructor(e){this.ni=e,this.docs=(function(){return new Yt(Ie.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),o=s?s.size:0,u=this.ni(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ce.resolve(r?r.document.mutableCopy():er.newInvalidDocument(n))}getEntries(e,n){let r=Os();return n.forEach((s=>{const o=this.docs.get(s);r=r.insert(s,o?o.document.mutableCopy():er.newInvalidDocument(s))})),ce.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let o=Os();const u=n.path,d=new Ie(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(d);for(;f.hasNext();){const{key:h,value:{document:g}}=f.getNext();if(!u.isPrefixOf(h.path))break;h.path.length>u.length+1||HM(FM(g),r)<=0||(s.has(g.key)||Cp(n,g))&&(o=o.insert(g.key,g.mutableCopy()))}return ce.resolve(o)}getAllFromCollectionGroup(e,n,r,s){Ve(9500)}ri(e,n){return ce.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new m3(this)}getSize(e){return ce.resolve(this.size)}}class m3 extends a3{constructor(e){super(),this.Or=e}applyChanges(e){const n=[];return this.changes.forEach(((r,s)=>{s.isValidDocument()?n.push(this.Or.addEntry(e,s)):this.Or.removeEntry(r)})),ce.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p3{constructor(e){this.persistence=e,this.ii=new Ko((n=>yb(n)),bb),this.lastRemoteSnapshotVersion=Be.min(),this.highestTargetId=0,this.si=0,this.oi=new Sb,this.targetCount=0,this._i=lu.ar()}forEachTarget(e,n){return this.ii.forEach(((r,s)=>n(s))),ce.resolve()}getLastRemoteSnapshotVersion(e){return ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ce.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),ce.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.si&&(this.si=n),ce.resolve()}hr(e){this.ii.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this._i=new lu(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,ce.resolve()}updateTargetData(e,n){return this.hr(n),ce.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,ce.resolve()}removeTargets(e,n,r){let s=0;const o=[];return this.ii.forEach(((u,d)=>{d.sequenceNumber<=n&&r.get(d.targetId)===null&&(this.ii.delete(u),o.push(this.removeMatchingKeysForTargetId(e,d.targetId)),s++)})),ce.waitFor(o).next((()=>s))}getTargetCount(e){return ce.resolve(this.targetCount)}getTargetData(e,n){const r=this.ii.get(n)||null;return ce.resolve(r)}addMatchingKeys(e,n,r){return this.oi.Kr(n,r),ce.resolve()}removeMatchingKeys(e,n,r){this.oi.Gr(n,r);const s=this.persistence.referenceDelegate,o=[];return s&&n.forEach((u=>{o.push(s.markPotentiallyOrphaned(e,u))})),ce.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),ce.resolve()}getMatchingKeysForTargetId(e,n){const r=this.oi.Jr(n);return ce.resolve(r)}containsKey(e,n){return ce.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(e,n){this.ai={},this.overlays={},this.ui=new xp(0),this.ci=!1,this.ci=!0,this.li=new d3,this.referenceDelegate=e(this),this.hi=new p3(this),this.indexManager=new JV,this.remoteDocumentCache=(function(s){return new h3(s)})((r=>this.referenceDelegate.Pi(r))),this.serializer=new XV(n),this.Ti=new u3(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new c3,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ai[e.toKey()];return r||(r=new f3(n,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,r){we("MemoryPersistence","Starting transaction:",e);const s=new g3(this.ui.next());return this.referenceDelegate.Ii(),r(s).next((o=>this.referenceDelegate.di(s).next((()=>o)))).toPromise().then((o=>(s.raiseOnCommittedEvent(),o)))}Ei(e,n){return ce.or(Object.values(this.ai).map((r=>()=>r.containsKey(e,n))))}}class g3 extends GM{constructor(e){super(),this.currentSequenceNumber=e}}class Ab{constructor(e){this.persistence=e,this.Ai=new Sb,this.Ri=null}static Vi(e){return new Ab(e)}get mi(){if(this.Ri)return this.Ri;throw Ve(60996)}addReference(e,n,r){return this.Ai.addReference(r,n),this.mi.delete(r.toString()),ce.resolve()}removeReference(e,n,r){return this.Ai.removeReference(r,n),this.mi.add(r.toString()),ce.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),ce.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach((s=>this.mi.add(s.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((s=>{s.forEach((o=>this.mi.add(o.toString())))})).next((()=>r.removeTargetData(e,n)))}Ii(){this.Ri=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ce.forEach(this.mi,(r=>{const s=Ie.fromPath(r);return this.fi(e,s).next((o=>{o||n.removeEntry(s,Be.min())}))})).next((()=>(this.Ri=null,n.apply(e))))}updateLimboDocument(e,n){return this.fi(e,n).next((r=>{r?this.mi.delete(n.toString()):this.mi.add(n.toString())}))}Pi(e){return 0}fi(e,n){return ce.or([()=>ce.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class zm{constructor(e,n){this.persistence=e,this.gi=new Ko((r=>YM(r.path)),((r,s)=>r.isEqual(s))),this.garbageCollector=s3(this,n)}static Vi(e,n){return new zm(e,n)}Ii(){}di(e){return ce.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){const n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((s=>r+s))))}yr(e){let n=0;return this.gr(e,(r=>{n++})).next((()=>n))}gr(e,n){return ce.forEach(this.gi,((r,s)=>this.Sr(e,r,s).next((o=>o?ce.resolve():n(s)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),o=s.newChangeBuffer();return s.ri(e,(u=>this.Sr(e,u,n).next((d=>{d||(r++,o.removeEntry(u,Be.min()))})))).next((()=>o.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),ce.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),ce.resolve()}removeReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),ce.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),ce.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=um(e.data.value)),n}Sr(e,n,r){return ce.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.gi.get(n);return ce.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Is=r,this.ds=s}static Es(e,n){let r=it(),s=it();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new Cb(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v3{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y3{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return QO()?8:$M(nr())>0?6:4})()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,r,s){const o={result:null};return this.ps(e,n).next((u=>{o.result=u})).next((()=>{if(!o.result)return this.ys(e,n,s,r).next((u=>{o.result=u}))})).next((()=>{if(o.result)return;const u=new v3;return this.ws(e,n,u).next((d=>{if(o.result=d,this.Rs)return this.Ss(e,n,u,d.size)}))})).next((()=>o.result))}Ss(e,n,r,s){return r.documentReadCount<this.Vs?(Ll()<=rt.DEBUG&&we("QueryEngine","SDK will not create cache indexes for query:",Ul(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ce.resolve()):(Ll()<=rt.DEBUG&&we("QueryEngine","Query:",Ul(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.fs*s?(Ll()<=rt.DEBUG&&we("QueryEngine","The SDK decides to create cache indexes for query:",Ul(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Qi(n))):ce.resolve())}ps(e,n){if(yT(n))return ce.resolve(null);let r=Qi(n);return this.indexManager.getIndexType(e,r).next((s=>s===0?null:(n.limit!==null&&s===1&&(n=i0(n,null,"F"),r=Qi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((o=>{const u=it(...o);return this.gs.getDocuments(e,u).next((d=>this.indexManager.getMinOffset(e,r).next((f=>{const h=this.bs(n,d);return this.Ds(n,h,u,f.readTime)?this.ps(e,i0(n,null,"F")):this.vs(e,h,n,f)}))))})))))}ys(e,n,r,s){return yT(n)||s.isEqual(Be.min())?ce.resolve(null):this.gs.getDocuments(e,r).next((o=>{const u=this.bs(n,o);return this.Ds(n,u,r,s)?ce.resolve(null):(Ll()<=rt.DEBUG&&we("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Ul(n)),this.vs(e,u,n,BM(s,yd)).next((d=>d)))}))}bs(e,n){let r=new An(BC(e));return n.forEach(((s,o)=>{Cp(e,o)&&(r=r.add(o))})),r}Ds(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}ws(e,n,r){return Ll()<=rt.DEBUG&&we("QueryEngine","Using full collection scan to execute query:",Ul(n)),this.gs.getDocumentsMatchingQuery(e,n,Pa.min(),r)}vs(e,n,r,s){return this.gs.getDocumentsMatchingQuery(e,r,s).next((o=>(n.forEach((u=>{o=o.insert(u.key,u)})),o)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rb="LocalStore",b3=3e8;class _3{constructor(e,n,r,s){this.persistence=e,this.Cs=n,this.serializer=s,this.Fs=new Yt(We),this.Ms=new Ko((o=>yb(o)),bb),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new l3(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Fs)))}}function w3(t,e,n,r){return new _3(t,e,n,r)}async function cR(t,e){const n=He(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next((o=>(s=o,n.Ns(e),n.mutationQueue.getAllMutationBatches(r)))).next((o=>{const u=[],d=[];let f=it();for(const h of s){u.push(h.batchId);for(const g of h.mutations)f=f.add(g.key)}for(const h of o){d.push(h.batchId);for(const g of h.mutations)f=f.add(g.key)}return n.localDocuments.getDocuments(r,f).next((h=>({Bs:h,removedBatchIds:u,addedBatchIds:d})))}))}))}function x3(t,e){const n=He(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const s=e.batch.keys(),o=n.Os.newChangeBuffer({trackRemovals:!0});return(function(d,f,h,g){const b=h.batch,_=b.keys();let E=ce.resolve();return _.forEach((C=>{E=E.next((()=>g.getEntry(f,C))).next((N=>{const D=h.docVersions.get(C);vt(D!==null,48541),N.version.compareTo(D)<0&&(b.applyToRemoteDocument(N,h),N.isValidDocument()&&(N.setReadTime(h.commitVersion),g.addEntry(N)))}))})),E.next((()=>d.mutationQueue.removeMutationBatch(f,b)))})(n,r,e,o).next((()=>o.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(d){let f=it();for(let h=0;h<d.mutationResults.length;++h)d.mutationResults[h].transformResults.length>0&&(f=f.add(d.batch.mutations[h].key));return f})(e)))).next((()=>n.localDocuments.getDocuments(r,s)))}))}function dR(t){const e=He(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.hi.getLastRemoteSnapshotVersion(n)))}function E3(t,e){const n=He(t),r=e.snapshotVersion;let s=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const u=n.Os.newChangeBuffer({trackRemovals:!0});s=n.Fs;const d=[];e.targetChanges.forEach(((g,b)=>{const _=s.get(b);if(!_)return;d.push(n.hi.removeMatchingKeys(o,g.removedDocuments,b).next((()=>n.hi.addMatchingKeys(o,g.addedDocuments,b))));let E=_.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(b)!==null?E=E.withResumeToken($n.EMPTY_BYTE_STRING,Be.min()).withLastLimboFreeSnapshotVersion(Be.min()):g.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(g.resumeToken,r)),s=s.insert(b,E),(function(N,D,U){return N.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=b3?!0:U.addedDocuments.size+U.modifiedDocuments.size+U.removedDocuments.size>0})(_,E,g)&&d.push(n.hi.updateTargetData(o,E))}));let f=Os(),h=it();if(e.documentUpdates.forEach((g=>{e.resolvedLimboDocuments.has(g)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(o,g))})),d.push(T3(o,u,e.documentUpdates).next((g=>{f=g.Ls,h=g.ks}))),!r.isEqual(Be.min())){const g=n.hi.getLastRemoteSnapshotVersion(o).next((b=>n.hi.setTargetsMetadata(o,o.currentSequenceNumber,r)));d.push(g)}return ce.waitFor(d).next((()=>u.apply(o))).next((()=>n.localDocuments.getLocalViewOfDocuments(o,f,h))).next((()=>f))})).then((o=>(n.Fs=s,o)))}function T3(t,e,n){let r=it(),s=it();return n.forEach((o=>r=r.add(o))),e.getEntries(t,r).next((o=>{let u=Os();return n.forEach(((d,f)=>{const h=o.get(d);f.isFoundDocument()!==h.isFoundDocument()&&(s=s.add(d)),f.isNoDocument()&&f.version.isEqual(Be.min())?(e.removeEntry(d,f.readTime),u=u.insert(d,f)):!h.isValidDocument()||f.version.compareTo(h.version)>0||f.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(f),u=u.insert(d,f)):we(Rb,"Ignoring outdated watch update for ",d,". Current version:",h.version," Watch version:",f.version)})),{Ls:u,ks:s}}))}function S3(t,e){const n=He(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=pb),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function A3(t,e){const n=He(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let s;return n.hi.getTargetData(r,e).next((o=>o?(s=o,ce.resolve(s)):n.hi.allocateTargetId(r).next((u=>(s=new Sa(e,u,"TargetPurposeListen",r.currentSequenceNumber),n.hi.addTargetData(r,s).next((()=>s)))))))})).then((r=>{const s=n.Fs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(r.targetId,r),n.Ms.set(e,r.targetId)),r}))}async function u0(t,e,n){const r=He(t),s=r.Fs.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(u=>r.persistence.referenceDelegate.removeTarget(u,s)))}catch(u){if(!xu(u))throw u;we(Rb,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(s.target)}function kT(t,e,n){const r=He(t);let s=Be.min(),o=it();return r.persistence.runTransaction("Execute query","readwrite",(u=>(function(f,h,g){const b=He(f),_=b.Ms.get(g);return _!==void 0?ce.resolve(b.Fs.get(_)):b.hi.getTargetData(h,g)})(r,u,Qi(e)).next((d=>{if(d)return s=d.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(u,d.targetId).next((f=>{o=f}))})).next((()=>r.Cs.getDocumentsMatchingQuery(u,e,n?s:Be.min(),n?o:it()))).next((d=>(C3(r,hV(e),d),{documents:d,qs:o})))))}function C3(t,e,n){let r=t.xs.get(e)||Be.min();n.forEach(((s,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)})),t.xs.set(e,r)}class DT{constructor(){this.activeTargetIds=bV()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class R3{constructor(){this.Fo=new DT,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,r){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new DT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I3{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OT="ConnectivityMonitor";class PT{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){we(OT,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){we(OT,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kh=null;function c0(){return kh===null?kh=(function(){return 268435456+Math.round(2147483648*Math.random())})():kh++,"0x"+kh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const my="RestConnection",N3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class k3{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${r}/databases/${s}`,this.Ko=this.databaseId.database===Om?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Wo(e,n,r,s,o){const u=c0(),d=this.Go(e,n.toUriEncodedString());we(my,`Sending RPC '${e}' ${u}:`,d,r);const f={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(f,s,o);const{host:h}=new URL(d),g=js(h);return this.jo(e,d,f,r,g).then((b=>(we(my,`Received RPC '${e}' ${u}: `,b),b)),(b=>{throw Oa(my,`RPC '${e}' ${u} failed with error: `,b,"url: ",d,"request:",r),b}))}Jo(e,n,r,s,o,u){return this.Wo(e,n,r,s,o)}zo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+_u})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((s,o)=>e[o]=s)),r&&r.headers.forEach(((s,o)=>e[o]=s))}Go(e,n){const r=N3[e];return`${this.$o}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D3{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wn="WebChannelConnection";class O3 extends k3{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,r,s,o){const u=c0();return new Promise(((d,f)=>{const h=new hC;h.setWithCredentials(!0),h.listenOnce(mC.COMPLETE,(()=>{try{switch(h.getLastErrorCode()){case lm.NO_ERROR:const b=h.getResponseJson();we(Wn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(b)),d(b);break;case lm.TIMEOUT:we(Wn,`RPC '${e}' ${u} timed out`),f(new be(ue.DEADLINE_EXCEEDED,"Request time out"));break;case lm.HTTP_ERROR:const _=h.getStatus();if(we(Wn,`RPC '${e}' ${u} failed with status:`,_,"response text:",h.getResponseText()),_>0){let E=h.getResponseJson();Array.isArray(E)&&(E=E[0]);const C=E==null?void 0:E.error;if(C&&C.status&&C.message){const N=(function(U){const M=U.toLowerCase().replace(/_/g,"-");return Object.values(ue).indexOf(M)>=0?M:ue.UNKNOWN})(C.status);f(new be(N,C.message))}else f(new be(ue.UNKNOWN,"Server responded with status "+h.getStatus()))}else f(new be(ue.UNAVAILABLE,"Connection failed."));break;default:Ve(9055,{c_:e,streamId:u,l_:h.getLastErrorCode(),h_:h.getLastError()})}}finally{we(Wn,`RPC '${e}' ${u} completed.`)}}));const g=JSON.stringify(s);we(Wn,`RPC '${e}' ${u} sending request:`,s),h.send(n,"POST",g,r,15)}))}P_(e,n,r){const s=c0(),o=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=vC(),d=gC(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(f.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(f.useFetchStreams=!0),this.zo(f.initMessageHeaders,n,r),f.encodeInitMessageHeaders=!0;const g=o.join("");we(Wn,`Creating RPC '${e}' stream ${s}: ${g}`,f);const b=u.createWebChannel(g,f);this.T_(b);let _=!1,E=!1;const C=new D3({Ho:D=>{E?we(Wn,`Not sending because RPC '${e}' stream ${s} is closed:`,D):(_||(we(Wn,`Opening RPC '${e}' stream ${s} transport.`),b.open(),_=!0),we(Wn,`RPC '${e}' stream ${s} sending:`,D),b.send(D))},Yo:()=>b.close()}),N=(D,U,M)=>{D.listen(U,(z=>{try{M(z)}catch(G){setTimeout((()=>{throw G}),0)}}))};return N(b,jc.EventType.OPEN,(()=>{E||(we(Wn,`RPC '${e}' stream ${s} transport opened.`),C.s_())})),N(b,jc.EventType.CLOSE,(()=>{E||(E=!0,we(Wn,`RPC '${e}' stream ${s} transport closed`),C.__(),this.I_(b))})),N(b,jc.EventType.ERROR,(D=>{E||(E=!0,Oa(Wn,`RPC '${e}' stream ${s} transport errored. Name:`,D.name,"Message:",D.message),C.__(new be(ue.UNAVAILABLE,"The operation could not be completed")))})),N(b,jc.EventType.MESSAGE,(D=>{var U;if(!E){const M=D.data[0];vt(!!M,16349);const z=M,G=(z==null?void 0:z.error)||((U=z[0])===null||U===void 0?void 0:U.error);if(G){we(Wn,`RPC '${e}' stream ${s} received error:`,G);const K=G.status;let H=(function(R){const L=yn[R];if(L!==void 0)return ZC(L)})(K),A=G.message;H===void 0&&(H=ue.INTERNAL,A="Unknown error status: "+K+" with message "+G.message),E=!0,C.__(new be(H,A)),b.close()}else we(Wn,`RPC '${e}' stream ${s} received:`,M),C.a_(M)}})),N(d,pC.STAT_EVENT,(D=>{D.stat===Xy.PROXY?we(Wn,`RPC '${e}' stream ${s} detected buffering proxy`):D.stat===Xy.NOPROXY&&we(Wn,`RPC '${e}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{C.o_()}),0),C}terminate(){this.u_.forEach((e=>e.close())),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter((n=>n===e))}}function py(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kp(t){return new VV(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(e,n,r=1e3,s=1.5,o=6e4){this.Fi=e,this.timerId=n,this.d_=r,this.E_=s,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const n=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),s=Math.max(0,n-r);s>0&&we("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,s,(()=>(this.m_=Date.now(),e()))),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jT="PersistentStream";class hR{constructor(e,n,r,s,o,u,d,f){this.Fi=e,this.w_=r,this.S_=s,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=d,this.listener=f,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new fR(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,(()=>this.L_())))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===ue.RESOURCE_EXHAUSTED?(Ds(n.toString()),Ds("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===ue.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(n)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,s])=>{this.b_===n&&this.W_(r,s)}),(r=>{e((()=>{const s=new be(ue.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(s)}))}))}W_(e,n){const r=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.e_((()=>{r((()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,(()=>(this.x_()&&(this.state=3),Promise.resolve()))),this.listener.e_())))})),this.stream.n_((s=>{r((()=>this.G_(s)))})),this.stream.onMessage((s=>{r((()=>++this.C_==1?this.j_(s):this.onNext(s)))}))}O_(){this.state=5,this.F_.g_((async()=>{this.state=0,this.start()}))}G_(e){return we(jT,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget((()=>this.b_===e?n():(we(jT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class P3 extends hR{constructor(e,n,r,s,o,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,u),this.serializer=o}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const n=zV(this.serializer,e),r=(function(o){if(!("targetChange"in o))return Be.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?Be.min():u.readTime?Xi(u.readTime):Be.min()})(e);return this.listener.J_(n,r)}H_(e){const n={};n.database=l0(this.serializer),n.addTarget=(function(o,u){let d;const f=u.target;if(d=n0(f)?{documents:HV(o,f)}:{query:qV(o,f).Vt},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){d.resumeToken=tR(o,u.resumeToken);const h=s0(o,u.expectedCount);h!==null&&(d.expectedCount=h)}else if(u.snapshotVersion.compareTo(Be.min())>0){d.readTime=Um(o,u.snapshotVersion.toTimestamp());const h=s0(o,u.expectedCount);h!==null&&(d.expectedCount=h)}return d})(this.serializer,e);const r=$V(this.serializer,e);r&&(n.labels=r),this.k_(n)}Y_(e){const n={};n.database=l0(this.serializer),n.removeTarget=e,this.k_(n)}}class j3 extends hR{constructor(e,n,r,s,o,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,u),this.serializer=o}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return vt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,vt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){vt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const n=FV(e.writeResults,e.commitTime),r=Xi(e.commitTime);return this.listener.ta(r,n)}na(){const e={};e.database=l0(this.serializer),this.k_(e)}X_(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>BV(this.serializer,r)))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M3{}class V3 extends M3{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ra=!1}ia(){if(this.ra)throw new be(ue.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,s){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,u])=>this.connection.Wo(e,a0(n,r),s,o,u))).catch((o=>{throw o.name==="FirebaseError"?(o.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new be(ue.UNKNOWN,o.toString())}))}Jo(e,n,r,s,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,d])=>this.connection.Jo(e,a0(n,r),s,u,d,o))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new be(ue.UNKNOWN,u.toString())}))}terminate(){this.ra=!0,this.connection.terminate()}}class L3{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve()))))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Ds(n),this._a=!1):we("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fo="RemoteStore";class U3{constructor(e,n,r,s,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=o,this.Ea.xo((u=>{r.enqueueAndForget((async()=>{Yo(this)&&(we(Fo,"Restarting streams for network reachability change."),await(async function(f){const h=He(f);h.Ia.add(4),await Gd(h),h.Aa.set("Unknown"),h.Ia.delete(4),await Dp(h)})(this))}))})),this.Aa=new L3(r,s)}}async function Dp(t){if(Yo(t))for(const e of t.da)await e(!0)}async function Gd(t){for(const e of t.da)await e(!1)}function mR(t,e){const n=He(t);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),Db(n)?kb(n):Eu(n).x_()&&Nb(n,e))}function Ib(t,e){const n=He(t),r=Eu(n);n.Ta.delete(e),r.x_()&&pR(n,e),n.Ta.size===0&&(r.x_()?r.B_():Yo(n)&&n.Aa.set("Unknown"))}function Nb(t,e){if(t.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Be.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Eu(t).H_(e)}function pR(t,e){t.Ra.$e(e),Eu(t).Y_(e)}function kb(t){t.Ra=new OV({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.Ta.get(e)||null,lt:()=>t.datastore.serializer.databaseId}),Eu(t).start(),t.Aa.aa()}function Db(t){return Yo(t)&&!Eu(t).M_()&&t.Ta.size>0}function Yo(t){return He(t).Ia.size===0}function gR(t){t.Ra=void 0}async function z3(t){t.Aa.set("Online")}async function B3(t){t.Ta.forEach(((e,n)=>{Nb(t,e)}))}async function F3(t,e){gR(t),Db(t)?(t.Aa.la(e),kb(t)):t.Aa.set("Unknown")}async function H3(t,e,n){if(t.Aa.set("Online"),e instanceof eR&&e.state===2&&e.cause)try{await(async function(s,o){const u=o.cause;for(const d of o.targetIds)s.Ta.has(d)&&(await s.remoteSyncer.rejectListen(d,u),s.Ta.delete(d),s.Ra.removeTarget(d))})(t,e)}catch(r){we(Fo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Bm(t,r)}else if(e instanceof fm?t.Ra.Ye(e):e instanceof JC?t.Ra.it(e):t.Ra.et(e),!n.isEqual(Be.min()))try{const r=await dR(t.localStore);n.compareTo(r)>=0&&await(function(o,u){const d=o.Ra.Pt(u);return d.targetChanges.forEach(((f,h)=>{if(f.resumeToken.approximateByteSize()>0){const g=o.Ta.get(h);g&&o.Ta.set(h,g.withResumeToken(f.resumeToken,u))}})),d.targetMismatches.forEach(((f,h)=>{const g=o.Ta.get(f);if(!g)return;o.Ta.set(f,g.withResumeToken($n.EMPTY_BYTE_STRING,g.snapshotVersion)),pR(o,f);const b=new Sa(g.target,f,h,g.sequenceNumber);Nb(o,b)})),o.remoteSyncer.applyRemoteEvent(d)})(t,n)}catch(r){we(Fo,"Failed to raise snapshot:",r),await Bm(t,r)}}async function Bm(t,e,n){if(!xu(e))throw e;t.Ia.add(1),await Gd(t),t.Aa.set("Offline"),n||(n=()=>dR(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{we(Fo,"Retrying IndexedDB access"),await n(),t.Ia.delete(1),await Dp(t)}))}function vR(t,e){return e().catch((n=>Bm(t,n,e)))}async function Op(t){const e=He(t),n=La(e);let r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:pb;for(;q3(e);)try{const s=await S3(e.localStore,r);if(s===null){e.Pa.length===0&&n.B_();break}r=s.batchId,G3(e,s)}catch(s){await Bm(e,s)}yR(e)&&bR(e)}function q3(t){return Yo(t)&&t.Pa.length<10}function G3(t,e){t.Pa.push(e);const n=La(t);n.x_()&&n.Z_&&n.X_(e.mutations)}function yR(t){return Yo(t)&&!La(t).M_()&&t.Pa.length>0}function bR(t){La(t).start()}async function $3(t){La(t).na()}async function K3(t){const e=La(t);for(const n of t.Pa)e.X_(n.mutations)}async function Y3(t,e,n){const r=t.Pa.shift(),s=xb.from(r,e,n);await vR(t,(()=>t.remoteSyncer.applySuccessfulWrite(s))),await Op(t)}async function W3(t,e){e&&La(t).Z_&&await(async function(r,s){if((function(u){return kV(u)&&u!==ue.ABORTED})(s.code)){const o=r.Pa.shift();La(r).N_(),await vR(r,(()=>r.remoteSyncer.rejectFailedWrite(o.batchId,s))),await Op(r)}})(t,e),yR(t)&&bR(t)}async function MT(t,e){const n=He(t);n.asyncQueue.verifyOperationInProgress(),we(Fo,"RemoteStore received new credentials");const r=Yo(n);n.Ia.add(3),await Gd(n),r&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),await Dp(n)}async function Q3(t,e){const n=He(t);e?(n.Ia.delete(2),await Dp(n)):e||(n.Ia.add(2),await Gd(n),n.Aa.set("Unknown"))}function Eu(t){return t.Va||(t.Va=(function(n,r,s){const o=He(n);return o.ia(),new P3(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)})(t.datastore,t.asyncQueue,{Zo:z3.bind(null,t),e_:B3.bind(null,t),n_:F3.bind(null,t),J_:H3.bind(null,t)}),t.da.push((async e=>{e?(t.Va.N_(),Db(t)?kb(t):t.Aa.set("Unknown")):(await t.Va.stop(),gR(t))}))),t.Va}function La(t){return t.ma||(t.ma=(function(n,r,s){const o=He(n);return o.ia(),new j3(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),e_:$3.bind(null,t),n_:W3.bind(null,t),ea:K3.bind(null,t),ta:Y3.bind(null,t)}),t.da.push((async e=>{e?(t.ma.N_(),await Op(t)):(await t.ma.stop(),t.Pa.length>0&&(we(Fo,`Stopping write stream with ${t.Pa.length} pending writes`),t.Pa=[]))}))),t.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob{constructor(e,n,r,s,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=o,this.deferred=new Na,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,o){const u=Date.now()+r,d=new Ob(e,n,u,s,o);return d.start(r),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new be(ue.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Pb(t,e){if(Ds("AsyncQueue",`${e}: ${t}`),xu(t))return new be(ue.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{static emptySet(e){return new Zl(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ie.comparator(n.key,r.key):(n,r)=>Ie.comparator(n.key,r.key),this.keyedMap=Mc(),this.sortedSet=new Yt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Zl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=r.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Zl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{constructor(){this.fa=new Yt(Ie.comparator)}track(e){const n=e.doc.key,r=this.fa.get(n);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(n,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(n):e.type===1&&r.type===2?this.fa=this.fa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):Ve(63341,{At:e,ga:r}):this.fa=this.fa.insert(n,e)}pa(){const e=[];return this.fa.inorderTraversal(((n,r)=>{e.push(r)})),e}}class uu{constructor(e,n,r,s,o,u,d,f,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=d,this.excludesMetadataChanges=f,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,s,o){const u=[];return n.forEach((d=>{u.push({type:0,doc:d})})),new uu(e,n,Zl.emptySet(n),u,r,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ap(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X3{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some((e=>e.ba()))}}class Z3{constructor(){this.queries=LT(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,r){const s=He(n),o=s.queries;s.queries=LT(),o.forEach(((u,d)=>{for(const f of d.wa)f.onError(r)}))})(this,new be(ue.ABORTED,"Firestore shutting down"))}}function LT(){return new Ko((t=>zC(t)),Ap)}async function _R(t,e){const n=He(t);let r=3;const s=e.query;let o=n.queries.get(s);o?!o.Sa()&&e.ba()&&(r=2):(o=new X3,r=e.ba()?0:1);try{switch(r){case 0:o.ya=await n.onListen(s,!0);break;case 1:o.ya=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(u){const d=Pb(u,`Initialization of query '${Ul(e.query)}' failed`);return void e.onError(d)}n.queries.set(s,o),o.wa.push(e),e.va(n.onlineState),o.ya&&e.Ca(o.ya)&&jb(n)}async function wR(t,e){const n=He(t),r=e.query;let s=3;const o=n.queries.get(r);if(o){const u=o.wa.indexOf(e);u>=0&&(o.wa.splice(u,1),o.wa.length===0?s=e.ba()?0:1:!o.Sa()&&e.ba()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function J3(t,e){const n=He(t);let r=!1;for(const s of e){const o=s.query,u=n.queries.get(o);if(u){for(const d of u.wa)d.Ca(s)&&(r=!0);u.ya=s}}r&&jb(n)}function eL(t,e,n){const r=He(t),s=r.queries.get(e);if(s)for(const o of s.wa)o.onError(n);r.queries.delete(e)}function jb(t){t.Da.forEach((e=>{e.next()}))}var d0,UT;(UT=d0||(d0={})).Fa="default",UT.Cache="cache";class xR{constructor(e,n,r){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new uu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;const r=n!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=uu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==d0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(e){this.key=e}}class TR{constructor(e){this.key=e}}class tL{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=it(),this.mutatedKeys=it(),this.Xa=BC(e),this.eu=new Zl(this.Xa)}get tu(){return this.Ha}nu(e,n){const r=n?n.ru:new VT,s=n?n.eu:this.eu;let o=n?n.mutatedKeys:this.mutatedKeys,u=s,d=!1;const f=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,h=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((g,b)=>{const _=s.get(g),E=Cp(this.query,b)?b:null,C=!!_&&this.mutatedKeys.has(_.key),N=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let D=!1;_&&E?_.data.isEqual(E.data)?C!==N&&(r.track({type:3,doc:E}),D=!0):this.iu(_,E)||(r.track({type:2,doc:E}),D=!0,(f&&this.Xa(E,f)>0||h&&this.Xa(E,h)<0)&&(d=!0)):!_&&E?(r.track({type:0,doc:E}),D=!0):_&&!E&&(r.track({type:1,doc:_}),D=!0,(f||h)&&(d=!0)),D&&(E?(u=u.add(E),o=N?o.add(g):o.delete(g)):(u=u.delete(g),o=o.delete(g)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const g=this.query.limitType==="F"?u.last():u.first();u=u.delete(g.key),o=o.delete(g.key),r.track({type:1,doc:g})}return{eu:u,ru:r,Ds:d,mutatedKeys:o}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const o=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const u=e.ru.pa();u.sort(((g,b)=>(function(E,C){const N=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ve(20277,{At:D})}};return N(E)-N(C)})(g.type,b.type)||this.Xa(g.doc,b.doc))),this.su(r),s=s!=null&&s;const d=n&&!s?this.ou():[],f=this.Za.size===0&&this.current&&!s?1:0,h=f!==this.Ya;return this.Ya=f,u.length!==0||h?{snapshot:new uu(this.query,e.eu,o,u,e.mutatedKeys,f===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:d}:{_u:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new VT,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach((n=>this.Ha=this.Ha.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ha=this.Ha.delete(n))),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=it(),this.eu.forEach((r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))}));const n=[];return e.forEach((r=>{this.Za.has(r)||n.push(new TR(r))})),this.Za.forEach((r=>{e.has(r)||n.push(new ER(r))})),n}uu(e){this.Ha=e.qs,this.Za=it();const n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return uu.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const Mb="SyncEngine";class nL{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class rL{constructor(e){this.key=e,this.lu=!1}}class iL{constructor(e,n,r,s,o,u){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.hu={},this.Pu=new Ko((d=>zC(d)),Ap),this.Tu=new Map,this.Iu=new Set,this.du=new Yt(Ie.comparator),this.Eu=new Map,this.Au=new Sb,this.Ru={},this.Vu=new Map,this.mu=lu.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function sL(t,e,n=!0){const r=NR(t);let s;const o=r.Pu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),s=o.view.cu()):s=await SR(r,e,n,!0),s}async function aL(t,e){const n=NR(t);await SR(n,e,!0,!1)}async function SR(t,e,n,r){const s=await A3(t.localStore,Qi(e)),o=s.targetId,u=t.sharedClientState.addLocalQueryTarget(o,n);let d;return r&&(d=await oL(t,e,o,u==="current",s.resumeToken)),t.isPrimaryClient&&n&&mR(t.remoteStore,s),d}async function oL(t,e,n,r,s){t.gu=(b,_,E)=>(async function(N,D,U,M){let z=D.view.nu(U);z.Ds&&(z=await kT(N.localStore,D.query,!1).then((({documents:A})=>D.view.nu(A,z))));const G=M&&M.targetChanges.get(D.targetId),K=M&&M.targetMismatches.get(D.targetId)!=null,H=D.view.applyChanges(z,N.isPrimaryClient,G,K);return BT(N,D.targetId,H._u),H.snapshot})(t,b,_,E);const o=await kT(t.localStore,e,!0),u=new tL(e,o.qs),d=u.nu(o.documents),f=qd.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),h=u.applyChanges(d,t.isPrimaryClient,f);BT(t,n,h._u);const g=new nL(e,n,u);return t.Pu.set(e,g),t.Tu.has(n)?t.Tu.get(n).push(e):t.Tu.set(n,[e]),h.snapshot}async function lL(t,e,n){const r=He(t),s=r.Pu.get(e),o=r.Tu.get(s.targetId);if(o.length>1)return r.Tu.set(s.targetId,o.filter((u=>!Ap(u,e)))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await u0(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Ib(r.remoteStore,s.targetId),f0(r,s.targetId)})).catch(wu)):(f0(r,s.targetId),await u0(r.localStore,s.targetId,!0))}async function uL(t,e){const n=He(t),r=n.Pu.get(e),s=n.Tu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Ib(n.remoteStore,r.targetId))}async function cL(t,e,n){const r=vL(t);try{const s=await(function(u,d){const f=He(u),h=zt.now(),g=d.reduce(((E,C)=>E.add(C.key)),it());let b,_;return f.persistence.runTransaction("Locally write mutations","readwrite",(E=>{let C=Os(),N=it();return f.Os.getEntries(E,g).next((D=>{C=D,C.forEach(((U,M)=>{M.isValidDocument()||(N=N.add(U))}))})).next((()=>f.localDocuments.getOverlayedDocuments(E,C))).next((D=>{b=D;const U=[];for(const M of d){const z=AV(M,b.get(M.key).overlayedDocument);z!=null&&U.push(new $a(M.key,z,DC(z.value.mapValue),Oi.exists(!0)))}return f.mutationQueue.addMutationBatch(E,h,U,d)})).next((D=>{_=D;const U=D.applyToLocalDocumentSet(b,N);return f.documentOverlayCache.saveOverlays(E,D.batchId,U)}))})).then((()=>({batchId:_.batchId,changes:HC(b)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),(function(u,d,f){let h=u.Ru[u.currentUser.toKey()];h||(h=new Yt(We)),h=h.insert(d,f),u.Ru[u.currentUser.toKey()]=h})(r,s.batchId,n),await $d(r,s.changes),await Op(r.remoteStore)}catch(s){const o=Pb(s,"Failed to persist write");n.reject(o)}}async function AR(t,e){const n=He(t);try{const r=await E3(n.localStore,e);e.targetChanges.forEach(((s,o)=>{const u=n.Eu.get(o);u&&(vt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?u.lu=!0:s.modifiedDocuments.size>0?vt(u.lu,14607):s.removedDocuments.size>0&&(vt(u.lu,42227),u.lu=!1))})),await $d(n,r,e)}catch(r){await wu(r)}}function zT(t,e,n){const r=He(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Pu.forEach(((o,u)=>{const d=u.view.va(e);d.snapshot&&s.push(d.snapshot)})),(function(u,d){const f=He(u);f.onlineState=d;let h=!1;f.queries.forEach(((g,b)=>{for(const _ of b.wa)_.va(d)&&(h=!0)})),h&&jb(f)})(r.eventManager,e),s.length&&r.hu.J_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function dL(t,e,n){const r=He(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Eu.get(e),o=s&&s.key;if(o){let u=new Yt(Ie.comparator);u=u.insert(o,er.newNoDocument(o,Be.min()));const d=it().add(o),f=new Np(Be.min(),new Map,new Yt(We),u,d);await AR(r,f),r.du=r.du.remove(o),r.Eu.delete(e),Vb(r)}else await u0(r.localStore,e,!1).then((()=>f0(r,e,n))).catch(wu)}async function fL(t,e){const n=He(t),r=e.batch.batchId;try{const s=await x3(n.localStore,e);RR(n,r,null),CR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await $d(n,s)}catch(s){await wu(s)}}async function hL(t,e,n){const r=He(t);try{const s=await(function(u,d){const f=He(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",(h=>{let g;return f.mutationQueue.lookupMutationBatch(h,d).next((b=>(vt(b!==null,37113),g=b.keys(),f.mutationQueue.removeMutationBatch(h,b)))).next((()=>f.mutationQueue.performConsistencyCheck(h))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(h,g,d))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,g))).next((()=>f.localDocuments.getDocuments(h,g)))}))})(r.localStore,e);RR(r,e,n),CR(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await $d(r,s)}catch(s){await wu(s)}}function CR(t,e){(t.Vu.get(e)||[]).forEach((n=>{n.resolve()})),t.Vu.delete(e)}function RR(t,e,n){const r=He(t);let s=r.Ru[r.currentUser.toKey()];if(s){const o=s.get(e);o&&(n?o.reject(n):o.resolve(),s=s.remove(e)),r.Ru[r.currentUser.toKey()]=s}}function f0(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Tu.get(e))t.Pu.delete(r),n&&t.hu.pu(r,n);t.Tu.delete(e),t.isPrimaryClient&&t.Au.zr(e).forEach((r=>{t.Au.containsKey(r)||IR(t,r)}))}function IR(t,e){t.Iu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Ib(t.remoteStore,n),t.du=t.du.remove(e),t.Eu.delete(n),Vb(t))}function BT(t,e,n){for(const r of n)r instanceof ER?(t.Au.addReference(r.key,e),mL(t,r)):r instanceof TR?(we(Mb,"Document no longer in limbo: "+r.key),t.Au.removeReference(r.key,e),t.Au.containsKey(r.key)||IR(t,r.key)):Ve(19791,{yu:r})}function mL(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Iu.has(r)||(we(Mb,"New document in limbo: "+n),t.Iu.add(r),Vb(t))}function Vb(t){for(;t.Iu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Iu.values().next().value;t.Iu.delete(e);const n=new Ie(Ot.fromString(e)),r=t.mu.next();t.Eu.set(r,new rL(n)),t.du=t.du.insert(n,r),mR(t.remoteStore,new Sa(Qi(Sp(n.path)),r,"TargetPurposeLimboResolution",xp.ue))}}async function $d(t,e,n){const r=He(t),s=[],o=[],u=[];r.Pu.isEmpty()||(r.Pu.forEach(((d,f)=>{u.push(r.gu(f,e,n).then((h=>{var g;if((h||n)&&r.isPrimaryClient){const b=h?!h.fromCache:(g=n==null?void 0:n.targetChanges.get(f.targetId))===null||g===void 0?void 0:g.current;r.sharedClientState.updateQueryState(f.targetId,b?"current":"not-current")}if(h){s.push(h);const b=Cb.Es(f.targetId,h);o.push(b)}})))})),await Promise.all(u),r.hu.J_(s),await(async function(f,h){const g=He(f);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>ce.forEach(h,(_=>ce.forEach(_.Is,(E=>g.persistence.referenceDelegate.addReference(b,_.targetId,E))).next((()=>ce.forEach(_.ds,(E=>g.persistence.referenceDelegate.removeReference(b,_.targetId,E)))))))))}catch(b){if(!xu(b))throw b;we(Rb,"Failed to update sequence numbers: "+b)}for(const b of h){const _=b.targetId;if(!b.fromCache){const E=g.Fs.get(_),C=E.snapshotVersion,N=E.withLastLimboFreeSnapshotVersion(C);g.Fs=g.Fs.insert(_,N)}}})(r.localStore,o))}async function pL(t,e){const n=He(t);if(!n.currentUser.isEqual(e)){we(Mb,"User change. New user:",e.toKey());const r=await cR(n.localStore,e);n.currentUser=e,(function(o,u){o.Vu.forEach((d=>{d.forEach((f=>{f.reject(new be(ue.CANCELLED,u))}))})),o.Vu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await $d(n,r.Bs)}}function gL(t,e){const n=He(t),r=n.Eu.get(e);if(r&&r.lu)return it().add(r.key);{let s=it();const o=n.Tu.get(e);if(!o)return s;for(const u of o){const d=n.Pu.get(u);s=s.unionWith(d.view.tu)}return s}}function NR(t){const e=He(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=AR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=gL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=dL.bind(null,e),e.hu.J_=J3.bind(null,e.eventManager),e.hu.pu=eL.bind(null,e.eventManager),e}function vL(t){const e=He(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=fL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=hL.bind(null,e),e}class Fm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=kp(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,n){return null}Fu(e,n){return null}vu(e){return w3(this.persistence,new y3,e.initialUser,this.serializer)}Du(e){return new uR(Ab.Vi,this.serializer)}bu(e){return new R3}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Fm.provider={build:()=>new Fm};class yL extends Fm{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){vt(this.persistence.referenceDelegate instanceof zm,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new r3(r,e.asyncQueue,n)}Du(e){const n=this.cacheSizeBytes!==void 0?Or.withCacheSize(this.cacheSizeBytes):Or.DEFAULT;return new uR((r=>zm.Vi(r,n)),this.serializer)}}class h0{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>zT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=pL.bind(null,this.syncEngine),await Q3(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Z3})()}createDatastore(e){const n=kp(e.databaseInfo.databaseId),r=(function(o){return new O3(o)})(e.databaseInfo);return(function(o,u,d,f){return new V3(o,u,d,f)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,s,o,u,d){return new U3(r,s,o,u,d)})(this.localStore,this.datastore,e.asyncQueue,(n=>zT(this.syncEngine,n,0)),(function(){return PT.C()?new PT:new I3})())}createSyncEngine(e,n){return(function(s,o,u,d,f,h,g){const b=new iL(s,o,u,d,f,h);return g&&(b.fu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(s){const o=He(s);we(Fo,"RemoteStore shutting down."),o.Ia.add(5),await Gd(o),o.Ea.shutdown(),o.Aa.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}h0.provider={build:()=>new h0};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Ds("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ua="FirestoreClient";class bL{constructor(e,n,r,s,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Jn.UNAUTHENTICATED,this.clientId=mb.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,(async u=>{we(Ua,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(r,(u=>(we(Ua,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Na;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Pb(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function gy(t,e){t.asyncQueue.verifyOperationInProgress(),we(Ua,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async s=>{r.isEqual(s)||(await cR(e.localStore,s),r=s)})),e.persistence.setDatabaseDeletedListener((()=>{Oa("Terminating Firestore due to IndexedDb database deletion"),t.terminate().then((()=>{we("Terminating Firestore due to IndexedDb database deletion completed successfully")})).catch((s=>{Oa("Terminating Firestore due to IndexedDb database deletion failed",s)}))})),t._offlineComponents=e}async function FT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await _L(t);we(Ua,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>MT(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,s)=>MT(e.remoteStore,s))),t._onlineComponents=e}async function _L(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){we(Ua,"Using user provided OfflineComponentProvider");try{await gy(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(s){return s.name==="FirebaseError"?s.code===ue.FAILED_PRECONDITION||s.code===ue.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(n))throw n;Oa("Error using user provided cache. Falling back to memory cache: "+n),await gy(t,new Fm)}}else we(Ua,"Using default OfflineComponentProvider"),await gy(t,new yL(void 0));return t._offlineComponents}async function DR(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(we(Ua,"Using user provided OnlineComponentProvider"),await FT(t,t._uninitializedComponentsProvider._online)):(we(Ua,"Using default OnlineComponentProvider"),await FT(t,new h0))),t._onlineComponents}function wL(t){return DR(t).then((e=>e.syncEngine))}async function m0(t){const e=await DR(t),n=e.eventManager;return n.onListen=sL.bind(null,e.syncEngine),n.onUnlisten=lL.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=aL.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=uL.bind(null,e.syncEngine),n}function xL(t,e,n={}){const r=new Na;return t.asyncQueue.enqueueAndForget((async()=>(function(o,u,d,f,h){const g=new kR({next:_=>{g.Ou(),u.enqueueAndForget((()=>wR(o,b)));const E=_.docs.has(d);!E&&_.fromCache?h.reject(new be(ue.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&_.fromCache&&f&&f.source==="server"?h.reject(new be(ue.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(_)},error:_=>h.reject(_)}),b=new xR(Sp(d.path),g,{includeMetadataChanges:!0,ka:!0});return _R(o,b)})(await m0(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OR(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PR="firestore.googleapis.com",qT=!0;class GT{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new be(ue.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=PR,this.ssl=qT}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:qT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=lR;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<t3)throw new be(ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}zM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=OR((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new be(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new be(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new be(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,s){return r.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Pp{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new GT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new be(ue.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new be(ue.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new GT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new kM;switch(r.type){case"firstParty":return new jM(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new be(ue.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=HT.get(n);r&&(we("ComponentProvider","Removing Datastore"),HT.delete(n),r.terminate())})(this),Promise.resolve()}}function EL(t,e,n,r={}){var s;t=Wi(t,Pp);const o=js(e),u=t._getSettings(),d=Object.assign(Object.assign({},u),{emulatorOptions:t._getEmulatorOptions()}),f=`${e}:${n}`;o&&(pp(`https://${f}`),gp("Firestore",!0)),u.host!==PR&&u.host!==f&&Oa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h=Object.assign(Object.assign({},u),{host:f,ssl:o,emulatorOptions:r});if(!Lo(h,d)&&(t._setSettings(h),r.mockUserToken)){let g,b;if(typeof r.mockUserToken=="string")g=r.mockUserToken,b=Jn.MOCK_USER;else{g=C2(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new be(ue.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new Jn(_)}t._authCredentials=new DM(new bC(g,b))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Tu(this.firestore,e,this._query)}}class cn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ka(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new cn(this.firestore,e,this._key)}toJSON(){return{type:cn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Bd(n,cn._jsonSchema))return new cn(e,r||null,new Ie(Ot.fromString(n.referencePath)))}}cn._jsonSchemaVersion="firestore/documentReference/1.0",cn._jsonSchema={type:_n("string",cn._jsonSchemaVersion),referencePath:_n("string")};class ka extends Tu{constructor(e,n,r){super(e,n,Sp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new cn(this.firestore,null,new Ie(e))}withConverter(e){return new ka(this.firestore,e,this._path)}}function Ka(t,e,...n){if(t=It(t),wC("collection","path",e),t instanceof Pp){const r=Ot.fromString(e,...n);return iT(r),new ka(t,null,r)}{if(!(t instanceof cn||t instanceof ka))throw new be(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ot.fromString(e,...n));return iT(r),new ka(t.firestore,null,r)}}function Su(t,e,...n){if(t=It(t),arguments.length===1&&(e=mb.newId()),wC("doc","path",e),t instanceof Pp){const r=Ot.fromString(e,...n);return rT(r),new cn(t,null,new Ie(r))}{if(!(t instanceof cn||t instanceof ka))throw new be(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ot.fromString(e,...n));return rT(r),new cn(t.firestore,t instanceof ka?t.converter:null,new Ie(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $T="AsyncQueue";class KT{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new fR(this,"async_queue_retry"),this.oc=()=>{const r=py();r&&we($T,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;const n=py();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const n=py();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise((()=>{}));const n=new Na;return this.uc((()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Zu.push(e),this.cc())))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!xu(e))throw e;we($T,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_((()=>this.cc()))}}uc(e){const n=this._c.then((()=>(this.nc=!0,e().catch((r=>{throw this.tc=r,this.nc=!1,Ds("INTERNAL UNHANDLED ERROR: ",YT(r)),r})).then((r=>(this.nc=!1,r))))));return this._c=n,n}enqueueAfterDelay(e,n,r){this.ac(),this.sc.indexOf(e)>-1&&(n=0);const s=Ob.createAndSchedule(this,e,n,r,(o=>this.lc(o)));return this.ec.push(s),s}ac(){this.tc&&Ve(47125,{hc:YT(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then((()=>{this.ec.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()}))}dc(e){this.sc.push(e)}lc(e){const n=this.ec.indexOf(e);this.ec.splice(n,1)}}function YT(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WT(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const o of r)if(o in s&&typeof s[o]=="function")return!0;return!1})(t,["next","error","complete"])}class Ho extends Pp{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new KT,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new KT(e),this._firestoreClient=void 0,await e}}}function TL(t,e){const n=typeof t=="object"?t:vp(),r=typeof t=="string"?t:Om,s=Md(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const o=J0("firestore");o&&EL(s,...o)}return s}function Lb(t){if(t._terminated)throw new be(ue.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||SL(t),t._firestoreClient}function SL(t){var e,n,r;const s=t._freezeSettings(),o=(function(d,f,h,g){return new XM(d,f,h,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,OR(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new bL(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&(function(d){const f=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(f),_online:f}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new mi($n.fromBase64String(e))}catch(n){throw new be(ue.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new mi($n.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:mi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Bd(e,mi._jsonSchema))return mi.fromBase64String(e.bytes)}}mi._jsonSchemaVersion="firestore/bytes/1.0",mi._jsonSchema={type:_n("string",mi._jsonSchemaVersion),bytes:_n("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new be(ue.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Gn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new be(ue.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new be(ue.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return We(this._lat,e._lat)||We(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Zi._jsonSchemaVersion}}static fromJSON(e){if(Bd(e,Zi._jsonSchema))return new Zi(e.latitude,e.longitude)}}Zi._jsonSchemaVersion="firestore/geoPoint/1.0",Zi._jsonSchema={type:_n("string",Zi._jsonSchemaVersion),latitude:_n("number"),longitude:_n("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,s){if(r.length!==s.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==s[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ji._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Bd(e,Ji._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Ji(e.vectorValues);throw new be(ue.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ji._jsonSchemaVersion="firestore/vectorValue/1.0",Ji._jsonSchema={type:_n("string",Ji._jsonSchemaVersion),vectorValues:_n("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AL=/^__.*__$/;class CL{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new $a(e,this.data,this.fieldMask,n,this.fieldTransforms):new Hd(e,this.data,n,this.fieldTransforms)}}class jR{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new $a(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function MR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ve(40011,{Ec:t})}}class zb{constructor(e,n,r,s,o,u){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,o===void 0&&this.Ac(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new zb(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Rc({path:r,mc:!1});return s.fc(e),s}gc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Rc({path:r,mc:!1});return s.Ac(),s}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Hm(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(MR(this.Ec)&&AL.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class RL{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||kp(e)}Dc(e,n,r,s=!1){return new zb({Ec:e,methodName:n,bc:r,path:Gn.emptyPath(),mc:!1,Sc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Bb(t){const e=t._freezeSettings(),n=kp(t._databaseId);return new RL(t._databaseId,!!e.ignoreUndefinedProperties,n)}function IL(t,e,n,r,s,o={}){const u=t.Dc(o.merge||o.mergeFields?2:0,e,n,s);Fb("Data must be an object, but it was:",u,r);const d=VR(r,u);let f,h;if(o.merge)f=new Kr(u.fieldMask),h=u.fieldTransforms;else if(o.mergeFields){const g=[];for(const b of o.mergeFields){const _=p0(e,b,n);if(!u.contains(_))throw new be(ue.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);UR(g,_)||g.push(_)}f=new Kr(g),h=u.fieldTransforms.filter((b=>f.covers(b.field)))}else f=null,h=u.fieldTransforms;return new CL(new Pr(d),f,h)}class Mp extends Ub{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Mp}}function NL(t,e,n,r){const s=t.Dc(1,e,n);Fb("Data must be an object, but it was:",s,r);const o=[],u=Pr.empty();Ga(r,((f,h)=>{const g=Hb(e,f,n);h=It(h);const b=s.gc(g);if(h instanceof Mp)o.push(g);else{const _=Kd(h,b);_!=null&&(o.push(g),u.set(g,_))}}));const d=new Kr(o);return new jR(u,d,s.fieldTransforms)}function kL(t,e,n,r,s,o){const u=t.Dc(1,e,n),d=[p0(e,r,n)],f=[s];if(o.length%2!=0)throw new be(ue.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<o.length;_+=2)d.push(p0(e,o[_])),f.push(o[_+1]);const h=[],g=Pr.empty();for(let _=d.length-1;_>=0;--_)if(!UR(h,d[_])){const E=d[_];let C=f[_];C=It(C);const N=u.gc(E);if(C instanceof Mp)h.push(E);else{const D=Kd(C,N);D!=null&&(h.push(E),g.set(E,D))}}const b=new Kr(h);return new jR(g,b,u.fieldTransforms)}function DL(t,e,n,r=!1){return Kd(n,t.Dc(r?4:3,e))}function Kd(t,e){if(LR(t=It(t)))return Fb("Unsupported field value:",e,t),VR(t,e);if(t instanceof Ub)return(function(r,s){if(!MR(s.Ec))throw s.wc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.wc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(s);o&&s.fieldTransforms.push(o)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return(function(r,s){const o=[];let u=0;for(const d of r){let f=Kd(d,s.yc(u));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),u++}return{arrayValue:{values:o}}})(t,e)}return(function(r,s){if((r=It(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return _V(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=zt.fromDate(r);return{timestampValue:Um(s.serializer,o)}}if(r instanceof zt){const o=new zt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Um(s.serializer,o)}}if(r instanceof Zi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof mi)return{bytesValue:tR(s.serializer,r._byteString)};if(r instanceof cn){const o=s.databaseId,u=r.firestore._databaseId;if(!u.isEqual(o))throw s.wc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Tb(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Ji)return(function(u,d){return{mapValue:{fields:{[NC]:{stringValue:kC},[Pm]:{arrayValue:{values:u.toArray().map((h=>{if(typeof h!="number")throw d.wc("VectorValues must only contain numeric values.");return _b(d.serializer,h)}))}}}}}})(r,s);throw s.wc(`Unsupported field value: ${wp(r)}`)})(t,e)}function VR(t,e){const n={};return TC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ga(t,((r,s)=>{const o=Kd(s,e.Vc(r));o!=null&&(n[r]=o)})),{mapValue:{fields:n}}}function LR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof zt||t instanceof Zi||t instanceof mi||t instanceof cn||t instanceof Ub||t instanceof Ji)}function Fb(t,e,n){if(!LR(n)||!xC(n)){const r=wp(n);throw r==="an object"?e.wc(t+" a custom object"):e.wc(t+" "+r)}}function p0(t,e,n){if((e=It(e))instanceof jp)return e._internalPath;if(typeof e=="string")return Hb(t,e);throw Hm("Field path arguments must be of type string or ",t,!1,void 0,n)}const OL=new RegExp("[~\\*/\\[\\]]");function Hb(t,e,n){if(e.search(OL)>=0)throw Hm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new jp(...e.split("."))._internalPath}catch{throw Hm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Hm(t,e,n,r,s){const o=r&&!r.isEmpty(),u=s!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let f="";return(o||u)&&(f+=" (found",o&&(f+=` in field ${r}`),u&&(f+=` in document ${s}`),f+=")"),new be(ue.INVALID_ARGUMENT,d+t+f)}function UR(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{constructor(e,n,r,s,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new cn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new PL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(qb("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class PL extends zR{data(){return super.data()}}function qb(t,e){return typeof e=="string"?Hb(t,e):e instanceof jp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jL(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new be(ue.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Gb{}class ML extends Gb{}function Vp(t,e,...n){let r=[];e instanceof Gb&&r.push(e),r=r.concat(n),(function(o){const u=o.filter((f=>f instanceof $b)).length,d=o.filter((f=>f instanceof Lp)).length;if(u>1||u>0&&d>0)throw new be(ue.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const s of r)t=s._apply(t);return t}class Lp extends ML{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Lp(e,n,r)}_apply(e){const n=this._parse(e);return BR(e._query,n),new Tu(e.firestore,e.converter,r0(e._query,n))}_parse(e){const n=Bb(e.firestore);return(function(o,u,d,f,h,g,b){let _;if(h.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new be(ue.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){XT(b,g);const C=[];for(const N of b)C.push(QT(f,o,N));_={arrayValue:{values:C}}}else _=QT(f,o,b)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||XT(b,g),_=DL(d,u,b,g==="in"||g==="not-in");return bn.create(h,g,_)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function VL(t,e,n){const r=e,s=qb("where",t);return Lp._create(s,r,n)}class $b extends Gb{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new $b(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:Pi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(s,o){let u=s;const d=o.getFlattenedFilters();for(const f of d)BR(u,f),u=r0(u,f)})(e._query,n),new Tu(e.firestore,e.converter,r0(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function QT(t,e,n){if(typeof(n=It(n))=="string"){if(n==="")throw new be(ue.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!UC(e)&&n.indexOf("/")!==-1)throw new be(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ot.fromString(n));if(!Ie.isDocumentKey(r))throw new be(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return fT(t,new Ie(r))}if(n instanceof cn)return fT(t,n._key);throw new be(ue.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${wp(n)}.`)}function XT(t,e){if(!Array.isArray(t)||t.length===0)throw new be(ue.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function BR(t,e){const n=(function(s,o){for(const u of s)for(const d of u.getFlattenedFilters())if(o.indexOf(d.op)>=0)return d.op;return null})(t.filters,(function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new be(ue.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new be(ue.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class LL{convertValue(e,n="none"){switch(Va(e)){case 0:return null;case 1:return e.booleanValue;case 2:return un(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ma(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ve(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ga(e,((s,o)=>{r[s]=this.convertValue(o,n)})),r}convertVectorValue(e){var n,r,s;const o=(s=(r=(n=e.fields)===null||n===void 0?void 0:n[Pm].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map((u=>un(u.doubleValue)));return new Ji(o)}convertGeoPoint(e){return new Zi(un(e.latitude),un(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Tp(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(bd(e));default:return null}}convertTimestamp(e){const n=ja(e);return new zt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ot.fromString(e);vt(oR(r),9688,{name:e});const s=new _d(r.get(1),r.get(3)),o=new Ie(r.popFirst(5));return s.isEqual(n)||Ds(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UL(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class Lc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Do extends zR{constructor(e,n,r,s,o,u){super(e,n,r,s,u),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new hm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(qb("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new be(ue.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Do._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Do._jsonSchemaVersion="firestore/documentSnapshot/1.0",Do._jsonSchema={type:_n("string",Do._jsonSchemaVersion),bundleSource:_n("string","DocumentSnapshot"),bundleName:_n("string"),bundle:_n("string")};class hm extends Do{data(e={}){return super.data(e)}}class Jl{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Lc(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new hm(this._firestore,this._userDataWriter,r.key,r,new Lc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new be(ue.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(s,o){if(s._snapshot.oldDocs.isEmpty()){let u=0;return s._snapshot.docChanges.map((d=>{const f=new hm(s._firestore,s._userDataWriter,d.doc.key,d.doc,new Lc(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);return d.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}}))}{let u=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((d=>o||d.type!==3)).map((d=>{const f=new hm(s._firestore,s._userDataWriter,d.doc.key,d.doc,new Lc(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);let h=-1,g=-1;return d.type!==0&&(h=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),d.type!==1&&(u=u.add(d.doc),g=u.indexOf(d.doc.key)),{type:zL(d.type),doc:f,oldIndex:h,newIndex:g}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new be(ue.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Jl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=mb.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach((o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),s.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function zL(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ve(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BL(t){t=Wi(t,cn);const e=Wi(t.firestore,Ho);return xL(Lb(e),t._key).then((n=>HR(e,t,n)))}Jl._jsonSchemaVersion="firestore/querySnapshot/1.0",Jl._jsonSchema={type:_n("string",Jl._jsonSchemaVersion),bundleSource:_n("string","QuerySnapshot"),bundleName:_n("string"),bundle:_n("string")};class FR extends LL{constructor(e){super(),this.firestore=e}convertBytes(e){return new mi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new cn(this.firestore,null,n)}}function FL(t,e,n,...r){t=Wi(t,cn);const s=Wi(t.firestore,Ho),o=Bb(s);let u;return u=typeof(e=It(e))=="string"||e instanceof jp?kL(o,"updateDoc",t._key,e,n,r):NL(o,"updateDoc",t._key,e),Yb(s,[u.toMutation(t._key,Oi.exists(!0))])}function Kb(t){return Yb(Wi(t.firestore,Ho),[new wb(t._key,Oi.none())])}function Up(t,e){const n=Wi(t.firestore,Ho),r=Su(t),s=UL(t.converter,e);return Yb(n,[IL(Bb(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Oi.exists(!1))]).then((()=>r))}function zp(t,...e){var n,r,s;t=It(t);let o={includeMetadataChanges:!1,source:"default"},u=0;typeof e[u]!="object"||WT(e[u])||(o=e[u++]);const d={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(WT(e[u])){const b=e[u];e[u]=(n=b.next)===null||n===void 0?void 0:n.bind(b),e[u+1]=(r=b.error)===null||r===void 0?void 0:r.bind(b),e[u+2]=(s=b.complete)===null||s===void 0?void 0:s.bind(b)}let f,h,g;if(t instanceof cn)h=Wi(t.firestore,Ho),g=Sp(t._key.path),f={next:b=>{e[u]&&e[u](HR(h,t,b))},error:e[u+1],complete:e[u+2]};else{const b=Wi(t,Tu);h=Wi(b.firestore,Ho),g=b._query;const _=new FR(h);f={next:E=>{e[u]&&e[u](new Jl(h,_,b,E))},error:e[u+1],complete:e[u+2]},jL(t._query)}return(function(_,E,C,N){const D=new kR(N),U=new xR(E,D,C);return _.asyncQueue.enqueueAndForget((async()=>_R(await m0(_),U))),()=>{D.Ou(),_.asyncQueue.enqueueAndForget((async()=>wR(await m0(_),U)))}})(Lb(h),g,d,f)}function Yb(t,e){return(function(r,s){const o=new Na;return r.asyncQueue.enqueueAndForget((async()=>cL(await wL(r),s,o))),o.promise})(Lb(t),e)}function HR(t,e,n){const r=n.docs.get(e._key),s=new FR(t);return new Do(t,s,e._key,r,new Lc(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){_u=s})($o),Da(new Is("firestore",((r,{instanceIdentifier:s,options:o})=>{const u=r.getProvider("app").getImmediate(),d=new Ho(new OM(r.getProvider("auth-internal")),new MM(u,r.getProvider("app-check-internal")),(function(h,g){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new be(ue.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _d(h.options.projectId,g)})(u,s),u);return o=Object.assign({useFetchStreams:n},o),d._setSettings(o),d}),"PUBLIC").setMultipleInstances(!0)),pi(Z1,J1,e),pi(Z1,J1,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qR="firebasestorage.googleapis.com",GR="storageBucket",HL=120*1e3,qL=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn extends ji{constructor(e,n,r=0){super(vy(e),`Firebase Storage: ${n} (${vy(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,nn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return vy(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var tn;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(tn||(tn={}));function vy(t){return"storage/"+t}function Wb(){const t="An unknown error occurred, please check the error payload for server response.";return new nn(tn.UNKNOWN,t)}function GL(t){return new nn(tn.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function $L(t){return new nn(tn.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function KL(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new nn(tn.UNAUTHENTICATED,t)}function YL(){return new nn(tn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function WL(t){return new nn(tn.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function QL(){return new nn(tn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function XL(){return new nn(tn.CANCELED,"User canceled the upload/download.")}function ZL(t){return new nn(tn.INVALID_URL,"Invalid URL '"+t+"'.")}function JL(t){return new nn(tn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function e6(){return new nn(tn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+GR+"' property when initializing the app?")}function t6(){return new nn(tn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function n6(){return new nn(tn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function r6(t){return new nn(tn.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function g0(t){return new nn(tn.INVALID_ARGUMENT,t)}function $R(){return new nn(tn.APP_DELETED,"The Firebase app was deleted.")}function i6(t){return new nn(tn.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Zc(t,e){return new nn(tn.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Ac(t){throw new nn(tn.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Yr.makeFromUrl(e,n)}catch{return new Yr(e,"")}if(r.path==="")return r;throw JL(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function o(G){G.path.charAt(G.path.length-1)==="/"&&(G.path_=G.path_.slice(0,-1))}const u="(/(.*))?$",d=new RegExp("^gs://"+s+u,"i"),f={bucket:1,path:3};function h(G){G.path_=decodeURIComponent(G.path)}const g="v[A-Za-z0-9_]+",b=n.replace(/[.]/g,"\\."),_="(/([^?#]*).*)?$",E=new RegExp(`^https?://${b}/${g}/b/${s}/o${_}`,"i"),C={bucket:1,path:3},N=n===qR?"(?:storage.googleapis.com|storage.cloud.google.com)":n,D="([^?#]*)",U=new RegExp(`^https?://${N}/${s}/${D}`,"i"),z=[{regex:d,indices:f,postModify:o},{regex:E,indices:C,postModify:h},{regex:U,indices:{bucket:1,path:2},postModify:h}];for(let G=0;G<z.length;G++){const K=z[G],H=K.regex.exec(e);if(H){const A=H[K.indices.bucket];let S=H[K.indices.path];S||(S=""),r=new Yr(A,S),K.postModify(r);break}}if(r==null)throw ZL(e);return r}}class s6{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a6(t,e,n){let r=1,s=null,o=null,u=!1,d=0;function f(){return d===2}let h=!1;function g(...D){h||(h=!0,e.apply(null,D))}function b(D){s=setTimeout(()=>{s=null,t(E,f())},D)}function _(){o&&clearTimeout(o)}function E(D,...U){if(h){_();return}if(D){_(),g.call(null,D,...U);return}if(f()||u){_(),g.call(null,D,...U);return}r<64&&(r*=2);let z;d===1?(d=2,z=0):z=(r+Math.random())*1e3,b(z)}let C=!1;function N(D){C||(C=!0,_(),!h&&(s!==null?(D||(d=2),clearTimeout(s),b(0)):D||(d=1)))}return b(0),o=setTimeout(()=>{u=!0,N(!0)},n),N}function o6(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l6(t){return t!==void 0}function u6(t){return typeof t=="object"&&!Array.isArray(t)}function Qb(t){return typeof t=="string"||t instanceof String}function ZT(t){return Xb()&&t instanceof Blob}function Xb(){return typeof Blob<"u"}function JT(t,e,n,r){if(r<e)throw g0(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw g0(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zb(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function KR(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var Oo;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Oo||(Oo={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c6(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||s||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d6{constructor(e,n,r,s,o,u,d,f,h,g,b,_=!0,E=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=o,this.additionalRetryCodes_=u,this.callback_=d,this.errorCallback_=f,this.timeout_=h,this.progressCallback_=g,this.connectionFactory_=b,this.retry=_,this.isUsingEmulator=E,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((C,N)=>{this.resolve_=C,this.reject_=N,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new Dh(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const u=d=>{const f=d.loaded,h=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,h)};this.progressCallback_!==null&&o.addUploadProgressListener(u),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(u),this.pendingConnection_=null;const d=o.getErrorCode()===Oo.NO_ERROR,f=o.getStatus();if(!d||c6(f,this.additionalRetryCodes_)&&this.retry){const g=o.getErrorCode()===Oo.ABORT;r(!1,new Dh(!1,null,g));return}const h=this.successCodes_.indexOf(f)!==-1;r(!0,new Dh(h,o))})},n=(r,s)=>{const o=this.resolve_,u=this.reject_,d=s.connection;if(s.wasSuccessCode)try{const f=this.callback_(d,d.getResponse());l6(f)?o(f):o()}catch(f){u(f)}else if(d!==null){const f=Wb();f.serverResponse=d.getErrorText(),this.errorCallback_?u(this.errorCallback_(d,f)):u(f)}else if(s.canceled){const f=this.appDelete_?$R():XL();u(f)}else{const f=QL();u(f)}};this.canceled_?n(!1,new Dh(!1,null,!0)):this.backoffId_=a6(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&o6(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Dh{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function f6(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function h6(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function m6(t,e){e&&(t["X-Firebase-GMPID"]=e)}function p6(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function g6(t,e,n,r,s,o,u=!0,d=!1){const f=KR(t.urlParams),h=t.url+f,g=Object.assign({},t.headers);return m6(g,e),f6(g,n),h6(g,o),p6(g,r),new d6(h,t.method,g,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,u,d)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v6(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function y6(...t){const e=v6();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(Xb())return new Blob(t);throw new nn(tn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function b6(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _6(t){if(typeof atob>"u")throw r6("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ni={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class yy{constructor(e,n){this.data=e,this.contentType=n||null}}function YR(t,e){switch(t){case Ni.RAW:return new yy(WR(e));case Ni.BASE64:case Ni.BASE64URL:return new yy(QR(t,e));case Ni.DATA_URL:return new yy(x6(e),E6(e))}throw Wb()}function WR(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const o=r,u=t.charCodeAt(++n);r=65536|(o&1023)<<10|u&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function w6(t){let e;try{e=decodeURIComponent(t)}catch{throw Zc(Ni.DATA_URL,"Malformed data URL.")}return WR(e)}function QR(t,e){switch(t){case Ni.BASE64:{const s=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(s||o)throw Zc(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case Ni.BASE64URL:{const s=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(s||o)throw Zc(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=_6(e)}catch(s){throw s.message.includes("polyfill")?s:Zc(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class XR{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Zc(Ni.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=T6(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function x6(t){const e=new XR(t);return e.base64?QR(Ni.BASE64,e.rest):w6(e.rest)}function E6(t){return new XR(t).contentType}function T6(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(e,n){let r=0,s="";ZT(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(ZT(this.data_)){const r=this.data_,s=b6(r,e,n);return s===null?null:new wa(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new wa(r,!0)}}static getBlob(...e){if(Xb()){const n=e.map(r=>r instanceof wa?r.data_:r);return new wa(y6.apply(null,n))}else{const n=e.map(u=>Qb(u)?YR(Ni.RAW,u).data:u.data_);let r=0;n.forEach(u=>{r+=u.byteLength});const s=new Uint8Array(r);let o=0;return n.forEach(u=>{for(let d=0;d<u.length;d++)s[o++]=u[d]}),new wa(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZR(t){let e;try{e=JSON.parse(t)}catch{return null}return u6(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S6(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function A6(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function JR(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C6(t,e){return e}class mr{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||C6}}let Oh=null;function R6(t){return!Qb(t)||t.length<2?t:JR(t)}function eI(){if(Oh)return Oh;const t=[];t.push(new mr("bucket")),t.push(new mr("generation")),t.push(new mr("metageneration")),t.push(new mr("name","fullPath",!0));function e(o,u){return R6(u)}const n=new mr("name");n.xform=e,t.push(n);function r(o,u){return u!==void 0?Number(u):u}const s=new mr("size");return s.xform=r,t.push(s),t.push(new mr("timeCreated")),t.push(new mr("updated")),t.push(new mr("md5Hash",null,!0)),t.push(new mr("cacheControl",null,!0)),t.push(new mr("contentDisposition",null,!0)),t.push(new mr("contentEncoding",null,!0)),t.push(new mr("contentLanguage",null,!0)),t.push(new mr("contentType",null,!0)),t.push(new mr("metadata","customMetadata",!0)),Oh=t,Oh}function I6(t,e){function n(){const r=t.bucket,s=t.fullPath,o=new Yr(r,s);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function N6(t,e,n){const r={};r.type="file";const s=n.length;for(let o=0;o<s;o++){const u=n[o];r[u.local]=u.xform(r,e[u.server])}return I6(r,t),r}function tI(t,e,n){const r=ZR(e);return r===null?null:N6(t,r,n)}function k6(t,e,n,r){const s=ZR(e);if(s===null||!Qb(s.downloadTokens))return null;const o=s.downloadTokens;if(o.length===0)return null;const u=encodeURIComponent;return o.split(",").map(h=>{const g=t.bucket,b=t.fullPath,_="/b/"+u(g)+"/o/"+u(b),E=Zb(_,n,r),C=KR({alt:"media",token:h});return E+C})[0]}function D6(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const o=e[s];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}class nI{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rI(t){if(!t)throw Wb()}function O6(t,e){function n(r,s){const o=tI(t,s,e);return rI(o!==null),o}return n}function P6(t,e){function n(r,s){const o=tI(t,s,e);return rI(o!==null),k6(o,s,t.host,t._protocol)}return n}function iI(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=YL():s=KL():n.getStatus()===402?s=$L(t.bucket):n.getStatus()===403?s=WL(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function j6(t){const e=iI(t);function n(r,s){let o=e(r,s);return r.getStatus()===404&&(o=GL(t.path)),o.serverResponse=s.serverResponse,o}return n}function M6(t,e,n){const r=e.fullServerUrl(),s=Zb(r,t.host,t._protocol),o="GET",u=t.maxOperationRetryTime,d=new nI(s,o,P6(t,n),u);return d.errorHandler=j6(e),d}function V6(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function L6(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=V6(null,e)),r}function U6(t,e,n,r,s){const o=e.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"};function d(){let z="";for(let G=0;G<2;G++)z=z+Math.random().toString().slice(2);return z}const f=d();u["Content-Type"]="multipart/related; boundary="+f;const h=L6(e,r,s),g=D6(h,n),b="--"+f+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+g+`\r
--`+f+`\r
Content-Type: `+h.contentType+`\r
\r
`,_=`\r
--`+f+"--",E=wa.getBlob(b,r,_);if(E===null)throw t6();const C={name:h.fullPath},N=Zb(o,t.host,t._protocol),D="POST",U=t.maxUploadRetryTime,M=new nI(N,D,O6(t,n),U);return M.urlParams=C,M.headers=u,M.body=E.uploadData(),M.errorHandler=iI(e),M}class z6{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Oo.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Oo.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Oo.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s,o){if(this.sent_)throw Ac("cannot .send() more than once");if(js(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),o!==void 0)for(const u in o)o.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,o[u].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ac("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ac("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ac("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ac("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class B6 extends z6{initXhr(){this.xhr_.responseType="text"}}function sI(){return new B6}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(e,n){this._service=e,n instanceof Yr?this._location=n:this._location=Yr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new qo(e,n)}get root(){const e=new Yr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return JR(this._location.path)}get storage(){return this._service}get parent(){const e=S6(this._location.path);if(e===null)return null;const n=new Yr(this._location.bucket,e);return new qo(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw i6(e)}}function aI(t,e,n){t._throwIfRoot("uploadBytes");const r=U6(t.storage,t._location,eI(),new wa(e,!0),n);return t.storage.makeRequestWithTokens(r,sI).then(s=>({metadata:s,ref:t}))}function F6(t,e,n=Ni.RAW,r){t._throwIfRoot("uploadString");const s=YR(n,e),o=Object.assign({},r);return o.contentType==null&&s.contentType!=null&&(o.contentType=s.contentType),aI(t,s.data,o)}function H6(t){t._throwIfRoot("getDownloadURL");const e=M6(t.storage,t._location,eI());return t.storage.makeRequestWithTokens(e,sI).then(n=>{if(n===null)throw n6();return n})}function q6(t,e){const n=A6(t._location.path,e),r=new Yr(t._location.bucket,n);return new qo(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G6(t){return/^[A-Za-z]+:\/\//.test(t)}function $6(t,e){return new qo(t,e)}function oI(t,e){if(t instanceof Jb){const n=t;if(n._bucket==null)throw e6();const r=new qo(n,n._bucket);return e!=null?oI(r,e):r}else return e!==void 0?q6(t,e):t}function K6(t,e){if(e&&G6(e)){if(t instanceof Jb)return $6(t,e);throw g0("To use ref(service, url), the first argument must be a Storage instance.")}else return oI(t,e)}function eS(t,e){const n=e==null?void 0:e[GR];return n==null?null:Yr.makeFromBucketSpec(n,t)}function Y6(t,e,n,r={}){t.host=`${e}:${n}`;const s=js(e);s&&(pp(`https://${t.host}/b`),gp("Storage",!0)),t._isUsingEmulator=!0,t._protocol=s?"https":"http";const{mockUserToken:o}=r;o&&(t._overrideAuthToken=typeof o=="string"?o:C2(o,t.app.options.projectId))}class Jb{constructor(e,n,r,s,o,u=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=o,this._isUsingEmulator=u,this._bucket=null,this._host=qR,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=HL,this._maxUploadRetryTime=qL,this._requests=new Set,s!=null?this._bucket=Yr.makeFromBucketSpec(s,this._host):this._bucket=eS(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Yr.makeFromBucketSpec(this._url,e):this._bucket=eS(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){JT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){JT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(gr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new qo(this,e)}_makeRequest(e,n,r,s,o=!0){if(this._deleted)return new s6($R());{const u=g6(e,this._appId,r,s,n,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const tS="@firebase/storage",nS="0.13.14";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lI="storage";function W6(t,e,n){return t=It(t),aI(t,e,n)}function Q6(t,e,n,r){return t=It(t),F6(t,e,n,r)}function uI(t){return t=It(t),H6(t)}function cI(t,e){return t=It(t),K6(t,e)}function X6(t=vp(),e){t=It(t);const r=Md(t,lI).getImmediate({identifier:e}),s=J0("storage");return s&&Z6(r,...s),r}function Z6(t,e,n,r={}){Y6(t,e,n,r)}function J6(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new Jb(n,r,s,e,$o)}function e5(){Da(new Is(lI,J6,"PUBLIC").setMultipleInstances(!0)),pi(tS,nS,""),pi(tS,nS,"esm2017")}e5();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t5="type.googleapis.com/google.protobuf.Int64Value",n5="type.googleapis.com/google.protobuf.UInt64Value";function dI(t,e){const n={};for(const r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}function qm(t){if(t==null)return null;if(t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&isFinite(t)||t===!0||t===!1||Object.prototype.toString.call(t)==="[object String]")return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(e=>qm(e));if(typeof t=="function"||typeof t=="object")return dI(t,e=>qm(e));throw new Error("Data cannot be encoded in JSON: "+t)}function cu(t){if(t==null)return t;if(t["@type"])switch(t["@type"]){case t5:case n5:{const e=Number(t.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+t);return e}default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(e=>cu(e)):typeof t=="function"||typeof t=="object"?dI(t,e=>cu(e)):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e_="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rS={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class jr extends ji{constructor(e,n,r){super(`${e_}/${e}`,n||""),this.details=r,Object.setPrototypeOf(this,jr.prototype)}}function r5(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function Gm(t,e){let n=r5(t),r=n,s;try{const o=e&&e.error;if(o){const u=o.status;if(typeof u=="string"){if(!rS[u])return new jr("internal","internal");n=rS[u],r=u}const d=o.message;typeof d=="string"&&(r=d),s=o.details,s!==void 0&&(s=cu(s))}}catch{}return n==="ok"?null:new jr(n,r,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i5{constructor(e,n,r,s){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,gr(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=n.getImmediate({optional:!0}),this.messaging=r.getImmediate({optional:!0}),this.auth||n.get().then(o=>this.auth=o,()=>{}),this.messaging||r.get().then(o=>this.messaging=o,()=>{}),this.appCheck||s==null||s.get().then(o=>this.appCheck=o,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),r=await this.getMessagingToken(),s=await this.getAppCheckToken(e);return{authToken:n,messagingToken:r,appCheckToken:s}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v0="us-central1",s5=/^data: (.*?)(?:\n|$)/;function a5(t){let e=null;return{promise:new Promise((n,r)=>{e=setTimeout(()=>{r(new jr("deadline-exceeded","deadline-exceeded"))},t)}),cancel:()=>{e&&clearTimeout(e)}}}class o5{constructor(e,n,r,s,o=v0,u=(...d)=>fetch(...d)){this.app=e,this.fetchImpl=u,this.emulatorOrigin=null,this.contextProvider=new i5(e,n,r,s),this.cancelAllRequests=new Promise(d=>{this.deleteService=()=>Promise.resolve(d())});try{const d=new URL(o);this.customDomain=d.origin+(d.pathname==="/"?"":d.pathname),this.region=v0}catch{this.customDomain=null,this.region=o}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}function l5(t,e,n){const r=js(e);t.emulatorOrigin=`http${r?"s":""}://${e}:${n}`,r&&(pp(t.emulatorOrigin),gp("Functions",!0))}function u5(t,e,n){const r=s=>d5(t,e,s,{});return r.stream=(s,o)=>h5(t,e,s,o),r}async function c5(t,e,n,r){n["Content-Type"]="application/json";let s;try{s=await r(t,{method:"POST",body:JSON.stringify(e),headers:n})}catch{return{status:0,json:null}}let o=null;try{o=await s.json()}catch{}return{status:s.status,json:o}}async function fI(t,e){const n={},r=await t.contextProvider.getContext(e.limitedUseAppCheckTokens);return r.authToken&&(n.Authorization="Bearer "+r.authToken),r.messagingToken&&(n["Firebase-Instance-ID-Token"]=r.messagingToken),r.appCheckToken!==null&&(n["X-Firebase-AppCheck"]=r.appCheckToken),n}function d5(t,e,n,r){const s=t._url(e);return f5(t,s,n,r)}async function f5(t,e,n,r){n=qm(n);const s={data:n},o=await fI(t,r),u=r.timeout||7e4,d=a5(u),f=await Promise.race([c5(e,s,o,t.fetchImpl),d.promise,t.cancelAllRequests]);if(d.cancel(),!f)throw new jr("cancelled","Firebase Functions instance was deleted.");const h=Gm(f.status,f.json);if(h)throw h;if(!f.json)throw new jr("internal","Response is not valid JSON object.");let g=f.json.data;if(typeof g>"u"&&(g=f.json.result),typeof g>"u")throw new jr("internal","Response is missing data field.");return{data:cu(g)}}function h5(t,e,n,r){const s=t._url(e);return m5(t,s,n,r||{})}async function m5(t,e,n,r){var s;n=qm(n);const o={data:n},u=await fI(t,r);u["Content-Type"]="application/json",u.Accept="text/event-stream";let d;try{d=await t.fetchImpl(e,{method:"POST",body:JSON.stringify(o),headers:u,signal:r==null?void 0:r.signal})}catch(E){if(E instanceof Error&&E.name==="AbortError"){const N=new jr("cancelled","Request was cancelled.");return{data:Promise.reject(N),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(N)}}}}}}const C=Gm(0,null);return{data:Promise.reject(C),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(C)}}}}}}let f,h;const g=new Promise((E,C)=>{f=E,h=C});(s=r==null?void 0:r.signal)===null||s===void 0||s.addEventListener("abort",()=>{const E=new jr("cancelled","Request was cancelled.");h(E)});const b=d.body.getReader(),_=p5(b,f,h,r==null?void 0:r.signal);return{stream:{[Symbol.asyncIterator](){const E=_.getReader();return{async next(){const{value:C,done:N}=await E.read();return{value:C,done:N}},async return(){return await E.cancel(),{done:!0,value:void 0}}}}},data:g}}function p5(t,e,n,r){const s=(u,d)=>{const f=u.match(s5);if(!f)return;const h=f[1];try{const g=JSON.parse(h);if("result"in g){e(cu(g.result));return}if("message"in g){d.enqueue(cu(g.message));return}if("error"in g){const b=Gm(0,g);d.error(b),n(b);return}}catch(g){if(g instanceof jr){d.error(g),n(g);return}}},o=new TextDecoder;return new ReadableStream({start(u){let d="";return f();async function f(){if(r!=null&&r.aborted){const h=new jr("cancelled","Request was cancelled");return u.error(h),n(h),Promise.resolve()}try{const{value:h,done:g}=await t.read();if(g){d.trim()&&s(d.trim(),u),u.close();return}if(r!=null&&r.aborted){const _=new jr("cancelled","Request was cancelled");u.error(_),n(_),await t.cancel();return}d+=o.decode(h,{stream:!0});const b=d.split(`
`);d=b.pop()||"";for(const _ of b)_.trim()&&s(_.trim(),u);return f()}catch(h){const g=h instanceof jr?h:Gm(0,null);u.error(g),n(g)}}},cancel(){return t.cancel()}})}const iS="@firebase/functions",sS="0.12.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g5="auth-internal",v5="app-check-internal",y5="messaging-internal";function b5(t){const e=(n,{instanceIdentifier:r})=>{const s=n.getProvider("app").getImmediate(),o=n.getProvider(g5),u=n.getProvider(y5),d=n.getProvider(v5);return new o5(s,o,u,d,r)};Da(new Is(e_,e,"PUBLIC").setMultipleInstances(!0)),pi(iS,sS,t),pi(iS,sS,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _5(t=vp(),e=v0){const r=Md(It(t),e_).getImmediate({identifier:e}),s=J0("functions");return s&&w5(r,...s),r}function w5(t,e,n){l5(It(t),e,n)}function Yd(t,e,n){return u5(It(t),e)}b5();const x5={apiKey:"AIzaSyAoMQ8oVPP5oFjw8YzgF0H1Dy4DAJmNaKM",authDomain:"dresscode-ai-32c50.firebaseapp.com",projectId:"dresscode-ai-32c50",storageBucket:"dresscode-ai-32c50.firebasestorage.app",messagingSenderId:"215593114437",appId:"1:215593114437:web:5d9c1f3161182802f37c2c"},Bp=N2(x5),To=CM(Bp),E5=new Es,Xr=TL(Bp),hI=X6(Bp),Wd=_5(Bp,"us-central1"),T5=Yd(Wd,"analyzeClothingImages");async function S5(t){try{return(await T5({base64Images:t})).data.items||[]}catch(e){throw console.error("Erreur lors de l'analyse des vtements:",e),new Error("Erreur lors de l'analyse des vtements.")}}const A5=Yd(Wd,"generateOutfitsFunction");async function C5(t,e,n,r){const s=new Set((e||[]).flatMap(b=>b.itemIds)),u=t.filter(b=>!s.has(b.id)).map(b=>`- ${b.analysis} (ID: ${b.id}, Cat: ${b.category}, Matire: ${b.material})`).join(`
`),d=e.map(b=>`- ${b.name} (Ensemble, ID: ${b.id})`).join(`
`),f=[u,d].filter(Boolean).join(`
`),h=r?`
**RGLE D'ANCRAGE : La tenue DOIT inclure : "${"name"in r?r.name:r.analysis} (ID: ${r.id})".**
`:"",g=`Tu es un styliste expert. Cre 3 tenues compltes et harmonieuses pour : "${n}".

Vtements disponibles :
${f}
${h}


 PRIORIT 1 - TEMPRATURE (RGLE ABSOLUE)


Analyse la mto dans le contexte et applique :

| Temprature | Rgle stricte |
|-------------|---------------|
| **< 15C** | Layering OBLIGATOIRE : Base (t-shirt/chemise) + Pull/Sweat + Manteau |
| **15-20C** | Pull, sweat, ou veste lgre suffisent |
| **20-25C** | 1 seule couche (t-shirt OU chemise lgre) |
| **> 25C** | Vtements TRS lgers uniquement. INTERDITS : jeans pais, pulls, vestes |

 **INTERDICTIONS THERMIQUES** :
- Doudoune/manteau si > 15C
- Short si < 22C
- Pull laine si > 15C
- Sandales si < 25C


 PRIORIT 2 - LAYERING (SUPERPOSITION)


**RGLES DE SUPERPOSITION VALIDES** :

 **Pull col V**  TOUJOURS avec chemise dessous (sinon nglig)
 **Pull col zipp/camionneur**  TOUJOURS avec t-shirt ou chemise dessous
 **Veste/Blazer**  Sur t-shirt, chemise, pull fin, ou col roul
 **Manteau**  Sur pull, sweat, ou veste (si trs froid)
 **Col roul**  JAMAIS avec chemise !

 **INTERDICTIONS ABSOLUES DE LAYERING** :
- JAMAIS chemise avec col roul (aberration stylistique)
- JAMAIS col V sans rien dessous en contexte formel
- JAMAIS pull pais sous veste ajuste (volume excessif)
- JAMAIS 2 cols montants ensemble (col roul + col montant)


 PRIORIT 3 - COHRENCE & HARMONIE


**STRUCTURE** : Chaque tenue = Haut + Bas + Chaussures (minimum)

**COULEURS** :
- Maximum 3 couleurs par tenue
- 1 seul motif maximum (si haut  motifs  bas uni)
- vite contrastes trop proches (bleu marine + noir)

**VARIT** :
- 3 looks visuellement diffrents
- vite de rpter le mme pantalon 3 fois si possible


 ACCESSOIRES (recommands mais optionnels)


- Montre/bracelet si disponible
- Ceinture pour pantalon classique
- charpe si < 10C

**IMPORTANT** : Utilise les IDs EXACTS des articles. Sois cratif dans les limites.`;try{return(await A5({prompt:g})).data.tenues}catch(b){throw console.error("Erreur gnration tenues:",b),new Error("Erreur lors de la gnration des tenues.")}}const R5=Yd(Wd,"analyzeWardrobeGapsFunction");async function I5(t,e){const n={Hauts:t.filter(d=>d.category==="Hauts"),Bas:t.filter(d=>d.category==="Bas"),Chaussures:t.filter(d=>d.category==="Chaussures"),Accessoires:t.filter(d=>d.category==="Accessoires")},r=Object.entries(n).map(([d,f])=>`**${d}** (${f.length}) :
${f.map(h=>`  - ${h.analysis} (${h.color}, ${h.material})`).join(`
`)}`).join(`

`),s=t.length,o=e.length>0,u=`Tu es un expert styliste et conseiller en garde-robe avec 20 ans d'exprience. Ta mission : analyser cette garde-robe et suggrer des achats stratgiques pour maximiser la polyvalence.

 **INVENTAIRE ACTUEL** (${s} pices${o?`, ${e.length} ensembles`:""}) :

${r}

---

 **OBJECTIF DE L'ANALYSE** :
Identifier les **pices manquantes cls** qui permettront de crer le maximum de tenues diffrentes avec l'existant.

 **MTHODOLOGIE** :

1. **ANALYSE STRATGIQUE** :
   - quilibre entre catgories (ratio Hauts/Bas/Chaussures)
   - Diversit des couleurs (neutres vs. vives)
   - Polyvalence des pices existantes
   - Occasions couvertes (casual, formel, sport, etc.)
   - Saisons couvertes

2. **IDENTIFICATION DES GAPS CRITIQUES** :
   - Pices basiques manquantes (ex: chemise blanche, jean brut)
   - Couleurs absentes pour complter les palettes
   - Styles/occasions non couverts
   - Opportunits de layering (superposition)

3. **PRIORISATION** :
   - **HIGH** : Pice essentielle manquante qui dbloque 5+ nouvelles tenues
   - **MEDIUM** : Pice utile qui ajoute de la varit (3-5 tenues)
   - **LOW** : Pice "nice-to-have" pour occasions spcifiques

4. **SUGGESTIONS D'ACHATS** (4-6 pices maximum) :
   - Focus sur la **POLYVALENCE** : chaque suggestion doit se marier avec plusieurs pices existantes
   - Inclure des **pices basiques intemporelles** avant les tendances
   - quilibrer les priorits (au moins 1-2 high priority)
   - Pour chaque suggestion, fournis :
     * Une description prcise (ex: "Chemise oxford bleu clair en coton")
     * La raison stratgique (ex: "Se marie avec vos 3 pantalons et cre une base smart-casual")
     * Un prix estim raliste en 
     * Une requte de recherche optimise (mots-cls pour Zalando/autres boutiques)

---

 **RGLES CRITIQUES** :

- NE suggre PAS de pices similaires  l'existant
- Favorise les neutres (blanc, noir, beige, navy) pour maximiser les combinaisons
- vite les pices trs spcifiques/occasionnelles (sauf si totalement absentes)
- Sois concis mais prcis dans les descriptions
- Le champ \`searchQuery\` doit contenir des mots-cls optimiss pour recherche en ligne (ex: "chemise oxford homme coton bleu clair" ou "pull col V mrinos noir homme")

Retourne ton analyse au format JSON.`;try{return(await R5({prompt:u})).data}catch(d){throw console.error("Erreur analyse garde-robe:",d),new Error("Erreur lors de l'analyse de la garde-robe.")}}const N5=Yd(Wd,"generateVacationPlanFunction");async function k5(t,e,n,r,s){const o=new Set((e||[]).flatMap(_=>_.itemIds)),d=t.filter(_=>!o.has(_.id)).map(_=>`- ${_.analysis} (ID: ${_.id}, Cat: ${_.category}, Couleur: ${_.color}, Matire: ${_.material})`).join(`
`),f=e.map(_=>`- ${_.name} (Ensemble, ID: ${_.id})`).join(`
`),h=[d,f].filter(Boolean).join(`
`),g=s?`
**CONTRAINTE POIDS** : Le poids total NE DOIT PAS dpasser ${s} kg. Estime le poids moyen (t-shirt ~150g, jean ~600g, pull ~400g, chaussures ~800g).`:"",b=`Tu es un expert en prparation de valise. Cre une **CAPSULE WARDROBE** optimise pour ${n} jours.

**DESTINATION & CONTEXTE** : ${r}

**PRINCIPE CAPSULE WARDROBE** : Slectionner peu de pices qui se combinent TOUTES entre elles pour crer un maximum de tenues diffrentes.

**RGLES CRITIQUES** :

1. **LOGIQUE THERMIQUE (PRIORIT ABSOLUE)** :

   | Temprature | Vtements adapts |
   |-------------|-------------------|
   | **> 30C (TRS CHAUD)** | T-shirts lgers, shorts, robes, sandales. INTERDITS : jeans, pulls, vestes |
   | **25-30C (CHAUD)** | T-shirts, pantalons lgers, une chemise, baskets lgres |
   | **15-25C (DOUX)** | Mix lger + 1 pull fin ou veste lgre |
   | **10-15C (FRAIS)** | Pulls, pantalons, veste, chaussures fermes |
   | **< 10C (FROID)** | Layering complet : sous-couche + pull + manteau chaud |

2. **INTERDICTIONS ABSOLUES** :
   -  Doudoune/veste ski/polaire paisse si > 20C
   -  Shorts si < 15C
   -  Sandales si < 18C
   -  Pulls en laine si > 25C
   -  Jeans pais si > 32C

3. **MATIRES ADAPTES** :
   - **Climat chaud** : Coton lger, lin, matires respirantes uniquement
   - **Climat froid** : Laine, polaire, matires isolantes
   - **Voyage** : Privilgier matires qui ne se froissent pas

4. **HARMONIE CAPSULE (pour que tout se combine)** :
   - **Palette de couleurs** : Maximum 4-5 couleurs qui vont ensemble (ex: bleu marine, blanc, beige, une couleur d'accent)
   - **Motifs** : Maximum 2 pices  motifs dans toute la valise, le reste UNI
   - **Neutralit** : Au moins 50% de pices en couleurs neutres (noir, blanc, gris, beige, marine)

5. **QUANTITS RECOMMANDES pour ${n} jours** :
   - Hauts : ${Math.min(n+1,7)} pices max (on peut reporter un t-shirt)
   - Bas : ${Math.min(Math.ceil(n/2)+1,4)} pices max
   - Chaussures : 2-3 paires max
   - Accessoires : selon besoin

6. **LAYERING INTELLIGENT (si climat variable)** :
   - Prvoir des couches qui s'empilent : t-shirt  chemise/pull lger  veste
   - Chaque couche doit tre portable seule ET en combinaison

${g}

**VTEMENTS DISPONIBLES** :
${h}

**SORTIE** :
- Un titre accrocheur pour cette valise
- Un rsum expliquant tes choix (mto, style, combinaisons possibles)
- La liste des articles avec leur ID exact`;try{return(await N5({prompt:b})).data}catch(_){throw console.error("Erreur gnration plan vacances:",_),new Error("Erreur lors de la gnration du plan vacances.")}}Yd(Wd,"generateVisualOutfit");const D5=()=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})}),O5=()=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})}),y0=()=>y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mx-auto h-12 w-12",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:[y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.827 6.175A2.31 2.31 0 015.186 7.23c-.38.054-.757.112-1.134.175C2.999 7.58 2.25 8.507 2.25 9.574V18a2.25 2.25 0 002.25 2.25h15A2.25 2.25 0 0021.75 18V9.574c0-1.067-.75-1.994-1.802-2.169a47.865 47.865 0 00-1.134-.175 2.31 2.31 0 01-1.64-1.055l-.822-1.316a2.192 2.192 0 00-1.736-1.039 48.776 48.776 0 00-5.232 0 2.192 2.192 0 00-1.736 1.039l-.821 1.316z"}),y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 12.75a4.5 4.5 0 11-9 0 4.5 4.5 0 019 0zM18.75 10.5h.008v.008h-.008V10.5z"})]}),P5=({className:t="h-8 w-8 text-gold"})=>y.jsxs("svg",{className:`animate-spin ${t}`,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[y.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),y.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),Td=()=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:y.jsx("path",{d:"M10 3a1 1 0 011 1v1h1a1 1 0 110 2h-1v1a1 1 0 11-2 0V7H8a1 1 0 110-2h1V4a1 1 0 011-1zM4 9a1 1 0 011 1v1h1a1 1 0 110 2H5v1a1 1 0 11-2 0v-1H2a1 1 0 110-2h1v-1a1 1 0 011-1zM16 9a1 1 0 011 1v1h1a1 1 0 110 2h-1v1a1 1 0 11-2 0v-1h-1a1 1 0 110-2h1v-1a1 1 0 011-1z"})}),t_=()=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),aS=()=>y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:[y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12.5 6.6C12.5 5.54903 11.651 4.7 10.6 4.7C9.54903 4.7 8.7 5.54903 8.7 6.6V8.7C8.7 9.36274 9.23726 9.9 9.9 9.9H14.1C14.7627 9.9 15.3 9.36274 15.3 8.7V7.8"}),y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.10879 16.5C4.43285 14.805 5.86246 13.5 7.6 13.5H16.4C18.1375 13.5 19.5672 14.805 19.8912 16.5L20.5 19.5H3.5L4.10879 16.5Z"})]}),mI=()=>y.jsx("svg",{className:"w-8 h-8 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.79 4 4 0 1.132-.497 2.16-1.32 2.874-.823.714-1.823 1.126-2.904 1.126H12v.01M12 17h.01"})}),j5=()=>y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:[y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 4h6l2 5-2 1-3-4-3 4-2-1 2-5z"}),y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 10v10m-3-10v10h6V10"})]}),M5=()=>y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:[y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 4h12v10H6z"}),y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 14v6h-2L6 4"}),y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 14v6h2l1-16"})]}),V5=()=>y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:[y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 18h16l-3-6H7L4 18z"}),y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10 12V7a2 2 0 012-2h0a2 2 0 012 2v5"})]}),L5=()=>y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:[y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9 9 0 000-18 9 9 0 000 18z"}),y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 11.5l-3.5 3.5"}),y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.5 8.5l-3.5 3.5"})]}),Jc=({className:t="h-5 w-5"})=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"3",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"})}),U5=()=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),Fp=()=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.536a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})}),n_=()=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:y.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),z5=()=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.19 8.688a4.5 4.5 0 011.242 7.244l-4.5 4.5a4.5 4.5 0 01-6.364-6.364l1.757-1.757m13.35-.622l1.757-1.757a4.5 4.5 0 00-6.364-6.364l-4.5 4.5a4.5 4.5 0 001.242 7.244"})}),pI=()=>y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[y.jsx("path",{d:"M8 3a1 1 0 000 2h4a1 1 0 100-2H8z"}),y.jsx("path",{fillRule:"evenodd",d:"M5 4a3 3 0 00-3 3v6a3 3 0 003 3h10a3 3 0 003-3V7a3 3 0 00-3-3H5zm-1 3a1 1 0 011-1h10a1 1 0 011 1v6a1 1 0 01-1 1H5a1 1 0 01-1-1V7z",clipRule:"evenodd"})]}),$m=({className:t="h-5 w-5"})=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.318 6.318a4.5 4.5 0 016.364 0L12 7.5l1.318-1.182a4.5 4.5 0 116.364 6.364L12 18.75l-7.682-7.682a4.5 4.5 0 010-6.364z"})}),du=({className:t="h-5 w-5"})=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,viewBox:"0 0 20 20",fill:"currentColor",children:y.jsx("path",{fillRule:"evenodd",d:"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z",clipRule:"evenodd"})}),gI=({className:t="h-5 w-5"})=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),vI=({className:t="h-5 w-5"})=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 4h13M3 8h9m-9 4h6m4 0l4-4m0 0l4 4m-4-4v12"})}),B5=({theme:t,toggleTheme:e,children:n,isModalOpen:r=!1})=>y.jsx("header",{className:`bg-snow/80 dark:bg-onyx/80 backdrop-blur-lg border-b border-black/5 dark:border-white/10 sticky top-0 transition-all ${r?"z-10":"z-50"}`,children:y.jsxs("div",{className:"container mx-auto px-4 lg:px-8 h-24 flex justify-between items-center",children:[y.jsxs("h1",{className:"text-4xl font-serif font-bold tracking-wider text-raisin-black dark:text-snow",children:["Dress ",y.jsx("span",{className:"text-gold",children:"Me"})," Up!"]}),y.jsxs("div",{className:"flex items-center gap-4",children:[n,y.jsx("button",{onClick:e,className:"p-2 rounded-full text-gray-500 dark:text-gray-400 hover:bg-black/5 dark:hover:bg-white/10 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gold dark:focus:ring-offset-onyx transition-colors","aria-label":"Changer le thme",children:t==="light"?y.jsx(O5,{}):y.jsx(D5,{})})]})]})}),F5="DRESSMEUP2025",oS=({user:t})=>{var G,K,H;const[e,n]=P.useState(""),[r,s]=P.useState(""),[o,u]=P.useState(""),[d,f]=P.useState(!1),[h,g]=P.useState(!1),[b,_]=P.useState(null),[E,C]=P.useState(!1),N=P.useRef(null);P.useEffect(()=>{const A=S=>{N.current&&!N.current.contains(S.target)&&g(!1)};return h&&document.addEventListener("mousedown",A),()=>{document.removeEventListener("mousedown",A)}},[h]);const D=async A=>{try{return(await BL(Su(Xr,"allowedEmails",A.toLowerCase()))).exists()}catch(S){return console.error("Erreur vrification email:",S),!1}},U=async()=>{C(!0),_(null);try{const S=(await Mj(To,E5)).user.email;if(!S){await dy(To),_("Impossible de rcuprer l'email du compte Google.");return}if(!await D(S)){await dy(To),_("Dsol, cette application est en beta ferme. Votre email n'est pas autoris.");return}}catch(A){console.error("Erreur de connexion Google:",A),_(A.message||"Erreur de connexion")}finally{C(!1)}},M=async A=>{A.preventDefault(),C(!0),_(null);try{if(d){if(o!==F5){_("Code d'invitation invalide."),C(!1);return}if(!await D(e)){_("Votre email n'est pas dans la liste des beta testeurs."),C(!1);return}await fj(To,e,r)}else{if(!await D(e)){_("Votre email n'est pas autoris  accder  la beta."),C(!1);return}await hj(To,e,r)}}catch(S){console.error("Erreur d'authentification:",S),S.code==="auth/user-not-found"?_("Aucun compte trouv avec cet email."):S.code==="auth/wrong-password"?_("Mot de passe incorrect."):S.code==="auth/email-already-in-use"?_("Cet email est dj utilis."):S.code==="auth/weak-password"?_("Le mot de passe doit contenir au moins 6 caractres."):_(S.message||"Erreur d'authentification")}finally{C(!1)}},z=async()=>{try{await dy(To)}catch(A){console.error("Erreur de dconnexion:",A)}};return t?y.jsxs("div",{className:"relative",ref:N,children:[y.jsxs("button",{onClick:()=>g(!h),className:"flex items-center gap-3 px-4 py-2 rounded-full bg-gold/10 hover:bg-gold/20 transition-all border border-gold/30",children:[y.jsx("div",{className:"w-8 h-8 rounded-full bg-gold flex items-center justify-center text-onyx font-bold",children:(((G=t.displayName)==null?void 0:G[0])||((K=t.email)==null?void 0:K[0])||"U").toUpperCase()}),y.jsx("span",{className:"hidden md:block text-sm font-medium",children:t.displayName||((H=t.email)==null?void 0:H.split("@")[0])})]}),h&&y.jsxs("div",{className:"absolute right-0 mt-2 w-64 bg-white dark:bg-raisin-black rounded-xl shadow-2xl border border-black/10 dark:border-white/10 overflow-hidden z-50",children:[y.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:[y.jsx("p",{className:"text-sm font-medium",children:t.displayName||"Utilisateur"}),y.jsx("p",{className:"text-xs text-gray-500 mt-1",children:t.email}),y.jsx("span",{className:"inline-block mt-2 px-2 py-0.5 bg-gold/20 text-gold text-xs font-semibold rounded-full",children:"Beta Testeur"})]}),y.jsxs("button",{onClick:z,className:"w-full px-4 py-3 text-left text-sm hover:bg-red-50 dark:hover:bg-red-900/20 text-red-600 dark:text-red-400 transition-colors flex items-center gap-2",children:[y.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"Dconnexion"]})]})]}):y.jsxs("div",{className:"bg-white dark:bg-raisin-black rounded-2xl shadow-2xl p-8 max-w-md mx-auto border border-black/5 dark:border-white/10",children:[y.jsxs("div",{className:"text-center mb-8",children:[y.jsxs("h2",{className:"text-3xl font-serif font-bold mb-2",children:["Dress ",y.jsx("span",{className:"text-gold",children:"Me"})," Up!"]}),y.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:d?"Rejoindre la beta":"Bienvenue"}),y.jsx("div",{className:"mt-3 inline-block px-3 py-1 bg-gold/10 border border-gold/30 rounded-full",children:y.jsx("span",{className:"text-xs font-semibold text-gold",children:" Beta prive"})})]}),b&&y.jsx("div",{className:"mb-6 p-4 bg-red-500/10 border border-red-500/30 rounded-xl text-red-500 text-sm",children:b}),y.jsx("button",{onClick:U,disabled:E,className:"w-full mb-6 px-6 py-4 bg-white dark:bg-gray-800 border-2 border-gray-200 dark:border-gray-700 rounded-xl hover:border-gold hover:shadow-lg hover:shadow-gold/20 transition-all duration-300 flex items-center justify-center gap-3 group disabled:opacity-50 disabled:cursor-not-allowed",children:E?y.jsxs("svg",{className:"animate-spin h-5 w-5",fill:"none",viewBox:"0 0 24 24",children:[y.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),y.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):y.jsxs(y.Fragment,{children:[y.jsxs("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",children:[y.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),y.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),y.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),y.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),y.jsx("span",{className:"font-semibold group-hover:text-gold transition-colors",children:"Continuer avec Google"})]})}),y.jsxs("div",{className:"relative my-6",children:[y.jsx("div",{className:"absolute inset-0 flex items-center",children:y.jsx("div",{className:"w-full border-t border-gray-200 dark:border-gray-700"})}),y.jsx("div",{className:"relative flex justify-center text-sm",children:y.jsx("span",{className:"px-4 bg-white dark:bg-raisin-black text-gray-500",children:"Ou avec email"})})]}),y.jsxs("form",{onSubmit:M,className:"space-y-4",children:[y.jsx("input",{type:"email",placeholder:"Email",value:e,onChange:A=>n(A.target.value),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-700 rounded-xl focus:ring-2 focus:ring-gold focus:border-transparent bg-white dark:bg-gray-800 transition-all",required:!0}),y.jsx("input",{type:"password",placeholder:"Mot de passe",value:r,onChange:A=>s(A.target.value),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-700 rounded-xl focus:ring-2 focus:ring-gold focus:border-transparent bg-white dark:bg-gray-800 transition-all",required:!0}),d&&y.jsx("input",{type:"text",placeholder:"Code d'invitation",value:o,onChange:A=>u(A.target.value.toUpperCase()),className:"w-full px-4 py-3 border border-gold/50 dark:border-gold/30 rounded-xl focus:ring-2 focus:ring-gold focus:border-transparent bg-gold/5 dark:bg-gold/10 transition-all placeholder:text-gold/50",required:!0}),y.jsx("button",{type:"submit",disabled:E,className:"w-full px-6 py-4 bg-gradient-to-r from-gold to-gold-dark text-onyx rounded-xl hover:shadow-lg hover:shadow-gold/30 transition-all duration-300 font-bold disabled:opacity-50 disabled:cursor-not-allowed",children:E?y.jsxs("svg",{className:"animate-spin h-5 w-5 mx-auto",fill:"none",viewBox:"0 0 24 24",children:[y.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),y.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):d?"Rejoindre la beta":"Se connecter"})]}),y.jsx("button",{onClick:()=>{f(!d),_(null)},className:"w-full mt-6 text-sm text-gray-500 hover:text-gold transition-colors",children:d?"Dj un compte ? Se connecter":"Pas encore de compte ? Rejoindre la beta"})]})},r_=P.createContext({});function i_(t){const e=P.useRef(null);return e.current===null&&(e.current=t()),e.current}const Hp=P.createContext(null),s_=P.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class H5 extends P.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function q5({children:t,isPresent:e}){const n=P.useId(),r=P.useRef(null),s=P.useRef({width:0,height:0,top:0,left:0}),{nonce:o}=P.useContext(s_);return P.useInsertionEffect(()=>{const{width:u,height:d,top:f,left:h}=s.current;if(e||!r.current||!u||!d)return;r.current.dataset.motionPopId=n;const g=document.createElement("style");return o&&(g.nonce=o),document.head.appendChild(g),g.sheet&&g.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${d}px !important;
            top: ${f}px !important;
            left: ${h}px !important;
          }
        `),()=>{document.head.removeChild(g)}},[e]),y.jsx(H5,{isPresent:e,childRef:r,sizeRef:s,children:P.cloneElement(t,{ref:r})})}const G5=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:o,mode:u})=>{const d=i_($5),f=P.useId(),h=P.useCallback(b=>{d.set(b,!0);for(const _ of d.values())if(!_)return;r&&r()},[d,r]),g=P.useMemo(()=>({id:f,initial:e,isPresent:n,custom:s,onExitComplete:h,register:b=>(d.set(b,!1),()=>d.delete(b))}),o?[Math.random(),h]:[n,h]);return P.useMemo(()=>{d.forEach((b,_)=>d.set(_,!1))},[n]),P.useEffect(()=>{!n&&!d.size&&r&&r()},[n]),u==="popLayout"&&(t=y.jsx(q5,{isPresent:n,children:t})),y.jsx(Hp.Provider,{value:g,children:t})};function $5(){return new Map}function yI(t=!0){const e=P.useContext(Hp);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,o=P.useId();P.useEffect(()=>{t&&s(o)},[t]);const u=P.useCallback(()=>t&&r&&r(o),[o,r,t]);return!n&&r?[!1,u]:[!0]}const Ph=t=>t.key||"";function lS(t){const e=[];return P.Children.forEach(t,n=>{P.isValidElement(n)&&e.push(n)}),e}const a_=typeof window<"u",bI=a_?P.useLayoutEffect:P.useEffect,K5=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:o="sync",propagate:u=!1})=>{const[d,f]=yI(u),h=P.useMemo(()=>lS(t),[t]),g=u&&!d?[]:h.map(Ph),b=P.useRef(!0),_=P.useRef(h),E=i_(()=>new Map),[C,N]=P.useState(h),[D,U]=P.useState(h);bI(()=>{b.current=!1,_.current=h;for(let G=0;G<D.length;G++){const K=Ph(D[G]);g.includes(K)?E.delete(K):E.get(K)!==!0&&E.set(K,!1)}},[D,g.length,g.join("-")]);const M=[];if(h!==C){let G=[...h];for(let K=0;K<D.length;K++){const H=D[K],A=Ph(H);g.includes(A)||(G.splice(K,0,H),M.push(H))}o==="wait"&&M.length&&(G=M),U(lS(G)),N(h);return}const{forceRender:z}=P.useContext(r_);return y.jsx(y.Fragment,{children:D.map(G=>{const K=Ph(G),H=u&&!d?!1:h===D||g.includes(K),A=()=>{if(E.has(K))E.set(K,!0);else return;let S=!0;E.forEach(R=>{R||(S=!1)}),S&&(z==null||z(),U(_.current),u&&(f==null||f()),r&&r())};return y.jsx(G5,{isPresent:H,initial:!b.current||n?void 0:!1,custom:H?void 0:e,presenceAffectsLayout:s,mode:o,onExitComplete:H?void 0:A,children:G},K)})})},Wr=t=>t;let _I=Wr;function o_(t){let e;return()=>(e===void 0&&(e=t()),e)}const fu=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},Cs=t=>t*1e3,Rs=t=>t/1e3,Y5={useManualTiming:!1};function W5(t){let e=new Set,n=new Set,r=!1,s=!1;const o=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1};function d(h){o.has(h)&&(f.schedule(h),t()),h(u)}const f={schedule:(h,g=!1,b=!1)=>{const E=b&&r?e:n;return g&&o.add(h),E.has(h)||E.add(h),h},cancel:h=>{n.delete(h),o.delete(h)},process:h=>{if(u=h,r){s=!0;return}r=!0,[e,n]=[n,e],e.forEach(d),e.clear(),r=!1,s&&(s=!1,f.process(h))}};return f}const jh=["read","resolveKeyframes","update","preRender","render","postRender"],Q5=40;function wI(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,u=jh.reduce((U,M)=>(U[M]=W5(o),U),{}),{read:d,resolveKeyframes:f,update:h,preRender:g,render:b,postRender:_}=u,E=()=>{const U=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(U-s.timestamp,Q5),1),s.timestamp=U,s.isProcessing=!0,d.process(s),f.process(s),h.process(s),g.process(s),b.process(s),_.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(E))},C=()=>{n=!0,r=!0,s.isProcessing||t(E)};return{schedule:jh.reduce((U,M)=>{const z=u[M];return U[M]=(G,K=!1,H=!1)=>(n||C(),z.schedule(G,K,H)),U},{}),cancel:U=>{for(let M=0;M<jh.length;M++)u[jh[M]].cancel(U)},state:s,steps:u}}const{schedule:Bt,cancel:za,state:Hn,steps:by}=wI(typeof requestAnimationFrame<"u"?requestAnimationFrame:Wr,!0),xI=P.createContext({strict:!1}),uS={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},hu={};for(const t in uS)hu[t]={isEnabled:e=>uS[t].some(n=>!!e[n])};function X5(t){for(const e in t)hu[e]={...hu[e],...t[e]}}const Z5=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Km(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Z5.has(t)}let EI=t=>!Km(t);function J5(t){t&&(EI=e=>e.startsWith("on")?!Km(e):t(e))}try{J5(require("@emotion/is-prop-valid").default)}catch{}function eU(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(EI(s)||n===!0&&Km(s)||!e&&!Km(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}function tU(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,s)=>s==="create"?t:(e.has(s)||e.set(s,t(s)),e.get(s))})}const qp=P.createContext({});function Sd(t){return typeof t=="string"||Array.isArray(t)}function Gp(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const l_=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],u_=["initial",...l_];function $p(t){return Gp(t.animate)||u_.some(e=>Sd(t[e]))}function TI(t){return!!($p(t)||t.variants)}function nU(t,e){if($p(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Sd(n)?n:void 0,animate:Sd(r)?r:void 0}}return t.inherit!==!1?e:{}}function rU(t){const{initial:e,animate:n}=nU(t,P.useContext(qp));return P.useMemo(()=>({initial:e,animate:n}),[cS(e),cS(n)])}function cS(t){return Array.isArray(t)?t.join(" "):t}const iU=Symbol.for("motionComponentSymbol");function Hl(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function sU(t,e,n){return P.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Hl(n)&&(n.current=r))},[e])}const c_=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),aU="framerAppearId",SI="data-"+c_(aU),{schedule:d_}=wI(queueMicrotask,!1),AI=P.createContext({});function oU(t,e,n,r,s){var o,u;const{visualElement:d}=P.useContext(qp),f=P.useContext(xI),h=P.useContext(Hp),g=P.useContext(s_).reducedMotion,b=P.useRef(null);r=r||f.renderer,!b.current&&r&&(b.current=r(t,{visualState:e,parent:d,props:n,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:g}));const _=b.current,E=P.useContext(AI);_&&!_.projection&&s&&(_.type==="html"||_.type==="svg")&&lU(b.current,n,s,E);const C=P.useRef(!1);P.useInsertionEffect(()=>{_&&C.current&&_.update(n,h)});const N=n[SI],D=P.useRef(!!N&&!(!((o=window.MotionHandoffIsComplete)===null||o===void 0)&&o.call(window,N))&&((u=window.MotionHasOptimisedAnimation)===null||u===void 0?void 0:u.call(window,N)));return bI(()=>{_&&(C.current=!0,window.MotionIsMounted=!0,_.updateFeatures(),d_.render(_.render),D.current&&_.animationState&&_.animationState.animateChanges())}),P.useEffect(()=>{_&&(!D.current&&_.animationState&&_.animationState.animateChanges(),D.current&&(queueMicrotask(()=>{var U;(U=window.MotionHandoffMarkAsComplete)===null||U===void 0||U.call(window,N)}),D.current=!1))}),_}function lU(t,e,n,r){const{layoutId:s,layout:o,drag:u,dragConstraints:d,layoutScroll:f,layoutRoot:h}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:CI(t.parent)),t.projection.setOptions({layoutId:s,layout:o,alwaysMeasureLayout:!!u||d&&Hl(d),visualElement:t,animationType:typeof o=="string"?o:"both",initialPromotionConfig:r,layoutScroll:f,layoutRoot:h})}function CI(t){if(t)return t.options.allowProjection!==!1?t.projection:CI(t.parent)}function uU({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:s}){var o,u;t&&X5(t);function d(h,g){let b;const _={...P.useContext(s_),...h,layoutId:cU(h)},{isStatic:E}=_,C=rU(h),N=r(h,E);if(!E&&a_){dU();const D=fU(_);b=D.MeasureLayout,C.visualElement=oU(s,N,_,e,D.ProjectionNode)}return y.jsxs(qp.Provider,{value:C,children:[b&&C.visualElement?y.jsx(b,{visualElement:C.visualElement,..._}):null,n(s,h,sU(N,C.visualElement,g),N,E,C.visualElement)]})}d.displayName=`motion.${typeof s=="string"?s:`create(${(u=(o=s.displayName)!==null&&o!==void 0?o:s.name)!==null&&u!==void 0?u:""})`}`;const f=P.forwardRef(d);return f[iU]=s,f}function cU({layoutId:t}){const e=P.useContext(r_).id;return e&&t!==void 0?e+"-"+t:t}function dU(t,e){P.useContext(xI).strict}function fU(t){const{drag:e,layout:n}=hu;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const hU=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function f_(t){return typeof t!="string"||t.includes("-")?!1:!!(hU.indexOf(t)>-1||/[A-Z]/u.test(t))}function dS(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function h_(t,e,n,r){if(typeof e=="function"){const[s,o]=dS(r);e=e(n!==void 0?n:t.custom,s,o)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,o]=dS(r);e=e(n!==void 0?n:t.custom,s,o)}return e}const b0=t=>Array.isArray(t),mU=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),pU=t=>b0(t)?t[t.length-1]||0:t,tr=t=>!!(t&&t.getVelocity);function mm(t){const e=tr(t)?t.get():t;return mU(e)?e.toValue():e}function gU({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,s,o){const u={latestValues:vU(r,s,o,t),renderState:e()};return n&&(u.onMount=d=>n({props:r,current:d,...u}),u.onUpdate=d=>n(d)),u}const RI=t=>(e,n)=>{const r=P.useContext(qp),s=P.useContext(Hp),o=()=>gU(t,e,r,s);return n?o():i_(o)};function vU(t,e,n,r){const s={},o=r(t,{});for(const _ in o)s[_]=mm(o[_]);let{initial:u,animate:d}=t;const f=$p(t),h=TI(t);e&&h&&!f&&t.inherit!==!1&&(u===void 0&&(u=e.initial),d===void 0&&(d=e.animate));let g=n?n.initial===!1:!1;g=g||u===!1;const b=g?d:u;if(b&&typeof b!="boolean"&&!Gp(b)){const _=Array.isArray(b)?b:[b];for(let E=0;E<_.length;E++){const C=h_(t,_[E]);if(C){const{transitionEnd:N,transition:D,...U}=C;for(const M in U){let z=U[M];if(Array.isArray(z)){const G=g?z.length-1:0;z=z[G]}z!==null&&(s[M]=z)}for(const M in N)s[M]=N[M]}}}return s}const Au=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Wo=new Set(Au),II=t=>e=>typeof e=="string"&&e.startsWith(t),NI=II("--"),yU=II("var(--"),m_=t=>yU(t)?bU.test(t.split("/*")[0].trim()):!1,bU=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,kI=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Ps=(t,e,n)=>n>e?e:n<t?t:n,Cu={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Ad={...Cu,transform:t=>Ps(0,1,t)},Mh={...Cu,default:1},Qd=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),va=Qd("deg"),es=Qd("%"),je=Qd("px"),_U=Qd("vh"),wU=Qd("vw"),fS={...es,parse:t=>es.parse(t)/100,transform:t=>es.transform(t*100)},xU={borderWidth:je,borderTopWidth:je,borderRightWidth:je,borderBottomWidth:je,borderLeftWidth:je,borderRadius:je,radius:je,borderTopLeftRadius:je,borderTopRightRadius:je,borderBottomRightRadius:je,borderBottomLeftRadius:je,width:je,maxWidth:je,height:je,maxHeight:je,top:je,right:je,bottom:je,left:je,padding:je,paddingTop:je,paddingRight:je,paddingBottom:je,paddingLeft:je,margin:je,marginTop:je,marginRight:je,marginBottom:je,marginLeft:je,backgroundPositionX:je,backgroundPositionY:je},EU={rotate:va,rotateX:va,rotateY:va,rotateZ:va,scale:Mh,scaleX:Mh,scaleY:Mh,scaleZ:Mh,skew:va,skewX:va,skewY:va,distance:je,translateX:je,translateY:je,translateZ:je,x:je,y:je,z:je,perspective:je,transformPerspective:je,opacity:Ad,originX:fS,originY:fS,originZ:je},hS={...Cu,transform:Math.round},p_={...xU,...EU,zIndex:hS,size:je,fillOpacity:Ad,strokeOpacity:Ad,numOctaves:hS},TU={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},SU=Au.length;function AU(t,e,n){let r="",s=!0;for(let o=0;o<SU;o++){const u=Au[o],d=t[u];if(d===void 0)continue;let f=!0;if(typeof d=="number"?f=d===(u.startsWith("scale")?1:0):f=parseFloat(d)===0,!f||n){const h=kI(d,p_[u]);if(!f){s=!1;const g=TU[u]||u;r+=`${g}(${h}) `}n&&(e[u]=h)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function g_(t,e,n){const{style:r,vars:s,transformOrigin:o}=t;let u=!1,d=!1;for(const f in e){const h=e[f];if(Wo.has(f)){u=!0;continue}else if(NI(f)){s[f]=h;continue}else{const g=kI(h,p_[f]);f.startsWith("origin")?(d=!0,o[f]=g):r[f]=g}}if(e.transform||(u||n?r.transform=AU(e,t.transform,n):r.transform&&(r.transform="none")),d){const{originX:f="50%",originY:h="50%",originZ:g=0}=o;r.transformOrigin=`${f} ${h} ${g}`}}const CU={offset:"stroke-dashoffset",array:"stroke-dasharray"},RU={offset:"strokeDashoffset",array:"strokeDasharray"};function IU(t,e,n=1,r=0,s=!0){t.pathLength=1;const o=s?CU:RU;t[o.offset]=je.transform(-r);const u=je.transform(e),d=je.transform(n);t[o.array]=`${u} ${d}`}function mS(t,e,n){return typeof t=="string"?t:je.transform(e+n*t)}function NU(t,e,n){const r=mS(e,t.x,t.width),s=mS(n,t.y,t.height);return`${r} ${s}`}function v_(t,{attrX:e,attrY:n,attrScale:r,originX:s,originY:o,pathLength:u,pathSpacing:d=1,pathOffset:f=0,...h},g,b){if(g_(t,h,b),g){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:_,style:E,dimensions:C}=t;_.transform&&(C&&(E.transform=_.transform),delete _.transform),C&&(s!==void 0||o!==void 0||E.transform)&&(E.transformOrigin=NU(C,s!==void 0?s:.5,o!==void 0?o:.5)),e!==void 0&&(_.x=e),n!==void 0&&(_.y=n),r!==void 0&&(_.scale=r),u!==void 0&&IU(_,u,d,f,!1)}const y_=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),DI=()=>({...y_(),attrs:{}}),b_=t=>typeof t=="string"&&t.toLowerCase()==="svg";function OI(t,{style:e,vars:n},r,s){Object.assign(t.style,e,s&&s.getProjectionStyles(r));for(const o in n)t.style.setProperty(o,n[o])}const PI=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function jI(t,e,n,r){OI(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(PI.has(s)?s:c_(s),e.attrs[s])}const Ym={};function kU(t){Object.assign(Ym,t)}function MI(t,{layout:e,layoutId:n}){return Wo.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Ym[t]||t==="opacity")}function __(t,e,n){var r;const{style:s}=t,o={};for(const u in s)(tr(s[u])||e.style&&tr(e.style[u])||MI(u,t)||((r=n==null?void 0:n.getValue(u))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(o[u]=s[u]);return o}function VI(t,e,n){const r=__(t,e,n);for(const s in t)if(tr(t[s])||tr(e[s])){const o=Au.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[o]=t[s]}return r}function DU(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const pS=["x","y","width","height","cx","cy","r"],OU={useVisualState:RI({scrapeMotionValuesFromProps:VI,createRenderState:DI,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:s})=>{if(!n)return;let o=!!t.drag;if(!o){for(const d in s)if(Wo.has(d)){o=!0;break}}if(!o)return;let u=!e;if(e)for(let d=0;d<pS.length;d++){const f=pS[d];t[f]!==e[f]&&(u=!0)}u&&Bt.read(()=>{DU(n,r),Bt.render(()=>{v_(r,s,b_(n.tagName),t.transformTemplate),jI(n,r)})})}})},PU={useVisualState:RI({scrapeMotionValuesFromProps:__,createRenderState:y_})};function LI(t,e,n){for(const r in e)!tr(e[r])&&!MI(r,n)&&(t[r]=e[r])}function jU({transformTemplate:t},e){return P.useMemo(()=>{const n=y_();return g_(n,e,t),Object.assign({},n.vars,n.style)},[e])}function MU(t,e){const n=t.style||{},r={};return LI(r,n,t),Object.assign(r,jU(t,e)),r}function VU(t,e){const n={},r=MU(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}function LU(t,e,n,r){const s=P.useMemo(()=>{const o=DI();return v_(o,e,b_(r),t.transformTemplate),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};LI(o,t.style,t),s.style={...o,...s.style}}return s}function UU(t=!1){return(n,r,s,{latestValues:o},u)=>{const f=(f_(n)?LU:VU)(r,o,u,n),h=eU(r,typeof n=="string",t),g=n!==P.Fragment?{...h,...f,ref:s}:{},{children:b}=r,_=P.useMemo(()=>tr(b)?b.get():b,[b]);return P.createElement(n,{...g,children:_})}}function zU(t,e){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const u={...f_(r)?OU:PU,preloadedFeatures:t,useRender:UU(s),createVisualElement:e,Component:r};return uU(u)}}function UI(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function Kp(t,e,n){const r=t.getProps();return h_(r,e,n!==void 0?n:r.custom,t)}const BU=o_(()=>window.ScrollTimeline!==void 0);class FU{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(s=>{if(BU()&&s.attachTimeline)return s.attachTimeline(e);if(typeof n=="function")return n(s)});return()=>{r.forEach((s,o)=>{s&&s(),this.animations[o].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class HU extends FU{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function w_(t,e){return t?t[e]||t.default||t:void 0}const _0=2e4;function zI(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<_0;)e+=n,r=t.next(e);return e>=_0?1/0:e}function x_(t){return typeof t=="function"}function gS(t,e){t.timeline=e,t.onfinish=null}const E_=t=>Array.isArray(t)&&typeof t[0]=="number",qU={linearEasing:void 0};function GU(t,e){const n=o_(t);return()=>{var r;return(r=qU[e])!==null&&r!==void 0?r:n()}}const Wm=GU(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),BI=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let o=0;o<s;o++)r+=t(fu(0,s-1,o))+", ";return`linear(${r.substring(0,r.length-2)})`};function FI(t){return!!(typeof t=="function"&&Wm()||!t||typeof t=="string"&&(t in w0||Wm())||E_(t)||Array.isArray(t)&&t.every(FI))}const Uc=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,w0={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Uc([0,.65,.55,1]),circOut:Uc([.55,0,1,.45]),backIn:Uc([.31,.01,.66,-.59]),backOut:Uc([.33,1.53,.69,.99])};function HI(t,e){if(t)return typeof t=="function"&&Wm()?BI(t,e):E_(t)?Uc(t):Array.isArray(t)?t.map(n=>HI(n,e)||w0.easeOut):w0[t]}const Ai={x:!1,y:!1};function qI(){return Ai.x||Ai.y}function $U(t,e,n){var r;if(t instanceof Element)return[t];if(typeof t=="string"){let s=document;const o=(r=void 0)!==null&&r!==void 0?r:s.querySelectorAll(t);return o?Array.from(o):[]}return Array.from(t)}function GI(t,e){const n=$U(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function vS(t){return e=>{e.pointerType==="touch"||qI()||t(e)}}function KU(t,e,n={}){const[r,s,o]=GI(t,n),u=vS(d=>{const{target:f}=d,h=e(d);if(typeof h!="function"||!f)return;const g=vS(b=>{h(b),f.removeEventListener("pointerleave",g)});f.addEventListener("pointerleave",g,s)});return r.forEach(d=>{d.addEventListener("pointerenter",u,s)}),o}const $I=(t,e)=>e?t===e?!0:$I(t,e.parentElement):!1,T_=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,YU=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function WU(t){return YU.has(t.tagName)||t.tabIndex!==-1}const zc=new WeakSet;function yS(t){return e=>{e.key==="Enter"&&t(e)}}function _y(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const QU=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=yS(()=>{if(zc.has(n))return;_y(n,"down");const s=yS(()=>{_y(n,"up")}),o=()=>_y(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",o,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function bS(t){return T_(t)&&!qI()}function XU(t,e,n={}){const[r,s,o]=GI(t,n),u=d=>{const f=d.currentTarget;if(!bS(d)||zc.has(f))return;zc.add(f);const h=e(d),g=(E,C)=>{window.removeEventListener("pointerup",b),window.removeEventListener("pointercancel",_),!(!bS(E)||!zc.has(f))&&(zc.delete(f),typeof h=="function"&&h(E,{success:C}))},b=E=>{g(E,n.useGlobalTarget||$I(f,E.target))},_=E=>{g(E,!1)};window.addEventListener("pointerup",b,s),window.addEventListener("pointercancel",_,s)};return r.forEach(d=>{!WU(d)&&d.getAttribute("tabindex")===null&&(d.tabIndex=0),(n.useGlobalTarget?window:d).addEventListener("pointerdown",u,s),d.addEventListener("focus",h=>QU(h,s),s)}),o}function ZU(t){return t==="x"||t==="y"?Ai[t]?null:(Ai[t]=!0,()=>{Ai[t]=!1}):Ai.x||Ai.y?null:(Ai.x=Ai.y=!0,()=>{Ai.x=Ai.y=!1})}const KI=new Set(["width","height","top","left","right","bottom",...Au]);let pm;function JU(){pm=void 0}const ts={now:()=>(pm===void 0&&ts.set(Hn.isProcessing||Y5.useManualTiming?Hn.timestamp:performance.now()),pm),set:t=>{pm=t,queueMicrotask(JU)}};function S_(t,e){t.indexOf(e)===-1&&t.push(e)}function A_(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class C_{constructor(){this.subscriptions=[]}add(e){return S_(this.subscriptions,e),()=>A_(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let o=0;o<s;o++){const u=this.subscriptions[o];u&&u(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function YI(t,e){return e?t*(1e3/e):0}const _S=30,e9=t=>!isNaN(parseFloat(t));class t9{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{const o=ts.now();this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=ts.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=e9(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new C_);const r=this.events[e].add(n);return e==="change"?()=>{r(),Bt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=ts.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>_S)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,_S);return YI(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Cd(t,e){return new t9(t,e)}function n9(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Cd(n))}function r9(t,e){const n=Kp(t,e);let{transitionEnd:r={},transition:s={},...o}=n||{};o={...o,...r};for(const u in o){const d=pU(o[u]);n9(t,u,d)}}function i9(t){return!!(tr(t)&&t.add)}function x0(t,e){const n=t.getValue("willChange");if(i9(n))return n.add(e)}function WI(t){return t.props[SI]}const QI=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,s9=1e-7,a9=12;function o9(t,e,n,r,s){let o,u,d=0;do u=e+(n-e)/2,o=QI(u,r,s)-t,o>0?n=u:e=u;while(Math.abs(o)>s9&&++d<a9);return u}function Xd(t,e,n,r){if(t===e&&n===r)return Wr;const s=o=>o9(o,0,1,t,n);return o=>o===0||o===1?o:QI(s(o),e,r)}const XI=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,ZI=t=>e=>1-t(1-e),JI=Xd(.33,1.53,.69,.99),R_=ZI(JI),eN=XI(R_),tN=t=>(t*=2)<1?.5*R_(t):.5*(2-Math.pow(2,-10*(t-1))),I_=t=>1-Math.sin(Math.acos(t)),nN=ZI(I_),rN=XI(I_),iN=t=>/^0[^.\s]+$/u.test(t);function l9(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||iN(t):!0}const ed=t=>Math.round(t*1e5)/1e5,N_=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function u9(t){return t==null}const c9=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,k_=(t,e)=>n=>!!(typeof n=="string"&&c9.test(n)&&n.startsWith(t)||e&&!u9(n)&&Object.prototype.hasOwnProperty.call(n,e)),sN=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,o,u,d]=r.match(N_);return{[t]:parseFloat(s),[e]:parseFloat(o),[n]:parseFloat(u),alpha:d!==void 0?parseFloat(d):1}},d9=t=>Ps(0,255,t),wy={...Cu,transform:t=>Math.round(d9(t))},No={test:k_("rgb","red"),parse:sN("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+wy.transform(t)+", "+wy.transform(e)+", "+wy.transform(n)+", "+ed(Ad.transform(r))+")"};function f9(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const E0={test:k_("#"),parse:f9,transform:No.transform},ql={test:k_("hsl","hue"),parse:sN("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+es.transform(ed(e))+", "+es.transform(ed(n))+", "+ed(Ad.transform(r))+")"},Xn={test:t=>No.test(t)||E0.test(t)||ql.test(t),parse:t=>No.test(t)?No.parse(t):ql.test(t)?ql.parse(t):E0.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?No.transform(t):ql.transform(t)},h9=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function m9(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(N_))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(h9))===null||n===void 0?void 0:n.length)||0)>0}const aN="number",oN="color",p9="var",g9="var(",wS="${}",v9=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Rd(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let o=0;const d=e.replace(v9,f=>(Xn.test(f)?(r.color.push(o),s.push(oN),n.push(Xn.parse(f))):f.startsWith(g9)?(r.var.push(o),s.push(p9),n.push(f)):(r.number.push(o),s.push(aN),n.push(parseFloat(f))),++o,wS)).split(wS);return{values:n,split:d,indexes:r,types:s}}function lN(t){return Rd(t).values}function uN(t){const{split:e,types:n}=Rd(t),r=e.length;return s=>{let o="";for(let u=0;u<r;u++)if(o+=e[u],s[u]!==void 0){const d=n[u];d===aN?o+=ed(s[u]):d===oN?o+=Xn.transform(s[u]):o+=s[u]}return o}}const y9=t=>typeof t=="number"?0:t;function b9(t){const e=lN(t);return uN(t)(e.map(y9))}const Ba={test:m9,parse:lN,createTransformer:uN,getAnimatableNone:b9},_9=new Set(["brightness","contrast","saturate","opacity"]);function w9(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(N_)||[];if(!r)return t;const s=n.replace(r,"");let o=_9.has(e)?1:0;return r!==n&&(o*=100),e+"("+o+s+")"}const x9=/\b([a-z-]*)\(.*?\)/gu,T0={...Ba,getAnimatableNone:t=>{const e=t.match(x9);return e?e.map(w9).join(" "):t}},E9={...p_,color:Xn,backgroundColor:Xn,outlineColor:Xn,fill:Xn,stroke:Xn,borderColor:Xn,borderTopColor:Xn,borderRightColor:Xn,borderBottomColor:Xn,borderLeftColor:Xn,filter:T0,WebkitFilter:T0},D_=t=>E9[t];function cN(t,e){let n=D_(t);return n!==T0&&(n=Ba),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const T9=new Set(["auto","none","0"]);function S9(t,e,n){let r=0,s;for(;r<t.length&&!s;){const o=t[r];typeof o=="string"&&!T9.has(o)&&Rd(o).values.length&&(s=t[r]),r++}if(s&&n)for(const o of e)t[o]=cN(n,s)}const xS=t=>t===Cu||t===je,ES=(t,e)=>parseFloat(t.split(", ")[e]),TS=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/u);if(s)return ES(s[1],e);{const o=r.match(/^matrix\((.+)\)$/u);return o?ES(o[1],t):0}},A9=new Set(["x","y","z"]),C9=Au.filter(t=>!A9.has(t));function R9(t){const e=[];return C9.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const mu={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:TS(4,13),y:TS(5,14)};mu.translateX=mu.x;mu.translateY=mu.y;const Po=new Set;let S0=!1,A0=!1;function dN(){if(A0){const t=Array.from(Po).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=R9(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([o,u])=>{var d;(d=r.getValue(o))===null||d===void 0||d.set(u)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}A0=!1,S0=!1,Po.forEach(t=>t.complete()),Po.clear()}function fN(){Po.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(A0=!0)})}function I9(){fN(),dN()}class O_{constructor(e,n,r,s,o,u=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=o,this.isAsync=u}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Po.add(this),S0||(S0=!0,Bt.read(fN),Bt.resolveKeyframes(dN))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;for(let o=0;o<e.length;o++)if(e[o]===null)if(o===0){const u=s==null?void 0:s.get(),d=e[e.length-1];if(u!==void 0)e[0]=u;else if(r&&n){const f=r.readValue(n,d);f!=null&&(e[0]=f)}e[0]===void 0&&(e[0]=d),s&&u===void 0&&s.set(e[0])}else e[o]=e[o-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Po.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Po.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const hN=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),N9=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function k9(t){const e=N9.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function mN(t,e,n=1){const[r,s]=k9(t);if(!r)return;const o=window.getComputedStyle(e).getPropertyValue(r);if(o){const u=o.trim();return hN(u)?parseFloat(u):u}return m_(s)?mN(s,e,n+1):s}const pN=t=>e=>e.test(t),D9={test:t=>t==="auto",parse:t=>t},gN=[Cu,je,es,va,wU,_U,D9],SS=t=>gN.find(pN(t));class vN extends O_{constructor(e,n,r,s,o){super(e,n,r,s,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let h=e[f];if(typeof h=="string"&&(h=h.trim(),m_(h))){const g=mN(h,n.current);g!==void 0&&(e[f]=g),f===e.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!KI.has(r)||e.length!==2)return;const[s,o]=e,u=SS(s),d=SS(o);if(u!==d)if(xS(u)&&xS(d))for(let f=0;f<e.length;f++){const h=e[f];typeof h=="string"&&(e[f]=parseFloat(h))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)l9(e[s])&&r.push(s);r.length&&S9(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=mu[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:s}=this;if(!n||!n.current)return;const o=n.getValue(r);o&&o.jump(this.measuredOrigin,!1);const u=s.length-1,d=s[u];s[u]=mu[r](n.measureViewportBox(),window.getComputedStyle(n.current)),d!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=d),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([f,h])=>{n.getValue(f).set(h)}),this.resolveNoneKeyframes()}}const AS=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Ba.test(t)||t==="0")&&!t.startsWith("url("));function O9(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function P9(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const o=t[t.length-1],u=AS(s,e),d=AS(o,e);return!u||!d?!1:O9(t)||(n==="spring"||x_(n))&&r}const j9=t=>t!==null;function Yp(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(j9),o=e&&n!=="loop"&&e%2===1?0:s.length-1;return!o||r===void 0?s[o]:r}const M9=40;class yN{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:u="loop",...d}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=ts.now(),this.options={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:o,repeatType:u,...d},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>M9?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&I9(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=ts.now(),this.hasAttemptedResolve=!0;const{name:r,type:s,velocity:o,delay:u,onComplete:d,onUpdate:f,isGenerator:h}=this.options;if(!h&&!P9(e,r,s,o))if(u)this.options.duration=0;else{f&&f(Yp(e,this.options,n)),d&&d(),this.resolveFinishedPromise();return}const g=this.initPlayback(e,n);g!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...g},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const Kt=(t,e,n)=>t+(e-t)*n;function xy(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function V9({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,o=0,u=0;if(!e)s=o=u=n;else{const d=n<.5?n*(1+e):n+e-n*e,f=2*n-d;s=xy(f,d,t+1/3),o=xy(f,d,t),u=xy(f,d,t-1/3)}return{red:Math.round(s*255),green:Math.round(o*255),blue:Math.round(u*255),alpha:r}}function Qm(t,e){return n=>n>0?e:t}const Ey=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},L9=[E0,No,ql],U9=t=>L9.find(e=>e.test(t));function CS(t){const e=U9(t);if(!e)return!1;let n=e.parse(t);return e===ql&&(n=V9(n)),n}const RS=(t,e)=>{const n=CS(t),r=CS(e);if(!n||!r)return Qm(t,e);const s={...n};return o=>(s.red=Ey(n.red,r.red,o),s.green=Ey(n.green,r.green,o),s.blue=Ey(n.blue,r.blue,o),s.alpha=Kt(n.alpha,r.alpha,o),No.transform(s))},z9=(t,e)=>n=>e(t(n)),Zd=(...t)=>t.reduce(z9),C0=new Set(["none","hidden"]);function B9(t,e){return C0.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function F9(t,e){return n=>Kt(t,e,n)}function P_(t){return typeof t=="number"?F9:typeof t=="string"?m_(t)?Qm:Xn.test(t)?RS:G9:Array.isArray(t)?bN:typeof t=="object"?Xn.test(t)?RS:H9:Qm}function bN(t,e){const n=[...t],r=n.length,s=t.map((o,u)=>P_(o)(o,e[u]));return o=>{for(let u=0;u<r;u++)n[u]=s[u](o);return n}}function H9(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=P_(t[s])(t[s],e[s]));return s=>{for(const o in r)n[o]=r[o](s);return n}}function q9(t,e){var n;const r=[],s={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const u=e.types[o],d=t.indexes[u][s[u]],f=(n=t.values[d])!==null&&n!==void 0?n:0;r[o]=f,s[u]++}return r}const G9=(t,e)=>{const n=Ba.createTransformer(e),r=Rd(t),s=Rd(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?C0.has(t)&&!s.values.length||C0.has(e)&&!r.values.length?B9(t,e):Zd(bN(q9(r,s),s.values),n):Qm(t,e)};function _N(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Kt(t,e,n):P_(t)(t,e)}const $9=5;function wN(t,e,n){const r=Math.max(e-$9,0);return YI(n-t(r),e-r)}const en={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Ty=.001;function K9({duration:t=en.duration,bounce:e=en.bounce,velocity:n=en.velocity,mass:r=en.mass}){let s,o,u=1-e;u=Ps(en.minDamping,en.maxDamping,u),t=Ps(en.minDuration,en.maxDuration,Rs(t)),u<1?(s=h=>{const g=h*u,b=g*t,_=g-n,E=R0(h,u),C=Math.exp(-b);return Ty-_/E*C},o=h=>{const b=h*u*t,_=b*n+n,E=Math.pow(u,2)*Math.pow(h,2)*t,C=Math.exp(-b),N=R0(Math.pow(h,2),u);return(-s(h)+Ty>0?-1:1)*((_-E)*C)/N}):(s=h=>{const g=Math.exp(-h*t),b=(h-n)*t+1;return-Ty+g*b},o=h=>{const g=Math.exp(-h*t),b=(n-h)*(t*t);return g*b});const d=5/t,f=W9(s,o,d);if(t=Cs(t),isNaN(f))return{stiffness:en.stiffness,damping:en.damping,duration:t};{const h=Math.pow(f,2)*r;return{stiffness:h,damping:u*2*Math.sqrt(r*h),duration:t}}}const Y9=12;function W9(t,e,n){let r=n;for(let s=1;s<Y9;s++)r=r-t(r)/e(r);return r}function R0(t,e){return t*Math.sqrt(1-e*e)}const Q9=["duration","bounce"],X9=["stiffness","damping","mass"];function IS(t,e){return e.some(n=>t[n]!==void 0)}function Z9(t){let e={velocity:en.velocity,stiffness:en.stiffness,damping:en.damping,mass:en.mass,isResolvedFromDuration:!1,...t};if(!IS(t,X9)&&IS(t,Q9))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,o=2*Ps(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:en.mass,stiffness:s,damping:o}}else{const n=K9(t);e={...e,...n,mass:en.mass},e.isResolvedFromDuration=!0}return e}function xN(t=en.visualDuration,e=en.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const o=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],d={done:!1,value:o},{stiffness:f,damping:h,mass:g,duration:b,velocity:_,isResolvedFromDuration:E}=Z9({...n,velocity:-Rs(n.velocity||0)}),C=_||0,N=h/(2*Math.sqrt(f*g)),D=u-o,U=Rs(Math.sqrt(f/g)),M=Math.abs(D)<5;r||(r=M?en.restSpeed.granular:en.restSpeed.default),s||(s=M?en.restDelta.granular:en.restDelta.default);let z;if(N<1){const K=R0(U,N);z=H=>{const A=Math.exp(-N*U*H);return u-A*((C+N*U*D)/K*Math.sin(K*H)+D*Math.cos(K*H))}}else if(N===1)z=K=>u-Math.exp(-U*K)*(D+(C+U*D)*K);else{const K=U*Math.sqrt(N*N-1);z=H=>{const A=Math.exp(-N*U*H),S=Math.min(K*H,300);return u-A*((C+N*U*D)*Math.sinh(S)+K*D*Math.cosh(S))/K}}const G={calculatedDuration:E&&b||null,next:K=>{const H=z(K);if(E)d.done=K>=b;else{let A=0;N<1&&(A=K===0?Cs(C):wN(z,K,H));const S=Math.abs(A)<=r,R=Math.abs(u-H)<=s;d.done=S&&R}return d.value=d.done?u:H,d},toString:()=>{const K=Math.min(zI(G),_0),H=BI(A=>G.next(K*A).value,K,30);return K+"ms "+H}};return G}function NS({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:o=500,modifyTarget:u,min:d,max:f,restDelta:h=.5,restSpeed:g}){const b=t[0],_={done:!1,value:b},E=S=>d!==void 0&&S<d||f!==void 0&&S>f,C=S=>d===void 0?f:f===void 0||Math.abs(d-S)<Math.abs(f-S)?d:f;let N=n*e;const D=b+N,U=u===void 0?D:u(D);U!==D&&(N=U-b);const M=S=>-N*Math.exp(-S/r),z=S=>U+M(S),G=S=>{const R=M(S),L=z(S);_.done=Math.abs(R)<=h,_.value=_.done?U:L};let K,H;const A=S=>{E(_.value)&&(K=S,H=xN({keyframes:[_.value,C(_.value)],velocity:wN(z,S,_.value),damping:s,stiffness:o,restDelta:h,restSpeed:g}))};return A(0),{calculatedDuration:null,next:S=>{let R=!1;return!H&&K===void 0&&(R=!0,G(S),A(S)),K!==void 0&&S>=K?H.next(S-K):(!R&&G(S),_)}}}const J9=Xd(.42,0,1,1),ez=Xd(0,0,.58,1),EN=Xd(.42,0,.58,1),tz=t=>Array.isArray(t)&&typeof t[0]!="number",nz={linear:Wr,easeIn:J9,easeInOut:EN,easeOut:ez,circIn:I_,circInOut:rN,circOut:nN,backIn:R_,backInOut:eN,backOut:JI,anticipate:tN},kS=t=>{if(E_(t)){_I(t.length===4);const[e,n,r,s]=t;return Xd(e,n,r,s)}else if(typeof t=="string")return nz[t];return t};function rz(t,e,n){const r=[],s=n||_N,o=t.length-1;for(let u=0;u<o;u++){let d=s(t[u],t[u+1]);if(e){const f=Array.isArray(e)?e[u]||Wr:e;d=Zd(f,d)}r.push(d)}return r}function iz(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const o=t.length;if(_I(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const d=rz(e,r,s),f=d.length,h=g=>{if(u&&g<t[0])return e[0];let b=0;if(f>1)for(;b<t.length-2&&!(g<t[b+1]);b++);const _=fu(t[b],t[b+1],g);return d[b](_)};return n?g=>h(Ps(t[0],t[o-1],g)):h}function sz(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=fu(0,e,r);t.push(Kt(n,1,s))}}function az(t){const e=[0];return sz(e,t.length-1),e}function oz(t,e){return t.map(n=>n*e)}function lz(t,e){return t.map(()=>e||EN).splice(0,t.length-1)}function Xm({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=tz(r)?r.map(kS):kS(r),o={done:!1,value:e[0]},u=oz(n&&n.length===e.length?n:az(e),t),d=iz(u,e,{ease:Array.isArray(s)?s:lz(e,s)});return{calculatedDuration:t,next:f=>(o.value=d(f),o.done=f>=t,o)}}const uz=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Bt.update(e,!0),stop:()=>za(e),now:()=>Hn.isProcessing?Hn.timestamp:ts.now()}},cz={decay:NS,inertia:NS,tween:Xm,keyframes:Xm,spring:xN},dz=t=>t/100;class j_ extends yN{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:f}=this.options;f&&f()};const{name:n,motionValue:r,element:s,keyframes:o}=this.options,u=(s==null?void 0:s.KeyframeResolver)||O_,d=(f,h)=>this.onKeyframesResolved(f,h);this.resolver=new u(o,d,n,r,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:o,velocity:u=0}=this.options,d=x_(n)?n:cz[n]||Xm;let f,h;d!==Xm&&typeof e[0]!="number"&&(f=Zd(dz,_N(e[0],e[1])),e=[0,100]);const g=d({...this.options,keyframes:e});o==="mirror"&&(h=d({...this.options,keyframes:[...e].reverse(),velocity:-u})),g.calculatedDuration===null&&(g.calculatedDuration=zI(g));const{calculatedDuration:b}=g,_=b+s,E=_*(r+1)-s;return{generator:g,mirroredGenerator:h,mapPercentToKeyframes:f,calculatedDuration:b,resolvedDuration:_,totalDuration:E}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:S}=this.options;return{done:!0,value:S[S.length-1]}}const{finalKeyframe:s,generator:o,mirroredGenerator:u,mapPercentToKeyframes:d,keyframes:f,calculatedDuration:h,totalDuration:g,resolvedDuration:b}=r;if(this.startTime===null)return o.next(0);const{delay:_,repeat:E,repeatType:C,repeatDelay:N,onUpdate:D}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-g/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const U=this.currentTime-_*(this.speed>=0?1:-1),M=this.speed>=0?U<0:U>g;this.currentTime=Math.max(U,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=g);let z=this.currentTime,G=o;if(E){const S=Math.min(this.currentTime,g)/b;let R=Math.floor(S),L=S%1;!L&&S>=1&&(L=1),L===1&&R--,R=Math.min(R,E+1),!!(R%2)&&(C==="reverse"?(L=1-L,N&&(L-=N/b)):C==="mirror"&&(G=u)),z=Ps(0,1,L)*b}const K=M?{done:!1,value:f[0]}:G.next(z);d&&(K.value=d(K.value));let{done:H}=K;!M&&h!==null&&(H=this.speed>=0?this.currentTime>=g:this.currentTime<=0);const A=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&H);return A&&s!==void 0&&(K.value=Yp(f,this.options,s)),D&&D(K.value),A&&this.finish(),K}get duration(){const{resolved:e}=this;return e?Rs(e.calculatedDuration):0}get time(){return Rs(this.currentTime)}set time(e){e=Cs(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Rs(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=uz,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),n&&n();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const fz=new Set(["opacity","clipPath","filter","transform"]);function hz(t,e,n,{delay:r=0,duration:s=300,repeat:o=0,repeatType:u="loop",ease:d="easeInOut",times:f}={}){const h={[e]:n};f&&(h.offset=f);const g=HI(d,s);return Array.isArray(g)&&(h.easing=g),t.animate(h,{delay:r,duration:s,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:o+1,direction:u==="reverse"?"alternate":"normal"})}const mz=o_(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Zm=10,pz=2e4;function gz(t){return x_(t.type)||t.type==="spring"||!FI(t.ease)}function vz(t,e){const n=new j_({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const s=[];let o=0;for(;!r.done&&o<pz;)r=n.sample(o),s.push(r.value),o+=Zm;return{times:void 0,keyframes:s,duration:o-Zm,ease:"linear"}}const TN={anticipate:tN,backInOut:eN,circInOut:rN};function yz(t){return t in TN}class DS extends yN{constructor(e){super(e);const{name:n,motionValue:r,element:s,keyframes:o}=this.options;this.resolver=new vN(o,(u,d)=>this.onKeyframesResolved(u,d),n,r,s),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:s,ease:o,type:u,motionValue:d,name:f,startTime:h}=this.options;if(!d.owner||!d.owner.current)return!1;if(typeof o=="string"&&Wm()&&yz(o)&&(o=TN[o]),gz(this.options)){const{onComplete:b,onUpdate:_,motionValue:E,element:C,...N}=this.options,D=vz(e,N);e=D.keyframes,e.length===1&&(e[1]=e[0]),r=D.duration,s=D.times,o=D.ease,u="keyframes"}const g=hz(d.owner.current,f,e,{...this.options,duration:r,times:s,ease:o});return g.startTime=h??this.calcStartTime(),this.pendingTimeline?(gS(g,this.pendingTimeline),this.pendingTimeline=void 0):g.onfinish=()=>{const{onComplete:b}=this.options;d.set(Yp(e,this.options,n)),b&&b(),this.cancel(),this.resolveFinishedPromise()},{animation:g,duration:r,times:s,type:u,ease:o,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return Rs(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return Rs(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Cs(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return Wr;const{animation:r}=n;gS(r,e)}return Wr}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:s,type:o,ease:u,times:d}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:h,onUpdate:g,onComplete:b,element:_,...E}=this.options,C=new j_({...E,keyframes:r,duration:s,type:o,ease:u,times:d,isGenerator:!0}),N=Cs(this.time);h.setWithVelocity(C.sample(N-Zm).value,C.sample(N).value,Zm)}const{onStop:f}=this.options;f&&f(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:s,repeatType:o,damping:u,type:d}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:h}=n.owner.getProps();return mz()&&r&&fz.has(r)&&!f&&!h&&!s&&o!=="mirror"&&u!==0&&d!=="inertia"}}const bz={type:"spring",stiffness:500,damping:25,restSpeed:10},_z=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),wz={type:"keyframes",duration:.8},xz={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Ez=(t,{keyframes:e})=>e.length>2?wz:Wo.has(t)?t.startsWith("scale")?_z(e[1]):bz:xz;function Tz({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:o,repeatType:u,repeatDelay:d,from:f,elapsed:h,...g}){return!!Object.keys(g).length}const M_=(t,e,n,r={},s,o)=>u=>{const d=w_(r,t)||{},f=d.delay||r.delay||0;let{elapsed:h=0}=r;h=h-Cs(f);let g={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...d,delay:-h,onUpdate:_=>{e.set(_),d.onUpdate&&d.onUpdate(_)},onComplete:()=>{u(),d.onComplete&&d.onComplete()},name:t,motionValue:e,element:o?void 0:s};Tz(d)||(g={...g,...Ez(t,g)}),g.duration&&(g.duration=Cs(g.duration)),g.repeatDelay&&(g.repeatDelay=Cs(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let b=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(g.duration=0,g.delay===0&&(b=!0)),b&&!o&&e.get()!==void 0){const _=Yp(g.keyframes,d);if(_!==void 0)return Bt.update(()=>{g.onUpdate(_),g.onComplete()}),new HU([])}return!o&&DS.supports(g)?new DS(g):new j_(g)};function Sz({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function SN(t,e,{delay:n=0,transitionOverride:r,type:s}={}){var o;let{transition:u=t.getDefaultTransition(),transitionEnd:d,...f}=e;r&&(u=r);const h=[],g=s&&t.animationState&&t.animationState.getState()[s];for(const b in f){const _=t.getValue(b,(o=t.latestValues[b])!==null&&o!==void 0?o:null),E=f[b];if(E===void 0||g&&Sz(g,b))continue;const C={delay:n,...w_(u||{},b)};let N=!1;if(window.MotionHandoffAnimation){const U=WI(t);if(U){const M=window.MotionHandoffAnimation(U,b,Bt);M!==null&&(C.startTime=M,N=!0)}}x0(t,b),_.start(M_(b,_,E,t.shouldReduceMotion&&KI.has(b)?{type:!1}:C,t,N));const D=_.animation;D&&h.push(D)}return d&&Promise.all(h).then(()=>{Bt.update(()=>{d&&r9(t,d)})}),h}function I0(t,e,n={}){var r;const s=Kp(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:o=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(o=n.transitionOverride);const u=s?()=>Promise.all(SN(t,s,n)):()=>Promise.resolve(),d=t.variantChildren&&t.variantChildren.size?(h=0)=>{const{delayChildren:g=0,staggerChildren:b,staggerDirection:_}=o;return Az(t,e,g+h,b,_,n)}:()=>Promise.resolve(),{when:f}=o;if(f){const[h,g]=f==="beforeChildren"?[u,d]:[d,u];return h().then(()=>g())}else return Promise.all([u(),d(n.delay)])}function Az(t,e,n=0,r=0,s=1,o){const u=[],d=(t.variantChildren.size-1)*r,f=s===1?(h=0)=>h*r:(h=0)=>d-h*r;return Array.from(t.variantChildren).sort(Cz).forEach((h,g)=>{h.notify("AnimationStart",e),u.push(I0(h,e,{...o,delay:n+f(g)}).then(()=>h.notify("AnimationComplete",e)))}),Promise.all(u)}function Cz(t,e){return t.sortNodePosition(e)}function Rz(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(o=>I0(t,o,n));r=Promise.all(s)}else if(typeof e=="string")r=I0(t,e,n);else{const s=typeof e=="function"?Kp(t,e,n.custom):e;r=Promise.all(SN(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const Iz=u_.length;function AN(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?AN(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<Iz;n++){const r=u_[n],s=t.props[r];(Sd(s)||s===!1)&&(e[r]=s)}return e}const Nz=[...l_].reverse(),kz=l_.length;function Dz(t){return e=>Promise.all(e.map(({animation:n,options:r})=>Rz(t,n,r)))}function Oz(t){let e=Dz(t),n=OS(),r=!0;const s=f=>(h,g)=>{var b;const _=Kp(t,g,f==="exit"?(b=t.presenceContext)===null||b===void 0?void 0:b.custom:void 0);if(_){const{transition:E,transitionEnd:C,...N}=_;h={...h,...N,...C}}return h};function o(f){e=f(t)}function u(f){const{props:h}=t,g=AN(t.parent)||{},b=[],_=new Set;let E={},C=1/0;for(let D=0;D<kz;D++){const U=Nz[D],M=n[U],z=h[U]!==void 0?h[U]:g[U],G=Sd(z),K=U===f?M.isActive:null;K===!1&&(C=D);let H=z===g[U]&&z!==h[U]&&G;if(H&&r&&t.manuallyAnimateOnMount&&(H=!1),M.protectedKeys={...E},!M.isActive&&K===null||!z&&!M.prevProp||Gp(z)||typeof z=="boolean")continue;const A=Pz(M.prevProp,z);let S=A||U===f&&M.isActive&&!H&&G||D>C&&G,R=!1;const L=Array.isArray(z)?z:[z];let V=L.reduce(s(U),{});K===!1&&(V={});const{prevResolvedValues:O={}}=M,j={...O,...V},ve=se=>{S=!0,_.has(se)&&(R=!0,_.delete(se)),M.needsAnimating[se]=!0;const de=t.getValue(se);de&&(de.liveStyle=!1)};for(const se in j){const de=V[se],xe=O[se];if(E.hasOwnProperty(se))continue;let Ee=!1;b0(de)&&b0(xe)?Ee=!UI(de,xe):Ee=de!==xe,Ee?de!=null?ve(se):_.add(se):de!==void 0&&_.has(se)?ve(se):M.protectedKeys[se]=!0}M.prevProp=z,M.prevResolvedValues=V,M.isActive&&(E={...E,...V}),r&&t.blockInitialAnimation&&(S=!1),S&&(!(H&&A)||R)&&b.push(...L.map(se=>({animation:se,options:{type:U}})))}if(_.size){const D={};_.forEach(U=>{const M=t.getBaseTarget(U),z=t.getValue(U);z&&(z.liveStyle=!0),D[U]=M??null}),b.push({animation:D})}let N=!!b.length;return r&&(h.initial===!1||h.initial===h.animate)&&!t.manuallyAnimateOnMount&&(N=!1),r=!1,N?e(b):Promise.resolve()}function d(f,h){var g;if(n[f].isActive===h)return Promise.resolve();(g=t.variantChildren)===null||g===void 0||g.forEach(_=>{var E;return(E=_.animationState)===null||E===void 0?void 0:E.setActive(f,h)}),n[f].isActive=h;const b=u(f);for(const _ in n)n[_].protectedKeys={};return b}return{animateChanges:u,setActive:d,setAnimateFunction:o,getState:()=>n,reset:()=>{n=OS(),r=!0}}}function Pz(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!UI(e,t):!1}function _o(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function OS(){return{animate:_o(!0),whileInView:_o(),whileHover:_o(),whileTap:_o(),whileDrag:_o(),whileFocus:_o(),exit:_o()}}class Ya{constructor(e){this.isMounted=!1,this.node=e}update(){}}class jz extends Ya{constructor(e){super(e),e.animationState||(e.animationState=Oz(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Gp(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let Mz=0;class Vz extends Ya{constructor(){super(...arguments),this.id=Mz++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const Lz={animation:{Feature:jz},exit:{Feature:Vz}};function Id(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Jd(t){return{point:{x:t.pageX,y:t.pageY}}}const Uz=t=>e=>T_(e)&&t(e,Jd(e));function td(t,e,n,r){return Id(t,e,Uz(n),r)}const PS=(t,e)=>Math.abs(t-e);function zz(t,e){const n=PS(t.x,e.x),r=PS(t.y,e.y);return Math.sqrt(n**2+r**2)}class CN{constructor(e,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=Ay(this.lastMoveEventInfo,this.history),_=this.startEvent!==null,E=zz(b.offset,{x:0,y:0})>=3;if(!_&&!E)return;const{point:C}=b,{timestamp:N}=Hn;this.history.push({...C,timestamp:N});const{onStart:D,onMove:U}=this.handlers;_||(D&&D(this.lastMoveEvent,b),this.startEvent=this.lastMoveEvent),U&&U(this.lastMoveEvent,b)},this.handlePointerMove=(b,_)=>{this.lastMoveEvent=b,this.lastMoveEventInfo=Sy(_,this.transformPagePoint),Bt.update(this.updatePoint,!0)},this.handlePointerUp=(b,_)=>{this.end();const{onEnd:E,onSessionEnd:C,resumeAnimation:N}=this.handlers;if(this.dragSnapToOrigin&&N&&N(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const D=Ay(b.type==="pointercancel"?this.lastMoveEventInfo:Sy(_,this.transformPagePoint),this.history);this.startEvent&&E&&E(b,D),C&&C(b,D)},!T_(e))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const u=Jd(e),d=Sy(u,this.transformPagePoint),{point:f}=d,{timestamp:h}=Hn;this.history=[{...f,timestamp:h}];const{onSessionStart:g}=n;g&&g(e,Ay(d,this.history)),this.removeListeners=Zd(td(this.contextWindow,"pointermove",this.handlePointerMove),td(this.contextWindow,"pointerup",this.handlePointerUp),td(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),za(this.updatePoint)}}function Sy(t,e){return e?{point:e(t.point)}:t}function jS(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Ay({point:t},e){return{point:t,delta:jS(t,RN(e)),offset:jS(t,Bz(e)),velocity:Fz(e,.1)}}function Bz(t){return t[0]}function RN(t){return t[t.length-1]}function Fz(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=RN(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>Cs(e)));)n--;if(!r)return{x:0,y:0};const o=Rs(s.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const u={x:(s.x-r.x)/o,y:(s.y-r.y)/o};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}const IN=1e-4,Hz=1-IN,qz=1+IN,NN=.01,Gz=0-NN,$z=0+NN;function Qr(t){return t.max-t.min}function Kz(t,e,n){return Math.abs(t-e)<=n}function MS(t,e,n,r=.5){t.origin=r,t.originPoint=Kt(e.min,e.max,t.origin),t.scale=Qr(n)/Qr(e),t.translate=Kt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=Hz&&t.scale<=qz||isNaN(t.scale))&&(t.scale=1),(t.translate>=Gz&&t.translate<=$z||isNaN(t.translate))&&(t.translate=0)}function nd(t,e,n,r){MS(t.x,e.x,n.x,r?r.originX:void 0),MS(t.y,e.y,n.y,r?r.originY:void 0)}function VS(t,e,n){t.min=n.min+e.min,t.max=t.min+Qr(e)}function Yz(t,e,n){VS(t.x,e.x,n.x),VS(t.y,e.y,n.y)}function LS(t,e,n){t.min=e.min-n.min,t.max=t.min+Qr(e)}function rd(t,e,n){LS(t.x,e.x,n.x),LS(t.y,e.y,n.y)}function Wz(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Kt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Kt(n,t,r.max):Math.min(t,n)),t}function US(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function Qz(t,{top:e,left:n,bottom:r,right:s}){return{x:US(t.x,n,s),y:US(t.y,e,r)}}function zS(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function Xz(t,e){return{x:zS(t.x,e.x),y:zS(t.y,e.y)}}function Zz(t,e){let n=.5;const r=Qr(t),s=Qr(e);return s>r?n=fu(e.min,e.max-r,t.min):r>s&&(n=fu(t.min,t.max-s,e.min)),Ps(0,1,n)}function Jz(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const N0=.35;function e8(t=N0){return t===!1?t=0:t===!0&&(t=N0),{x:BS(t,"left","right"),y:BS(t,"top","bottom")}}function BS(t,e,n){return{min:FS(t,e),max:FS(t,n)}}function FS(t,e){return typeof t=="number"?t:t[e]||0}const HS=()=>({translate:0,scale:1,origin:0,originPoint:0}),Gl=()=>({x:HS(),y:HS()}),qS=()=>({min:0,max:0}),ln=()=>({x:qS(),y:qS()});function fi(t){return[t("x"),t("y")]}function kN({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function t8({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function n8(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Cy(t){return t===void 0||t===1}function k0({scale:t,scaleX:e,scaleY:n}){return!Cy(t)||!Cy(e)||!Cy(n)}function So(t){return k0(t)||DN(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function DN(t){return GS(t.x)||GS(t.y)}function GS(t){return t&&t!=="0%"}function Jm(t,e,n){const r=t-n,s=e*r;return n+s}function $S(t,e,n,r,s){return s!==void 0&&(t=Jm(t,s,r)),Jm(t,n,r)+e}function D0(t,e=0,n=1,r,s){t.min=$S(t.min,e,n,r,s),t.max=$S(t.max,e,n,r,s)}function ON(t,{x:e,y:n}){D0(t.x,e.translate,e.scale,e.originPoint),D0(t.y,n.translate,n.scale,n.originPoint)}const KS=.999999999999,YS=1.0000000000001;function r8(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let o,u;for(let d=0;d<s;d++){o=n[d],u=o.projectionDelta;const{visualElement:f}=o.options;f&&f.props.style&&f.props.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Kl(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,ON(t,u)),r&&So(o.latestValues)&&Kl(t,o.latestValues))}e.x<YS&&e.x>KS&&(e.x=1),e.y<YS&&e.y>KS&&(e.y=1)}function $l(t,e){t.min=t.min+e,t.max=t.max+e}function WS(t,e,n,r,s=.5){const o=Kt(t.min,t.max,s);D0(t,e,n,o,r)}function Kl(t,e){WS(t.x,e.x,e.scaleX,e.scale,e.originX),WS(t.y,e.y,e.scaleY,e.scale,e.originY)}function PN(t,e){return kN(n8(t.getBoundingClientRect(),e))}function i8(t,e,n){const r=PN(t,n),{scroll:s}=e;return s&&($l(r.x,s.offset.x),$l(r.y,s.offset.y)),r}const jN=({current:t})=>t?t.ownerDocument.defaultView:null,s8=new WeakMap;class a8{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ln(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=g=>{const{dragSnapToOrigin:b}=this.getProps();b?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Jd(g).point)},o=(g,b)=>{const{drag:_,dragPropagation:E,onDragStart:C}=this.getProps();if(_&&!E&&(this.openDragLock&&this.openDragLock(),this.openDragLock=ZU(_),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),fi(D=>{let U=this.getAxisMotionValue(D).get()||0;if(es.test(U)){const{projection:M}=this.visualElement;if(M&&M.layout){const z=M.layout.layoutBox[D];z&&(U=Qr(z)*(parseFloat(U)/100))}}this.originPoint[D]=U}),C&&Bt.postRender(()=>C(g,b)),x0(this.visualElement,"transform");const{animationState:N}=this.visualElement;N&&N.setActive("whileDrag",!0)},u=(g,b)=>{const{dragPropagation:_,dragDirectionLock:E,onDirectionLock:C,onDrag:N}=this.getProps();if(!_&&!this.openDragLock)return;const{offset:D}=b;if(E&&this.currentDirection===null){this.currentDirection=o8(D),this.currentDirection!==null&&C&&C(this.currentDirection);return}this.updateAxis("x",b.point,D),this.updateAxis("y",b.point,D),this.visualElement.render(),N&&N(g,b)},d=(g,b)=>this.stop(g,b),f=()=>fi(g=>{var b;return this.getAnimationState(g)==="paused"&&((b=this.getAxisMotionValue(g).animation)===null||b===void 0?void 0:b.play())}),{dragSnapToOrigin:h}=this.getProps();this.panSession=new CN(e,{onSessionStart:s,onStart:o,onMove:u,onSessionEnd:d,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,contextWindow:jN(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:o}=this.getProps();o&&Bt.postRender(()=>o(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!Vh(e,s,this.currentDirection))return;const o=this.getAxisMotionValue(e);let u=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(u=Wz(u,this.constraints[e],this.elastic[e])),o.set(u)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,o=this.constraints;n&&Hl(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=Qz(s.layoutBox,n):this.constraints=!1,this.elastic=e8(r),o!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&fi(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=Jz(s.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Hl(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const o=i8(r,s.root,this.visualElement.getTransformPagePoint());let u=Xz(s.layout.layoutBox,o);if(n){const d=n(t8(u));this.hasMutatedConstraints=!!d,d&&(u=kN(d))}return u}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:o,dragSnapToOrigin:u,onDragTransitionEnd:d}=this.getProps(),f=this.constraints||{},h=fi(g=>{if(!Vh(g,n,this.currentDirection))return;let b=f&&f[g]||{};u&&(b={min:0,max:0});const _=s?200:1e6,E=s?40:1e7,C={type:"inertia",velocity:r?e[g]:0,bounceStiffness:_,bounceDamping:E,timeConstant:750,restDelta:1,restSpeed:10,...o,...b};return this.startAxisValueAnimation(g,C)});return Promise.all(h).then(d)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return x0(this.visualElement,e),r.start(M_(e,r,0,n,this.visualElement,!1))}stopAnimation(){fi(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){fi(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){fi(n=>{const{drag:r}=this.getProps();if(!Vh(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,o=this.getAxisMotionValue(n);if(s&&s.layout){const{min:u,max:d}=s.layout.layoutBox[n];o.set(e[n]-Kt(u,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Hl(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};fi(u=>{const d=this.getAxisMotionValue(u);if(d&&this.constraints!==!1){const f=d.get();s[u]=Zz({min:f,max:f},this.constraints[u])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),fi(u=>{if(!Vh(u,e,null))return;const d=this.getAxisMotionValue(u),{min:f,max:h}=this.constraints[u];d.set(Kt(f,h,s[u]))})}addListeners(){if(!this.visualElement.current)return;s8.set(this.visualElement,this);const e=this.visualElement.current,n=td(e,"pointerdown",f=>{const{drag:h,dragListener:g=!0}=this.getProps();h&&g&&this.start(f)}),r=()=>{const{dragConstraints:f}=this.getProps();Hl(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,o=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Bt.read(r);const u=Id(window,"resize",()=>this.scalePositionWithinConstraints()),d=s.addEventListener("didUpdate",(({delta:f,hasLayoutChanged:h})=>{this.isDragging&&h&&(fi(g=>{const b=this.getAxisMotionValue(g);b&&(this.originPoint[g]+=f[g].translate,b.set(b.get()+f[g].translate))}),this.visualElement.render())}));return()=>{u(),n(),o(),d&&d()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:o=!1,dragElastic:u=N0,dragMomentum:d=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:o,dragElastic:u,dragMomentum:d}}}function Vh(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function o8(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class l8 extends Ya{constructor(e){super(e),this.removeGroupControls=Wr,this.removeListeners=Wr,this.controls=new a8(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Wr}unmount(){this.removeGroupControls(),this.removeListeners()}}const QS=t=>(e,n)=>{t&&Bt.postRender(()=>t(e,n))};class u8 extends Ya{constructor(){super(...arguments),this.removePointerDownListener=Wr}onPointerDown(e){this.session=new CN(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:jN(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:QS(e),onStart:QS(n),onMove:r,onEnd:(o,u)=>{delete this.session,s&&Bt.postRender(()=>s(o,u))}}}mount(){this.removePointerDownListener=td(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const gm={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function XS(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Cc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(je.test(t))t=parseFloat(t);else return t;const n=XS(t,e.target.x),r=XS(t,e.target.y);return`${n}% ${r}%`}},c8={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=Ba.parse(t);if(s.length>5)return r;const o=Ba.createTransformer(t),u=typeof s[0]!="number"?1:0,d=n.x.scale*e.x,f=n.y.scale*e.y;s[0+u]/=d,s[1+u]/=f;const h=Kt(d,f,.5);return typeof s[2+u]=="number"&&(s[2+u]/=h),typeof s[3+u]=="number"&&(s[3+u]/=h),o(s)}};class d8 extends P.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:o}=e;kU(f8),o&&(n.group&&n.group.add(o),r&&r.register&&s&&r.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),gm.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:o}=this.props,u=r.projection;return u&&(u.isPresent=o,s||e.layoutDependency!==n||n===void 0?u.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?u.promote():u.relegate()||Bt.postRender(()=>{const d=u.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),d_.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function MN(t){const[e,n]=yI(),r=P.useContext(r_);return y.jsx(d8,{...t,layoutGroup:r,switchLayoutGroup:P.useContext(AI),isPresent:e,safeToRemove:n})}const f8={borderRadius:{...Cc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Cc,borderTopRightRadius:Cc,borderBottomLeftRadius:Cc,borderBottomRightRadius:Cc,boxShadow:c8};function h8(t,e,n){const r=tr(t)?t:Cd(t);return r.start(M_("",r,e,n)),r.animation}function m8(t){return t instanceof SVGElement&&t.tagName!=="svg"}const p8=(t,e)=>t.depth-e.depth;class g8{constructor(){this.children=[],this.isDirty=!1}add(e){S_(this.children,e),this.isDirty=!0}remove(e){A_(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(p8),this.isDirty=!1,this.children.forEach(e)}}function v8(t,e){const n=ts.now(),r=({timestamp:s})=>{const o=s-n;o>=e&&(za(r),t(o-e))};return Bt.read(r,!0),()=>za(r)}const VN=["TopLeft","TopRight","BottomLeft","BottomRight"],y8=VN.length,ZS=t=>typeof t=="string"?parseFloat(t):t,JS=t=>typeof t=="number"||je.test(t);function b8(t,e,n,r,s,o){s?(t.opacity=Kt(0,n.opacity!==void 0?n.opacity:1,_8(r)),t.opacityExit=Kt(e.opacity!==void 0?e.opacity:1,0,w8(r))):o&&(t.opacity=Kt(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let u=0;u<y8;u++){const d=`border${VN[u]}Radius`;let f=eA(e,d),h=eA(n,d);if(f===void 0&&h===void 0)continue;f||(f=0),h||(h=0),f===0||h===0||JS(f)===JS(h)?(t[d]=Math.max(Kt(ZS(f),ZS(h),r),0),(es.test(h)||es.test(f))&&(t[d]+="%")):t[d]=h}(e.rotate||n.rotate)&&(t.rotate=Kt(e.rotate||0,n.rotate||0,r))}function eA(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const _8=LN(0,.5,nN),w8=LN(.5,.95,Wr);function LN(t,e,n){return r=>r<t?0:r>e?1:n(fu(t,e,r))}function tA(t,e){t.min=e.min,t.max=e.max}function di(t,e){tA(t.x,e.x),tA(t.y,e.y)}function nA(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function rA(t,e,n,r,s){return t-=e,t=Jm(t,1/n,r),s!==void 0&&(t=Jm(t,1/s,r)),t}function x8(t,e=0,n=1,r=.5,s,o=t,u=t){if(es.test(e)&&(e=parseFloat(e),e=Kt(u.min,u.max,e/100)-u.min),typeof e!="number")return;let d=Kt(o.min,o.max,r);t===o&&(d-=e),t.min=rA(t.min,e,n,d,s),t.max=rA(t.max,e,n,d,s)}function iA(t,e,[n,r,s],o,u){x8(t,e[n],e[r],e[s],e.scale,o,u)}const E8=["x","scaleX","originX"],T8=["y","scaleY","originY"];function sA(t,e,n,r){iA(t.x,e,E8,n?n.x:void 0,r?r.x:void 0),iA(t.y,e,T8,n?n.y:void 0,r?r.y:void 0)}function aA(t){return t.translate===0&&t.scale===1}function UN(t){return aA(t.x)&&aA(t.y)}function oA(t,e){return t.min===e.min&&t.max===e.max}function S8(t,e){return oA(t.x,e.x)&&oA(t.y,e.y)}function lA(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function zN(t,e){return lA(t.x,e.x)&&lA(t.y,e.y)}function uA(t){return Qr(t.x)/Qr(t.y)}function cA(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class A8{constructor(){this.members=[]}add(e){S_(this.members,e),e.scheduleRender()}remove(e){if(A_(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const o=this.members[s];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function C8(t,e,n){let r="";const s=t.x.translate/e.x,o=t.y.translate/e.y,u=(n==null?void 0:n.z)||0;if((s||o||u)&&(r=`translate3d(${s}px, ${o}px, ${u}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:h,rotate:g,rotateX:b,rotateY:_,skewX:E,skewY:C}=n;h&&(r=`perspective(${h}px) ${r}`),g&&(r+=`rotate(${g}deg) `),b&&(r+=`rotateX(${b}deg) `),_&&(r+=`rotateY(${_}deg) `),E&&(r+=`skewX(${E}deg) `),C&&(r+=`skewY(${C}deg) `)}const d=t.x.scale*e.x,f=t.y.scale*e.y;return(d!==1||f!==1)&&(r+=`scale(${d}, ${f})`),r||"none"}const Ao={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Bc=typeof window<"u"&&window.MotionDebug!==void 0,Ry=["","X","Y","Z"],R8={visibility:"hidden"},dA=1e3;let I8=0;function Iy(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function BN(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=WI(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:o}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Bt,!(s||o))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&BN(r)}function FN({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(u={},d=e==null?void 0:e()){this.id=I8++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Bc&&(Ao.totalNodes=Ao.resolvedTargetDeltas=Ao.recalculatedProjection=0),this.nodes.forEach(D8),this.nodes.forEach(V8),this.nodes.forEach(L8),this.nodes.forEach(O8),Bc&&window.MotionDebug.record(Ao)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new g8)}addEventListener(u,d){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new C_),this.eventHandlers.get(u).add(d)}notifyListeners(u,...d){const f=this.eventHandlers.get(u);f&&f.notify(...d)}hasListeners(u){return this.eventHandlers.has(u)}mount(u,d=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=m8(u),this.instance=u;const{layoutId:f,layout:h,visualElement:g}=this.options;if(g&&!g.current&&g.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),d&&(h||f)&&(this.isLayoutDirty=!0),t){let b;const _=()=>this.root.updateBlockedByResize=!1;t(u,()=>{this.root.updateBlockedByResize=!0,b&&b(),b=v8(_,250),gm.hasAnimatedSinceResize&&(gm.hasAnimatedSinceResize=!1,this.nodes.forEach(hA))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&g&&(f||h)&&this.addEventListener("didUpdate",({delta:b,hasLayoutChanged:_,hasRelativeTargetChanged:E,layout:C})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const N=this.options.transition||g.getDefaultTransition()||H8,{onLayoutAnimationStart:D,onLayoutAnimationComplete:U}=g.getProps(),M=!this.targetLayout||!zN(this.targetLayout,C)||E,z=!_&&E;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||z||_&&(M||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(b,z);const G={...w_(N,"layout"),onPlay:D,onComplete:U};(g.shouldReduceMotion||this.options.layoutRoot)&&(G.delay=0,G.type=!1),this.startAnimation(G)}else _||hA(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=C})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,za(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(U8),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&BN(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const b=this.path[g];b.shouldResetTransform=!0,b.updateScroll("snapshot"),b.options.layoutRoot&&b.willUpdate(!1)}const{layoutId:d,layout:f}=this.options;if(d===void 0&&!f)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(fA);return}this.isUpdating||this.nodes.forEach(j8),this.isUpdating=!1,this.nodes.forEach(M8),this.nodes.forEach(N8),this.nodes.forEach(k8),this.clearAllSnapshots();const d=ts.now();Hn.delta=Ps(0,1e3/60,d-Hn.timestamp),Hn.timestamp=d,Hn.isProcessing=!0,by.update.process(Hn),by.preRender.process(Hn),by.render.process(Hn),Hn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,d_.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(P8),this.sharedNodes.forEach(z8)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Bt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Bt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ln(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(d=!1),d){const f=r(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:f,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!s)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!UN(this.projectionDelta),f=this.getTransformTemplate(),h=f?f(this.latestValues,""):void 0,g=h!==this.prevTransformTemplateValue;u&&(d||So(this.latestValues)||g)&&(s(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const d=this.measurePageBox();let f=this.removeElementScroll(d);return u&&(f=this.removeTransform(f)),q8(f),{animationId:this.root.animationId,measuredBox:d,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:d}=this.options;if(!d)return ln();const f=d.measureViewportBox();if(!(((u=this.scroll)===null||u===void 0?void 0:u.wasRoot)||this.path.some(G8))){const{scroll:g}=this.root;g&&($l(f.x,g.offset.x),$l(f.y,g.offset.y))}return f}removeElementScroll(u){var d;const f=ln();if(di(f,u),!((d=this.scroll)===null||d===void 0)&&d.wasRoot)return f;for(let h=0;h<this.path.length;h++){const g=this.path[h],{scroll:b,options:_}=g;g!==this.root&&b&&_.layoutScroll&&(b.wasRoot&&di(f,u),$l(f.x,b.offset.x),$l(f.y,b.offset.y))}return f}applyTransform(u,d=!1){const f=ln();di(f,u);for(let h=0;h<this.path.length;h++){const g=this.path[h];!d&&g.options.layoutScroll&&g.scroll&&g!==g.root&&Kl(f,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),So(g.latestValues)&&Kl(f,g.latestValues)}return So(this.latestValues)&&Kl(f,this.latestValues),f}removeTransform(u){const d=ln();di(d,u);for(let f=0;f<this.path.length;f++){const h=this.path[f];if(!h.instance||!So(h.latestValues))continue;k0(h.latestValues)&&h.updateSnapshot();const g=ln(),b=h.measurePageBox();di(g,b),sA(d,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,g)}return So(this.latestValues)&&sA(d,this.latestValues),d}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Hn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){var d;const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==f;if(!(u||h&&this.isSharedProjectionDirty||this.isProjectionDirty||!((d=this.parent)===null||d===void 0)&&d.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:b,layoutId:_}=this.options;if(!(!this.layout||!(b||_))){if(this.resolvedRelativeTargetAt=Hn.timestamp,!this.targetDelta&&!this.relativeTarget){const E=this.getClosestProjectingParent();E&&E.layout&&this.animationProgress!==1?(this.relativeParent=E,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ln(),this.relativeTargetOrigin=ln(),rd(this.relativeTargetOrigin,this.layout.layoutBox,E.layout.layoutBox),di(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=ln(),this.targetWithTransforms=ln()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Yz(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):di(this.target,this.layout.layoutBox),ON(this.target,this.targetDelta)):di(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const E=this.getClosestProjectingParent();E&&!!E.resumingFrom==!!this.resumingFrom&&!E.options.layoutScroll&&E.target&&this.animationProgress!==1?(this.relativeParent=E,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ln(),this.relativeTargetOrigin=ln(),rd(this.relativeTargetOrigin,this.target,E.target),di(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Bc&&Ao.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||k0(this.parent.latestValues)||DN(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var u;const d=this.getLead(),f=!!this.resumingFrom||this!==d;let h=!0;if((this.isProjectionDirty||!((u=this.parent)===null||u===void 0)&&u.isProjectionDirty)&&(h=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===Hn.timestamp&&(h=!1),h)return;const{layout:g,layoutId:b}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||b))return;di(this.layoutCorrected,this.layout.layoutBox);const _=this.treeScale.x,E=this.treeScale.y;r8(this.layoutCorrected,this.treeScale,this.path,f),d.layout&&!d.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(d.target=d.layout.layoutBox,d.targetWithTransforms=ln());const{target:C}=d;if(!C){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(nA(this.prevProjectionDelta.x,this.projectionDelta.x),nA(this.prevProjectionDelta.y,this.projectionDelta.y)),nd(this.projectionDelta,this.layoutCorrected,C,this.latestValues),(this.treeScale.x!==_||this.treeScale.y!==E||!cA(this.projectionDelta.x,this.prevProjectionDelta.x)||!cA(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",C)),Bc&&Ao.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){var d;if((d=this.options.visualElement)===null||d===void 0||d.scheduleRender(),u){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Gl(),this.projectionDelta=Gl(),this.projectionDeltaWithTransform=Gl()}setAnimationOrigin(u,d=!1){const f=this.snapshot,h=f?f.latestValues:{},g={...this.latestValues},b=Gl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const _=ln(),E=f?f.source:void 0,C=this.layout?this.layout.source:void 0,N=E!==C,D=this.getStack(),U=!D||D.members.length<=1,M=!!(N&&!U&&this.options.crossfade===!0&&!this.path.some(F8));this.animationProgress=0;let z;this.mixTargetDelta=G=>{const K=G/1e3;mA(b.x,u.x,K),mA(b.y,u.y,K),this.setTargetDelta(b),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(rd(_,this.layout.layoutBox,this.relativeParent.layout.layoutBox),B8(this.relativeTarget,this.relativeTargetOrigin,_,K),z&&S8(this.relativeTarget,z)&&(this.isProjectionDirty=!1),z||(z=ln()),di(z,this.relativeTarget)),N&&(this.animationValues=g,b8(g,h,this.latestValues,K,M,U)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=K},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(za(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Bt.update(()=>{gm.hasAnimatedSinceResize=!0,this.currentAnimation=h8(0,dA,{...u,onUpdate:d=>{this.mixTargetDelta(d),u.onUpdate&&u.onUpdate(d)},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(dA),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:d,target:f,layout:h,latestValues:g}=u;if(!(!d||!f||!h)){if(this!==u&&this.layout&&h&&HN(this.options.animationType,this.layout.layoutBox,h.layoutBox)){f=this.target||ln();const b=Qr(this.layout.layoutBox.x);f.x.min=u.target.x.min,f.x.max=f.x.min+b;const _=Qr(this.layout.layoutBox.y);f.y.min=u.target.y.min,f.y.max=f.y.min+_}di(d,f),Kl(d,g),nd(this.projectionDeltaWithTransform,this.layoutCorrected,d,g)}}registerSharedNode(u,d){this.sharedNodes.has(u)||this.sharedNodes.set(u,new A8),this.sharedNodes.get(u).add(d);const h=d.options.initialPromotionConfig;d.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(d):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){var u;const{layoutId:d}=this.options;return d?((u=this.getStack())===null||u===void 0?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:d}=this.options;return d?(u=this.getStack())===null||u===void 0?void 0:u.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:d,preserveFollowOpacity:f}={}){const h=this.getStack();h&&h.promote(this,f),u&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let d=!1;const{latestValues:f}=u;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(d=!0),!d)return;const h={};f.z&&Iy("z",u,h,this.animationValues);for(let g=0;g<Ry.length;g++)Iy(`rotate${Ry[g]}`,u,h,this.animationValues),Iy(`skew${Ry[g]}`,u,h,this.animationValues);u.render();for(const g in h)u.setStaticValue(g,h[g]),this.animationValues&&(this.animationValues[g]=h[g]);u.scheduleRender()}getProjectionStyles(u){var d,f;if(!this.instance||this.isSVG)return;if(!this.isVisible)return R8;const h={visibility:""},g=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,h.opacity="",h.pointerEvents=mm(u==null?void 0:u.pointerEvents)||"",h.transform=g?g(this.latestValues,""):"none",h;const b=this.getLead();if(!this.projectionDelta||!this.layout||!b.target){const N={};return this.options.layoutId&&(N.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,N.pointerEvents=mm(u==null?void 0:u.pointerEvents)||""),this.hasProjected&&!So(this.latestValues)&&(N.transform=g?g({},""):"none",this.hasProjected=!1),N}const _=b.animationValues||b.latestValues;this.applyTransformsToTarget(),h.transform=C8(this.projectionDeltaWithTransform,this.treeScale,_),g&&(h.transform=g(_,h.transform));const{x:E,y:C}=this.projectionDelta;h.transformOrigin=`${E.origin*100}% ${C.origin*100}% 0`,b.animationValues?h.opacity=b===this?(f=(d=_.opacity)!==null&&d!==void 0?d:this.latestValues.opacity)!==null&&f!==void 0?f:1:this.preserveOpacity?this.latestValues.opacity:_.opacityExit:h.opacity=b===this?_.opacity!==void 0?_.opacity:"":_.opacityExit!==void 0?_.opacityExit:0;for(const N in Ym){if(_[N]===void 0)continue;const{correct:D,applyTo:U}=Ym[N],M=h.transform==="none"?_[N]:D(_[N],b);if(U){const z=U.length;for(let G=0;G<z;G++)h[U[G]]=M}else h[N]=M}return this.options.layoutId&&(h.pointerEvents=b===this?mm(u==null?void 0:u.pointerEvents)||"":"none"),h}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>{var d;return(d=u.currentAnimation)===null||d===void 0?void 0:d.stop()}),this.root.nodes.forEach(fA),this.root.sharedNodes.clear()}}}function N8(t){t.updateLayout()}function k8(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:o}=t.options,u=n.source!==t.layout.source;o==="size"?fi(b=>{const _=u?n.measuredBox[b]:n.layoutBox[b],E=Qr(_);_.min=r[b].min,_.max=_.min+E}):HN(o,n.layoutBox,r)&&fi(b=>{const _=u?n.measuredBox[b]:n.layoutBox[b],E=Qr(r[b]);_.max=_.min+E,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[b].max=t.relativeTarget[b].min+E)});const d=Gl();nd(d,r,n.layoutBox);const f=Gl();u?nd(f,t.applyTransform(s,!0),n.measuredBox):nd(f,r,n.layoutBox);const h=!UN(d);let g=!1;if(!t.resumeFrom){const b=t.getClosestProjectingParent();if(b&&!b.resumeFrom){const{snapshot:_,layout:E}=b;if(_&&E){const C=ln();rd(C,n.layoutBox,_.layoutBox);const N=ln();rd(N,r,E.layoutBox),zN(C,N)||(g=!0),b.options.layoutRoot&&(t.relativeTarget=N,t.relativeTargetOrigin=C,t.relativeParent=b)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:f,layoutDelta:d,hasLayoutChanged:h,hasRelativeTargetChanged:g})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function D8(t){Bc&&Ao.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function O8(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function P8(t){t.clearSnapshot()}function fA(t){t.clearMeasurements()}function j8(t){t.isLayoutDirty=!1}function M8(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function hA(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function V8(t){t.resolveTargetDelta()}function L8(t){t.calcProjection()}function U8(t){t.resetSkewAndRotation()}function z8(t){t.removeLeadSnapshot()}function mA(t,e,n){t.translate=Kt(e.translate,0,n),t.scale=Kt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function pA(t,e,n,r){t.min=Kt(e.min,n.min,r),t.max=Kt(e.max,n.max,r)}function B8(t,e,n,r){pA(t.x,e.x,n.x,r),pA(t.y,e.y,n.y,r)}function F8(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const H8={duration:.45,ease:[.4,0,.1,1]},gA=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),vA=gA("applewebkit/")&&!gA("chrome/")?Math.round:Wr;function yA(t){t.min=vA(t.min),t.max=vA(t.max)}function q8(t){yA(t.x),yA(t.y)}function HN(t,e,n){return t==="position"||t==="preserve-aspect"&&!Kz(uA(e),uA(n),.2)}function G8(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const $8=FN({attachResizeListener:(t,e)=>Id(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ny={current:void 0},qN=FN({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Ny.current){const t=new $8({});t.mount(window),t.setOptions({layoutScroll:!0}),Ny.current=t}return Ny.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),K8={pan:{Feature:u8},drag:{Feature:l8,ProjectionNode:qN,MeasureLayout:MN}};function bA(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,o=r[s];o&&Bt.postRender(()=>o(e,Jd(e)))}class Y8 extends Ya{mount(){const{current:e}=this.node;e&&(this.unmount=KU(e,n=>(bA(this.node,n,"Start"),r=>bA(this.node,r,"End"))))}unmount(){}}class W8 extends Ya{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Zd(Id(this.node.current,"focus",()=>this.onFocus()),Id(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function _A(t,e,n){const{props:r}=t;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),o=r[s];o&&Bt.postRender(()=>o(e,Jd(e)))}class Q8 extends Ya{mount(){const{current:e}=this.node;e&&(this.unmount=XU(e,n=>(_A(this.node,n,"Start"),(r,{success:s})=>_A(this.node,r,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const O0=new WeakMap,ky=new WeakMap,X8=t=>{const e=O0.get(t.target);e&&e(t)},Z8=t=>{t.forEach(X8)};function J8({root:t,...e}){const n=t||document;ky.has(n)||ky.set(n,{});const r=ky.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(Z8,{root:t,...e})),r[s]}function eB(t,e,n){const r=J8(e);return O0.set(t,n),r.observe(t),()=>{O0.delete(t),r.unobserve(t)}}const tB={some:0,all:1};class nB extends Ya{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:o}=e,u={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:tB[s]},d=f=>{const{isIntersecting:h}=f;if(this.isInView===h||(this.isInView=h,o&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:g,onViewportLeave:b}=this.node.getProps(),_=h?g:b;_&&_(f)};return eB(this.node.current,u,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(rB(e,n))&&this.startObserver()}unmount(){}}function rB({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const iB={inView:{Feature:nB},tap:{Feature:Q8},focus:{Feature:W8},hover:{Feature:Y8}},sB={layout:{ProjectionNode:qN,MeasureLayout:MN}},P0={current:null},GN={current:!1};function aB(){if(GN.current=!0,!!a_)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>P0.current=t.matches;t.addListener(e),e()}else P0.current=!1}const oB=[...gN,Xn,Ba],lB=t=>oB.find(pN(t)),wA=new WeakMap;function uB(t,e,n){for(const r in e){const s=e[r],o=n[r];if(tr(s))t.addValue(r,s);else if(tr(o))t.addValue(r,Cd(s,{owner:t}));else if(o!==s)if(t.hasValue(r)){const u=t.getValue(r);u.liveStyle===!0?u.jump(s):u.hasAnimated||u.set(s)}else{const u=t.getStaticValue(r);t.addValue(r,Cd(u!==void 0?u:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const xA=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class cB{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:o,visualState:u},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=O_,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const E=ts.now();this.renderScheduledAt<E&&(this.renderScheduledAt=E,Bt.render(this.render,!1,!0))};const{latestValues:f,renderState:h,onUpdate:g}=u;this.onUpdate=g,this.latestValues=f,this.baseTarget={...f},this.initialValues=n.initial?{...f}:{},this.renderState=h,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=d,this.blockInitialAnimation=!!o,this.isControllingVariants=$p(n),this.isVariantNode=TI(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:b,..._}=this.scrapeMotionValuesFromProps(n,{},this);for(const E in _){const C=_[E];f[E]!==void 0&&tr(C)&&C.set(f[E],!1)}}mount(e){this.current=e,wA.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),GN.current||aB(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:P0.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){wA.delete(this.current),this.projection&&this.projection.unmount(),za(this.notifyUpdate),za(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Wo.has(e),s=n.on("change",d=>{this.latestValues[e]=d,this.props.onUpdate&&Bt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),o(),u&&u(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in hu){const n=hu[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ln()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<xA.length;r++){const s=xA[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const o="on"+s,u=e[o];u&&(this.propEventSubscriptions[s]=this.on(s,u))}this.prevMotionValues=uB(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Cd(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(hN(s)||iN(s))?s=parseFloat(s):!lB(s)&&Ba.test(n)&&(s=cN(e,n)),this.setBaseTarget(e,tr(s)?s.get():s)),tr(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let s;if(typeof r=="string"||typeof r=="object"){const u=h_(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);u&&(s=u[e])}if(r&&s!==void 0)return s;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!tr(o)?o:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new C_),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class $N extends cB{constructor(){super(...arguments),this.KeyframeResolver=vN}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;tr(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function dB(t){return window.getComputedStyle(t)}class fB extends $N{constructor(){super(...arguments),this.type="html",this.renderInstance=OI}readValueFromInstance(e,n){if(Wo.has(n)){const r=D_(n);return r&&r.default||0}else{const r=dB(e),s=(NI(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return PN(e,n)}build(e,n,r){g_(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return __(e,n,r)}}class hB extends $N{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ln}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Wo.has(n)){const r=D_(n);return r&&r.default||0}return n=PI.has(n)?n:c_(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return VI(e,n,r)}build(e,n,r){v_(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,s){jI(e,n,r,s)}mount(e){this.isSVGTag=b_(e.tagName),super.mount(e)}}const mB=(t,e)=>f_(t)?new hB(e):new fB(e,{allowProjection:t!==P.Fragment}),pB=zU({...Lz,...iB,...K8,...sB},mB),$i=tU(pB),gB=()=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:y.jsx("path",{fillRule:"evenodd",d:"M10.293 3.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-4.293-4.293a1 1 0 010-1.414z",clipRule:"evenodd"})}),vB=()=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})}),yB=({onGetStarted:t})=>{const e={initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6}},n={animate:{transition:{staggerChildren:.1}}};return y.jsxs("div",{className:"min-h-screen bg-snow dark:bg-onyx text-raisin-black dark:text-snow overflow-x-hidden",children:[y.jsxs("nav",{className:"absolute top-0 w-full p-6 flex justify-between items-center z-50",children:[y.jsxs("div",{className:"text-2xl font-serif font-bold",children:["Dress ",y.jsx("span",{className:"text-gold",children:"Me"})," Up!"]}),y.jsx("button",{onClick:t,className:"text-sm font-semibold hover:text-gold transition-colors bg-white/10 backdrop-blur-md px-4 py-2 rounded-full border border-white/20",children:"Se connecter"})]}),y.jsxs("section",{className:"relative min-h-screen flex flex-col justify-center items-center text-center px-4 pt-20",children:[y.jsx("div",{className:"absolute top-[-20%] left-[-10%] w-[500px] h-[500px] bg-gold/10 rounded-full blur-[100px] pointer-events-none"}),y.jsx("div",{className:"absolute bottom-[-10%] right-[-5%] w-[400px] h-[400px] bg-purple-500/5 rounded-full blur-[100px] pointer-events-none"}),y.jsxs($i.div,{initial:"initial",animate:"animate",variants:n,className:"max-w-4xl mx-auto z-10",children:[y.jsxs($i.div,{variants:e,className:"mb-6 inline-flex items-center gap-2 px-3 py-1 rounded-full bg-gold/10 border border-gold/20 text-gold text-xs font-bold uppercase tracking-wider",children:[y.jsx(Td,{}),y.jsx("span",{children:"Assistant Mode IA  Beta Prive"})]}),y.jsxs($i.h1,{variants:e,className:"text-5xl md:text-7xl lg:text-8xl font-serif font-bold mb-8 leading-tight",children:["Votre style, ",y.jsx("br",{}),y.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-gold to-yellow-600",children:"rinvent par l'IA."})]}),y.jsxs($i.p,{variants:e,className:"text-lg md:text-xl text-gray-500 dark:text-gray-400 mb-10 max-w-2xl mx-auto leading-relaxed",children:[`Fini le "Je n'ai rien  me mettre". `,y.jsx("strong",{children:"Dress Me Up!"})," analyse votre garde-robe, cre des tenues sur-mesure et prpare vos valises en un clic."]}),y.jsx($i.div,{variants:e,className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:y.jsxs("button",{onClick:t,className:"group relative px-8 py-4 bg-gold text-onyx text-lg font-bold rounded-full overflow-hidden shadow-lg shadow-gold/20 hover:shadow-gold/40 transition-all hover:scale-105 active:scale-95",children:[y.jsxs("span",{className:"relative z-10 flex items-center gap-2",children:["Commencer l'exprience ",y.jsx(gB,{})]}),y.jsx("div",{className:"absolute inset-0 bg-white/20 translate-y-full group-hover:translate-y-0 transition-transform duration-300"})]})})]}),y.jsx($i.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{delay:.8,duration:1},className:"absolute left-4 md:left-20 bottom-20 hidden lg:block",children:y.jsxs("div",{className:"bg-white dark:bg-raisin-black p-4 rounded-xl shadow-2xl border border-white/10 rotate-[-6deg] max-w-xs backdrop-blur-lg bg-opacity-90 dark:bg-opacity-90",children:[y.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[y.jsx("div",{className:"w-8 h-8 bg-gold rounded-full flex items-center justify-center text-onyx",children:""}),y.jsx("div",{className:"text-xs font-medium",children:"Suggestion IA"})]}),y.jsx("p",{className:"text-sm font-serif italic",children:'"Pour ce soir  Rome, opte pour la chemise en lin blanc et le pantalon beige."'})]})}),y.jsx($i.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{delay:1,duration:1},className:"absolute right-4 md:right-20 top-40 hidden lg:block",children:y.jsxs("div",{className:"bg-white dark:bg-raisin-black p-3 rounded-xl shadow-2xl border border-white/10 rotate-[6deg] backdrop-blur-lg bg-opacity-90 dark:bg-opacity-90",children:[y.jsx("div",{className:"w-32 h-32 bg-gray-200 dark:bg-gray-700 rounded-lg mb-2 flex items-center justify-center text-4xl",children:""}),y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsx("span",{className:"text-xs font-bold text-gray-500",children:"Manteau Laine"}),y.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500"})]})]})}),y.jsxs($i.div,{initial:{opacity:0},animate:{opacity:1,y:[0,10,0]},transition:{opacity:{delay:1.5,duration:.6},y:{repeat:1/0,duration:1.5,ease:"easeInOut"}},className:"absolute bottom-8 left-1/2 -translate-x-1/2 flex flex-col items-center gap-2 cursor-pointer",onClick:()=>{window.scrollTo({top:window.innerHeight,behavior:"smooth"})},children:[y.jsx("span",{className:"text-xs text-gray-400 font-medium uppercase tracking-wider",children:"Dcouvrir"}),y.jsx("div",{className:"text-gold",children:y.jsx(vB,{})})]})]}),y.jsx("section",{className:"py-24 px-4 bg-white/50 dark:bg-black/20 backdrop-blur-sm",children:y.jsxs("div",{className:"max-w-6xl mx-auto",children:[y.jsxs("div",{className:"text-center mb-16",children:[y.jsx("h2",{className:"text-3xl md:text-4xl font-serif font-bold mb-4",children:"Votre dressing intelligent"}),y.jsx("p",{className:"text-gray-500 max-w-xl mx-auto",children:"Une suite d'outils puissants pour digitaliser et optimiser votre style au quotidien."})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[y.jsx(Dy,{icon:y.jsx(y0,{}),title:"Digitalisez en un clair",description:"Prenez une photo, l'IA dtecte automatiquement la catgorie, la couleur et la matire. Votre garde-robe dans votre poche."}),y.jsx(Dy,{icon:y.jsx(Td,{}),title:"Styliste Personnel",description:"Une runion ? Un date ? Demandez  l'IA de crer la tenue parfaite en fonction de la mto et de l'occasion."}),y.jsx(Dy,{icon:y.jsx(pI,{}),title:"Valise Optimise",description:"Partez l'esprit lger. Gnrez une liste de vtements optimise pour la dure et la destination de votre voyage."})]})]})}),y.jsx("section",{className:"py-20 px-4 text-center",children:y.jsxs("div",{className:"max-w-3xl mx-auto",children:[y.jsx("h2",{className:"text-3xl md:text-5xl font-serif font-bold mb-8",children:"Prt  upgrader votre style ?"}),y.jsx("button",{onClick:t,className:"px-10 py-4 bg-raisin-black dark:bg-snow text-snow dark:text-onyx font-bold rounded-full text-lg hover:opacity-90 transition-opacity transform hover:scale-105 duration-200",children:"Rejoindre maintenant"}),y.jsx("p",{className:"mt-8 text-sm text-gray-500",children:" 2025 Dress Me Up! - Fait avec  & IA."})]})})]})},Dy=({icon:t,title:e,description:n})=>y.jsxs($i.div,{whileHover:{y:-5},className:"p-8 rounded-2xl bg-white dark:bg-raisin-black border border-black/5 dark:border-white/5 shadow-xl shadow-black/5 dark:shadow-black/20",children:[y.jsx("div",{className:"w-12 h-12 bg-gold/10 text-gold rounded-xl flex items-center justify-center mb-6",children:y.jsx("div",{className:"w-6 h-6",children:t})}),y.jsx("h3",{className:"text-xl font-bold mb-3",children:e}),y.jsx("p",{className:"text-gray-500 dark:text-gray-400 leading-relaxed",children:n})]}),bB=({onAnalyze:t,isAnalyzing:e})=>{const n=P.useRef(null),[r,s]=P.useState([]),[o,u]=P.useState(!1),[d,f]=P.useState(!1);P.useEffect(()=>{const M=()=>f(window.innerWidth<1024);return M(),window.addEventListener("resize",M),()=>window.removeEventListener("resize",M)},[]),P.useEffect(()=>()=>{r.forEach(M=>URL.revokeObjectURL(M.preview))},[r]);const h=M=>{const z=M.map(G=>({id:`${G.name}-${G.lastModified}-${Math.random()}`,file:G,preview:URL.createObjectURL(G)}));s(G=>[...G,...z])},g=M=>{M.target.files&&(h(Array.from(M.target.files)),M.target.value="")},b=()=>{var M;e||(M=n.current)==null||M.click()},_=M=>{d||(M.preventDefault(),M.stopPropagation(),u(!0))},E=M=>{d||(M.preventDefault(),M.stopPropagation(),u(!1))},C=M=>{d||(M.preventDefault(),M.stopPropagation())},N=M=>{d||(M.preventDefault(),M.stopPropagation(),u(!1),M.dataTransfer.files&&M.dataTransfer.files.length>0&&(h(Array.from(M.dataTransfer.files)),M.dataTransfer.clearData()))},D=M=>{const z=r.find(G=>G.id===M);z&&URL.revokeObjectURL(z.preview),s(G=>G.filter(K=>K.id!==M))},U=()=>{r.length>0&&!e&&(t(r.map(M=>M.file)),s([]))};return y.jsxs("div",{className:"bg-white dark:bg-raisin-black rounded-xl shadow-2xl shadow-black/10 dark:shadow-black/20 ring-1 ring-black/5 dark:ring-white/10 p-6 lg:p-8",onDragEnter:_,onDragLeave:E,onDragOver:C,onDrop:N,children:[y.jsx("h2",{className:"text-2xl font-serif font-bold mb-6 text-gold",children:"Ajouter  ma garde-robe"}),y.jsxs("div",{onClick:b,className:`relative bg-snow dark:bg-onyx rounded-lg p-12 text-center transition-all duration-300 ring-1 ring-dashed ring-black/20 dark:ring-white/20 ${e?"cursor-default":"cursor-pointer hover:ring-gold dark:hover:ring-gold"}`,children:[y.jsx("input",{type:"file",ref:n,onChange:g,className:"hidden",accept:"image/png, image/jpeg, image/webp",multiple:!0,disabled:e}),y.jsx("div",{className:"flex flex-col items-center justify-center min-h-[8rem]",children:e?y.jsxs(y.Fragment,{children:[y.jsx(P5,{}),y.jsx("p",{className:"mt-4 text-sm font-medium text-gray-500 dark:text-gray-400 tracking-wide",children:"Analyse en cours..."})]}):y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"text-gray-400 dark:text-gray-600 mb-4",children:y.jsx(y0,{})}),y.jsx("p",{className:"font-semibold text-gray-700 dark:text-gray-300",children:d?"Appuyez pour ajouter des photos":"Glissez-dposez vos photos"}),y.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:["ou ",y.jsx("span",{className:"text-gold font-medium",children:"cliquez pour slectionner"})]})]})}),o&&!d&&y.jsxs("div",{className:"absolute inset-0 bg-gold/90 backdrop-blur-sm rounded-lg flex flex-col items-center justify-center transition-opacity",children:[y.jsx("div",{className:"text-black transform-gpu scale-110",children:y.jsx(y0,{})}),y.jsx("p",{className:"mt-2 font-bold text-lg text-black",children:"Dposez pour ajouter"})]})]}),r.length>0&&!e&&y.jsxs("div",{className:"mt-8",children:[y.jsx("h3",{className:"font-semibold mb-4 text-gray-600 dark:text-gray-300",children:"Prts pour l'analyse :"}),y.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 gap-4 mb-6",children:r.map(M=>y.jsxs("div",{className:"relative group aspect-square",children:[y.jsx("img",{src:M.preview,alt:M.file.name,className:"w-full h-full object-cover rounded-md shadow-md"}),y.jsx("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity rounded-md"}),y.jsx("button",{onClick:()=>D(M.id),className:"absolute -top-2 -right-2 p-1 bg-raisin-black border-2 border-white dark:border-onyx rounded-full text-white opacity-0 group-hover:opacity-100 transition-all hover:bg-red-500 hover:scale-110 focus:opacity-100","aria-label":"Supprimer",children:y.jsx(t_,{})})]},M.id))}),y.jsxs("button",{onClick:U,disabled:e||r.length===0,className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-gold text-onyx font-bold rounded-lg hover:bg-gold-dark transition-all duration-300 disabled:bg-gray-400 dark:disabled:bg-gray-600 disabled:cursor-not-allowed transform hover:scale-105",children:[y.jsx(Td,{}),"Analyser les ",r.length," article(s)"]})]})]})},_B=()=>y.jsx("div",{className:"animate-pulse bg-gray-200 dark:bg-gray-800 rounded-lg aspect-square relative overflow-hidden",children:y.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent skew-x-12 translate-x-[-100%] animate-shimmer"})}),wB=({imageSrc:t,analysis:e,onClick:n,isSelected:r,isSet:s,isFavorite:o})=>y.jsxs("div",{onClick:n,className:"group relative aspect-square bg-raisin-black rounded-lg overflow-hidden shadow-lg transition-all duration-300 hover:shadow-2xl hover:-translate-y-1 cursor-pointer",children:[y.jsx("img",{src:t,alt:e,loading:"lazy",className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-110"}),y.jsx("div",{className:`absolute inset-0 transition-all duration-300 ${r?"ring-4 ring-gold":"ring-2 ring-transparent"} rounded-lg`}),y.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent"}),r?y.jsx("span",{className:"absolute top-2 left-2 p-1.5 bg-gold rounded-full text-onyx z-10",children:y.jsx(n_,{})}):o?y.jsx("span",{className:"absolute top-2 left-2 p-1.5 bg-black/50 backdrop-blur-sm rounded-full text-red-500 z-10",children:y.jsx(du,{className:"w-4 h-4"})}):s?y.jsx("span",{className:"absolute top-2 left-2 p-1.5 bg-black/50 backdrop-blur-sm rounded-full text-white z-10",children:y.jsx(Fp,{})}):null,y.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-3",children:y.jsx("p",{className:"text-white text-sm font-medium line-clamp-2",children:e})})]}),xB={Hauts:{color:"Toutes",material:"Toutes"},Bas:{color:"Toutes",material:"Toutes"},Chaussures:{color:"Toutes",material:"Toutes"},Accessoires:{color:"Toutes",material:"Toutes"}},EB=({clothingItems:t,isLoading:e,clothingSets:n=[],onItemClick:r,onDeleteItem:s,onCreateSet:o})=>{var B,Z;const[u,d]=P.useState("Hauts"),[f,h]=P.useState(xB),[g,b]=P.useState(""),[_,E]=P.useState("favorites"),[C,N]=P.useState(!1),[D,U]=P.useState(new Set),M=P.useMemo(()=>n||[],[n]),z=P.useMemo(()=>new Set(M.flatMap(ee=>ee.itemIds||[])),[M]),G=t.length,K=[{name:"Hauts",icon:y.jsx(j5,{})},{name:"Bas",icon:y.jsx(M5,{})},{name:"Chaussures",icon:y.jsx(V5,{})},{name:"Accessoires",icon:y.jsx(L5,{})}],H=[{value:"favorites",label:"Favoris d'abord"},{value:"newest",label:"Plus rcents"},{value:"oldest",label:"Plus anciens"},{value:"color",label:"Couleur (A-Z)"},{value:"category",label:"Catgorie"}],A=ee=>{C?U(re=>{const me=new Set(re);return me.has(ee.id)?me.delete(ee.id):me.add(ee.id),me}):r(ee)},S=ee=>[...ee].sort((re,me)=>{switch(_){case"favorites":return(me.isFavorite?1:0)-(re.isFavorite?1:0);case"newest":return!re.createdAt&&!me.createdAt?0:re.createdAt?me.createdAt?me.createdAt-re.createdAt:-1:1;case"oldest":return!re.createdAt&&!me.createdAt?0:re.createdAt?me.createdAt?re.createdAt-me.createdAt:-1:1;case"color":return re.color.localeCompare(me.color);case"category":return re.category.localeCompare(me.category);default:return 0}}),R=P.useMemo(()=>{if(!g.trim())return t;const ee=g.toLowerCase();return t.filter(re=>re.analysis.toLowerCase().includes(ee)||re.color.toLowerCase().includes(ee)||re.material.toLowerCase().includes(ee)||re.category.toLowerCase().includes(ee))},[t,g]),L=P.useMemo(()=>{if(!u)return[];const ee=R.filter(me=>me.category===u),re=f[u];return re?ee.filter(me=>{const Pe=re.color==="Toutes"||me.color===re.color,Se=re.material==="Toutes"||me.material===re.material;return Pe&&Se}):ee},[R,u,(B=f[u])==null?void 0:B.color,(Z=f[u])==null?void 0:Z.material]),V=P.useMemo(()=>S(L),[L,_]),O=P.useMemo(()=>K.reduce((ee,{name:re})=>(ee[re]=R.filter(me=>me.category===re).length,ee),{}),[R]),j=P.useMemo(()=>{if(!u)return[];const ee=R.filter(re=>re.category===u).map(re=>re.color);return["Toutes",...Array.from(new Set(ee))]},[R,u]),ve=P.useMemo(()=>{if(!u)return[];const ee=R.filter(re=>re.category===u).map(re=>re.material);return["Toutes",...Array.from(new Set(ee))]},[R,u]),Ce=ee=>{u&&h(re=>({...re,[u]:{...re[u],color:ee}}))},Q=ee=>{u&&h(re=>({...re,[u]:{...re[u],material:ee}}))},se=ee=>{d(u===ee?null:ee)},de=()=>{N(!C),U(new Set)},xe=()=>{if(D.size<2){alert("Veuillez slectionner au moins 2 articles pour crer un ensemble.");return}const ee=window.prompt("Donnez un nom  cet ensemble :");ee&&(o(ee,Array.from(D)),de())},Ee=()=>{b("")};return e?y.jsxs("div",{className:"bg-white dark:bg-raisin-black rounded-xl shadow-2xl p-6 lg:p-8",children:[y.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[y.jsx("div",{className:"w-8 h-8 bg-gray-200 dark:bg-gray-700 rounded-full animate-pulse"}),y.jsx("div",{className:"h-8 w-48 bg-gray-200 dark:bg-gray-700 rounded animate-pulse"})]}),y.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:[...Array(10)].map((ee,re)=>y.jsx(_B,{},re))})]}):G===0?y.jsxs("div",{className:"bg-white dark:bg-raisin-black rounded-xl shadow-2xl shadow-black/10 dark:shadow-black/20 ring-1 ring-black/5 dark:ring-white/10 p-8 text-center",children:[y.jsx(aS,{className:"w-20 h-20 mx-auto text-gray-400 dark:text-gray-600 mb-4"}),y.jsx("h2",{className:"text-2xl font-bold mb-3 text-gray-700 dark:text-gray-300",children:"Votre garde-robe est vide"}),y.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Ajoutez vos premiers vtements pour commencer  crer vos tenues !"})]}):y.jsxs("div",{className:"bg-white dark:bg-raisin-black rounded-xl shadow-2xl shadow-black/10 dark:shadow-black/20 ring-1 ring-black/5 dark:ring-white/10 p-6 lg:p-8",children:[y.jsxs("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center gap-4 mb-6",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx(aS,{className:"w-8 h-8 text-gold"}),y.jsxs("div",{children:[y.jsxs("h2",{className:"text-3xl font-serif font-bold tracking-tight",children:[y.jsx("span",{className:"text-gold",children:"Ma"})," Garde-Robe"]}),y.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:[G," vtement",G>1?"s":""]})]})]}),C?y.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[y.jsx("button",{onClick:de,className:"flex-shrink-0 px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors text-sm font-medium",children:"Annuler"}),y.jsxs("button",{onClick:xe,disabled:D.size<2,className:"flex-shrink-0 flex items-center justify-center gap-2 px-4 py-2 bg-gold text-onyx font-bold rounded-lg hover:bg-gold-dark transition-all duration-300 text-sm disabled:opacity-50",children:["Valider (",D.size,")"]})]}):y.jsxs("button",{onClick:de,className:"flex-shrink-0 flex items-center justify-center gap-2 px-4 py-2 bg-onyx dark:bg-snow border-2 border-gold text-gold dark:text-onyx font-bold rounded-lg hover:bg-gold/10 dark:hover:bg-onyx/10 transition-all duration-300 text-sm",children:[y.jsx(Fp,{}),"Crer un ensemble"]})]}),y.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 mb-6",children:[y.jsxs("div",{className:"relative flex-1",children:[y.jsx(gI,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),y.jsx("input",{type:"text",value:g,onChange:ee=>b(ee.target.value),placeholder:"Rechercher par description, couleur, matire...",className:"w-full pl-10 pr-10 py-2.5 bg-snow dark:bg-onyx border border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-gold focus:border-transparent transition-all"}),g&&y.jsx("button",{onClick:Ee,className:"absolute right-3 top-1/2 -translate-y-1/2 p-1 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-full transition-colors","aria-label":"Effacer la recherche",children:y.jsx(t_,{})})]}),y.jsxs("div",{className:"relative sm:w-48",children:[y.jsx(vI,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400 pointer-events-none"}),y.jsx("select",{value:_,onChange:ee=>E(ee.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-snow dark:bg-onyx border border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-gold focus:border-transparent appearance-none cursor-pointer transition-all",children:H.map(ee=>y.jsx("option",{value:ee.value,children:ee.label},ee.value))}),y.jsx(Jc,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400 pointer-events-none"})]})]}),g&&y.jsxs("div",{className:"mb-4 text-sm text-gray-500 dark:text-gray-400",children:[R.length," rsultat",R.length>1?"s":"",' pour "',g,'"']}),C&&y.jsxs("div",{className:"bg-gold/10 border border-gold/30 text-gold-dark dark:text-gold p-4 rounded-lg mb-6 text-center",children:[y.jsx("p",{className:"font-semibold",children:"Mode Cration d'Ensemble"}),y.jsx("p",{className:"text-sm",children:"Slectionnez les articles que vous souhaitez lier."})]}),y.jsx("div",{className:"space-y-6",children:K.map(({name:ee,icon:re})=>{const me=O[ee]||0,Pe=u===ee;return y.jsxs("div",{className:"border border-black/10 dark:border-white/10 rounded-lg overflow-hidden",children:[y.jsxs("button",{onClick:()=>se(ee),className:"w-full flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-900/50 hover:bg-gray-100 dark:hover:bg-gray-900 transition-colors",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("span",{className:"w-5 h-5 text-gold",children:re}),y.jsx("span",{className:"font-semibold text-lg",children:ee}),y.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:["(",me,")"]})]}),y.jsx(Jc,{className:`w-5 h-5 transition-transform ${Pe?"rotate-180":""}`})]}),Pe&&y.jsxs("div",{className:"p-6 space-y-6",children:[y.jsxs("div",{className:"flex flex-wrap gap-4",children:[y.jsxs("div",{className:"flex-1 min-w-[150px]",children:[y.jsx("label",{className:"block text-sm font-medium mb-2",children:"Couleur"}),y.jsx("select",{value:f[ee].color,onChange:Se=>Ce(Se.target.value),className:"w-full px-4 py-2 border border-black/10 dark:border-white/10 rounded-lg bg-white dark:bg-gray-900 focus:ring-2 focus:ring-gold focus:border-transparent",children:j.map(Se=>y.jsx("option",{value:Se,children:Se},Se))})]}),y.jsxs("div",{className:"flex-1 min-w-[150px]",children:[y.jsx("label",{className:"block text-sm font-medium mb-2",children:"Matire"}),y.jsx("select",{value:f[ee].material,onChange:Se=>Q(Se.target.value),className:"w-full px-4 py-2 border border-black/10 dark:border-white/10 rounded-lg bg-white dark:bg-gray-900 focus:ring-2 focus:ring-gold focus:border-transparent",children:ve.map(Se=>y.jsx("option",{value:Se,children:Se},Se))})]})]}),V.length>0?y.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:y.jsx(K5,{mode:"popLayout",children:V.map((Se,Nt)=>y.jsx($i.div,{layout:!0,initial:{opacity:0,scale:.8,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.5,transition:{duration:.2}},transition:{duration:.4,delay:Nt*.05,type:"spring",bounce:.3},children:y.jsx(wB,{imageSrc:Se.imageSrc,analysis:Se.analysis,onClick:()=>A(Se),isSelected:D.has(Se.id),isSet:z.has(Se.id),isFavorite:Se.isFavorite})},Se.id))})}):y.jsx("p",{className:"text-center text-gray-500 dark:text-gray-400 py-8",children:"Aucun vtement ne correspond aux filtres slectionns."})]})]},ee)})})]})},KN=({clothingItems:t,clothingSets:e,onGenerate:n,isGenerating:r,weatherInfo:s,weatherError:o})=>{const[u,d]=Sn.useState(""),f=g=>{g.preventDefault(),n(u||"Casual")},h=["Casual","Soire chic","Travail (formel)"];return y.jsxs("div",{children:[y.jsxs("div",{className:"text-center mb-6 p-3 rounded-lg bg-snow dark:bg-onyx border border-black/10 dark:border-white/10",children:[s&&y.jsxs("p",{className:"text-sm font-medium text-blue-500 dark:text-blue-400",children:["Mto : ",s," "]}),o&&y.jsx("p",{className:"text-sm font-medium text-red-500",children:o}),!s&&!o&&y.jsx("p",{className:"text-sm font-medium text-gray-400 animate-pulse",children:"Rcupration de la mto..."})]}),y.jsx("form",{onSubmit:f,children:y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{children:[y.jsx("label",{htmlFor:"occasion",className:"block text-sm font-medium text-center text-gray-500 dark:text-gray-400 mb-3",children:"Pour quelle occasion ?"}),y.jsx("div",{className:"flex justify-center gap-2 mb-4",children:h.map(g=>y.jsx("button",{type:"button",onClick:()=>d(g),className:`px-4 py-1.5 rounded-full text-sm font-semibold transition-colors duration-200 ${u===g?"bg-gold text-onyx":"bg-snow dark:bg-onyx border border-gray-300 dark:border-gray-700 hover:border-gold dark:hover:border-gold text-gray-700 dark:text-gray-300"}`,disabled:r,children:g},g))}),y.jsx("input",{id:"occasion",type:"text",value:u,onChange:g=>d(g.target.value),placeholder:"Ou dcrivez... (ex: Brunch dcontract)",className:"w-full px-4 py-3 bg-snow dark:bg-onyx border-2 border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-gold focus:border-transparent transition-colors text-center",disabled:r})]}),y.jsxs("button",{type:"submit",disabled:r,className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-gold text-onyx font-bold rounded-lg hover:bg-gold-dark transition-all duration-300 disabled:bg-gray-400 dark:disabled:bg-gray-600 disabled:cursor-not-allowed transform hover:scale-105",children:[y.jsx(Td,{}),r?"Gnration...":"Gnrer des Tenues"]})]})})]})},TB=!1,SB=({outfits:t,allClothingItems:e,allClothingSets:n,favoriteOutfits:r,onToggleFavorite:s,onGenerateVisual:o,generatingVisualFor:u,selectedOutfit:d,onSelectOutfit:f})=>{const[h,g]=P.useState(null);P.useEffect(()=>{if(!h)return;const _=E=>{E.key==="Escape"&&g(null)};return window.addEventListener("keydown",_),document.body.style.overflow="hidden",()=>{window.removeEventListener("keydown",_),document.body.style.overflow="auto"}},[h]);const b=_=>{const{id:E,description:C}=_,N=E?E.trim():"",D=C?C.trim().toLowerCase():"";let U=e.find(z=>z.id===N);if(U)return U;let M=n.find(z=>z.id===N);if(M)return M;if(N&&(U=e.find(z=>z.analysis.toLowerCase().includes(N.toLowerCase())),U)||D&&(U=e.find(z=>{const G=z.analysis.toLowerCase();return G.includes(D)||D.includes(G)}),U))return U};return y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"mt-10 space-y-8",children:t.map((_,E)=>{const C=r.some(D=>D.titre===_.titre&&D.description===_.description);_.titre;const N=(d==null?void 0:d.titre)===_.titre&&(d==null?void 0:d.description)===_.description;return y.jsxs("div",{className:`bg-snow dark:bg-onyx border-2 rounded-lg p-5 transition-all duration-300 hover:shadow-lg relative ${N?"border-gold shadow-gold/30 shadow-lg":"border-black/10 dark:border-white/10 hover:border-gold/50"}`,children:[N&&y.jsxs("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2 bg-gradient-to-r from-gold to-gold-dark text-onyx px-4 py-1 rounded-full text-xs font-bold shadow-lg flex items-center gap-1.5",children:[y.jsx("svg",{className:"w-3.5 h-3.5",fill:"currentColor",viewBox:"0 0 20 20",children:y.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Tenue choisie"]}),y.jsxs("div",{className:"flex justify-between items-start",children:[y.jsx("h3",{className:"font-serif font-bold text-xl text-gold",children:_.titre}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("button",{onClick:()=>f(_),className:`p-1.5 transition-colors ${N?"text-gold":"text-gray-400 hover:text-gold dark:hover:text-gold"}`,"aria-label":N?"Dslectionner cette tenue":"Choisir cette tenue",title:N?"Dslectionner cette tenue":"Choisir cette tenue",children:y.jsx("svg",{className:"w-6 h-6",fill:N?"currentColor":"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),TB,y.jsx("button",{onClick:()=>s(_),className:"p-1.5 text-gray-400 hover:text-gold dark:hover:text-gold transition-colors","aria-label":C?"Retirer des favoris":"Ajouter aux favoris",children:C?y.jsx(du,{className:"w-6 h-6 text-gold"}):y.jsx($m,{className:"w-6 h-6"})})]})]}),y.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1 mb-5",children:_.description}),y.jsx("div",{className:"flex flex-wrap gap-3 mb-5",children:_.vetements.map((D,U)=>{const M=b(D),z=M?M.imageSrc:null;return y.jsx("button",{onClick:()=>z&&g(z),className:"w-20 h-20 bg-gray-200 dark:bg-gray-800 rounded-md shadow-md border-2 border-white dark:border-raisin-black overflow-hidden transition-transform duration-300 hover:scale-105 hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gold dark:focus:ring-offset-onyx disabled:cursor-default disabled:hover:scale-100 relative group",disabled:!z,"aria-label":`Agrandir l'image de : ${D.description}`,title:D.description,children:z?y.jsx("img",{src:z,alt:D.description,className:"w-full h-full object-cover"}):y.jsx("div",{className:"w-full h-full flex items-center justify-center p-1 text-center",children:y.jsx(mI,{})})},U)})}),y.jsx("ul",{className:"list-disc list-inside space-y-1.5 text-sm pt-4 border-t border-black/5 dark:border-white/10",children:_.vetements.map((D,U)=>y.jsx("li",{className:"text-gray-700 dark:text-gray-300",children:D.description},U))})]},E)})}),h&&y.jsx("div",{className:"fixed inset-0 bg-onyx/80 backdrop-blur-md flex items-center justify-center z-[100] p-4",onClick:()=>g(null),role:"dialog","aria-modal":"true",children:y.jsxs("div",{className:"relative",onClick:_=>_.stopPropagation(),children:[y.jsx("img",{src:h,alt:"Vue agrandie",className:"max-w-[90vw] max-h-[85vh] object-contain rounded-lg shadow-2xl"}),y.jsx("button",{onClick:()=>g(null),className:"absolute -top-3 -right-3 p-1.5 bg-raisin-black border-2 border-white dark:border-onyx rounded-full text-white hover:bg-red-500 hover:scale-110 transition-all focus:outline-none focus:ring-2 focus:ring-gold","aria-label":"Fermer",children:y.jsx(U5,{})})]})})]})},eu=P.memo(SB);var YN=_2(),AB=CB()?P.useLayoutEffect:P.useEffect;function CB(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function RB(){var t=P.useState(Object.create(null)),e=t[1];return P.useCallback(function(){e(Object.create(null))},[])}var IB=function(e){var n=e.children,r=e.type,s=r===void 0?"reach-portal":r,o=P.useRef(null),u=P.useRef(null),d=RB();return AB(function(){if(o.current){var f=o.current.ownerDocument;return u.current=f==null?void 0:f.createElement(s),f.body.appendChild(u.current),d(),function(){u.current&&u.current.ownerDocument&&u.current.ownerDocument.body.removeChild(u.current)}}},[s,d]),u.current?YN.createPortal(n,u.current):P.createElement("span",{ref:o})};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var ge=function(){return ge=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},ge.apply(this,arguments)};function V_(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function at(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ft(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),s,o=[],u;try{for(;(e===void 0||e-- >0)&&!(s=r.next()).done;)o.push(s.value)}catch(d){u={error:d}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(u)throw u.error}}return o}function Ut(t,e,n){if(arguments.length===2)for(var r=0,s=e.length,o;r<s;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}var At;(function(t){t.Start="xstate.start",t.Stop="xstate.stop",t.Raise="xstate.raise",t.Send="xstate.send",t.Cancel="xstate.cancel",t.NullEvent="",t.Assign="xstate.assign",t.After="xstate.after",t.DoneState="done.state",t.DoneInvoke="done.invoke",t.Log="xstate.log",t.Init="xstate.init",t.Invoke="xstate.invoke",t.ErrorExecution="error.execution",t.ErrorCommunication="error.communication",t.ErrorPlatform="error.platform",t.ErrorCustom="xstate.error",t.Update="xstate.update",t.Pure="xstate.pure",t.Choose="xstate.choose"})(At||(At={}));var pu;(function(t){t.Parent="#_parent",t.Internal="#_internal"})(pu||(pu={}));var j0=At.Start,L_=At.Stop,ef=At.Raise,Wp=At.Send,WN=At.Cancel,NB=At.NullEvent,U_=At.Assign;At.After;At.DoneState;var QN=At.Log,kB=At.Init,M0=At.Invoke;At.ErrorExecution;var EA=At.ErrorPlatform,DB=At.ErrorCustom,XN=At.Update,OB=At.Choose,PB=At.Pure,ZN=".",TA={},V0="xstate.guard",jB="",Lh;function z_(t,e,n){n===void 0&&(n=ZN);var r=id(t,n),s=id(e,n);return gt(s)?gt(r)?s===r:!1:gt(r)?r in s:Object.keys(r).every(function(o){return o in s?z_(r[o],s[o]):!1})}function JN(t){try{return gt(t)||typeof t=="number"?"".concat(t):t.type}catch{throw new Error("Events must be strings or objects with a string event.type property.")}}function L0(t,e){try{return Ru(t)?t:t.toString().split(e)}catch{throw new Error("'".concat(t,"' is not a valid state path."))}}function MB(t){return typeof t=="object"&&"value"in t&&"context"in t&&"event"in t&&"_event"in t}function id(t,e){if(MB(t))return t.value;if(Ru(t))return ep(t);if(typeof t!="string")return t;var n=L0(t,e);return ep(n)}function ep(t){if(t.length===1)return t[0];for(var e={},n=e,r=0;r<t.length-1;r++)r===t.length-2?n[t[r]]=t[r+1]:(n[t[r]]={},n=n[t[r]]);return e}function Fc(t,e){for(var n={},r=Object.keys(t),s=0;s<r.length;s++){var o=r[s];n[o]=e(t[o],o,t,s)}return n}function SA(t,e,n){var r,s,o={};try{for(var u=at(Object.keys(t)),d=u.next();!d.done;d=u.next()){var f=d.value,h=t[f];n(h)&&(o[f]=e(h,f,t))}}catch(g){r={error:g}}finally{try{d&&!d.done&&(s=u.return)&&s.call(u)}finally{if(r)throw r.error}}return o}var VB=function(t){return function(e){var n,r,s=e;try{for(var o=at(t),u=o.next();!u.done;u=o.next()){var d=u.value;s=s[d]}}catch(f){n={error:f}}finally{try{u&&!u.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return s}};function LB(t,e){return function(n){var r,s,o=n;try{for(var u=at(t),d=u.next();!d.done;d=u.next()){var f=d.value;o=o[e][f]}}catch(h){r={error:h}}finally{try{d&&!d.done&&(s=u.return)&&s.call(u)}finally{if(r)throw r.error}}return o}}function vm(t){if(!t)return[[]];if(gt(t))return[[t]];var e=$t(Object.keys(t).map(function(n){var r=t[n];return typeof r!="string"&&(!r||!Object.keys(r).length)?[[n]]:vm(t[n]).map(function(s){return[n].concat(s)})}));return e}function $t(t){var e;return(e=[]).concat.apply(e,Ut([],ft(t),!1))}function ek(t){return Ru(t)?t:[t]}function Ci(t){return t===void 0?[]:ek(t)}function tp(t,e,n){var r,s;if(mt(t))return t(e,n.data);var o={};try{for(var u=at(Object.keys(t)),d=u.next();!d.done;d=u.next()){var f=d.value,h=t[f];mt(h)?o[f]=h(e,n.data):o[f]=h}}catch(g){r={error:g}}finally{try{d&&!d.done&&(s=u.return)&&s.call(u)}finally{if(r)throw r.error}}return o}function UB(t){return/^(done|error)\./.test(t)}function AA(t){return!!(t instanceof Promise||t!==null&&(mt(t)||typeof t=="object")&&mt(t.then))}function zB(t){return t!==null&&typeof t=="object"&&"transition"in t&&typeof t.transition=="function"}function BB(t,e){var n,r,s=ft([[],[]],2),o=s[0],u=s[1];try{for(var d=at(t),f=d.next();!f.done;f=d.next()){var h=f.value;e(h)?o.push(h):u.push(h)}}catch(g){n={error:g}}finally{try{f&&!f.done&&(r=d.return)&&r.call(d)}finally{if(n)throw n.error}}return[o,u]}function tk(t,e){return Fc(t.states,function(n,r){if(n){var s=(gt(e)?void 0:e[r])||(n?n.current:void 0);if(s)return{current:s,states:tk(n,s)}}})}function FB(t,e){return{current:e,states:tk(t,e)}}function CA(t,e,n,r){var s=t&&n.reduce(function(o,u){var d,f,h=u.assignment,g={state:r,action:u,_event:e},b={};if(mt(h))b=h(o,e.data,g);else try{for(var _=at(Object.keys(h)),E=_.next();!E.done;E=_.next()){var C=E.value,N=h[C];b[C]=mt(N)?N(o,e.data,g):N}}catch(D){d={error:D}}finally{try{E&&!E.done&&(f=_.return)&&f.call(_)}finally{if(d)throw d.error}}return Object.assign({},o,b)},t);return s}var HB=function(){};function Ru(t){return Array.isArray(t)}function mt(t){return typeof t=="function"}function gt(t){return typeof t=="string"}function nk(t,e){if(t)return gt(t)?{type:V0,name:t,predicate:e?e[t]:void 0}:mt(t)?{type:V0,name:t.name,predicate:t}:t}function qB(t){try{return"subscribe"in t&&mt(t.subscribe)}catch{return!1}}var xa=(function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"})();Lh={},Lh[xa]=function(){return this},Lh[Symbol.observable]=function(){return this};function gu(t){return!!t&&"__xstatenode"in t}function GB(t){return!!t&&typeof t.send=="function"}function Qp(t,e){return gt(t)||typeof t=="number"?ge({type:t},e):t}function Fn(t,e){if(!gt(t)&&"$$type"in t&&t.$$type==="scxml")return t;var n=Qp(t);return ge({name:n.type,data:n,$$type:"scxml",type:"external"},e)}function Ol(t,e){var n=ek(e).map(function(r){return typeof r>"u"||typeof r=="string"||gu(r)?{target:r,event:t}:ge(ge({},r),{event:t})});return n}function $B(t){if(!(t===void 0||t===jB))return Ci(t)}function rk(t,e,n,r,s){var o=t.options.guards,u={state:s,cond:e,_event:r};if(e.type===V0)return((o==null?void 0:o[e.name])||e.predicate)(n,r.data,u);var d=o==null?void 0:o[e.type];if(!d)throw new Error("Guard '".concat(e.type,"' is not implemented on machine '").concat(t.id,"'."));return d(n,r.data,u)}function ik(t){return typeof t=="string"?{type:t}:t}function ym(t,e,n){var r=function(){},s=typeof t=="object",o=s?t:null;return{next:((s?t.next:t)||r).bind(o),error:((s?t.error:e)||r).bind(o),complete:((s?t.complete:n)||r).bind(o)}}function Uh(t,e){return"".concat(t,":invocation[").concat(e,"]")}function U0(t){return(t.type===ef||t.type===Wp&&t.to===pu.Internal)&&typeof t.delay!="number"}var tu=Fn({type:kB});function z0(t,e){return e&&e[t]||void 0}function Nd(t,e){var n;if(gt(t)||typeof t=="number"){var r=z0(t,e);mt(r)?n={type:t,exec:r}:r?n=r:n={type:t,exec:void 0}}else if(mt(t))n={type:t.name||t.toString(),exec:t};else{var r=z0(t.type,e);if(mt(r))n=ge(ge({},t),{exec:r});else if(r){var s=r.type||t.type;n=ge(ge(ge({},r),t),{type:s})}else n=t}return n}var Ea=function(t,e){if(!t)return[];var n=Ru(t)?t:[t];return n.map(function(r){return Nd(r,e)})};function B_(t){var e=Nd(t);return ge(ge({id:gt(t)?t:e.id},e),{type:e.type})}function KB(t,e){return{type:ef,event:typeof t=="function"?t:Qp(t),delay:e?e.delay:void 0,id:e==null?void 0:e.id}}function YB(t,e,n,r){var s={_event:n},o=Fn(mt(t.event)?t.event(e,n.data,s):t.event),u;if(gt(t.delay)){var d=r&&r[t.delay];u=mt(d)?d(e,n.data,s):d}else u=mt(t.delay)?t.delay(e,n.data,s):t.delay;return ge(ge({},t),{type:ef,_event:o,delay:u})}function WB(t,e){return{to:e?e.to:void 0,type:Wp,event:mt(t)?t:Qp(t),delay:e?e.delay:void 0,id:e&&e.id!==void 0?e.id:mt(t)?t.name:JN(t)}}function QB(t,e,n,r){var s={_event:n},o=Fn(mt(t.event)?t.event(e,n.data,s):t.event),u;if(gt(t.delay)){var d=r&&r[t.delay];u=mt(d)?d(e,n.data,s):d}else u=mt(t.delay)?t.delay(e,n.data,s):t.delay;var f=mt(t.to)?t.to(e,n.data,s):t.to;return ge(ge({},t),{to:f,_event:o,event:o.data,delay:u})}var XB=function(t,e,n){return ge(ge({},t),{value:gt(t.expr)?t.expr:t.expr(e,n.data,{_event:n})})},ZB=function(t){return{type:WN,sendId:t}};function JB(t){var e=B_(t);return{type:At.Start,activity:e,exec:void 0}}function e7(t){var e=mt(t)?t:B_(t);return{type:At.Stop,activity:e,exec:void 0}}function t7(t,e,n){var r=mt(t.activity)?t.activity(e,n.data):t.activity,s=typeof r=="string"?{id:r}:r,o={type:At.Stop,activity:s};return o}var n7=function(t){return{type:U_,assignment:t}};function r7(t,e){var n=e?"#".concat(e):"";return"".concat(At.After,"(").concat(t,")").concat(n)}function zh(t,e){var n="".concat(At.DoneState,".").concat(t),r={type:n,data:e};return r.toString=function(){return n},r}function bm(t,e){var n="".concat(At.DoneInvoke,".").concat(t),r={type:n,data:e};return r.toString=function(){return n},r}function Hc(t,e){var n="".concat(At.ErrorPlatform,".").concat(t),r={type:n,data:e};return r.toString=function(){return n},r}var i7=function(t){var e,n,r=[];try{for(var s=at(t),o=s.next();!o.done;o=s.next())for(var u=o.value,d=0;d<u.actions.length;){if(u.actions[d].type===U_){r.push(u.actions[d]),u.actions.splice(d,1);continue}d++}}catch(f){e={error:f}}finally{try{o&&!o.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}return r};function np(t,e,n,r,s,o,u){u===void 0&&(u=!1);var d=u?[]:i7(s),f=d.length?CA(n,r,d,e):n,h=u?[n]:void 0,g=[];function b(C,N){var D;switch(N.type){case ef:{var U=YB(N,f,r,t.options.delays);return o&&typeof U.delay=="number"&&o(U,f,r),U}case Wp:var M=QB(N,f,r,t.options.delays);return o&&M.to!==pu.Internal&&(C==="entry"?g.push(M):o(M,f,r)),M;case QN:{var z=XB(N,f,r);return o==null||o(z,f,r),z}case OB:{var G=N,K=(D=G.conds.find(function(Q){var se=nk(Q.cond,t.options.guards);return!se||rk(t,se,f,r,o?void 0:e)}))===null||D===void 0?void 0:D.actions;if(!K)return[];var H=ft(np(t,e,f,r,[{type:C,actions:Ea(Ci(K),t.options.actions)}],o,u),2),A=H[0],S=H[1];return f=S,h==null||h.push(f),A}case PB:{var K=N.get(f,r.data);if(!K)return[];var R=ft(np(t,e,f,r,[{type:C,actions:Ea(Ci(K),t.options.actions)}],o,u),2),L=R[0],V=R[1];return f=V,h==null||h.push(f),L}case L_:{var z=t7(N,f,r);return o==null||o(z,n,r),z}case U_:{f=CA(f,r,[N],o?void 0:e),h==null||h.push(f);break}default:var O=Nd(N,t.options.actions),j=O.exec;if(o)o(O,f,r);else if(j&&h){var ve=h.length-1,Ce=ge(ge({},O),{exec:function(Q){for(var se=[],de=1;de<arguments.length;de++)se[de-1]=arguments[de];j.apply(void 0,Ut([h[ve]],ft(se),!1))}});O=Ce}return O}}function _(C){var N,D,U=[];try{for(var M=at(C.actions),z=M.next();!z.done;z=M.next()){var G=z.value,K=b(C.type,G);K&&(U=U.concat(K))}}catch(H){N={error:H}}finally{try{z&&!z.done&&(D=M.return)&&D.call(M)}finally{if(N)throw N.error}}return g.forEach(function(H){o(H,f,r)}),g.length=0,U}var E=$t(s.map(_));return[E,f]}var Fl=function(t,e){var n=e(t);return n};function sk(t){var e;return e={id:t,send:function(){},subscribe:function(){return{unsubscribe:function(){}}},getSnapshot:function(){},toJSON:function(){return{id:t}}},e[xa]=function(){return this},e}function s7(t,e,n,r){var s,o=ik(t.src),u=(s=e==null?void 0:e.options.services)===null||s===void 0?void 0:s[o.type],d=t.data?tp(t.data,n,r):void 0,f=u?ak(u,t.id,d):sk(t.id);return f.meta=t,f}function ak(t,e,n){var r=sk(e);if(r.deferred=!0,gu(t)){var s=r.state=Fl(void 0,function(){return(n?t.withContext(n):t).initialState});r.getSnapshot=function(){return s}}return r}function a7(t){try{return typeof t.send=="function"}catch{return!1}}function o7(t){return a7(t)&&"id"in t}function l7(t){var e;return ge((e={subscribe:function(){return{unsubscribe:function(){}}},id:"anonymous",getSnapshot:function(){}},e[xa]=function(){return this},e),t)}var rp=function(t){return t.type==="atomic"||t.type==="final"};function ok(t){return Object.keys(t.states).map(function(e){return t.states[e]})}function kd(t){return ok(t).filter(function(e){return e.type!=="history"})}function lk(t){var e=[t];return rp(t)?e:e.concat($t(kd(t).map(lk)))}function qc(t,e){var n,r,s,o,u,d,f,h,g=new Set(t),b=B0(g),_=new Set(e);try{for(var E=at(_),C=E.next();!C.done;C=E.next())for(var N=C.value,D=N.parent;D&&!_.has(D);)_.add(D),D=D.parent}catch(R){n={error:R}}finally{try{C&&!C.done&&(r=E.return)&&r.call(E)}finally{if(n)throw n.error}}var U=B0(_);try{for(var M=at(_),z=M.next();!z.done;z=M.next()){var N=z.value;if(N.type==="compound"&&(!U.get(N)||!U.get(N).length))b.get(N)?b.get(N).forEach(function(L){return _.add(L)}):N.initialStateNodes.forEach(function(L){return _.add(L)});else if(N.type==="parallel")try{for(var G=(u=void 0,at(kd(N))),K=G.next();!K.done;K=G.next()){var H=K.value;_.has(H)||(_.add(H),b.get(H)?b.get(H).forEach(function(L){return _.add(L)}):H.initialStateNodes.forEach(function(L){return _.add(L)}))}}catch(L){u={error:L}}finally{try{K&&!K.done&&(d=G.return)&&d.call(G)}finally{if(u)throw u.error}}}}catch(R){s={error:R}}finally{try{z&&!z.done&&(o=M.return)&&o.call(M)}finally{if(s)throw s.error}}try{for(var A=at(_),S=A.next();!S.done;S=A.next())for(var N=S.value,D=N.parent;D&&!_.has(D);)_.add(D),D=D.parent}catch(R){f={error:R}}finally{try{S&&!S.done&&(h=A.return)&&h.call(A)}finally{if(f)throw f.error}}return _}function uk(t,e){var n=e.get(t);if(!n)return{};if(t.type==="compound"){var r=n[0];if(r){if(rp(r))return r.key}else return{}}var s={};return n.forEach(function(o){s[o.key]=uk(o,e)}),s}function B0(t){var e,n,r=new Map;try{for(var s=at(t),o=s.next();!o.done;o=s.next()){var u=o.value;r.has(u)||r.set(u,[]),u.parent&&(r.has(u.parent)||r.set(u.parent,[]),r.get(u.parent).push(u))}}catch(d){e={error:d}}finally{try{o&&!o.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}return r}function u7(t,e){var n=qc([t],e);return uk(t,B0(n))}function Gc(t,e){return Array.isArray(t)?t.some(function(n){return n===e}):t instanceof Set?t.has(e):!1}function c7(t){return Ut([],ft(new Set($t(Ut([],ft(t.map(function(e){return e.ownEvents})),!1)))),!1)}function _m(t,e){return e.type==="compound"?kd(e).some(function(n){return n.type==="final"&&Gc(t,n)}):e.type==="parallel"?kd(e).every(function(n){return _m(t,n)}):!1}function d7(t){return t===void 0&&(t=[]),t.reduce(function(e,n){return n.meta!==void 0&&(e[n.id]=n.meta),e},{})}function RA(t){return new Set($t(t.map(function(e){return e.tags})))}function ck(t,e){if(t===e)return!0;if(t===void 0||e===void 0)return!1;if(gt(t)||gt(e))return t===e;var n=Object.keys(t),r=Object.keys(e);return n.length===r.length&&n.every(function(s){return ck(t[s],e[s])})}function f7(t){return typeof t!="object"||t===null?!1:"value"in t&&"_event"in t}function h7(t,e){var n=t.exec,r=ge(ge({},t),{exec:n!==void 0?function(){return n(e.context,e.event,{action:t,state:e,_event:e._event})}:void 0});return r}var hi=(function(){function t(e){var n=this,r;this.actions=[],this.activities=TA,this.meta={},this.events=[],this.value=e.value,this.context=e.context,this._event=e._event,this._sessionid=e._sessionid,this.event=this._event.data,this.historyValue=e.historyValue,this.history=e.history,this.actions=e.actions||[],this.activities=e.activities||TA,this.meta=d7(e.configuration),this.events=e.events||[],this.matches=this.matches.bind(this),this.toStrings=this.toStrings.bind(this),this.configuration=e.configuration,this.transitions=e.transitions,this.children=e.children,this.done=!!e.done,this.tags=(r=Array.isArray(e.tags)?new Set(e.tags):e.tags)!==null&&r!==void 0?r:new Set,this.machine=e.machine,Object.defineProperty(this,"nextEvents",{get:function(){return c7(n.configuration)}})}return t.from=function(e,n){if(e instanceof t)return e.context!==n?new t({value:e.value,context:n,_event:e._event,_sessionid:null,historyValue:e.historyValue,history:e.history,actions:[],activities:e.activities,events:[],configuration:[],transitions:[],children:{}}):e;var r=tu;return new t({value:e,context:n,_event:r,_sessionid:null,historyValue:void 0,history:void 0,actions:[],activities:void 0,events:[],configuration:[],transitions:[],children:{}})},t.create=function(e){return new t(e)},t.inert=function(e,n){if(e instanceof t){if(!e.actions.length)return e;var r=tu;return new t({value:e.value,context:n,_event:r,_sessionid:null,historyValue:e.historyValue,history:e.history,activities:e.activities,configuration:e.configuration,transitions:[],children:{}})}return t.from(e,n)},t.prototype.toStrings=function(e,n){var r=this;if(e===void 0&&(e=this.value),n===void 0&&(n="."),gt(e))return[e];var s=Object.keys(e);return s.concat.apply(s,Ut([],ft(s.map(function(o){return r.toStrings(e[o],n).map(function(u){return o+n+u})})),!1))},t.prototype.toJSON=function(){var e=this;e.configuration,e.transitions;var n=e.tags;e.machine;var r=V_(e,["configuration","transitions","tags","machine"]);return ge(ge({},r),{tags:Array.from(n)})},t.prototype.matches=function(e){return z_(e,this.value)},t.prototype.hasTag=function(e){return this.tags.has(e)},t.prototype.can=function(e){var n;HB(!!this.machine);var r=(n=this.machine)===null||n===void 0?void 0:n.getTransitionData(this,e);return!!(r!=null&&r.transitions.length)&&r.transitions.some(function(s){return s.target!==void 0||s.actions.length})},t})(),m7={deferEvents:!1},IA=(function(){function t(e){this.processingEvent=!1,this.queue=[],this.initialized=!1,this.options=ge(ge({},m7),e)}return t.prototype.initialize=function(e){if(this.initialized=!0,e){if(!this.options.deferEvents){this.schedule(e);return}this.process(e)}this.flushEvents()},t.prototype.schedule=function(e){if(!this.initialized||this.processingEvent){this.queue.push(e);return}if(this.queue.length!==0)throw new Error("Event queue should be empty when it is not processing events");this.process(e),this.flushEvents()},t.prototype.clear=function(){this.queue=[]},t.prototype.flushEvents=function(){for(var e=this.queue.shift();e;)this.process(e),e=this.queue.shift()},t.prototype.process=function(e){this.processingEvent=!0;try{e()}catch(n){throw this.clear(),n}finally{this.processingEvent=!1}},t})(),Oy=new Map,p7=0,Rc={bookId:function(){return"x:".concat(p7++)},register:function(t,e){return Oy.set(t,e),t},get:function(t){return Oy.get(t)},free:function(t){Oy.delete(t)}};function F_(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global}function g7(){var t=F_();if(t&&"__xstate__"in t)return t.__xstate__}function v7(t){if(F_()){var e=g7();e&&e.register(t)}}function y7(t,e){e===void 0&&(e={});var n=t.initialState,r=new Set,s=[],o=!1,u=function(){if(!o){for(o=!0;s.length>0;){var h=s.shift();n=t.transition(n,h,f),r.forEach(function(g){return g.next(n)})}o=!1}},d=l7({id:e.id,send:function(h){s.push(h),u()},getSnapshot:function(){return n},subscribe:function(h,g,b){var _=ym(h,g,b);return r.add(_),_.next(n),{unsubscribe:function(){r.delete(_)}}}}),f={parent:e.parent,self:d,id:e.id||"anonymous",observers:r};return n=t.start?t.start(f):n,d}var b7={sync:!1,autoForward:!1},On;(function(t){t[t.NotStarted=0]="NotStarted",t[t.Running=1]="Running",t[t.Stopped=2]="Stopped"})(On||(On={}));var _7=(function(){function t(e,n){n===void 0&&(n=t.defaultOptions);var r=this;this.machine=e,this.delayedEventsMap={},this.listeners=new Set,this.contextListeners=new Set,this.stopListeners=new Set,this.doneListeners=new Set,this.eventListeners=new Set,this.sendListeners=new Set,this.initialized=!1,this.status=On.NotStarted,this.children=new Map,this.forwardTo=new Set,this._outgoingQueue=[],this.init=this.start,this.send=function(g,b){if(Ru(g))return r.batch(g),r.state;var _=Fn(Qp(g,b));if(r.status===On.Stopped)return r.state;if(r.status!==On.Running&&!r.options.deferEvents)throw new Error('Event "'.concat(_.name,'" was sent to uninitialized service "').concat(r.machine.id,`". Make sure .start() is called for this service, or set { deferEvents: true } in the service options.
Event: `).concat(JSON.stringify(_.data)));return r.scheduler.schedule(function(){r.forward(_);var E=r._nextState(_);r.update(E,_)}),r._state},this.sendTo=function(g,b,_){var E=r.parent&&(b===pu.Parent||r.parent.id===b),C=E?r.parent:gt(b)?b===pu.Internal?r:r.children.get(b)||Rc.get(b):GB(b)?b:void 0;if(!C){if(!E)throw new Error("Unable to send event to child '".concat(b,"' from service '").concat(r.id,"'."));return}if("machine"in C){if(r.status!==On.Stopped||r.parent!==C||r.state.done){var N=ge(ge({},g),{name:g.name===DB?"".concat(Hc(r.id)):g.name,origin:r.sessionId});!_&&r.machine.config.predictableActionArguments?r._outgoingQueue.push([C,N]):C.send(N)}}else!_&&r.machine.config.predictableActionArguments?r._outgoingQueue.push([C,g.data]):C.send(g.data)},this._exec=function(g,b,_,E){E===void 0&&(E=r.machine.options.actions);var C=g.exec||z0(g.type,E),N=mt(C)?C:C?C.exec:g.exec;if(N)try{return N(b,_.data,r.machine.config.predictableActionArguments?{action:g,_event:_}:{action:g,state:r.state,_event:_})}catch(ve){throw r.parent&&r.parent.send({type:"xstate.error",data:ve}),ve}switch(g.type){case ef:{var D=g;r.defer(D);break}case Wp:var U=g;if(typeof U.delay=="number"){r.defer(U);return}else U.to?r.sendTo(U._event,U.to,_===tu):r.send(U._event);break;case WN:r.cancel(g.sendId);break;case j0:{if(r.status!==On.Running)return;var M=g.activity;if(!r.machine.config.predictableActionArguments&&!r.state.activities[M.id||M.type])break;if(M.type===At.Invoke){var z=ik(M.src),G=r.machine.options.services?r.machine.options.services[z.type]:void 0,K=M.id,H=M.data,A="autoForward"in M?M.autoForward:!!M.forward;if(!G)return;var S=H?tp(H,b,_):void 0;if(typeof G=="string")return;var R=mt(G)?G(b,_.data,{data:S,src:z,meta:M.meta}):G;if(!R)return;var L=void 0;gu(R)&&(R=S?R.withContext(S):R,L={autoForward:A}),r.spawn(R,K,L)}else r.spawnActivity(M);break}case L_:{r.stopChild(g.activity.id);break}case QN:var V=g,O=V.label,j=V.value;O?r.logger(O,j):r.logger(j);break}};var s=ge(ge({},t.defaultOptions),n),o=s.clock,u=s.logger,d=s.parent,f=s.id,h=f!==void 0?f:e.id;this.id=h,this.logger=u,this.clock=o,this.parent=d,this.options=s,this.scheduler=new IA({deferEvents:this.options.deferEvents}),this.sessionId=Rc.bookId()}return Object.defineProperty(t.prototype,"initialState",{get:function(){var e=this;return this._initialState?this._initialState:Fl(this,function(){return e._initialState=e.machine.initialState,e._initialState})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._state},enumerable:!1,configurable:!0}),t.prototype.execute=function(e,n){var r,s;try{for(var o=at(e.actions),u=o.next();!u.done;u=o.next()){var d=u.value;this.exec(d,e,n)}}catch(f){r={error:f}}finally{try{u&&!u.done&&(s=o.return)&&s.call(o)}finally{if(r)throw r.error}}},t.prototype.update=function(e,n){var r,s,o,u,d,f,h,g,b=this;if(e._sessionid=this.sessionId,this._state=e,(!this.machine.config.predictableActionArguments||n===tu)&&this.options.execute)this.execute(this.state);else for(var _=void 0;_=this._outgoingQueue.shift();)_[0].send(_[1]);if(this.children.forEach(function(R){b.state.children[R.id]=R}),this.devTools&&this.devTools.send(n.data,e),e.event)try{for(var E=at(this.eventListeners),C=E.next();!C.done;C=E.next()){var N=C.value;N(e.event)}}catch(R){r={error:R}}finally{try{C&&!C.done&&(s=E.return)&&s.call(E)}finally{if(r)throw r.error}}try{for(var D=at(this.listeners),U=D.next();!U.done;U=D.next()){var N=U.value;N(e,e.event)}}catch(R){o={error:R}}finally{try{U&&!U.done&&(u=D.return)&&u.call(D)}finally{if(o)throw o.error}}try{for(var M=at(this.contextListeners),z=M.next();!z.done;z=M.next()){var G=z.value;G(this.state.context,this.state.history?this.state.history.context:void 0)}}catch(R){d={error:R}}finally{try{z&&!z.done&&(f=M.return)&&f.call(M)}finally{if(d)throw d.error}}if(this.state.done){var K=e.configuration.find(function(R){return R.type==="final"&&R.parent===b.machine}),H=K&&K.doneData?tp(K.doneData,e.context,n):void 0;this._doneEvent=bm(this.id,H);try{for(var A=at(this.doneListeners),S=A.next();!S.done;S=A.next()){var N=S.value;N(this._doneEvent)}}catch(R){h={error:R}}finally{try{S&&!S.done&&(g=A.return)&&g.call(A)}finally{if(h)throw h.error}}this._stop(),this._stopChildren(),Rc.free(this.sessionId)}},t.prototype.onTransition=function(e){return this.listeners.add(e),this.status===On.Running&&e(this.state,this.state.event),this},t.prototype.subscribe=function(e,n,r){var s=this,o=ym(e,n,r);this.listeners.add(o.next),this.status!==On.NotStarted&&o.next(this.state);var u=function(){s.doneListeners.delete(u),s.stopListeners.delete(u),o.complete()};return this.status===On.Stopped?o.complete():(this.onDone(u),this.onStop(u)),{unsubscribe:function(){s.listeners.delete(o.next),s.doneListeners.delete(u),s.stopListeners.delete(u)}}},t.prototype.onEvent=function(e){return this.eventListeners.add(e),this},t.prototype.onSend=function(e){return this.sendListeners.add(e),this},t.prototype.onChange=function(e){return this.contextListeners.add(e),this},t.prototype.onStop=function(e){return this.stopListeners.add(e),this},t.prototype.onDone=function(e){return this.status===On.Stopped&&this._doneEvent?e(this._doneEvent):this.doneListeners.add(e),this},t.prototype.off=function(e){return this.listeners.delete(e),this.eventListeners.delete(e),this.sendListeners.delete(e),this.stopListeners.delete(e),this.doneListeners.delete(e),this.contextListeners.delete(e),this},t.prototype.start=function(e){var n=this;if(this.status===On.Running)return this;this.machine._init(),Rc.register(this.sessionId,this),this.initialized=!0,this.status=On.Running;var r=e===void 0?this.initialState:Fl(this,function(){return f7(e)?n.machine.resolveState(e):n.machine.resolveState(hi.from(e,n.machine.context))});return this.options.devTools&&this.attachDev(),this.scheduler.initialize(function(){n.update(r,tu)}),this},t.prototype._stopChildren=function(){this.children.forEach(function(e){mt(e.stop)&&e.stop()}),this.children.clear()},t.prototype._stop=function(){var e,n,r,s,o,u,d,f,h,g;try{for(var b=at(this.listeners),_=b.next();!_.done;_=b.next()){var E=_.value;this.listeners.delete(E)}}catch(A){e={error:A}}finally{try{_&&!_.done&&(n=b.return)&&n.call(b)}finally{if(e)throw e.error}}try{for(var C=at(this.stopListeners),N=C.next();!N.done;N=C.next()){var E=N.value;E(),this.stopListeners.delete(E)}}catch(A){r={error:A}}finally{try{N&&!N.done&&(s=C.return)&&s.call(C)}finally{if(r)throw r.error}}try{for(var D=at(this.contextListeners),U=D.next();!U.done;U=D.next()){var E=U.value;this.contextListeners.delete(E)}}catch(A){o={error:A}}finally{try{U&&!U.done&&(u=D.return)&&u.call(D)}finally{if(o)throw o.error}}try{for(var M=at(this.doneListeners),z=M.next();!z.done;z=M.next()){var E=z.value;this.doneListeners.delete(E)}}catch(A){d={error:A}}finally{try{z&&!z.done&&(f=M.return)&&f.call(M)}finally{if(d)throw d.error}}if(!this.initialized)return this;this.initialized=!1,this.status=On.Stopped,this._initialState=void 0;try{for(var G=at(Object.keys(this.delayedEventsMap)),K=G.next();!K.done;K=G.next()){var H=K.value;this.clock.clearTimeout(this.delayedEventsMap[H])}}catch(A){h={error:A}}finally{try{K&&!K.done&&(g=G.return)&&g.call(G)}finally{if(h)throw h.error}}this.scheduler.clear(),this.scheduler=new IA({deferEvents:this.options.deferEvents})},t.prototype.stop=function(){var e=this,n=this.scheduler;return this._stop(),n.schedule(function(){var r;if(!(!((r=e._state)===null||r===void 0)&&r.done)){var s=Fn({type:"xstate.stop"}),o=Fl(e,function(){var u=$t(Ut([],ft(e.state.configuration),!1).sort(function(b,_){return _.order-b.order}).map(function(b){return Ea(b.onExit,e.machine.options.actions)})),d=ft(np(e.machine,e.state,e.state.context,s,[{type:"exit",actions:u}],e.machine.config.predictableActionArguments?e._exec:void 0,e.machine.config.predictableActionArguments||e.machine.config.preserveActionOrder),2),f=d[0],h=d[1],g=new hi({value:e.state.value,context:h,_event:s,_sessionid:e.sessionId,historyValue:void 0,history:e.state,actions:f.filter(function(b){return!U0(b)}),activities:{},events:[],configuration:[],transitions:[],children:{},done:e.state.done,tags:e.state.tags,machine:e.machine});return g.changed=!0,g});e.update(o,s),e._stopChildren(),Rc.free(e.sessionId)}}),this},t.prototype.batch=function(e){var n=this;if(!(this.status===On.NotStarted&&this.options.deferEvents)){if(this.status!==On.Running)throw new Error("".concat(e.length,' event(s) were sent to uninitialized service "').concat(this.machine.id,'". Make sure .start() is called for this service, or set { deferEvents: true } in the service options.'))}if(e.length){var r=!!this.machine.config.predictableActionArguments&&this._exec;this.scheduler.schedule(function(){var s,o,u=n.state,d=!1,f=[],h=function(E){var C=Fn(E);n.forward(C),u=Fl(n,function(){return n.machine.transition(u,C,void 0,r||void 0)}),f.push.apply(f,Ut([],ft(n.machine.config.predictableActionArguments?u.actions:u.actions.map(function(N){return h7(N,u)})),!1)),d=d||!!u.changed};try{for(var g=at(e),b=g.next();!b.done;b=g.next()){var _=b.value;h(_)}}catch(E){s={error:E}}finally{try{b&&!b.done&&(o=g.return)&&o.call(g)}finally{if(s)throw s.error}}u.changed=d,u.actions=f,n.update(u,Fn(e[e.length-1]))})}},t.prototype.sender=function(e){return this.send.bind(this,e)},t.prototype._nextState=function(e,n){var r=this;n===void 0&&(n=!!this.machine.config.predictableActionArguments&&this._exec);var s=Fn(e);if(s.name.indexOf(EA)===0&&!this.state.nextEvents.some(function(u){return u.indexOf(EA)===0}))throw s.data.data;var o=Fl(this,function(){return r.machine.transition(r.state,s,void 0,n||void 0)});return o},t.prototype.nextState=function(e){return this._nextState(e,!1)},t.prototype.forward=function(e){var n,r;try{for(var s=at(this.forwardTo),o=s.next();!o.done;o=s.next()){var u=o.value,d=this.children.get(u);if(!d)throw new Error("Unable to forward event '".concat(e,"' from interpreter '").concat(this.id,"' to nonexistant child '").concat(u,"'."));d.send(e)}}catch(f){n={error:f}}finally{try{o&&!o.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}},t.prototype.defer=function(e){var n=this,r=this.clock.setTimeout(function(){"to"in e&&e.to?n.sendTo(e._event,e.to,!0):n.send(e._event)},e.delay);e.id&&(this.delayedEventsMap[e.id]=r)},t.prototype.cancel=function(e){this.clock.clearTimeout(this.delayedEventsMap[e]),delete this.delayedEventsMap[e]},t.prototype.exec=function(e,n,r){r===void 0&&(r=this.machine.options.actions),this._exec(e,n.context,n._event,r)},t.prototype.removeChild=function(e){var n;this.children.delete(e),this.forwardTo.delete(e),(n=this.state)===null||n===void 0||delete n.children[e]},t.prototype.stopChild=function(e){var n=this.children.get(e);n&&(this.removeChild(e),mt(n.stop)&&n.stop())},t.prototype.spawn=function(e,n,r){if(this.status!==On.Running)return ak(e,n);if(AA(e))return this.spawnPromise(Promise.resolve(e),n);if(mt(e))return this.spawnCallback(e,n);if(o7(e))return this.spawnActor(e,n);if(qB(e))return this.spawnObservable(e,n);if(gu(e))return this.spawnMachine(e,ge(ge({},r),{id:n}));if(zB(e))return this.spawnBehavior(e,n);throw new Error('Unable to spawn entity "'.concat(n,'" of type "').concat(typeof e,'".'))},t.prototype.spawnMachine=function(e,n){var r=this;n===void 0&&(n={});var s=new t(e,ge(ge({},this.options),{parent:this,id:n.id||e.id})),o=ge(ge({},b7),n);o.sync&&s.onTransition(function(d){r.send(XN,{state:d,id:s.id})});var u=s;return this.children.set(s.id,u),o.autoForward&&this.forwardTo.add(s.id),s.onDone(function(d){r.removeChild(s.id),r.send(Fn(d,{origin:s.id}))}).start(),u},t.prototype.spawnBehavior=function(e,n){var r=y7(e,{id:n,parent:this});return this.children.set(n,r),r},t.prototype.spawnPromise=function(e,n){var r,s=this,o=!1,u;e.then(function(f){o||(u=f,s.removeChild(n),s.send(Fn(bm(n,f),{origin:n})))},function(f){if(!o){s.removeChild(n);var h=Hc(n,f);try{s.send(Fn(h,{origin:n}))}catch{s.devTools&&s.devTools.send(h,s.state),s.machine.strict&&s.stop()}}});var d=(r={id:n,send:function(){},subscribe:function(f,h,g){var b=ym(f,h,g),_=!1;return e.then(function(E){_||(b.next(E),!_&&b.complete())},function(E){_||b.error(E)}),{unsubscribe:function(){return _=!0}}},stop:function(){o=!0},toJSON:function(){return{id:n}},getSnapshot:function(){return u}},r[xa]=function(){return this},r);return this.children.set(n,d),d},t.prototype.spawnCallback=function(e,n){var r,s=this,o=!1,u=new Set,d=new Set,f,h=function(_){f=_,d.forEach(function(E){return E(_)}),!o&&s.send(Fn(_,{origin:n}))},g;try{g=e(h,function(_){u.add(_)})}catch(_){this.send(Hc(n,_))}if(AA(g))return this.spawnPromise(g,n);var b=(r={id:n,send:function(_){return u.forEach(function(E){return E(_)})},subscribe:function(_){var E=ym(_);return d.add(E.next),{unsubscribe:function(){d.delete(E.next)}}},stop:function(){o=!0,mt(g)&&g()},toJSON:function(){return{id:n}},getSnapshot:function(){return f}},r[xa]=function(){return this},r);return this.children.set(n,b),b},t.prototype.spawnObservable=function(e,n){var r,s=this,o,u=e.subscribe(function(f){o=f,s.send(Fn(f,{origin:n}))},function(f){s.removeChild(n),s.send(Fn(Hc(n,f),{origin:n}))},function(){s.removeChild(n),s.send(Fn(bm(n),{origin:n}))}),d=(r={id:n,send:function(){},subscribe:function(f,h,g){return e.subscribe(f,h,g)},stop:function(){return u.unsubscribe()},getSnapshot:function(){return o},toJSON:function(){return{id:n}}},r[xa]=function(){return this},r);return this.children.set(n,d),d},t.prototype.spawnActor=function(e,n){return this.children.set(n,e),e},t.prototype.spawnActivity=function(e){var n=this.machine.options&&this.machine.options.activities?this.machine.options.activities[e.type]:void 0;if(n){var r=n(this.state.context,e);this.spawnEffect(e.id,r)}},t.prototype.spawnEffect=function(e,n){var r;this.children.set(e,(r={id:e,send:function(){},subscribe:function(){return{unsubscribe:function(){}}},stop:n||void 0,getSnapshot:function(){},toJSON:function(){return{id:e}}},r[xa]=function(){return this},r))},t.prototype.attachDev=function(){var e=F_();if(this.options.devTools&&e){if(e.__REDUX_DEVTOOLS_EXTENSION__){var n=typeof this.options.devTools=="object"?this.options.devTools:void 0;this.devTools=e.__REDUX_DEVTOOLS_EXTENSION__.connect(ge(ge({name:this.id,autoPause:!0,stateSanitizer:function(r){return{value:r.value,context:r.context,actions:r.actions}}},n),{features:ge({jump:!1,skip:!1},n?n.features:void 0)}),this.machine),this.devTools.init(this.state)}v7(this)}},t.prototype.toJSON=function(){return{id:this.id}},t.prototype[xa]=function(){return this},t.prototype.getSnapshot=function(){return this.status===On.NotStarted?this.initialState:this._state},t.defaultOptions={execute:!0,deferEvents:!0,clock:{setTimeout:function(e,n){return setTimeout(e,n)},clearTimeout:function(e){return clearTimeout(e)}},logger:console.log.bind(console),devTools:!1},t.interpret=dk,t})();function dk(t,e){var n=new _7(t,e);return n}function w7(t){if(typeof t=="string"){var e={type:t};return e.toString=function(){return t},e}return t}function Bh(t){return ge(ge({type:M0},t),{toJSON:function(){t.onDone,t.onError;var e=V_(t,["onDone","onError"]);return ge(ge({},e),{type:M0,src:w7(t.src)})}})}var Fh="",F0="#",Py="*",Pl={},jl=function(t){return t[0]===F0},x7=function(){return{actions:{},guards:{},services:{},activities:{},delays:{}}},E7=(function(){function t(e,n,r,s){r===void 0&&(r="context"in e?e.context:void 0);var o=this,u;this.config=e,this._context=r,this.order=-1,this.__xstatenode=!0,this.__cache={events:void 0,relativeValue:new Map,initialStateValue:void 0,initialState:void 0,on:void 0,transitions:void 0,candidates:{},delayedTransitions:void 0},this.idMap={},this.tags=[],this.options=Object.assign(x7(),n),this.parent=s==null?void 0:s.parent,this.key=this.config.key||(s==null?void 0:s.key)||this.config.id||"(machine)",this.machine=this.parent?this.parent.machine:this,this.path=this.parent?this.parent.path.concat(this.key):[],this.delimiter=this.config.delimiter||(this.parent?this.parent.delimiter:ZN),this.id=this.config.id||Ut([this.machine.key],ft(this.path),!1).join(this.delimiter),this.version=this.parent?this.parent.version:this.config.version,this.type=this.config.type||(this.config.parallel?"parallel":this.config.states&&Object.keys(this.config.states).length?"compound":this.config.history?"history":"atomic"),this.schema=this.parent?this.machine.schema:(u=this.config.schema)!==null&&u!==void 0?u:{},this.description=this.config.description,this.initial=this.config.initial,this.states=this.config.states?Fc(this.config.states,function(h,g){var b,_=new t(h,{},void 0,{parent:o,key:g});return Object.assign(o.idMap,ge((b={},b[_.id]=_,b),_.idMap)),_}):Pl;var d=0;function f(h){var g,b;h.order=d++;try{for(var _=at(ok(h)),E=_.next();!E.done;E=_.next()){var C=E.value;f(C)}}catch(N){g={error:N}}finally{try{E&&!E.done&&(b=_.return)&&b.call(_)}finally{if(g)throw g.error}}}f(this),this.history=this.config.history===!0?"shallow":this.config.history||!1,this._transient=!!this.config.always||(this.config.on?Array.isArray(this.config.on)?this.config.on.some(function(h){var g=h.event;return g===Fh}):Fh in this.config.on:!1),this.strict=!!this.config.strict,this.onEntry=Ci(this.config.entry||this.config.onEntry).map(function(h){return Nd(h)}),this.onExit=Ci(this.config.exit||this.config.onExit).map(function(h){return Nd(h)}),this.meta=this.config.meta,this.doneData=this.type==="final"?this.config.data:void 0,this.invoke=Ci(this.config.invoke).map(function(h,g){var b,_;if(gu(h)){var E=Uh(o.id,g);return o.machine.options.services=ge((b={},b[E]=h,b),o.machine.options.services),Bh({src:E,id:E})}else if(gt(h.src)){var E=h.id||Uh(o.id,g);return Bh(ge(ge({},h),{id:E,src:h.src}))}else if(gu(h.src)||mt(h.src)){var E=h.id||Uh(o.id,g);return o.machine.options.services=ge((_={},_[E]=h.src,_),o.machine.options.services),Bh(ge(ge({id:E},h),{src:E}))}else{var C=h.src;return Bh(ge(ge({id:Uh(o.id,g)},h),{src:C}))}}),this.activities=Ci(this.config.activities).concat(this.invoke).map(function(h){return B_(h)}),this.transition=this.transition.bind(this),this.tags=Ci(this.config.tags)}return t.prototype._init=function(){this.__cache.transitions||lk(this).forEach(function(e){return e.on})},t.prototype.withConfig=function(e,n){var r=this.options,s=r.actions,o=r.activities,u=r.guards,d=r.services,f=r.delays;return new t(this.config,{actions:ge(ge({},s),e.actions),activities:ge(ge({},o),e.activities),guards:ge(ge({},u),e.guards),services:ge(ge({},d),e.services),delays:ge(ge({},f),e.delays)},n??this.context)},t.prototype.withContext=function(e){return new t(this.config,this.options,e)},Object.defineProperty(t.prototype,"context",{get:function(){return mt(this._context)?this._context():this._context},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"definition",{get:function(){return{id:this.id,key:this.key,version:this.version,context:this.context,type:this.type,initial:this.initial,history:this.history,states:Fc(this.states,function(e){return e.definition}),on:this.on,transitions:this.transitions,entry:this.onEntry,exit:this.onExit,activities:this.activities||[],meta:this.meta,order:this.order||-1,data:this.doneData,invoke:this.invoke,description:this.description,tags:this.tags}},enumerable:!1,configurable:!0}),t.prototype.toJSON=function(){return this.definition},Object.defineProperty(t.prototype,"on",{get:function(){if(this.__cache.on)return this.__cache.on;var e=this.transitions;return this.__cache.on=e.reduce(function(n,r){return n[r.eventType]=n[r.eventType]||[],n[r.eventType].push(r),n},{})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"after",{get:function(){return this.__cache.delayedTransitions||(this.__cache.delayedTransitions=this.getDelayedTransitions(),this.__cache.delayedTransitions)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"transitions",{get:function(){return this.__cache.transitions||(this.__cache.transitions=this.formatTransitions(),this.__cache.transitions)},enumerable:!1,configurable:!0}),t.prototype.getCandidates=function(e){if(this.__cache.candidates[e])return this.__cache.candidates[e];var n=e===Fh,r=this.transitions.filter(function(s){var o=s.eventType===e;return n?o:o||s.eventType===Py});return this.__cache.candidates[e]=r,r},t.prototype.getDelayedTransitions=function(){var e=this,n=this.config.after;if(!n)return[];var r=function(o,u){var d=mt(o)?"".concat(e.id,":delay[").concat(u,"]"):o,f=r7(d,e.id);return e.onEntry.push(WB(f,{delay:o})),e.onExit.push(ZB(f)),f},s=Ru(n)?n.map(function(o,u){var d=r(o.delay,u);return ge(ge({},o),{event:d})}):$t(Object.keys(n).map(function(o,u){var d=n[o],f=gt(d)?{target:d}:d,h=isNaN(+o)?o:+o,g=r(h,u);return Ci(f).map(function(b){return ge(ge({},b),{event:g,delay:h})})}));return s.map(function(o){var u=o.delay;return ge(ge({},e.formatTransition(o)),{delay:u})})},t.prototype.getStateNodes=function(e){var n,r=this;if(!e)return[];var s=e instanceof hi?e.value:id(e,this.delimiter);if(gt(s)){var o=this.getStateNode(s).initial;return o!==void 0?this.getStateNodes((n={},n[s]=o,n)):[this,this.states[s]]}var u=Object.keys(s),d=[this];return d.push.apply(d,Ut([],ft($t(u.map(function(f){return r.getStateNode(f).getStateNodes(s[f])}))),!1)),d},t.prototype.handles=function(e){var n=JN(e);return this.events.includes(n)},t.prototype.resolveState=function(e){var n=e instanceof hi?e:hi.create(e),r=Array.from(qc([],this.getStateNodes(n.value)));return new hi(ge(ge({},n),{value:this.resolve(n.value),configuration:r,done:_m(r,this),tags:RA(r),machine:this.machine}))},t.prototype.transitionLeafNode=function(e,n,r){var s=this.getStateNode(e),o=s.next(n,r);return!o||!o.transitions.length?this.next(n,r):o},t.prototype.transitionCompoundNode=function(e,n,r){var s=Object.keys(e),o=this.getStateNode(s[0]),u=o._transition(e[s[0]],n,r);return!u||!u.transitions.length?this.next(n,r):u},t.prototype.transitionParallelNode=function(e,n,r){var s,o,u={};try{for(var d=at(Object.keys(e)),f=d.next();!f.done;f=d.next()){var h=f.value,g=e[h];if(g){var b=this.getStateNode(h),_=b._transition(g,n,r);_&&(u[h]=_)}}}catch(U){s={error:U}}finally{try{f&&!f.done&&(o=d.return)&&o.call(d)}finally{if(s)throw s.error}}var E=Object.keys(u).map(function(U){return u[U]}),C=$t(E.map(function(U){return U.transitions})),N=E.some(function(U){return U.transitions.length>0});if(!N)return this.next(n,r);var D=$t(Object.keys(u).map(function(U){return u[U].configuration}));return{transitions:C,exitSet:$t(E.map(function(U){return U.exitSet})),configuration:D,source:n,actions:$t(Object.keys(u).map(function(U){return u[U].actions}))}},t.prototype._transition=function(e,n,r){return gt(e)?this.transitionLeafNode(e,n,r):Object.keys(e).length===1?this.transitionCompoundNode(e,n,r):this.transitionParallelNode(e,n,r)},t.prototype.getTransitionData=function(e,n){return this._transition(e.value,e,Fn(n))},t.prototype.next=function(e,n){var r,s,o=this,u=n.name,d=[],f=[],h;try{for(var g=at(this.getCandidates(u)),b=g.next();!b.done;b=g.next()){var _=b.value,E=_.cond,C=_.in,N=e.context,D=C?gt(C)&&jl(C)?e.matches(id(this.getStateNodeById(C).path,this.delimiter)):z_(id(C,this.delimiter),VB(this.path.slice(0,-2))(e.value)):!0,U=!1;try{U=!E||rk(this.machine,E,N,n,e)}catch(G){throw new Error("Unable to evaluate guard '".concat(E.name||E.type,"' in transition for event '").concat(u,"' in state node '").concat(this.id,`':
`).concat(G.message))}if(U&&D){_.target!==void 0&&(f=_.target),d.push.apply(d,Ut([],ft(_.actions),!1)),h=_;break}}}catch(G){r={error:G}}finally{try{b&&!b.done&&(s=g.return)&&s.call(g)}finally{if(r)throw r.error}}if(h){if(!f.length)return{transitions:[h],exitSet:[],configuration:e.value?[this]:[],source:e,actions:d};var M=$t(f.map(function(G){return o.getRelativeStateNodes(G,e.historyValue)})),z=!!h.internal;return{transitions:[h],exitSet:z?[]:$t(f.map(function(G){return o.getPotentiallyReenteringNodes(G)})),configuration:M,source:e,actions:d}}},t.prototype.getPotentiallyReenteringNodes=function(e){if(this.order<e.order)return[this];for(var n=[],r=this,s=e;r&&r!==s;)n.push(r),r=r.parent;return r!==s?[]:(n.push(s),n)},t.prototype.getActions=function(e,n,r,s,o,u,d){var f,h,g,b,_=this,E=u?qc([],this.getStateNodes(u.value)):[],C=new Set;try{for(var N=at(Array.from(e).sort(function(V,O){return V.order-O.order})),D=N.next();!D.done;D=N.next()){var U=D.value;(!Gc(E,U)||Gc(r.exitSet,U)||U.parent&&C.has(U.parent))&&C.add(U)}}catch(V){f={error:V}}finally{try{D&&!D.done&&(h=N.return)&&h.call(N)}finally{if(f)throw f.error}}try{for(var M=at(E),z=M.next();!z.done;z=M.next()){var U=z.value;(!Gc(e,U)||Gc(r.exitSet,U.parent))&&r.exitSet.push(U)}}catch(V){g={error:V}}finally{try{z&&!z.done&&(b=M.return)&&b.call(M)}finally{if(g)throw g.error}}r.exitSet.sort(function(V,O){return O.order-V.order});var G=Array.from(C).sort(function(V,O){return V.order-O.order}),K=new Set(r.exitSet),H=$t(G.map(function(V){var O=[];if(V.type!=="final")return O;var j=V.parent;if(!j.parent)return O;O.push(zh(V.id,V.doneData),zh(j.id,V.doneData?tp(V.doneData,s,o):void 0));var ve=j.parent;return ve.type==="parallel"&&kd(ve).every(function(Ce){return _m(r.configuration,Ce)})&&O.push(zh(ve.id)),O})),A=G.map(function(V){var O=V.onEntry,j=V.activities.map(function(ve){return JB(ve)});return{type:"entry",actions:Ea(d?Ut(Ut([],ft(O),!1),ft(j),!1):Ut(Ut([],ft(j),!1),ft(O),!1),_.machine.options.actions)}}).concat({type:"state_done",actions:H.map(function(V){return KB(V)})}),S=Array.from(K).map(function(V){return{type:"exit",actions:Ea(Ut(Ut([],ft(V.onExit),!1),ft(V.activities.map(function(O){return e7(O)})),!1),_.machine.options.actions)}}),R=S.concat({type:"transition",actions:Ea(r.actions,this.machine.options.actions)}).concat(A);if(n){var L=Ea($t(Ut([],ft(e),!1).sort(function(V,O){return O.order-V.order}).map(function(V){return V.onExit})),this.machine.options.actions).filter(function(V){return!U0(V)});return R.concat({type:"stop",actions:L})}return R},t.prototype.transition=function(e,n,r,s){e===void 0&&(e=this.initialState);var o=Fn(n),u;if(e instanceof hi)u=r===void 0?e:this.resolveState(hi.from(e,r));else{var d=gt(e)?this.resolve(ep(this.getResolvedPath(e))):this.resolve(e),f=r??this.machine.context;u=this.resolveState(hi.from(d,f))}if(this.strict&&!this.events.includes(o.name)&&!UB(o.name))throw new Error("Machine '".concat(this.id,"' does not accept event '").concat(o.name,"'"));var h=this._transition(u.value,u,o)||{transitions:[],configuration:[],exitSet:[],source:u,actions:[]},g=qc([],this.getStateNodes(u.value)),b=h.configuration.length?qc(g,h.configuration):g;return h.configuration=Ut([],ft(b),!1),this.resolveTransition(h,u,u.context,s,o)},t.prototype.resolveRaisedTransition=function(e,n,r,s){var o,u=e.actions;return e=this.transition(e,n,void 0,s),e._event=r,e.event=r.data,(o=e.actions).unshift.apply(o,Ut([],ft(u),!1)),e},t.prototype.resolveTransition=function(e,n,r,s,o){var u,d,f,h,g=this;o===void 0&&(o=tu);var b=e.configuration,_=!n||e.transitions.length>0,E=_?e.configuration:n?n.configuration:[],C=_m(E,this),N=_?u7(this.machine,b):void 0,D=n?n.historyValue?n.historyValue:e.source?this.machine.historyValue(n.value):void 0:void 0,U=this.getActions(new Set(E),C,e,r,o,n,s),M=n?ge({},n.activities):{};try{for(var z=at(U),G=z.next();!G.done;G=z.next()){var K=G.value;try{for(var H=(f=void 0,at(K.actions)),A=H.next();!A.done;A=H.next()){var S=A.value;S.type===j0?M[S.activity.id||S.activity.type]=S:S.type===L_&&(M[S.activity.id||S.activity.type]=!1)}}catch(re){f={error:re}}finally{try{A&&!A.done&&(h=H.return)&&h.call(H)}finally{if(f)throw f.error}}}}catch(re){u={error:re}}finally{try{G&&!G.done&&(d=z.return)&&d.call(z)}finally{if(u)throw u.error}}var R=ft(np(this,n,r,o,U,s,this.machine.config.predictableActionArguments||this.machine.config.preserveActionOrder),2),L=R[0],V=R[1],O=ft(BB(L,U0),2),j=O[0],ve=O[1],Ce=L.filter(function(re){var me;return re.type===j0&&((me=re.activity)===null||me===void 0?void 0:me.type)===M0}),Q=Ce.reduce(function(re,me){return re[me.activity.id]=s7(me.activity,g.machine,V,o),re},n?ge({},n.children):{}),se=new hi({value:N||n.value,context:V,_event:o,_sessionid:n?n._sessionid:null,historyValue:N?D?FB(D,N):void 0:n?n.historyValue:void 0,history:!N||e.source?n:void 0,actions:N?ve:[],activities:N?M:n?n.activities:{},events:[],configuration:E,transitions:e.transitions,children:Q,done:C,tags:RA(E),machine:this}),de=r!==V;se.changed=o.name===XN||de;var xe=se.history;xe&&delete xe.history;var Ee=!C&&(this._transient||b.some(function(re){return re._transient}));if(!_&&(!Ee||o.name===Fh))return se;var B=se;if(!C)for(Ee&&(B=this.resolveRaisedTransition(B,{type:NB},o,s));j.length;){var Z=j.shift();B=this.resolveRaisedTransition(B,Z._event,o,s)}var ee=B.changed||(xe?!!B.actions.length||de||typeof xe.value!=typeof B.value||!ck(B.value,xe.value):void 0);return B.changed=ee,B.history=xe,B},t.prototype.getStateNode=function(e){if(jl(e))return this.machine.getStateNodeById(e);if(!this.states)throw new Error("Unable to retrieve child state '".concat(e,"' from '").concat(this.id,"'; no child states exist."));var n=this.states[e];if(!n)throw new Error("Child state '".concat(e,"' does not exist on '").concat(this.id,"'"));return n},t.prototype.getStateNodeById=function(e){var n=jl(e)?e.slice(F0.length):e;if(n===this.id)return this;var r=this.machine.idMap[n];if(!r)throw new Error("Child state node '#".concat(n,"' does not exist on machine '").concat(this.id,"'"));return r},t.prototype.getStateNodeByPath=function(e){if(typeof e=="string"&&jl(e))try{return this.getStateNodeById(e.slice(1))}catch{}for(var n=L0(e,this.delimiter).slice(),r=this;n.length;){var s=n.shift();if(!s.length)break;r=r.getStateNode(s)}return r},t.prototype.resolve=function(e){var n,r=this;if(!e)return this.initialStateValue||Pl;switch(this.type){case"parallel":return Fc(this.initialStateValue,function(o,u){return o?r.getStateNode(u).resolve(e[u]||o):Pl});case"compound":if(gt(e)){var s=this.getStateNode(e);return s.type==="parallel"||s.type==="compound"?(n={},n[e]=s.initialStateValue,n):e}return Object.keys(e).length?Fc(e,function(o,u){return o?r.getStateNode(u).resolve(o):Pl}):this.initialStateValue||{};default:return e||Pl}},t.prototype.getResolvedPath=function(e){if(jl(e)){var n=this.machine.idMap[e.slice(F0.length)];if(!n)throw new Error("Unable to find state node '".concat(e,"'"));return n.path}return L0(e,this.delimiter)},Object.defineProperty(t.prototype,"initialStateValue",{get:function(){var e;if(this.__cache.initialStateValue)return this.__cache.initialStateValue;var n;if(this.type==="parallel")n=SA(this.states,function(r){return r.initialStateValue||Pl},function(r){return r.type!=="history"});else if(this.initial!==void 0){if(!this.states[this.initial])throw new Error("Initial state '".concat(this.initial,"' not found on '").concat(this.key,"'"));n=rp(this.states[this.initial])?this.initial:(e={},e[this.initial]=this.states[this.initial].initialStateValue,e)}else n={};return this.__cache.initialStateValue=n,this.__cache.initialStateValue},enumerable:!1,configurable:!0}),t.prototype.getInitialState=function(e,n){this._init();var r=this.getStateNodes(e);return this.resolveTransition({configuration:r,exitSet:[],transitions:[],source:void 0,actions:[]},void 0,n??this.machine.context,void 0)},Object.defineProperty(t.prototype,"initialState",{get:function(){var e=this.initialStateValue;if(!e)throw new Error("Cannot retrieve initial state from simple state '".concat(this.id,"'."));return this.getInitialState(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"target",{get:function(){var e;if(this.type==="history"){var n=this.config;gt(n.target)?e=jl(n.target)?ep(this.machine.getStateNodeById(n.target).path.slice(this.path.length-1)):n.target:e=n.target}return e},enumerable:!1,configurable:!0}),t.prototype.getRelativeStateNodes=function(e,n,r){return r===void 0&&(r=!0),r?e.type==="history"?e.resolveHistory(n):e.initialStateNodes:[e]},Object.defineProperty(t.prototype,"initialStateNodes",{get:function(){var e=this;if(rp(this))return[this];if(this.type==="compound"&&!this.initial)return[this];var n=vm(this.initialStateValue);return $t(n.map(function(r){return e.getFromRelativePath(r)}))},enumerable:!1,configurable:!0}),t.prototype.getFromRelativePath=function(e){if(!e.length)return[this];var n=ft(e),r=n[0],s=n.slice(1);if(!this.states)throw new Error("Cannot retrieve subPath '".concat(r,"' from node with no states"));var o=this.getStateNode(r);if(o.type==="history")return o.resolveHistory();if(!this.states[r])throw new Error("Child state '".concat(r,"' does not exist on '").concat(this.id,"'"));return this.states[r].getFromRelativePath(s)},t.prototype.historyValue=function(e){if(Object.keys(this.states).length)return{current:e||this.initialStateValue,states:SA(this.states,function(n,r){if(!e)return n.historyValue();var s=gt(e)?void 0:e[r];return n.historyValue(s||n.initialStateValue)},function(n){return!n.history})}},t.prototype.resolveHistory=function(e){var n=this;if(this.type!=="history")return[this];var r=this.parent;if(!e){var s=this.target;return s?$t(vm(s).map(function(u){return r.getFromRelativePath(u)})):r.initialStateNodes}var o=LB(r.path,"states")(e).current;return gt(o)?[r.getStateNode(o)]:$t(vm(o).map(function(u){return n.history==="deep"?r.getFromRelativePath(u):[r.states[u[0]]]}))},Object.defineProperty(t.prototype,"stateIds",{get:function(){var e=this,n=$t(Object.keys(this.states).map(function(r){return e.states[r].stateIds}));return[this.id].concat(n)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"events",{get:function(){var e,n,r,s;if(this.__cache.events)return this.__cache.events;var o=this.states,u=new Set(this.ownEvents);if(o)try{for(var d=at(Object.keys(o)),f=d.next();!f.done;f=d.next()){var h=f.value,g=o[h];if(g.states)try{for(var b=(r=void 0,at(g.events)),_=b.next();!_.done;_=b.next()){var E=_.value;u.add("".concat(E))}}catch(C){r={error:C}}finally{try{_&&!_.done&&(s=b.return)&&s.call(b)}finally{if(r)throw r.error}}}}catch(C){e={error:C}}finally{try{f&&!f.done&&(n=d.return)&&n.call(d)}finally{if(e)throw e.error}}return this.__cache.events=Array.from(u)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ownEvents",{get:function(){var e=new Set(this.transitions.filter(function(n){return!(!n.target&&!n.actions.length&&n.internal)}).map(function(n){return n.eventType}));return Array.from(e)},enumerable:!1,configurable:!0}),t.prototype.resolveTarget=function(e){var n=this;if(e!==void 0)return e.map(function(r){if(!gt(r))return r;var s=r[0]===n.delimiter;if(s&&!n.parent)return n.getStateNodeByPath(r.slice(1));var o=s?n.key+r:r;if(n.parent)try{var u=n.parent.getStateNodeByPath(o);return u}catch(d){throw new Error("Invalid transition definition for state node '".concat(n.id,`':
`).concat(d.message))}else return n.getStateNodeByPath(o)})},t.prototype.formatTransition=function(e){var n=this,r=$B(e.target),s="internal"in e?e.internal:r?r.some(function(f){return gt(f)&&f[0]===n.delimiter}):!0,o=this.machine.options.guards,u=this.resolveTarget(r),d=ge(ge({},e),{actions:Ea(Ci(e.actions)),cond:nk(e.cond,o),target:u,source:this,internal:s,eventType:e.event,toJSON:function(){return ge(ge({},d),{target:d.target?d.target.map(function(f){return"#".concat(f.id)}):void 0,source:"#".concat(n.id)})}});return d},t.prototype.formatTransitions=function(){var e,n,r=this,s;if(!this.config.on)s=[];else if(Array.isArray(this.config.on))s=this.config.on;else{var o=this.config.on,u=Py,d=o[u],f=d===void 0?[]:d,h=V_(o,[typeof u=="symbol"?u:u+""]);s=$t(Object.keys(h).map(function(M){var z=Ol(M,h[M]);return z}).concat(Ol(Py,f)))}var g=this.config.always?Ol("",this.config.always):[],b=this.config.onDone?Ol(String(zh(this.id)),this.config.onDone):[],_=$t(this.invoke.map(function(M){var z=[];return M.onDone&&z.push.apply(z,Ut([],ft(Ol(String(bm(M.id)),M.onDone)),!1)),M.onError&&z.push.apply(z,Ut([],ft(Ol(String(Hc(M.id)),M.onError)),!1)),z})),E=this.after,C=$t(Ut(Ut(Ut(Ut([],ft(b),!1),ft(_),!1),ft(s),!1),ft(g),!1).map(function(M){return Ci(M).map(function(z){return r.formatTransition(z)})}));try{for(var N=at(E),D=N.next();!D.done;D=N.next()){var U=D.value;C.push(U)}}catch(M){e={error:M}}finally{try{D&&!D.done&&(n=N.return)&&n.call(N)}finally{if(e)throw e.error}}return C},t})();function T7(t,e,n){return n===void 0&&(n=t.context),new E7(t,e,n)}var S7=n7,H0;(function(t){t[t.Effect=1]="Effect",t[t.LayoutEffect=2]="LayoutEffect"})(H0||(H0={}));var sd=P.useLayoutEffect;function NA(t){var e=P.useRef();return e.current||(e.current={v:t()}),e.current.v}var A7=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),s,o=[],u;try{for(;(e===void 0||e-- >0)&&!(s=r.next()).done;)o.push(s.value)}catch(d){u={error:d}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(u)throw u.error}}return o},C7=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function R7(t,e){var n,r,s=A7([[],[]],2),o=s[0],u=s[1];try{for(var d=C7(t),f=d.next();!f.done;f=d.next()){var h=f.value;e(h)?o.push(h):u.push(h)}}catch(g){n={error:g}}finally{try{f&&!f.done&&(r=d.return)&&r.call(d)}finally{if(n)throw n.error}}return[o,u]}var Ic=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),s,o=[],u;try{for(;(e===void 0||e-- >0)&&!(s=r.next()).done;)o.push(s.value)}catch(d){u={error:d}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(u)throw u.error}}return o},kA=function(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,o;r<s;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))};function DA(t,e){var n=t.exec,r=n(e.context,e._event.data,{action:t,state:e,_event:e._event});r()}function I7(t){var e=P.useRef([]),n=P.useRef([]);sd(function(){var r=t.subscribe(function(s){var o,u;if(s.actions.length){var d=s.actions.filter(function(b){return typeof b.exec=="function"&&"__effect"in b.exec}),f=Ic(R7(d,function(b){return b.exec.__effect===H0.Effect}),2),h=f[0],g=f[1];(o=e.current).push.apply(o,kA([],Ic(h.map(function(b){return[b,s]})),!1)),(u=n.current).push.apply(u,kA([],Ic(g.map(function(b){return[b,s]})),!1))}});return function(){r.unsubscribe()}},[]),sd(function(){for(;n.current.length;){var r=Ic(n.current.shift(),2),s=r[0],o=r[1];DA(s,o)}}),P.useEffect(function(){for(;e.current.length;){var r=Ic(e.current.shift(),2),s=r[0],o=r[1];DA(s,o)}})}var ad=function(){return ad=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},ad.apply(this,arguments)},N7=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};function k7(t,e,n){if(typeof t=="object")return t;var r=function(){};return{next:t,error:e||r,complete:n||r}}function D7(t,e,n){e===void 0&&(e={});var r=NA(function(){return typeof t=="function"?t():t}),s=e.context,o=e.guards,u=e.actions,d=e.activities,f=e.services,h=e.delays,g=e.state,b=N7(e,["context","guards","actions","activities","services","delays","state"]),_=NA(function(){var E={context:s,guards:o,actions:u,activities:d,services:f,delays:h},C=r.withConfig(E,function(){return ad(ad({},r.context),s)});return dk(C,ad({deferEvents:!0},b))});return sd(function(){var E;return n&&(E=_.subscribe(k7(n))),function(){E==null||E.unsubscribe()}},[n]),sd(function(){return _.start(g?hi.create(g):void 0),function(){_.stop()}},[]),sd(function(){Object.assign(_.machine.options.actions,u),Object.assign(_.machine.options.guards,o),Object.assign(_.machine.options.activities,d),Object.assign(_.machine.options.services,f),Object.assign(_.machine.options.delays,h)},[u,o,d,f,h]),I7(_),_}var O7=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),s,o=[],u;try{for(;(e===void 0||e-- >0)&&!(s=r.next()).done;)o.push(s.value)}catch(d){u={error:d}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(u)throw u.error}}return o};function P7(t,e){e===void 0&&(e={});var n=P.useCallback(function(d){var f=d.changed===void 0&&Object.keys(d.children).length;(d.changed||f)&&u(d)},[]),r=D7(t,e,n),s=O7(P.useState(function(){var d=r.machine.initialState;return e.state?hi.create(e.state):d}),2),o=s[0],u=s[1];return[o,r.send,r]}function Jt(){return Jt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jt.apply(null,arguments)}function nu(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}const et={arr:Array.isArray,obj:t=>Object.prototype.toString.call(t)==="[object Object]",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",und:t=>t===void 0,nul:t=>t===null,set:t=>t instanceof Set,map:t=>t instanceof Map,equ(t,e){if(typeof t!=typeof e)return!1;if(et.str(t)||et.num(t))return t===e;if(et.obj(t)&&et.obj(e)&&Object.keys(t).length+Object.keys(e).length===0)return!0;let n;for(n in t)if(!(n in e))return!1;for(n in e)if(t[n]!==e[n])return!1;return et.und(n)?t===e:!0}};function j7(t,e){return n=>(et.arr(n)?n:Object.keys(n)).reduce((r,s)=>{const o=s;return r[o]=t(o),r},t)}function M7(){const t=P.useState(!1),e=t[1];return P.useCallback(()=>e(r=>!r),[])}function wo(t,e){return et.und(t)||et.nul(t)?e:t}function Hh(t){return et.und(t)?[]:et.arr(t)?t:[t]}function Yl(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return et.fun(t)?t(...n):t}function V7(t){return t.to,t.from,t.config,t.onStart,t.onRest,t.onFrame,t.children,t.reset,t.reverse,t.force,t.immediate,t.delay,t.attach,t.destroyed,t.interpolateTo,t.ref,t.lazy,nu(t,["to","from","config","onStart","onRest","onFrame","children","reset","reverse","force","immediate","delay","attach","destroyed","interpolateTo","ref","lazy"])}function jy(t){const e=V7(t);if(et.und(e))return Jt({to:e},t);const n=Object.keys(t).reduce((r,s)=>et.und(e[s])?Jt({},r,{[s]:t[s]}):r,{});return Jt({to:e},n)}function L7(t,e){return e&&(et.fun(e)?e(t):et.obj(e)&&(e.current=t)),t}class Ri{constructor(){this.payload=void 0,this.children=[]}getAnimatedValue(){return this.getValue()}getPayload(){return this.payload||this}attach(){}detach(){}getChildren(){return this.children}addChild(e){this.children.length===0&&this.attach(),this.children.push(e)}removeChild(e){const n=this.children.indexOf(e);this.children.splice(n,1),this.children.length===0&&this.detach()}}class q0 extends Ri{constructor(){super(...arguments),this.payload=[],this.attach=()=>this.payload.forEach(e=>e instanceof Ri&&e.addChild(this)),this.detach=()=>this.payload.forEach(e=>e instanceof Ri&&e.removeChild(this))}}class fk extends Ri{constructor(){super(...arguments),this.payload={},this.attach=()=>Object.values(this.payload).forEach(e=>e instanceof Ri&&e.addChild(this)),this.detach=()=>Object.values(this.payload).forEach(e=>e instanceof Ri&&e.removeChild(this))}getValue(e){e===void 0&&(e=!1);const n={};for(const r in this.payload){const s=this.payload[r];e&&!(s instanceof Ri)||(n[r]=s instanceof Ri?s[e?"getAnimatedValue":"getValue"]():s)}return n}getAnimatedValue(){return this.getValue(!0)}}let H_;function U7(t,e){H_={fn:t,transform:e}}let hk;function z7(t){hk=t}let mk=t=>typeof window<"u"?window.requestAnimationFrame(t):-1,ip;function B7(t){ip=t}let pk=()=>Date.now(),F7=t=>t.current,gk;function H7(t){gk=t}class q7 extends fk{constructor(e,n){super(),this.update=void 0,this.payload=e.style?Jt({},e,{style:gk(e.style)}):e,this.update=n,this.attach()}}const G7=t=>et.fun(t)&&!(t.prototype instanceof Sn.Component),$7=t=>P.forwardRef((n,r)=>{const s=M7(),o=P.useRef(!0),u=P.useRef(null),d=P.useRef(null),f=P.useCallback(_=>{const E=u.current,C=()=>{let N=!1;d.current&&(N=H_.fn(d.current,u.current.getAnimatedValue())),(!d.current||N===!1)&&s()};u.current=new q7(_,C),E&&E.detach()},[]);P.useEffect(()=>()=>{o.current=!1,u.current&&u.current.detach()},[]),P.useImperativeHandle(r,()=>F7(d)),f(n);const h=u.current.getValue();h.scrollTop,h.scrollLeft;const g=nu(h,["scrollTop","scrollLeft"]),b=G7(t)?void 0:_=>d.current=L7(_,r);return Sn.createElement(t,Jt({},g,{ref:b}))});let od=!1;const jo=new Set,vk=()=>{if(!od)return!1;let t=pk();for(let e of jo){let n=!1;for(let r=0;r<e.configs.length;r++){let s=e.configs[r],o,u;for(let d=0;d<s.animatedValues.length;d++){let f=s.animatedValues[d];if(f.done)continue;let h=s.fromValues[d],g=s.toValues[d],b=f.lastPosition,_=g instanceof Ri,E=Array.isArray(s.initialVelocity)?s.initialVelocity[d]:s.initialVelocity;if(_&&(g=g.getValue()),s.immediate){f.setValue(g),f.done=!0;continue}if(typeof h=="string"||typeof g=="string"){f.setValue(g),f.done=!0;continue}if(s.duration!==void 0)b=h+s.easing((t-f.startTime)/s.duration)*(g-h),o=t>=f.startTime+s.duration;else if(s.decay)b=h+E/(1-.998)*(1-Math.exp(-.0020000000000000018*(t-f.startTime))),o=Math.abs(f.lastPosition-b)<.1,o&&(g=b);else{u=f.lastTime!==void 0?f.lastTime:t,E=f.lastVelocity!==void 0?f.lastVelocity:s.initialVelocity,t>u+64&&(u=t);let C=Math.floor(t-u);for(let M=0;M<C;++M){let z=-s.tension*(b-g),G=-s.friction*E,K=(z+G)/s.mass;E=E+K*1/1e3,b=b+E*1/1e3}let N=s.clamp&&s.tension!==0?h<g?b>g:b<g:!1,D=Math.abs(E)<=s.precision,U=s.tension!==0?Math.abs(g-b)<=s.precision:!0;o=N||D&&U,f.lastVelocity=E,f.lastTime=t}_&&!s.toValues[d].done&&(o=!1),o?(f.value!==g&&(b=g),f.done=!0):n=!0,f.setValue(b),f.lastPosition=b}e.props.onFrame&&(e.values[s.name]=s.interpolation.getValue())}e.props.onFrame&&e.props.onFrame(e.values),n||(jo.delete(e),e.stop(!0))}return jo.size?mk(vk):od=!1,od},K7=t=>{jo.has(t)||jo.add(t),od||(od=!0,mk(vk))},Y7=t=>{jo.has(t)&&jo.delete(t)};function sp(t,e,n){if(typeof t=="function")return t;if(Array.isArray(t))return sp({range:t,output:e,extrapolate:n});if(ip&&typeof t.output[0]=="string")return ip(t);const r=t,s=r.output,o=r.range||[0,1],u=r.extrapolateLeft||r.extrapolate||"extend",d=r.extrapolateRight||r.extrapolate||"extend",f=r.easing||(h=>h);return h=>{const g=Q7(h,o);return W7(h,o[g],o[g+1],s[g],s[g+1],f,u,d,r.map)}}function W7(t,e,n,r,s,o,u,d,f){let h=f?f(t):t;if(h<e){if(u==="identity")return h;u==="clamp"&&(h=e)}if(h>n){if(d==="identity")return h;d==="clamp"&&(h=n)}return r===s?r:e===n?t<=e?r:s:(e===-1/0?h=-h:n===1/0?h=h-e:h=(h-e)/(n-e),h=o(h),r===-1/0?h=-h:s===1/0?h=h+r:h=h*(s-r)+r,h)}function Q7(t,e){for(var n=1;n<e.length-1&&!(e[n]>=t);++n);return n-1}class vu extends q0{constructor(e,n,r,s){super(),this.calc=void 0,this.payload=e instanceof q0&&!(e instanceof vu)?e.getPayload():Array.isArray(e)?e:[e],this.calc=sp(n,r,s)}getValue(){return this.calc(...this.payload.map(e=>e.getValue()))}updateConfig(e,n,r){this.calc=sp(e,n,r)}interpolate(e,n,r){return new vu(this,e,n,r)}}const Ml=(t,e,n)=>t&&new vu(t,e,n),X7={default:{tension:170,friction:26}};function yk(t,e){"update"in t?e.add(t):t.getChildren().forEach(n=>yk(n,e))}class G0 extends Ri{constructor(e){var n;super(),n=this,this.animatedStyles=new Set,this.value=void 0,this.startPosition=void 0,this.lastPosition=void 0,this.lastVelocity=void 0,this.startTime=void 0,this.lastTime=void 0,this.done=!1,this.setValue=function(r,s){s===void 0&&(s=!0),n.value=r,s&&n.flush()},this.value=e,this.startPosition=e,this.lastPosition=e}flush(){this.animatedStyles.size===0&&yk(this,this.animatedStyles),this.animatedStyles.forEach(e=>e.update())}clearStyles(){this.animatedStyles.clear()}getValue(){return this.value}interpolate(e,n,r){return new vu(this,e,n,r)}}class Z7 extends q0{constructor(e){super(),this.payload=e.map(n=>new G0(n))}setValue(e,n){n===void 0&&(n=!0),Array.isArray(e)?e.length===this.payload.length&&e.forEach((r,s)=>this.payload[s].setValue(r,n)):this.payload.forEach(r=>r.setValue(e,n))}getValue(){return this.payload.map(e=>e.getValue())}interpolate(e,n){return new vu(this,e,n)}}let J7=0,eF=class{constructor(){this.id=void 0,this.idle=!0,this.hasChanged=!1,this.guid=0,this.local=0,this.props={},this.merged={},this.animations={},this.interpolations={},this.values={},this.configs=[],this.listeners=[],this.queue=[],this.localQueue=void 0,this.getValues=()=>this.interpolations,this.id=J7++}update(e){if(!e)return this;const n=jy(e),r=n.delay,s=r===void 0?0:r,o=n.to,u=nu(n,["delay","to"]);if(et.arr(o)||et.fun(o))this.queue.push(Jt({},u,{delay:s,to:o}));else if(o){let d={};Object.entries(o).forEach(f=>{let h=f[0],g=f[1];const b=Jt({to:{[h]:g},delay:Yl(s,h)},u),_=d[b.delay]&&d[b.delay].to;d[b.delay]=Jt({},d[b.delay],b,{to:Jt({},_,b.to)})}),this.queue=Object.values(d)}return this.queue=this.queue.sort((d,f)=>d.delay-f.delay),this.diff(u),this}start(e){if(this.queue.length){this.idle=!1,this.localQueue&&this.localQueue.forEach(s=>{let o=s.from,u=o===void 0?{}:o,d=s.to,f=d===void 0?{}:d;et.obj(u)&&(this.merged=Jt({},u,this.merged)),et.obj(f)&&(this.merged=Jt({},this.merged,f))});const n=this.local=++this.guid,r=this.localQueue=this.queue;this.queue=[],r.forEach((s,o)=>{let u=s.delay,d=nu(s,["delay"]);const f=g=>{o===r.length-1&&n===this.guid&&g&&(this.idle=!0,this.props.onRest&&this.props.onRest(this.merged)),e&&e()};let h=et.arr(d.to)||et.fun(d.to);u?setTimeout(()=>{n===this.guid&&(h?this.runAsync(d,f):this.diff(d).start(f))},u):h?this.runAsync(d,f):this.diff(d).start(f)})}else et.fun(e)&&this.listeners.push(e),this.props.onStart&&this.props.onStart(),K7(this);return this}stop(e){return this.listeners.forEach(n=>n(e)),this.listeners=[],this}pause(e){return this.stop(!0),e&&Y7(this),this}runAsync(e,n){var r=this;e.delay;let s=nu(e,["delay"]);const o=this.local;let u=Promise.resolve(void 0);if(et.arr(s.to))for(let d=0;d<s.to.length;d++){const f=d,h=Jt({},s,jy(s.to[f]));et.arr(h.config)&&(h.config=h.config[f]),u=u.then(()=>{if(o===this.guid)return new Promise(g=>this.diff(h).start(g))})}else if(et.fun(s.to)){let d=0,f;u=u.then(()=>s.to(h=>{const g=Jt({},s,jy(h));if(et.arr(g.config)&&(g.config=g.config[d]),d++,o===this.guid)return f=new Promise(b=>this.diff(g).start(b))},function(h){return h===void 0&&(h=!0),r.stop(h)}).then(()=>f))}u.then(n)}diff(e){this.props=Jt({},this.props,e);let n=this.props,r=n.from,s=r===void 0?{}:r,o=n.to,u=o===void 0?{}:o,d=n.config,f=d===void 0?{}:d,h=n.reverse,g=n.attach,b=n.reset,_=n.immediate;if(h){var E=[u,s];s=E[0],u=E[1]}this.merged=Jt({},s,this.merged,u),this.hasChanged=!1;let C=g&&g(this);if(this.animations=Object.entries(this.merged).reduce((N,D)=>{let U=D[0],M=D[1],z=N[U]||{};const G=et.num(M),K=et.str(M)&&!M.startsWith("#")&&!/\d/.test(M)&&!hk[M],H=et.arr(M),A=!G&&!H&&!K;let S=et.und(s[U])?M:s[U],R=G||H||K?M:1,L=Yl(f,U);C&&(R=C.animations[U].parent);let V=z.parent,O=z.interpolation,j=Hh(C?R.getPayload():R),ve,Ce=M;A&&(Ce=ip({range:[0,1],output:[M,M]})(1));let Q=O&&O.getValue();const de=!et.und(V)&&z.animatedValues.some(Z=>!Z.done),xe=!et.equ(Ce,Q),Ee=!et.equ(Ce,z.previous),B=!et.equ(L,z.config);if(b||Ee&&xe||B){if(G||K)V=O=z.parent||new G0(S);else if(H)V=O=z.parent||new Z7(S);else if(A){let Z=z.interpolation&&z.interpolation.calc(z.parent.value);Z=Z!==void 0&&!b?Z:S,z.parent?(V=z.parent,V.setValue(0,!1)):V=new G0(0);const ee={output:[Z,M]};z.interpolation?(O=z.interpolation,z.interpolation.updateConfig(ee)):O=V.interpolate(ee)}return j=Hh(C?R.getPayload():R),ve=Hh(V.getPayload()),b&&!A&&V.setValue(S,!1),this.hasChanged=!0,ve.forEach(Z=>{Z.startPosition=Z.value,Z.lastPosition=Z.value,Z.lastVelocity=de?Z.lastVelocity:void 0,Z.lastTime=de?Z.lastTime:void 0,Z.startTime=pk(),Z.done=!1,Z.animatedStyles.clear()}),Yl(_,U)&&V.setValue(A?R:M,!1),Jt({},N,{[U]:Jt({},z,{name:U,parent:V,interpolation:O,animatedValues:ve,toValues:j,previous:Ce,config:L,fromValues:Hh(V.getValue()),immediate:Yl(_,U),initialVelocity:wo(L.velocity,0),clamp:wo(L.clamp,!1),precision:wo(L.precision,.01),tension:wo(L.tension,170),friction:wo(L.friction,26),mass:wo(L.mass,1),duration:L.duration,easing:wo(L.easing,Z=>Z),decay:L.decay})})}else return xe?N:(A&&(V.setValue(1,!1),O.updateConfig({output:[Ce,Ce]})),V.done=!0,this.hasChanged=!0,Jt({},N,{[U]:Jt({},N[U],{previous:Ce})}))},this.animations),this.hasChanged){this.configs=Object.values(this.animations),this.values={},this.interpolations={};for(let N in this.animations)this.interpolations[N]=this.animations[N].interpolation,this.values[N]=this.animations[N].interpolation.getValue()}return this}destroy(){this.stop(),this.props={},this.merged={},this.animations={},this.interpolations={},this.values={},this.configs=[],this.local=0}};const tF=(t,e)=>{const n=P.useRef(!1),r=P.useRef(),s=et.fun(e),o=P.useMemo(()=>{r.current&&(r.current.map(b=>b.destroy()),r.current=void 0);let g;return[new Array(t).fill().map((b,_)=>{const E=new eF,C=s?Yl(e,_,E):e[_];return _===0&&(g=C.ref),E.update(C),g||E.start(),E}),g]},[t]),u=o[0],d=o[1];r.current=u,P.useImperativeHandle(d,()=>({start:()=>Promise.all(r.current.map(g=>new Promise(b=>g.start(b)))),stop:g=>r.current.forEach(b=>b.stop(g)),get controllers(){return r.current}}));const f=P.useMemo(()=>g=>r.current.map((b,_)=>{b.update(s?Yl(g,_,b):g[_]),d||b.start()}),[t]);P.useEffect(()=>{n.current?s||f(e):d||r.current.forEach(g=>g.start())}),P.useEffect(()=>(n.current=!0,()=>r.current.forEach(g=>g.destroy())),[]);const h=r.current.map(g=>g.getValues());return s?[h,f,g=>r.current.forEach(b=>b.pause(g))]:h},nF=t=>{const e=et.fun(t),n=tF(1,e?t:[t]),r=n[0],s=n[1],o=n[2];return e?[r[0],s,o]:r};class rF extends fk{constructor(e){e===void 0&&(e={}),super(),e.transform&&!(e.transform instanceof Ri)&&(e=H_.transform(e)),this.payload=e}}const ap={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},ki="[-+]?\\d*\\.?\\d+",op=ki+"%";function Xp(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return"\\(\\s*("+e.join(")\\s*,\\s*(")+")\\s*\\)"}const iF=new RegExp("rgb"+Xp(ki,ki,ki)),sF=new RegExp("rgba"+Xp(ki,ki,ki,ki)),aF=new RegExp("hsl"+Xp(ki,op,op)),oF=new RegExp("hsla"+Xp(ki,op,op,ki)),lF=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,uF=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,cF=/^#([0-9a-fA-F]{6})$/,dF=/^#([0-9a-fA-F]{8})$/;function fF(t){let e;return typeof t=="number"?t>>>0===t&&t>=0&&t<=4294967295?t:null:(e=cF.exec(t))?parseInt(e[1]+"ff",16)>>>0:ap.hasOwnProperty(t)?ap[t]:(e=iF.exec(t))?(Vl(e[1])<<24|Vl(e[2])<<16|Vl(e[3])<<8|255)>>>0:(e=sF.exec(t))?(Vl(e[1])<<24|Vl(e[2])<<16|Vl(e[3])<<8|jA(e[4]))>>>0:(e=lF.exec(t))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+"ff",16)>>>0:(e=dF.exec(t))?parseInt(e[1],16)>>>0:(e=uF.exec(t))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+e[4]+e[4],16)>>>0:(e=aF.exec(t))?(OA(PA(e[1]),qh(e[2]),qh(e[3]))|255)>>>0:(e=oF.exec(t))?(OA(PA(e[1]),qh(e[2]),qh(e[3]))|jA(e[4]))>>>0:null}function My(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function OA(t,e,n){const r=n<.5?n*(1+e):n+e-n*e,s=2*n-r,o=My(s,r,t+1/3),u=My(s,r,t),d=My(s,r,t-1/3);return Math.round(o*255)<<24|Math.round(u*255)<<16|Math.round(d*255)<<8}function Vl(t){const e=parseInt(t,10);return e<0?0:e>255?255:e}function PA(t){return(parseFloat(t)%360+360)%360/360}function jA(t){const e=parseFloat(t);return e<0?0:e>1?255:Math.round(e*255)}function qh(t){const e=parseFloat(t);return e<0?0:e>100?1:e/100}function MA(t){let e=fF(t);if(e===null)return t;e=e||0;let n=(e&4278190080)>>>24,r=(e&16711680)>>>16,s=(e&65280)>>>8,o=(e&255)/255;return`rgba(${n}, ${r}, ${s}, ${o})`}const Gh=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,hF=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,mF=new RegExp(`(${Object.keys(ap).join("|")})`,"g"),pF=t=>{const e=t.output.map(s=>s.replace(hF,MA)).map(s=>s.replace(mF,MA)),n=e[0].match(Gh).map(()=>[]);e.forEach(s=>{s.match(Gh).forEach((o,u)=>n[u].push(+o))});const r=e[0].match(Gh).map((s,o)=>sp(Jt({},t,{output:n[o]})));return s=>{let o=0;return e[0].replace(Gh,()=>r[o++](s)).replace(/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,(u,d,f,h,g)=>`rgba(${Math.round(d)}, ${Math.round(f)}, ${Math.round(h)}, ${g})`)}};let ld={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0};const gF=(t,e)=>t+e.charAt(0).toUpperCase()+e.substring(1),vF=["Webkit","Ms","Moz","O"];ld=Object.keys(ld).reduce((t,e)=>(vF.forEach(n=>t[gF(n,e)]=t[e]),t),ld);function yF(t,e,n){return e==null||typeof e=="boolean"||e===""?"":!n&&typeof e=="number"&&e!==0&&!(ld.hasOwnProperty(t)&&ld[t])?e+"px":(""+e).trim()}const VA={};H7(t=>new rF(t));B7(pF);z7(ap);U7((t,e)=>{if(t.nodeType&&t.setAttribute!==void 0){const s=e.style,o=e.children,u=e.scrollTop,d=e.scrollLeft,f=nu(e,["style","children","scrollTop","scrollLeft"]),h=t.nodeName==="filter"||t.parentNode&&t.parentNode.nodeName==="filter";u!==void 0&&(t.scrollTop=u),d!==void 0&&(t.scrollLeft=d),o!==void 0&&(t.textContent=o);for(let g in s)if(s.hasOwnProperty(g)){var n=g.indexOf("--")===0,r=yF(g,s[g],n);g==="float"&&(g="cssFloat"),n?t.style.setProperty(g,r):t.style[g]=r}for(let g in f){const b=h?g:VA[g]||(VA[g]=g.replace(/([A-Z])/g,_=>"-"+_.toLowerCase()));typeof t.getAttribute(b)<"u"&&t.setAttribute(b,f[g])}return}else return!1},t=>t);const bF=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],_F=j7($7),wF=_F(bF);function LA(t,e){return t.map(function(n,r){return n+e[r]})}function bk(t,e){return t.map(function(n,r){return n-e[r]})}function $0(t){return Math.hypot.apply(Math,t)}function xF(t,e,n){var r=$0(e),s=r===0?0:1/r,o=n===0?0:1/n,u=o*r,d=e.map(function(g){return o*g}),f=e.map(function(g){return s*g}),h=$0(t);return{velocities:d,velocity:u,distance:h,direction:f}}function K0(t){return Math.sign?Math.sign(t):+(t>0)-+(t<0)||+t}function EF(t,e,n){return Math.max(e,Math.min(t,n))}function TF(t,e){return Math.pow(t,e*5)}function UA(t,e,n){return e===0||Math.abs(e)===1/0?TF(t,n):t*e*n/(e+n*t)}function ud(t,e,n,r){return r===void 0&&(r=.15),r===0?EF(t,e,n):t<e?-UA(e-t,n-e,r)+e:t>n?+UA(t-n,n-e,r)+n:t}function SF(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function AF(t,e,n){return e&&SF(t.prototype,e),t}function vr(){return vr=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vr.apply(this,arguments)}function _k(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function CF(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,o;for(o=0;o<r.length;o++)s=r[o],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function $h(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function RF(t,e){if(t){if(typeof t=="string")return zA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zA(t,e)}}function zA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Zp(t,e){var n;if(typeof Symbol>"u"||t[Symbol.iterator]==null){if(Array.isArray(t)||(n=RF(t))||e){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}return n=t[Symbol.iterator](),n.next.bind(n)}function wk(){}function xk(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.length===0?wk:e.length===1?e[0]:function(){for(var r,s=Zp(e),o;!(o=s()).done;){var u=o.value;r=u.apply(this,arguments)||r}return r}}function Ta(t,e){if(t===void 0){if(e===void 0)throw new Error("Must define fallback value if undefined is expected");t=e}return Array.isArray(t)?t:[t,t]}function Kh(t){if(typeof t=="function"){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return t.apply(void 0,n)}else return t}function q_(t,e){t===void 0&&(t={});for(var n={},r=0,s=Object.entries(e);r<s.length;r++){var o=s[r],u=o[0],d=o[1];switch(typeof d){case"function":n[u]=d.call(n,t[u],u,t);break;case"object":n[u]=q_(t[u],d);break;case"boolean":d&&(n[u]=t[u]);break}}return n}var IF=180,NF=.15,kF=.5,DF=60,OF={threshold:function(e){return e===void 0&&(e=0),Ta(e)},rubberband:function(e){switch(e===void 0&&(e=0),e){case!0:return Ta(NF);case!1:return Ta(0);default:return Ta(e)}},enabled:function(e){return e===void 0&&(e=!0),e},triggerAllEvents:function(e){return e===void 0&&(e=!1),e},initial:function(e){return e===void 0&&(e=0),typeof e=="function"?e:Ta(e)}},Ek=vr({},OF,{axis:!0,lockDirection:function(e){return e===void 0&&(e=!1),e},bounds:function(e){if(e===void 0&&(e={}),typeof e=="function")return function(b){return Ek.bounds(e(b))};var n=e,r=n.left,s=r===void 0?-1/0:r,o=n.right,u=o===void 0?1/0:o,d=n.top,f=d===void 0?-1/0:d,h=n.bottom,g=h===void 0?1/0:h;return[[s,u],[f,g]]}}),PF=typeof window<"u"&&window.document&&window.document.createElement,jF={enabled:function(e){return e===void 0&&(e=!0),e},domTarget:!0,window:(function(t){function e(n){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e})(function(t){return t===void 0&&(t=PF?window:void 0),t}),eventOptions:function(e){var n=e===void 0?{}:e,r=n.passive,s=r===void 0?!0:r,o=n.capture,u=o===void 0?!1:o;return{passive:s,capture:u}}},MF=vr({},Ek,{threshold:function(e,n,r){var s=r.filterTaps,o=s===void 0?!1:s,u=r.lockDirection,d=u===void 0?!1:u,f=r.axis,h=f===void 0?void 0:f,g=Ta(e,o?3:d||h?1:0);return this.filterTaps=o||g[0]+g[1]>0,g},swipeVelocity:function(e){return e===void 0&&(e=kF),Ta(e)},swipeDistance:function(e){return e===void 0&&(e=DF),Ta(e)},delay:function(e){switch(e===void 0&&(e=0),e){case!0:return IF;case!1:return 0;default:return e}}});function VF(t){return t===void 0&&(t={}),q_(t,jF)}function LF(t){return t===void 0&&(t={}),q_(t,MF)}function UF(t){var e=t.domTarget,n=t.eventOptions,r=t.window,s=t.enabled,o=CF(t,["domTarget","eventOptions","window","enabled"]),u=VF({domTarget:e,eventOptions:n,window:r,enabled:s});return u.drag=LF(o),u}function Nc(t){return vr({_active:!1,_blocked:!1,_intentional:[!1,!1],_movement:[0,0],_initial:[0,0],_bounds:[[-1/0,1/0],[-1/0,1/0]],_lastEventType:void 0,event:void 0,intentional:!1,values:[0,0],velocities:[0,0],delta:[0,0],movement:[0,0],offset:[0,0],lastOffset:[0,0],direction:[0,0],initial:[0,0],previous:[0,0],first:!1,last:!1,active:!1,timeStamp:0,startTime:0,elapsedTime:0,cancel:wk,canceled:!1,memo:void 0,args:void 0},t)}function Tk(){var t={hovering:!1,scrolling:!1,wheeling:!1,dragging:!1,moving:!1,pinching:!1,touches:0,buttons:0,down:!1,shiftKey:!1,altKey:!1,metaKey:!1,ctrlKey:!1},e=Nc({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0,_isTap:!0,_delayedEvent:!1,_pointerId:void 0,tap:!1,swipe:[0,0]}),n=Nc({da:[0,0],vdva:[0,0],origin:void 0,turns:0}),r=Nc({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0}),s=Nc({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0}),o=Nc({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0});return{shared:t,drag:e,pinch:n,wheel:r,move:s,scroll:o}}var Co=new Map,zF=(function(){function t(n,r){var s=this;r===void 0&&(r=[]),this.controller=n,this.args=r,this.debounced=!0,this.setTimeout=function(o,u){var d;u===void 0&&(u=140),clearTimeout(s.controller.timeouts[s.stateKey]);for(var f=arguments.length,h=new Array(f>2?f-2:0),g=2;g<f;g++)h[g-2]=arguments[g];s.controller.timeouts[s.stateKey]=(d=window).setTimeout.apply(d,[o,u].concat(h))},this.clearTimeout=function(){clearTimeout(s.controller.timeouts[s.stateKey])},this.fireGestureHandler=function(o){if(o===void 0&&(o=!1),s.state._blocked)return s.debounced||(s.state._active=!1,s.clean()),null;if(!o&&!s.state.intentional&&!s.config.triggerAllEvents)return null;if(s.state.intentional){var u=s.state.active,d=s.state._active;s.state.active=d,s.state.first=d&&!u,s.state.last=u&&!d,s.controller.state.shared[s.ingKey]=d}var f=vr({},s.controller.state.shared,s.state,s.mapStateValues(s.state)),h=s.handler(f);return s.state.memo=h!==void 0?h:s.state.memo,s.state._active||s.clean(),f}}var e=t.prototype;return e.updateSharedState=function(r){Object.assign(this.controller.state.shared,r)},e.updateGestureState=function(r){Object.assign(this.state,r)},e.checkIntentionality=function(r,s){return{_intentional:r,_blocked:!1}},e.getMovement=function(r){var s=this.config,o=s.initial,u=s.bounds,d=s.rubberband,f=s.threshold,h=this.state,g=h._bounds,b=h._initial,_=h._active,E=h._intentional,C=h.lastOffset,N=h.movement,D=this.getInternalMovement(r,this.state),U=E[0]===!1?BA(D[0],f[0]):E[0],M=E[1]===!1?BA(D[1],f[1]):E[1],z=this.checkIntentionality([U,M],D);if(z._blocked)return vr({},z,{_movement:D,delta:[0,0]});var G=z._intentional,K=D,H,A;if(G[0]!==!1&&E[0]===!1&&(A=Kh(o,this.state),H=Kh(u,this.state),b[0]=A[0],g[0]=H[0]),G[1]!==!1&&E[1]===!1){var S,R;A=(S=A)!=null?S:Kh(o,this.state),H=(R=H)!=null?R:Kh(u,this.state),b[1]=A[1],g[1]=H[1]}var L=[G[0]!==!1?D[0]-G[0]:b[0],G[1]!==!1?D[1]-G[1]:b[1]],V=LA(L,C),O=_?d:[0,0];return L=FA(g,LA(L,b),O),vr({},z,{intentional:G[0]!==!1||G[1]!==!1,_initial:b,_movement:K,movement:L,values:r,offset:FA(g,V,O),delta:bk(L,N)})},e.clean=function(){this.clearTimeout()},AF(t,[{key:"config",get:function(){return this.controller.config[this.stateKey]}},{key:"enabled",get:function(){return this.controller.config.enabled&&this.config.enabled}},{key:"state",get:function(){return this.controller.state[this.stateKey]}},{key:"handler",get:function(){return this.controller.handlers[this.stateKey]}}]),t})();function BA(t,e){return Math.abs(t)>=e?K0(t)*e:!1}function FA(t,e,n){var r=e[0],s=e[1],o=n[0],u=n[1],d=t[0],f=d[0],h=d[1],g=t[1],b=g[0],_=g[1];return[ud(r,f,h,o),ud(s,b,_,u)]}function Vy(t,e,n){var r=t.state,s=t.args,o=e.timeStamp,u=e.type,d=r.values,f=n?0:o-r.startTime;return{_lastEventType:u,event:e,timeStamp:o,elapsedTime:f,args:s,previous:d}}function BF(t,e,n){var r=t.state.offset,s=n.timeStamp;return vr({},Tk()[t.stateKey],{_active:!0,values:e,initial:e,offset:r,lastOffset:r,startTime:s})}function FF(t,e){return function(n){for(var r=arguments.length,s=new Array(r>1?r-1:0),o=1;o<r;o++)s[o-1]=arguments[o];return t.call.apply(t,[this,vr({},e,{event:n})].concat(s))}}var HF=function(e){var n=this;this.classes=e,this.bind=function(){for(var r={},s=arguments.length,o=new Array(s),u=0;u<s;u++)o[u]=arguments[u];for(var d=Zp(n.classes),f;!(f=d()).done;){var h=f.value;new h(n,o).addBindings(r)}for(var g=0,b=Object.entries(n.nativeRefs);g<b.length;g++){var _=b[g],E=_[0],C=_[1];Y0(r,E,FF(C,vr({},n.state.shared,{args:o})))}return n.config.domTarget?KF(n,r):YF(n,r)},this.effect=function(){return n.config.domTarget&&n.bind(),n.clean},this.clean=function(){var r=Ak(n.config),s=n.config.eventOptions;r&&tf(r,Sk(n.domListeners),s),Object.values(n.timeouts).forEach(clearTimeout),qF(n)},this.state=Tk(),this.timeouts={},this.domListeners=[],this.windowListeners={}};function qF(t){var e=t.config,n=e.window,r=e.eventOptions,s=t.windowListeners;if(n){for(var o in s){var u=s[o];tf(n,u,r)}t.windowListeners={}}}function GF(t,e){var n=t.config,r=t.windowListeners;n.window&&(tf(n.window,r[e],n.eventOptions),delete r[e])}function $F(t,e,n){var r=t.config,s=t.windowListeners;n===void 0&&(n=[]),r.window&&(tf(r.window,s[e],r.eventOptions),Ck(r.window,s[e]=n,r.eventOptions))}function KF(t,e){var n=t.config,r=t.domListeners,s=Ak(n);if(!s)throw new Error("domTarget must be defined");var o=n.eventOptions;tf(s,Sk(r),o);for(var u=0,d=Object.entries(e);u<d.length;u++){var f=d[u],h=f[0],g=f[1],b=h.slice(2).toLowerCase();r.push([b,xk.apply(void 0,g)])}Ck(s,r,o)}function YF(t,e){for(var n=t.config,r={},s=n.eventOptions.capture?"Capture":"",o=0,u=Object.entries(e);o<u.length;o++){var d=u[o],f=d[0],h=d[1],g=Array.isArray(h)?h:[h],b=f+s;r[b]=xk.apply(void 0,g)}return r}function Sk(t){return t===void 0&&(t=[]),t.splice(0,t.length)}function Ak(t){var e=t.domTarget;return e&&"current"in e?e.current:e}function Y0(t,e,n){t[e]||(t[e]=[]),t[e].push(n)}function Ck(t,e,n){e===void 0&&(e=[]),n===void 0&&(n={});for(var r=Zp(e),s;!(s=r()).done;){var o=s.value,u=o[0],d=o[1];t.addEventListener(u,d,n)}}function tf(t,e,n){e===void 0&&(e=[]),n===void 0&&(n={});for(var r=Zp(e),s;!(s=r()).done;){var o=s.value,u=o[0],d=o[1];t.removeEventListener(u,d,n)}}function WF(t,e,n){n===void 0&&(n={});var r=XF(t),s=Sn.useMemo(function(){return new HF(r)},[]);return s.config=e,s.handlers=t,s.nativeRefs=n,Sn.useEffect(s.effect,[]),s.config.domTarget?QF:s.bind}function QF(){}function XF(t){var e=new Set;return t.drag&&e.add(Co.get("drag")),t.wheel&&e.add(Co.get("wheel")),t.scroll&&e.add(Co.get("scroll")),t.move&&e.add(Co.get("move")),t.pinch&&e.add(Co.get("pinch")),t.hover&&e.add(Co.get("hover")),e}var ZF=(function(t){_k(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.getInternalMovement=function(s,o){return bk(s,o.initial)},n.checkIntentionality=function(s,o){if(s[0]===!1&&s[1]===!1)return{_intentional:s,axis:this.state.axis};var u=o.map(Math.abs),d=u[0],f=u[1],h=this.state.axis||(d>f?"x":d<f?"y":void 0);return!this.config.axis&&!this.config.lockDirection?{_intentional:s,_blocked:!1,axis:h}:h?this.config.axis&&h!==this.config.axis?{_intentional:s,_blocked:!0,axis:h}:(s[h==="x"?1:0]=!1,{_intentional:s,_blocked:!1,axis:h}):{_intentional:[!1,!1],_blocked:!1,axis:h}},n.getKinematics=function(s,o){var u=this.getMovement(s);if(!u._blocked){var d=o.timeStamp-this.state.timeStamp;Object.assign(u,xF(u.movement,u.delta,d))}return u},n.mapStateValues=function(s){return{xy:s.values,vxvy:s.velocities}},e})(zF);function Rk(t){if("touches"in t){var e=t.targetTouches,n=t.changedTouches;return e.length>0?e:n}return null}function HA(t){var e="buttons"in t?t.buttons:0,n=Rk(t),r=n&&n.length||0,s=r>0||e>0,o=t.shiftKey,u=t.altKey,d=t.metaKey,f=t.ctrlKey;return{touches:r,down:s,buttons:e,shiftKey:o,altKey:u,metaKey:d,ctrlKey:f}}function qA(t){var e=Rk(t),n=e?e[0]:t,r=n.clientX,s=n.clientY;return[r,s]}var JF=3,eH=220,tH=(function(t){_k(e,t);function e(){var r;return r=t.apply(this,arguments)||this,r.ingKey="dragging",r.stateKey="drag",r.onDragStart=function(s){!r.enabled||r.state._active||($F(r.controller,r.stateKey,[["pointermove",r.onDragChange],["pointerup",r.onDragEnd],["pointercancel",r.onDragEnd]]),r.updateGestureState({_pointerId:s.pointerId}),r.config.delay>0?(r.state._delayedEvent=!0,"persist"in s&&typeof s.persist=="function"&&s.persist(),r.setTimeout(r.startDrag.bind($h(r)),r.config.delay,s)):r.startDrag(s))},r.onDragChange=function(s){if(!r.state.canceled&&s.pointerId===r.state._pointerId){if(!r.state._active){r.state._delayedEvent&&(r.clearTimeout(),r.startDrag(s));return}var o=HA(s);if(!o.down){r.onDragEnd(s);return}r.updateSharedState(o);var u=qA(s),d=r.getKinematics(u,s),f=Vy($h(r),s),h=r.state._isTap,g=$0(d._movement);h&&g>=JF&&(h=!1),r.updateGestureState(vr({},f,d,{_isTap:h})),r.fireGestureHandler()}},r.onDragEnd=function(s){if(s.pointerId===r.state._pointerId){r.state._active=!1,r.updateSharedState({down:!1,buttons:0,touches:0});var o=r.state._isTap,u=r.state.velocities,d=u[0],f=u[1],h=r.state.movement,g=h[0],b=h[1],_=r.state._intentional,E=_[0],C=_[1],N=r.config.swipeVelocity,D=N[0],U=N[1],M=r.config.swipeDistance,z=M[0],G=M[1],K=vr({},Vy($h(r),s),r.getMovement(r.state.values)),H=[0,0];K.elapsedTime<eH&&(E!==!1&&Math.abs(d)>D&&Math.abs(g)>z&&(H[0]=K0(d)),C!==!1&&Math.abs(f)>U&&Math.abs(b)>G&&(H[1]=K0(f))),r.updateGestureState(vr({},K,{tap:o,swipe:H})),r.fireGestureHandler(o===!0)}},r.clean=function(){t.prototype.clean.call($h(r)),r.state._delayedEvent=!1,GF(r.controller,r.stateKey)},r.onCancel=function(){r.state.canceled||(r.updateGestureState({canceled:!0}),r.state._active=!1,r.updateSharedState({down:!1,buttons:0,touches:0}),requestAnimationFrame(function(){return r.fireGestureHandler()}))},r.onClick=function(s){r.state._isTap||s.stopPropagation()},r}var n=e.prototype;return n.startDrag=function(s){var o=qA(s);this.updateSharedState(HA(s)),this.updateGestureState(vr({},BF(this,o,s),Vy(this,s,!0),{_pointerId:s.pointerId,cancel:this.onCancel})),this.updateGestureState(this.getMovement(o)),this.fireGestureHandler()},n.addBindings=function(s){if(Y0(s,"onPointerDown",this.onDragStart),this.config.filterTaps){var o=this.controller.config.eventOptions.capture?"onClick":"onClickCapture";Y0(s,o,this.onClick)}},e})(ZF);function nH(t,e){var n,r=[],s,o=!1;function u(){for(var d=arguments.length,f=new Array(d),h=0;h<d;h++)f[h]=arguments[h];return o&&n===this&&e(f,r)||(s=t.apply(this,f),o=!0,n=this,r=f),s}return u}function wm(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var n,r,s;if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!wm(t[r],e[r]))return!1;return!0}var o;if(typeof Map=="function"&&t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(o=t.entries();!(r=o.next()).done;)if(!e.has(r.value[0]))return!1;for(o=t.entries();!(r=o.next()).done;)if(!wm(r.value[1],e.get(r.value[0])))return!1;return!0}if(typeof Set=="function"&&t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(o=t.entries();!(r=o.next()).done;)if(!e.has(r.value[0]))return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,s[r]))return!1;if(typeof Element<"u"&&t instanceof Element)return!1;for(r=n;r--!==0;)if(!(s[r]==="_owner"&&t.$$typeof)&&!wm(t[s[r]],e[s[r]]))return!1;return!0}return t!==t&&e!==e}function rH(t,e){try{return wm(t,e)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}}function iH(t,e){e===void 0&&(e={}),Co.set("drag",tH);var n=P.useRef();return n.current||(n.current=nH(UF,rH)),WF({drag:t},n.current(e))}/*!
* tabbable 5.3.3
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var Ik=["input","select","textarea","a[href]","button","[tabindex]:not(slot)","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])',"details>summary:first-of-type","details"],lp=Ik.join(","),Nk=typeof Element>"u",Go=Nk?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,W0=!Nk&&Element.prototype.getRootNode?function(t){return t.getRootNode()}:function(t){return t.ownerDocument},kk=function(e,n,r){var s=Array.prototype.slice.apply(e.querySelectorAll(lp));return n&&Go.call(e,lp)&&s.unshift(e),s=s.filter(r),s},Dk=function t(e,n,r){for(var s=[],o=Array.from(e);o.length;){var u=o.shift();if(u.tagName==="SLOT"){var d=u.assignedElements(),f=d.length?d:u.children,h=t(f,!0,r);r.flatten?s.push.apply(s,h):s.push({scope:u,candidates:h})}else{var g=Go.call(u,lp);g&&r.filter(u)&&(n||!e.includes(u))&&s.push(u);var b=u.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(u),_=!r.shadowRootFilter||r.shadowRootFilter(u);if(b&&_){var E=t(b===!0?u.children:b.children,!0,r);r.flatten?s.push.apply(s,E):s.push({scope:u,candidates:E})}else o.unshift.apply(o,u.children)}}return s},Ok=function(e,n){return e.tabIndex<0&&(n||/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||e.isContentEditable)&&isNaN(parseInt(e.getAttribute("tabindex"),10))?0:e.tabIndex},sH=function(e,n){return e.tabIndex===n.tabIndex?e.documentOrder-n.documentOrder:e.tabIndex-n.tabIndex},Pk=function(e){return e.tagName==="INPUT"},aH=function(e){return Pk(e)&&e.type==="hidden"},oH=function(e){var n=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(r){return r.tagName==="SUMMARY"});return n},lH=function(e,n){for(var r=0;r<e.length;r++)if(e[r].checked&&e[r].form===n)return e[r]},uH=function(e){if(!e.name)return!0;var n=e.form||W0(e),r=function(d){return n.querySelectorAll('input[type="radio"][name="'+d+'"]')},s;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")s=r(window.CSS.escape(e.name));else try{s=r(e.name)}catch(u){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",u.message),!1}var o=lH(s,e.form);return!o||o===e},cH=function(e){return Pk(e)&&e.type==="radio"},dH=function(e){return cH(e)&&!uH(e)},GA=function(e){var n=e.getBoundingClientRect(),r=n.width,s=n.height;return r===0&&s===0},fH=function(e,n){var r=n.displayCheck,s=n.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var o=Go.call(e,"details>summary:first-of-type"),u=o?e.parentElement:e;if(Go.call(u,"details:not([open]) *"))return!0;var d=W0(e).host,f=(d==null?void 0:d.ownerDocument.contains(d))||e.ownerDocument.contains(e);if(!r||r==="full"){if(typeof s=="function"){for(var h=e;e;){var g=e.parentElement,b=W0(e);if(g&&!g.shadowRoot&&s(g)===!0)return GA(e);e.assignedSlot?e=e.assignedSlot:!g&&b!==e.ownerDocument?e=b.host:e=g}e=h}if(f)return!e.getClientRects().length}else if(r==="non-zero-area")return GA(e);return!1},hH=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var n=e.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var r=0;r<n.children.length;r++){var s=n.children.item(r);if(s.tagName==="LEGEND")return Go.call(n,"fieldset[disabled] *")?!0:!s.contains(e)}return!0}n=n.parentElement}return!1},up=function(e,n){return!(n.disabled||aH(n)||fH(n,e)||oH(n)||hH(n))},Q0=function(e,n){return!(dH(n)||Ok(n)<0||!up(e,n))},mH=function(e){var n=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},pH=function t(e){var n=[],r=[];return e.forEach(function(s,o){var u=!!s.scope,d=u?s.scope:s,f=Ok(d,u),h=u?t(s.candidates):d;f===0?u?n.push.apply(n,h):n.push(d):r.push({documentOrder:o,tabIndex:f,item:s,isScope:u,content:h})}),r.sort(sH).reduce(function(s,o){return o.isScope?s.push.apply(s,o.content):s.push(o.content),s},[]).concat(n)},gH=function(e,n){n=n||{};var r;return n.getShadowRoot?r=Dk([e],n.includeContainer,{filter:Q0.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:mH}):r=kk(e,n.includeContainer,Q0.bind(null,n)),pH(r)},vH=function(e,n){n=n||{};var r;return n.getShadowRoot?r=Dk([e],n.includeContainer,{filter:up.bind(null,n),flatten:!0,getShadowRoot:n.getShadowRoot}):r=kk(e,n.includeContainer,up.bind(null,n)),r},Yh=function(e,n){if(n=n||{},!e)throw new Error("No node provided");return Go.call(e,lp)===!1?!1:Q0(n,e)},yH=Ik.concat("iframe").join(","),Ly=function(e,n){if(n=n||{},!e)throw new Error("No node provided");return Go.call(e,yH)===!1?!1:up(n,e)};/*!
* focus-trap 6.9.4
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function $A(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function KA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$A(Object(n),!0).forEach(function(r){bH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$A(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bH(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var YA=(function(){var t=[];return{activateTrap:function(n){if(t.length>0){var r=t[t.length-1];r!==n&&r.pause()}var s=t.indexOf(n);s===-1||t.splice(s,1),t.push(n)},deactivateTrap:function(n){var r=t.indexOf(n);r!==-1&&t.splice(r,1),t.length>0&&t[t.length-1].unpause()}}})(),_H=function(e){return e.tagName&&e.tagName.toLowerCase()==="input"&&typeof e.select=="function"},wH=function(e){return e.key==="Escape"||e.key==="Esc"||e.keyCode===27},xH=function(e){return e.key==="Tab"||e.keyCode===9},WA=function(e){return setTimeout(e,0)},QA=function(e,n){var r=-1;return e.every(function(s,o){return n(s)?(r=o,!1):!0}),r},kc=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return typeof e=="function"?e.apply(void 0,r):e},Wh=function(e){return e.target.shadowRoot&&typeof e.composedPath=="function"?e.composedPath()[0]:e.target},EH=function(e,n){var r=(n==null?void 0:n.document)||document,s=KA({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0},n),o={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0},u,d=function(H,A,S){return H&&H[A]!==void 0?H[A]:s[S||A]},f=function(H){return o.containerGroups.findIndex(function(A){var S=A.container,R=A.tabbableNodes;return S.contains(H)||R.find(function(L){return L===H})})},h=function(H){var A=s[H];if(typeof A=="function"){for(var S=arguments.length,R=new Array(S>1?S-1:0),L=1;L<S;L++)R[L-1]=arguments[L];A=A.apply(void 0,R)}if(A===!0&&(A=void 0),!A){if(A===void 0||A===!1)return A;throw new Error("`".concat(H,"` was specified but was not a node, or did not return a node"))}var V=A;if(typeof A=="string"&&(V=r.querySelector(A),!V))throw new Error("`".concat(H,"` as selector refers to no known node"));return V},g=function(){var H=h("initialFocus");if(H===!1)return!1;if(H===void 0)if(f(r.activeElement)>=0)H=r.activeElement;else{var A=o.tabbableGroups[0],S=A&&A.firstTabbableNode;H=S||h("fallbackFocus")}if(!H)throw new Error("Your focus-trap needs to have at least one focusable element");return H},b=function(){if(o.containerGroups=o.containers.map(function(H){var A=gH(H,s.tabbableOptions),S=vH(H,s.tabbableOptions);return{container:H,tabbableNodes:A,focusableNodes:S,firstTabbableNode:A.length>0?A[0]:null,lastTabbableNode:A.length>0?A[A.length-1]:null,nextTabbableNode:function(L){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,O=S.findIndex(function(j){return j===L});if(!(O<0))return V?S.slice(O+1).find(function(j){return Yh(j,s.tabbableOptions)}):S.slice(0,O).reverse().find(function(j){return Yh(j,s.tabbableOptions)})}}}),o.tabbableGroups=o.containerGroups.filter(function(H){return H.tabbableNodes.length>0}),o.tabbableGroups.length<=0&&!h("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times")},_=function K(H){if(H!==!1&&H!==r.activeElement){if(!H||!H.focus){K(g());return}H.focus({preventScroll:!!s.preventScroll}),o.mostRecentlyFocusedNode=H,_H(H)&&H.select()}},E=function(H){var A=h("setReturnFocus",H);return A||(A===!1?!1:H)},C=function(H){var A=Wh(H);if(!(f(A)>=0)){if(kc(s.clickOutsideDeactivates,H)){u.deactivate({returnFocus:s.returnFocusOnDeactivate&&!Ly(A,s.tabbableOptions)});return}kc(s.allowOutsideClick,H)||H.preventDefault()}},N=function(H){var A=Wh(H),S=f(A)>=0;S||A instanceof Document?S&&(o.mostRecentlyFocusedNode=A):(H.stopImmediatePropagation(),_(o.mostRecentlyFocusedNode||g()))},D=function(H){var A=Wh(H);b();var S=null;if(o.tabbableGroups.length>0){var R=f(A),L=R>=0?o.containerGroups[R]:void 0;if(R<0)H.shiftKey?S=o.tabbableGroups[o.tabbableGroups.length-1].lastTabbableNode:S=o.tabbableGroups[0].firstTabbableNode;else if(H.shiftKey){var V=QA(o.tabbableGroups,function(se){var de=se.firstTabbableNode;return A===de});if(V<0&&(L.container===A||Ly(A,s.tabbableOptions)&&!Yh(A,s.tabbableOptions)&&!L.nextTabbableNode(A,!1))&&(V=R),V>=0){var O=V===0?o.tabbableGroups.length-1:V-1,j=o.tabbableGroups[O];S=j.lastTabbableNode}}else{var ve=QA(o.tabbableGroups,function(se){var de=se.lastTabbableNode;return A===de});if(ve<0&&(L.container===A||Ly(A,s.tabbableOptions)&&!Yh(A,s.tabbableOptions)&&!L.nextTabbableNode(A))&&(ve=R),ve>=0){var Ce=ve===o.tabbableGroups.length-1?0:ve+1,Q=o.tabbableGroups[Ce];S=Q.firstTabbableNode}}}else S=h("fallbackFocus");S&&(H.preventDefault(),_(S))},U=function(H){if(wH(H)&&kc(s.escapeDeactivates,H)!==!1){H.preventDefault(),u.deactivate();return}if(xH(H)){D(H);return}},M=function(H){var A=Wh(H);f(A)>=0||kc(s.clickOutsideDeactivates,H)||kc(s.allowOutsideClick,H)||(H.preventDefault(),H.stopImmediatePropagation())},z=function(){if(o.active)return YA.activateTrap(u),o.delayInitialFocusTimer=s.delayInitialFocus?WA(function(){_(g())}):_(g()),r.addEventListener("focusin",N,!0),r.addEventListener("mousedown",C,{capture:!0,passive:!1}),r.addEventListener("touchstart",C,{capture:!0,passive:!1}),r.addEventListener("click",M,{capture:!0,passive:!1}),r.addEventListener("keydown",U,{capture:!0,passive:!1}),u},G=function(){if(o.active)return r.removeEventListener("focusin",N,!0),r.removeEventListener("mousedown",C,!0),r.removeEventListener("touchstart",C,!0),r.removeEventListener("click",M,!0),r.removeEventListener("keydown",U,!0),u};return u={get active(){return o.active},get paused(){return o.paused},activate:function(H){if(o.active)return this;var A=d(H,"onActivate"),S=d(H,"onPostActivate"),R=d(H,"checkCanFocusTrap");R||b(),o.active=!0,o.paused=!1,o.nodeFocusedBeforeActivation=r.activeElement,A&&A();var L=function(){R&&b(),z(),S&&S()};return R?(R(o.containers.concat()).then(L,L),this):(L(),this)},deactivate:function(H){if(!o.active)return this;var A=KA({onDeactivate:s.onDeactivate,onPostDeactivate:s.onPostDeactivate,checkCanReturnFocus:s.checkCanReturnFocus},H);clearTimeout(o.delayInitialFocusTimer),o.delayInitialFocusTimer=void 0,G(),o.active=!1,o.paused=!1,YA.deactivateTrap(u);var S=d(A,"onDeactivate"),R=d(A,"onPostDeactivate"),L=d(A,"checkCanReturnFocus"),V=d(A,"returnFocus","returnFocusOnDeactivate");S&&S();var O=function(){WA(function(){V&&_(E(o.nodeFocusedBeforeActivation)),R&&R()})};return V&&L?(L(E(o.nodeFocusedBeforeActivation)).then(O,O),this):(O(),this)},pause:function(){return o.paused||!o.active?this:(o.paused=!0,G(),this)},unpause:function(){return!o.paused||!o.active?this:(o.paused=!1,b(),z(),this)},updateContainerElements:function(H){var A=[].concat(H).filter(Boolean);return o.containers=A.map(function(S){return typeof S=="string"?r.querySelector(S):S}),o.active&&b(),this}},u.updateContainerElements(e),u};function TH(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}else return Array.from(t)}var G_=!1;if(typeof window<"u"){var XA={get passive(){G_=!0}};window.addEventListener("testPassive",null,XA),window.removeEventListener("testPassive",null,XA)}var jk=typeof window<"u"&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||window.navigator.platform==="MacIntel"&&window.navigator.maxTouchPoints>1),Aa=[],cp=!1,Mk=-1,cd=void 0,dd=void 0,Vk=function(e){return Aa.some(function(n){return!!(n.options.allowTouchMove&&n.options.allowTouchMove(e))})},dp=function(e){var n=e||window.event;return Vk(n.target)||n.touches.length>1?!0:(n.preventDefault&&n.preventDefault(),!1)},SH=function(e){if(dd===void 0){var n=!!e&&e.reserveScrollBarGap===!0,r=window.innerWidth-document.documentElement.clientWidth;n&&r>0&&(dd=document.body.style.paddingRight,document.body.style.paddingRight=r+"px")}cd===void 0&&(cd=document.body.style.overflow,document.body.style.overflow="hidden")},AH=function(){dd!==void 0&&(document.body.style.paddingRight=dd,dd=void 0),cd!==void 0&&(document.body.style.overflow=cd,cd=void 0)},CH=function(e){return e?e.scrollHeight-e.scrollTop<=e.clientHeight:!1},RH=function(e,n){var r=e.targetTouches[0].clientY-Mk;return Vk(e.target)?!1:n&&n.scrollTop===0&&r>0||CH(n)&&r<0?dp(e):(e.stopPropagation(),!0)},IH=function(e,n){if(!e){console.error("disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.");return}if(!Aa.some(function(s){return s.targetElement===e})){var r={targetElement:e,options:n||{}};Aa=[].concat(TH(Aa),[r]),jk?(e.ontouchstart=function(s){s.targetTouches.length===1&&(Mk=s.targetTouches[0].clientY)},e.ontouchmove=function(s){s.targetTouches.length===1&&RH(s,e)},cp||(document.addEventListener("touchmove",dp,G_?{passive:!1}:void 0),cp=!0)):SH(n)}},NH=function(e){if(!e){console.error("enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices.");return}Aa=Aa.filter(function(n){return n.targetElement!==e}),jk?(e.ontouchstart=null,e.ontouchmove=null,cp&&Aa.length===0&&(document.removeEventListener("touchmove",dp,G_?{passive:!1}:void 0),cp=!1)):Aa.length||AH()},Mo=[],kH=function(){return Mo.some(function(t){return t.activeTargets.length>0})},DH=function(){return Mo.some(function(t){return t.skippedTargets.length>0})},ZA="ResizeObserver loop completed with undelivered notifications.",OH=function(){var t;typeof ErrorEvent=="function"?t=new ErrorEvent("error",{message:ZA}):(t=document.createEvent("Event"),t.initEvent("error",!1,!1),t.message=ZA),window.dispatchEvent(t)},Dd;(function(t){t.BORDER_BOX="border-box",t.CONTENT_BOX="content-box",t.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"})(Dd||(Dd={}));var Vo=function(t){return Object.freeze(t)},PH=(function(){function t(e,n){this.inlineSize=e,this.blockSize=n,Vo(this)}return t})(),Lk=(function(){function t(e,n,r,s){return this.x=e,this.y=n,this.width=r,this.height=s,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,Vo(this)}return t.prototype.toJSON=function(){var e=this,n=e.x,r=e.y,s=e.top,o=e.right,u=e.bottom,d=e.left,f=e.width,h=e.height;return{x:n,y:r,top:s,right:o,bottom:u,left:d,width:f,height:h}},t.fromRect=function(e){return new t(e.x,e.y,e.width,e.height)},t})(),$_=function(t){return t instanceof SVGElement&&"getBBox"in t},Uk=function(t){if($_(t)){var e=t.getBBox(),n=e.width,r=e.height;return!n&&!r}var s=t,o=s.offsetWidth,u=s.offsetHeight;return!(o||u||t.getClientRects().length)},JA=function(t){var e;if(t instanceof Element)return!0;var n=(e=t==null?void 0:t.ownerDocument)===null||e===void 0?void 0:e.defaultView;return!!(n&&t instanceof n.Element)},jH=function(t){switch(t.tagName){case"INPUT":if(t.type!=="image")break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1},fd=typeof window<"u"?window:{},Qh=new WeakMap,e2=/auto|scroll/,MH=/^tb|vertical/,VH=/msie|trident/i.test(fd.navigator&&fd.navigator.userAgent),Gi=function(t){return parseFloat(t||"0")},ru=function(t,e,n){return t===void 0&&(t=0),e===void 0&&(e=0),n===void 0&&(n=!1),new PH((n?e:t)||0,(n?t:e)||0)},t2=Vo({devicePixelContentBoxSize:ru(),borderBoxSize:ru(),contentBoxSize:ru(),contentRect:new Lk(0,0,0,0)}),zk=function(t,e){if(e===void 0&&(e=!1),Qh.has(t)&&!e)return Qh.get(t);if(Uk(t))return Qh.set(t,t2),t2;var n=getComputedStyle(t),r=$_(t)&&t.ownerSVGElement&&t.getBBox(),s=!VH&&n.boxSizing==="border-box",o=MH.test(n.writingMode||""),u=!r&&e2.test(n.overflowY||""),d=!r&&e2.test(n.overflowX||""),f=r?0:Gi(n.paddingTop),h=r?0:Gi(n.paddingRight),g=r?0:Gi(n.paddingBottom),b=r?0:Gi(n.paddingLeft),_=r?0:Gi(n.borderTopWidth),E=r?0:Gi(n.borderRightWidth),C=r?0:Gi(n.borderBottomWidth),N=r?0:Gi(n.borderLeftWidth),D=b+h,U=f+g,M=N+E,z=_+C,G=d?t.offsetHeight-z-t.clientHeight:0,K=u?t.offsetWidth-M-t.clientWidth:0,H=s?D+M:0,A=s?U+z:0,S=r?r.width:Gi(n.width)-H-K,R=r?r.height:Gi(n.height)-A-G,L=S+D+K+M,V=R+U+G+z,O=Vo({devicePixelContentBoxSize:ru(Math.round(S*devicePixelRatio),Math.round(R*devicePixelRatio),o),borderBoxSize:ru(L,V,o),contentBoxSize:ru(S,R,o),contentRect:new Lk(b,f,S,R)});return Qh.set(t,O),O},Bk=function(t,e,n){var r=zk(t,n),s=r.borderBoxSize,o=r.contentBoxSize,u=r.devicePixelContentBoxSize;switch(e){case Dd.DEVICE_PIXEL_CONTENT_BOX:return u;case Dd.BORDER_BOX:return s;default:return o}},LH=(function(){function t(e){var n=zk(e);this.target=e,this.contentRect=n.contentRect,this.borderBoxSize=Vo([n.borderBoxSize]),this.contentBoxSize=Vo([n.contentBoxSize]),this.devicePixelContentBoxSize=Vo([n.devicePixelContentBoxSize])}return t})(),Fk=function(t){if(Uk(t))return 1/0;for(var e=0,n=t.parentNode;n;)e+=1,n=n.parentNode;return e},UH=function(){var t=1/0,e=[];Mo.forEach(function(u){if(u.activeTargets.length!==0){var d=[];u.activeTargets.forEach(function(h){var g=new LH(h.target),b=Fk(h.target);d.push(g),h.lastReportedSize=Bk(h.target,h.observedBox),b<t&&(t=b)}),e.push(function(){u.callback.call(u.observer,d,u.observer)}),u.activeTargets.splice(0,u.activeTargets.length)}});for(var n=0,r=e;n<r.length;n++){var s=r[n];s()}return t},n2=function(t){Mo.forEach(function(n){n.activeTargets.splice(0,n.activeTargets.length),n.skippedTargets.splice(0,n.skippedTargets.length),n.observationTargets.forEach(function(s){s.isActive()&&(Fk(s.target)>t?n.activeTargets.push(s):n.skippedTargets.push(s))})})},zH=function(){var t=0;for(n2(t);kH();)t=UH(),n2(t);return DH()&&OH(),t>0},Uy,Hk=[],BH=function(){return Hk.splice(0).forEach(function(t){return t()})},FH=function(t){if(!Uy){var e=0,n=document.createTextNode(""),r={characterData:!0};new MutationObserver(function(){return BH()}).observe(n,r),Uy=function(){n.textContent="".concat(e?e--:e++)}}Hk.push(t),Uy()},HH=function(t){FH(function(){requestAnimationFrame(t)})},xm=0,qH=function(){return!!xm},GH=250,$H={attributes:!0,characterData:!0,childList:!0,subtree:!0},r2=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],i2=function(t){return t===void 0&&(t=0),Date.now()+t},zy=!1,KH=(function(){function t(){var e=this;this.stopped=!0,this.listener=function(){return e.schedule()}}return t.prototype.run=function(e){var n=this;if(e===void 0&&(e=GH),!zy){zy=!0;var r=i2(e);HH(function(){var s=!1;try{s=zH()}finally{if(zy=!1,e=r-i2(),!qH())return;s?n.run(1e3):e>0?n.run(e):n.start()}})}},t.prototype.schedule=function(){this.stop(),this.run()},t.prototype.observe=function(){var e=this,n=function(){return e.observer&&e.observer.observe(document.body,$H)};document.body?n():fd.addEventListener("DOMContentLoaded",n)},t.prototype.start=function(){var e=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),r2.forEach(function(n){return fd.addEventListener(n,e.listener,!0)}))},t.prototype.stop=function(){var e=this;this.stopped||(this.observer&&this.observer.disconnect(),r2.forEach(function(n){return fd.removeEventListener(n,e.listener,!0)}),this.stopped=!0)},t})(),X0=new KH,s2=function(t){!xm&&t>0&&X0.start(),xm+=t,!xm&&X0.stop()},YH=function(t){return!$_(t)&&!jH(t)&&getComputedStyle(t).display==="inline"},WH=(function(){function t(e,n){this.target=e,this.observedBox=n||Dd.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return t.prototype.isActive=function(){var e=Bk(this.target,this.observedBox,!0);return YH(this.target)&&(this.lastReportedSize=e),this.lastReportedSize.inlineSize!==e.inlineSize||this.lastReportedSize.blockSize!==e.blockSize},t})(),QH=(function(){function t(e,n){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=e,this.callback=n}return t})(),Xh=new WeakMap,a2=function(t,e){for(var n=0;n<t.length;n+=1)if(t[n].target===e)return n;return-1},Zh=(function(){function t(){}return t.connect=function(e,n){var r=new QH(e,n);Xh.set(e,r)},t.observe=function(e,n,r){var s=Xh.get(e),o=s.observationTargets.length===0;a2(s.observationTargets,n)<0&&(o&&Mo.push(s),s.observationTargets.push(new WH(n,r&&r.box)),s2(1),X0.schedule())},t.unobserve=function(e,n){var r=Xh.get(e),s=a2(r.observationTargets,n),o=r.observationTargets.length===1;s>=0&&(o&&Mo.splice(Mo.indexOf(r),1),r.observationTargets.splice(s,1),s2(-1))},t.disconnect=function(e){var n=this,r=Xh.get(e);r.observationTargets.slice().forEach(function(s){return n.unobserve(e,s.target)}),r.activeTargets.splice(0,r.activeTargets.length)},t})(),XH=(function(){function t(e){if(arguments.length===0)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if(typeof e!="function")throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");Zh.connect(this,e)}return t.prototype.observe=function(e,n){if(arguments.length===0)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!JA(e))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");Zh.observe(this,e,n)},t.prototype.unobserve=function(e){if(arguments.length===0)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!JA(e))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");Zh.unobserve(this,e)},t.prototype.disconnect=function(){Zh.disconnect(this)},t.toString=function(){return"function ResizeObserver () { [polyfill code] }"},t})();function Zn(){return Zn=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zn.apply(this,arguments)}function Em(t,e){if(t==null)return{};var n,r,s={},o=Object.keys(t);for(r=0;r<o.length;r++)e.indexOf(n=o[r])>=0||(s[n]=t[n]);return s}var hd=typeof window<"u"?P.useLayoutEffect:P.useEffect;function Dc(t,e,n){return e=(e=+e)==e?e:0,n=(n=+n)==n?n:0,(t=+t)==t&&(t=(t=t<=n?t:n)>=e?t:e),t}function Jh(t){var e=Math.round(t);if(Number.isNaN(t))throw new TypeError("Found a NaN! Check your snapPoints / defaultSnap / snapTo ");return e}var ZH={box:"border-box"};function By(t,e){var n=e.label,r=e.enabled,s=e.resizeSourceRef,o=P.useState(0),u=o[0],d=o[1];P.useDebugValue(n+": "+u);var f=P.useCallback(function(h){d(h[0].borderBoxSize[0].blockSize),s.current="element"},[s]);return hd(function(){if(t.current&&r){var h=new XH(f);return h.observe(t.current,ZH),function(){h.disconnect()}}},[t,f,r]),r?u:0}function Qn(t){return t===void 0&&(t=1e3),new Promise(function(e){return setTimeout(e,t)})}var o2={DRAG:{target:"#overlay.dragging",actions:"onOpenEnd"}},l2={RESIZE:{target:"#overlay.resizing",actions:"onOpenEnd"}},JH=T7({id:"overlay",initial:"closed",context:{initialState:"CLOSED"},states:{closed:{on:{OPEN:"opening",CLOSE:void 0}},opening:{initial:"start",states:{start:{invoke:{src:"onOpenStart",onDone:"transition"}},transition:{always:[{target:"immediately",cond:"initiallyOpen"},{target:"smoothly",cond:"initiallyClosed"}]},immediately:{initial:"open",states:{open:{invoke:{src:"openImmediately",onDone:"activating"}},activating:{invoke:{src:"activate",onDone:"#overlay.opening.end"},on:Zn({},o2,l2)}}},smoothly:{initial:"visuallyHidden",states:{visuallyHidden:{invoke:{src:"renderVisuallyHidden",onDone:"activating"}},activating:{invoke:{src:"activate",onDone:"open"}},open:{invoke:{src:"openSmoothly",onDone:"#overlay.opening.end"},on:Zn({},o2,l2)}}},end:{invoke:{src:"onOpenEnd",onDone:"done"},on:{CLOSE:"#overlay.closing",DRAG:"#overlay.dragging"}},done:{type:"final"}},on:Zn({},{CLOSE:{target:"#overlay.closing",actions:"onOpenCancel"}}),onDone:"open"},open:{on:{DRAG:"#overlay.dragging",SNAP:"snapping",RESIZE:"resizing"}},dragging:{on:{SNAP:"snapping"}},snapping:{initial:"start",states:{start:{invoke:{src:"onSnapStart",onDone:"snappingSmoothly"},entry:[S7({y:function(t,e){return e.payload.y},velocity:function(t,e){return e.payload.velocity},snapSource:function(t,e){var n=e.payload.source;return n===void 0?"custom":n}})]},snappingSmoothly:{invoke:{src:"snapSmoothly",onDone:"end"}},end:{invoke:{src:"onSnapEnd",onDone:"done"},on:{RESIZE:"#overlay.resizing",SNAP:"#overlay.snapping",CLOSE:"#overlay.closing",DRAG:"#overlay.dragging"}},done:{type:"final"}},on:{SNAP:{target:"snapping",actions:"onSnapEnd"},RESIZE:{target:"#overlay.resizing",actions:"onSnapCancel"},DRAG:{target:"#overlay.dragging",actions:"onSnapCancel"},CLOSE:{target:"#overlay.closing",actions:"onSnapCancel"}},onDone:"open"},resizing:{initial:"start",states:{start:{invoke:{src:"onResizeStart",onDone:"resizingSmoothly"}},resizingSmoothly:{invoke:{src:"resizeSmoothly",onDone:"end"}},end:{invoke:{src:"onResizeEnd",onDone:"done"},on:{SNAP:"#overlay.snapping",CLOSE:"#overlay.closing",DRAG:"#overlay.dragging"}},done:{type:"final"}},on:{RESIZE:{target:"resizing",actions:"onResizeEnd"},SNAP:{target:"snapping",actions:"onResizeCancel"},DRAG:{target:"#overlay.dragging",actions:"onResizeCancel"},CLOSE:{target:"#overlay.closing",actions:"onResizeCancel"}},onDone:"open"},closing:{initial:"start",states:{start:{invoke:{src:"onCloseStart",onDone:"deactivating"},on:{OPEN:{target:"#overlay.open",actions:"onCloseCancel"}}},deactivating:{invoke:{src:"deactivate",onDone:"closingSmoothly"}},closingSmoothly:{invoke:{src:"closeSmoothly",onDone:"end"}},end:{invoke:{src:"onCloseEnd",onDone:"done"},on:{OPEN:{target:"#overlay.opening",actions:"onCloseCancel"}}},done:{type:"final"}},on:{CLOSE:void 0,OPEN:{target:"#overlay.opening",actions:"onCloseCancel"}},onDone:"closed"}},on:{CLOSE:"closing"}},{actions:{onOpenCancel:function(t,e){},onSnapCancel:function(t,e){},onResizeCancel:function(t,e){},onCloseCancel:function(t,e){},onOpenEnd:function(t,e){},onSnapEnd:function(t,e){},onRezizeEnd:function(t,e){}},services:{onSnapStart:function(){try{return Promise.resolve(Qn()).then(function(){})}catch(t){return Promise.reject(t)}},onOpenStart:function(){try{return Promise.resolve(Qn()).then(function(){})}catch(t){return Promise.reject(t)}},onCloseStart:function(){try{return Promise.resolve(Qn()).then(function(){})}catch(t){return Promise.reject(t)}},onResizeStart:function(){try{return Promise.resolve(Qn()).then(function(){})}catch(t){return Promise.reject(t)}},onSnapEnd:function(){try{return Promise.resolve(Qn()).then(function(){})}catch(t){return Promise.reject(t)}},onOpenEnd:function(){try{return Promise.resolve(Qn()).then(function(){})}catch(t){return Promise.reject(t)}},onCloseEnd:function(){try{return Promise.resolve(Qn()).then(function(){})}catch(t){return Promise.reject(t)}},onResizeEnd:function(){try{return Promise.resolve(Qn()).then(function(){})}catch(t){return Promise.reject(t)}},renderVisuallyHidden:function(t,e){try{return Promise.resolve(Qn()).then(function(){})}catch(n){return Promise.reject(n)}},activate:function(t,e){try{return Promise.resolve(Qn()).then(function(){})}catch(n){return Promise.reject(n)}},deactivate:function(t,e){try{return Promise.resolve(Qn()).then(function(){})}catch(n){return Promise.reject(n)}},openSmoothly:function(t,e){try{return Promise.resolve(Qn()).then(function(){})}catch(n){return Promise.reject(n)}},openImmediately:function(t,e){try{return Promise.resolve(Qn()).then(function(){})}catch(n){return Promise.reject(n)}},snapSmoothly:function(t,e){try{return Promise.resolve(Qn()).then(function(){})}catch(n){return Promise.reject(n)}},resizeSmoothly:function(t,e){try{return Promise.resolve(Qn()).then(function(){})}catch(n){return Promise.reject(n)}},closeSmoothly:function(t,e){try{return Promise.resolve(Qn()).then(function(){})}catch(n){return Promise.reject(n)}}},guards:{initiallyClosed:function(t){return t.initialState==="CLOSED"},initiallyOpen:function(t){return t.initialState==="OPEN"}}}),eq=["children","sibling","className","footer","header","open","initialState","lastSnapRef","initialFocusRef","onDismiss","maxHeight","defaultSnap","snapPoints","blocking","scrollLocking","style","onSpringStart","onSpringCancel","onSpringEnd","reserveScrollBarGap","expandOnContentDrag"],tq=["velocity"],nq=["onRest","config"],qk=X7.default,rq=qk.tension,em=qk.friction,iq=Sn.forwardRef(function(t,e){var n=t.children,r=t.sibling,s=t.className,o=t.footer,u=t.header,d=t.open,f=t.initialState,h=t.lastSnapRef,g=t.initialFocusRef,b=t.onDismiss,_=t.maxHeight,E=t.defaultSnap,C=E===void 0?aq:E,N=t.snapPoints,D=N===void 0?oq:N,U=t.blocking,M=U===void 0||U,z=t.scrollLocking,G=z===void 0||z,K=t.style,H=t.onSpringStart,A=t.onSpringCancel,S=t.onSpringEnd,R=t.reserveScrollBarGap,L=R===void 0?M:R,V=t.expandOnContentDrag,O=V!==void 0&&V,j=Em(t,eq),ve=(function(){var ae=P.useState(!1),fe=ae[0],ye=ae[1],Ue=P.useState({}),De=Ue[0],Ke=Ue[1],qe=P.useCallback(function(Qe){return Ke(function(Xe){var Ne;return Zn({},Xe,((Ne={})[Qe]=!1,Ne))}),function(){Ke(function(Xe){var Ne;return Zn({},Xe,((Ne={})[Qe]=!0,Ne))})}},[]);return P.useEffect(function(){var Qe=Object.values(De);Qe.length!==0&&Qe.every(Boolean)&&ye(!0)},[De]),{ready:fe,registerReady:qe}})(),Ce=ve.ready,Q=ve.registerReady,se=P.useRef(!1),de=P.useRef(H),xe=P.useRef(A),Ee=P.useRef(S);P.useEffect(function(){de.current=H,xe.current=A,Ee.current=S},[A,H,S]);var B,Z,ee=nF(function(){return{y:0,ready:0,maxHeight:0,minSnap:0,maxSnap:0}}),re=ee[0],me=ee[1],Pe=P.useRef(null),Se=P.useRef(null),Nt=P.useRef(null),wt=P.useRef(null),jn=P.useRef(null),yr=P.useRef(null),Pt=P.useRef(0),Mn=P.useRef(),wn=P.useRef(!1),Cn=(B=P.useMemo(function(){return typeof window<"u"?window.matchMedia("(prefers-reduced-motion: reduce)"):null},[]),Z=P.useRef(B==null?void 0:B.matches),P.useDebugValue(Z.current?"reduce":"no-preference"),P.useEffect(function(){var ae=function(fe){Z.current=fe.matches};return B==null||B.addListener(ae),function(){return B==null?void 0:B.removeListener(ae)}},[B]),Z),rr=(function(ae){var fe=ae.targetRef,ye=ae.enabled,Ue=ae.reserveScrollBarGap,De=P.useRef({activate:function(){throw new TypeError("Tried to activate scroll lock too early")},deactivate:function(){}});return P.useDebugValue(ye?"Enabled":"Disabled"),P.useEffect(function(){if(!ye)return De.current.deactivate(),void(De.current={activate:function(){},deactivate:function(){}});var Ke=fe.current,qe=!1;De.current={activate:function(){qe||(qe=!0,IH(Ke,{allowTouchMove:function(Qe){return Qe.closest("[data-body-scroll-lock-ignore]")},reserveScrollBarGap:Ue}))},deactivate:function(){qe&&(qe=!1,NH(Ke))}}},[ye,fe,Ue]),De})({targetRef:Se,enabled:Ce&&G,reserveScrollBarGap:L}),Zr=(function(ae){var fe=ae.targetRef,ye=ae.enabled,Ue=P.useRef({activate:function(){throw new TypeError("Tried to activate aria hider too early")},deactivate:function(){}});return P.useDebugValue(ye?"Enabled":"Disabled"),P.useEffect(function(){if(!ye)return Ue.current.deactivate(),void(Ue.current={activate:function(){},deactivate:function(){}});var De=fe.current,Ke=!1,qe=[],Qe=[];Ue.current={activate:function(){if(!Ke){Ke=!0;var Xe=De.parentNode;document.querySelectorAll("body > *").forEach(function(Ne){if(Ne!==Xe){var ze=Ne.getAttribute("aria-hidden");ze!==null&&ze!=="false"||(qe.push(ze),Qe.push(Ne),Ne.setAttribute("aria-hidden","true"))}})}},deactivate:function(){Ke&&(Ke=!1,Qe.forEach(function(Xe,Ne){var ze=qe[Ne];ze===null?Xe.removeAttribute("aria-hidden"):Xe.setAttribute("aria-hidden",ze)}),qe=[],Qe=[])}}},[fe,ye]),Ue})({targetRef:Pe,enabled:Ce&&M}),br=(function(ae){var fe=ae.targetRef,ye=ae.fallbackRef,Ue=ae.initialFocusRef,De=ae.enabled,Ke=P.useRef({activate:function(){throw new TypeError("Tried to activate focus trap too early")},deactivate:function(){}});return P.useDebugValue(De?"Enabled":"Disabled"),P.useEffect(function(){if(!De)return Ke.current.deactivate(),void(Ke.current={activate:function(){},deactivate:function(){}});var qe=ye.current,Qe=EH(fe.current,{onActivate:void 0,initialFocus:Ue?function(){return(Ue==null?void 0:Ue.current)||qe}:void 0,fallbackFocus:qe,escapeDeactivates:!1,clickOutsideDeactivates:!1}),Xe=!1;Ke.current={activate:function(){try{return Xe?Promise.resolve():(Xe=!0,Promise.resolve(Qe.activate()).then(function(){return Promise.resolve(new Promise(function(Ne){return setTimeout(function(){return Ne(void 0)},0)})).then(function(){})}))}catch(Ne){return Promise.reject(Ne)}},deactivate:function(){Xe&&(Xe=!1,Qe.deactivate())}}},[De,ye,Ue,fe]),Ke})({targetRef:Pe,fallbackRef:yr,initialFocusRef:g||void 0,enabled:Ce&&M&&g!==!1}),_r=(function(ae){var fe=ae.getSnapPoints,ye=ae.heightRef,Ue=ae.lastSnapRef,De=ae.ready,Ke=(function(xt){var lt=xt.contentRef,Vn=xt.controlledMaxHeight,Dt=xt.footerEnabled,sn=xt.footerRef,xr=xt.headerEnabled,En=xt.headerRef,fn=xt.registerReady,Vr=xt.resizeSourceRef,he=P.useMemo(function(){return fn("contentHeight")},[fn]),_e=(function(or,Tr,Jr){var Sr=P.useMemo(function(){return Tr("maxHeight")},[Tr]),ei=P.useState(function(){return Jh(or)||typeof window<"u"?window.innerHeight:0}),Mi=ei[0],lr=ei[1],Ht=Mi>0,_i=P.useRef(0);return P.useDebugValue(or?"controlled":"auto"),P.useEffect(function(){Ht&&Sr()},[Ht,Sr]),hd(function(){if(or)return lr(Jh(or)),void(Jr.current="maxheightprop");var wi=function(){_i.current||(_i.current=requestAnimationFrame(function(){lr(window.innerHeight),Jr.current="window",_i.current=0}))};return window.addEventListener("resize",wi),lr(window.innerHeight),Jr.current="window",Sr(),function(){window.removeEventListener("resize",wi),cancelAnimationFrame(_i.current)}},[or,Sr,Jr]),Mi})(Vn,fn,Vr),Le=By(En,{label:"headerHeight",enabled:xr,resizeSourceRef:Vr}),Ct=By(lt,{label:"contentHeight",enabled:!0,resizeSourceRef:Vr}),Er=By(sn,{label:"footerHeight",enabled:Dt,resizeSourceRef:Vr}),ar=Math.min(_e-Le-Er,Ct)+Le+Er;P.useDebugValue("minHeight: "+ar);var bi=Ct>0;return P.useEffect(function(){bi&&he()},[bi,he]),{maxHeight:_e,minHeight:ar,headerHeight:Le,footerHeight:Er}})({contentRef:ae.contentRef,controlledMaxHeight:ae.controlledMaxHeight,footerEnabled:ae.footerEnabled,footerRef:ae.footerRef,headerEnabled:ae.headerEnabled,headerRef:ae.headerRef,registerReady:ae.registerReady,resizeSourceRef:ae.resizeSourceRef}),qe=Ke.maxHeight,Qe=Ke.minHeight,Xe=Ke.headerHeight,Ne=Ke.footerHeight,ze=(function(xt,lt){var Vn=[].concat(xt).map(Jh).reduce(function(En,fn){return En.add(Dc(fn,0,lt)),En},new Set),Dt=Array.from(Vn),sn=Math.min.apply(Math,Dt);if(Number.isNaN(sn))throw new TypeError("minSnap is NaN");var xr=Math.max.apply(Math,Dt);if(Number.isNaN(xr))throw new TypeError("maxSnap is NaN");return{snapPoints:Dt,minSnap:sn,maxSnap:xr}})(De?fe({height:ye.current,footerHeight:Ne,headerHeight:Xe,minHeight:Qe,maxHeight:qe}):[0],qe),rn=ze.snapPoints,wr=ze.minSnap,Ft=ze.maxSnap;return P.useDebugValue("minSnap: "+wr+", maxSnap:"+Ft),{minSnap:wr,maxSnap:Ft,findSnap:function(xt){var lt=Jh(typeof xt=="function"?xt({footerHeight:Ne,headerHeight:Xe,height:ye.current,minHeight:Qe,maxHeight:qe,snapPoints:rn,lastSnap:Ue.current}):xt);return rn.reduce(function(Vn,Dt){return Math.abs(Dt-lt)<Math.abs(Vn-lt)?Dt:Vn},wr)},maxHeight:qe}})({contentRef:Nt,controlledMaxHeight:_,footerEnabled:!!o,footerRef:jn,getSnapPoints:D,headerEnabled:u!==!1,headerRef:wt,heightRef:Pt,lastSnapRef:h,ready:Ce,registerReady:Q,resizeSourceRef:Mn}),Rn=_r.minSnap,ir=_r.maxSnap,vi=_r.maxHeight,Mr=_r.findSnap,yt=P.useRef(vi),dn=P.useRef(Rn),ke=P.useRef(ir),kt=P.useRef(Mr),Gt=P.useRef(0);hd(function(){yt.current=vi,ke.current=ir,dn.current=Rn,kt.current=Mr,Gt.current=Mr(C)},[Mr,C,vi,ir,Rn]);var Wt=P.useCallback(function(ae){var fe=ae.onRest,ye=ae.config,Ue=(ye=ye===void 0?{}:ye).velocity,De=Ue===void 0?1:Ue,Ke=Em(ye,tq),qe=Em(ae,nq);return new Promise(function(Qe){return me(Zn({},qe,{config:Zn({velocity:De},Ke,{mass:1,tension:rq,friction:Math.max(em,em+(em-em*De))}),onRest:function(){var Xe=[].slice.call(arguments);Qe.apply(void 0,Xe),fe==null||fe.apply(void 0,Xe)}}))})},[me]),yi=P7(JH,{devTools:!1,actions:{onOpenCancel:P.useCallback(function(){return xe.current==null?void 0:xe.current({type:"OPEN"})},[]),onSnapCancel:P.useCallback(function(ae){return xe.current==null?void 0:xe.current({type:"SNAP",source:ae.snapSource})},[]),onCloseCancel:P.useCallback(function(){return xe.current==null?void 0:xe.current({type:"CLOSE"})},[]),onResizeCancel:P.useCallback(function(){return xe.current==null?void 0:xe.current({type:"RESIZE",source:Mn.current})},[]),onOpenEnd:P.useCallback(function(){return Ee.current==null?void 0:Ee.current({type:"OPEN"})},[]),onSnapEnd:P.useCallback(function(ae,fe){return Ee.current==null?void 0:Ee.current({type:"SNAP",source:ae.snapSource})},[]),onResizeEnd:P.useCallback(function(){return Ee.current==null?void 0:Ee.current({type:"RESIZE",source:Mn.current})},[])},context:{initialState:f},services:{onSnapStart:P.useCallback(function(ae,fe){try{return Promise.resolve(de.current==null?void 0:de.current({type:"SNAP",source:fe.payload.source||"custom"}))}catch(ye){return Promise.reject(ye)}},[]),onOpenStart:P.useCallback(function(){try{return Promise.resolve(de.current==null?void 0:de.current({type:"OPEN"}))}catch(ae){return Promise.reject(ae)}},[]),onCloseStart:P.useCallback(function(){try{return Promise.resolve(de.current==null?void 0:de.current({type:"CLOSE"}))}catch(ae){return Promise.reject(ae)}},[]),onResizeStart:P.useCallback(function(){try{return Promise.resolve(de.current==null?void 0:de.current({type:"RESIZE",source:Mn.current}))}catch(ae){return Promise.reject(ae)}},[]),onSnapEnd:P.useCallback(function(ae,fe){try{return Promise.resolve(Ee.current==null?void 0:Ee.current({type:"SNAP",source:ae.snapSource}))}catch(ye){return Promise.reject(ye)}},[]),onOpenEnd:P.useCallback(function(){try{return Promise.resolve(Ee.current==null?void 0:Ee.current({type:"OPEN"}))}catch(ae){return Promise.reject(ae)}},[]),onCloseEnd:P.useCallback(function(){try{return Promise.resolve(Ee.current==null?void 0:Ee.current({type:"CLOSE"}))}catch(ae){return Promise.reject(ae)}},[]),onResizeEnd:P.useCallback(function(){try{return Promise.resolve(Ee.current==null?void 0:Ee.current({type:"RESIZE",source:Mn.current}))}catch(ae){return Promise.reject(ae)}},[]),renderVisuallyHidden:P.useCallback(function(ae,fe){try{return Promise.resolve(Wt({y:Gt.current,ready:0,maxHeight:yt.current,maxSnap:ke.current,minSnap:Gt.current,immediate:!0})).then(function(){})}catch(ye){return Promise.reject(ye)}},[Wt]),activate:P.useCallback(function(ae,fe){try{return se.current=!0,Promise.resolve(Promise.all([rr.current.activate(),br.current.activate(),Zr.current.activate()])).then(function(){})}catch(ye){return Promise.reject(ye)}},[Zr,br,rr]),deactivate:P.useCallback(function(){try{return rr.current.deactivate(),br.current.deactivate(),Zr.current.deactivate(),se.current=!1,Promise.resolve()}catch(ae){return Promise.reject(ae)}},[Zr,br,rr]),openImmediately:P.useCallback(function(){try{return Pt.current=Gt.current,Promise.resolve(Wt({y:Gt.current,ready:1,maxHeight:yt.current,maxSnap:ke.current,minSnap:Gt.current,immediate:!0})).then(function(){})}catch(ae){return Promise.reject(ae)}},[Wt]),openSmoothly:P.useCallback(function(){try{return Promise.resolve(Wt({y:0,ready:1,maxHeight:yt.current,maxSnap:ke.current,minSnap:Gt.current,immediate:!0})).then(function(){return Pt.current=Gt.current,Promise.resolve(Wt({y:Gt.current,ready:1,maxHeight:yt.current,maxSnap:ke.current,minSnap:Gt.current,immediate:Cn.current})).then(function(){})})}catch(ae){return Promise.reject(ae)}},[Wt,Cn]),snapSmoothly:P.useCallback(function(ae,fe){try{var ye=kt.current(ae.y);return Pt.current=ye,h.current=ye,Promise.resolve(Wt({y:ye,ready:1,maxHeight:yt.current,maxSnap:ke.current,minSnap:dn.current,immediate:Cn.current,config:{velocity:ae.velocity}})).then(function(){})}catch(Ue){return Promise.reject(Ue)}},[Wt,h,Cn]),resizeSmoothly:P.useCallback(function(){try{var ae=kt.current(Pt.current);return Pt.current=ae,h.current=ae,Promise.resolve(Wt({y:ae,ready:1,maxHeight:yt.current,maxSnap:ke.current,minSnap:dn.current,immediate:Mn.current!=="element"||Cn.current})).then(function(){})}catch(fe){return Promise.reject(fe)}},[Wt,h,Cn]),closeSmoothly:P.useCallback(function(ae,fe){try{return Wt({minSnap:Pt.current,immediate:!0}),Pt.current=0,Promise.resolve(Wt({y:0,maxHeight:yt.current,maxSnap:ke.current,immediate:Cn.current})).then(function(){return Promise.resolve(Wt({ready:0,immediate:!0})).then(function(){})})}catch(ye){return Promise.reject(ye)}},[Wt,Cn])}}),Wa=yi[0],xn=yi[1];P.useEffect(function(){Ce&&xn(d?"OPEN":"CLOSE")},[d,xn,Ce]),hd(function(){(vi||ir||Rn)&&xn("RESIZE")},[vi,ir,Rn,xn]),P.useEffect(function(){return function(){rr.current.deactivate(),br.current.deactivate(),Zr.current.deactivate()}},[Zr,br,rr]),P.useImperativeHandle(e,function(){return{snapTo:function(ae,fe){var ye=fe===void 0?{}:fe,Ue=ye.velocity,De=Ue===void 0?1:Ue,Ke=ye.source,qe=Ke===void 0?"custom":Ke;xn("SNAP",{payload:{y:kt.current(ae),velocity:De,source:qe}})},get height(){return Pt.current}}},[xn]),P.useEffect(function(){var ae=Se.current,fe=function(Ue){wn.current&&Ue.preventDefault()},ye=function(Ue){ae.scrollTop<0&&(requestAnimationFrame(function(){ae.style.overflow="hidden",ae.scrollTop=0,ae.style.removeProperty("overflow")}),Ue.preventDefault())};return O&&(ae.addEventListener("scroll",fe),ae.addEventListener("touchmove",fe),ae.addEventListener("touchstart",ye)),function(){ae.removeEventListener("scroll",fe),ae.removeEventListener("touchmove",fe),ae.removeEventListener("touchstart",ye)}},[O,Se]);var sr=iH(function(ae){var fe=ae.args,ye=(fe=fe===void 0?[]:fe)[0],Ue=(ye=ye===void 0?{}:ye).closeOnTap,De=Ue!==void 0&&Ue,Ke=ye.isContentDragging,qe=Ke!==void 0&&Ke,Qe=ae.cancel,Xe=ae.direction[1],Ne=ae.down,ze=ae.first,rn=ae.last,wr=ae.memo,Ft=wr===void 0?re.y.getValue():wr,xt=ae.tap,lt=ae.velocity,Vn=-1*ae.movement[1];if(!se.current)return Qe(),Ft;if(b&&De&&xt)return Qe(),setTimeout(function(){return b()},0),Ft;if(xt)return Ft;var Dt=Ft+Vn,sn=Vn*lt,xr=Math.max(dn.current,Math.min(ke.current,Dt+2*sn));if(!Ne&&b&&Xe>0&&Dt+sn<dn.current/2)return Qe(),b(),Ft;var En=Ne?b||dn.current!==ke.current?ud(Dt,b?0:dn.current,ke.current,.55):Dt<dn.current?ud(Dt,dn.current,2*ke.current,.55):ud(Dt,dn.current/2,ke.current,.55):xr;return O&&qe?(En>=ke.current&&(En=ke.current),Ft===ke.current&&Se.current.scrollTop>0&&(En=ke.current),wn.current=En<ke.current):wn.current=!1,ze&&xn("DRAG"),rn?(xn("SNAP",{payload:{y:En,velocity:lt>.05?lt:1,source:"dragging"}}),Ft):(me({y:En,ready:1,maxHeight:yt.current,maxSnap:ke.current,minSnap:dn.current,immediate:!0,config:{velocity:lt}}),Ft)},{filterTaps:!0});if(Number.isNaN(ke.current))throw new TypeError("maxSnapRef is NaN!!");if(Number.isNaN(dn.current))throw new TypeError("minSnapRef is NaN!!");var jt=(function(ae){var fe,ye=ae.spring,Ue=Ml([ye.y,ye.maxHeight],function(Ne,ze){return Math.round(Dc(ze-Ne,0,16))+"px"}),De=Ml([ye.y,ye.minSnap,ye.maxSnap],function(Ne,ze,rn){return Dc(Ne,ze,rn)+"px"}),Ke=Ml([ye.y,ye.minSnap,ye.maxSnap],function(Ne,ze,rn){return Ne<ze?ze-Ne+"px":Ne>rn?rn-Ne+"px":"0px"}),qe=Ml([ye.y,ye.maxSnap],function(Ne,ze){return Ne>=ze?Math.ceil(Ne-ze):0}),Qe=Ml([ye.y,ye.minSnap],function(Ne,ze){if(!ze)return 0;var rn=Math.max(ze/2-45,0);return Dc((Ne-rn)*(1/(Math.min(ze/2+45,ze)-rn)+0),0,1)}),Xe=Ml([ye.y,ye.minSnap],function(Ne,ze){return ze?Dc(Ne/ze,0,1):0});return(fe={})["--rsbs-content-opacity"]=Qe,fe["--rsbs-backdrop-opacity"]=Xe,fe["--rsbs-antigap-scale-y"]=qe,fe["--rsbs-overlay-translate-y"]=Ke,fe["--rsbs-overlay-rounded"]=Ue,fe["--rsbs-overlay-h"]=De,fe})({spring:re});return Sn.createElement(wF.div,Zn({},j,{"data-rsbs-root":!0,"data-rsbs-state":sq.find(Wa.matches),"data-rsbs-is-blocking":M,"data-rsbs-is-dismissable":!!b,"data-rsbs-has-header":!!u,"data-rsbs-has-footer":!!o,className:s,ref:Pe,style:Zn({},jt,K,{opacity:re.ready})}),r,M&&Sn.createElement("div",Zn({key:"backdrop","data-rsbs-backdrop":!0},sr({closeOnTap:!0}))),Sn.createElement("div",{key:"overlay","aria-modal":"true",role:"dialog","data-rsbs-overlay":!0,tabIndex:-1,ref:yr,onKeyDown:function(ae){ae.key==="Escape"&&(ae.stopPropagation(),b&&b())}},u!==!1&&Sn.createElement("div",Zn({key:"header","data-rsbs-header":!0,ref:wt},sr()),u),Sn.createElement("div",Zn({key:"scroll","data-rsbs-scroll":!0,ref:Se},O?sr({isContentDragging:!0}):{}),Sn.createElement("div",{"data-rsbs-content":!0,ref:Nt},n)),o&&Sn.createElement("div",Zn({key:"footer",ref:jn,"data-rsbs-footer":!0},sr()),o)))}),sq=["closed","opening","open","closing","dragging","snapping","resizing"];function aq(t){var e=t.lastSnap;return e??Math.min.apply(Math,t.snapPoints)}function oq(t){return t.minHeight}var lq=["onSpringStart","onSpringEnd","skipInitialTransition"],Iu=P.forwardRef(function(t,e){var n=t.onSpringStart,r=t.onSpringEnd,s=t.skipInitialTransition,o=Em(t,lq),u=P.useState(!1),d=u[0],f=u[1],h=P.useRef(),g=P.useRef(null),b=P.useRef(s&&o.open?"OPEN":"CLOSED");hd(function(){if(o.open)return cancelAnimationFrame(h.current),f(!0),function(){b.current="CLOSED"}},[o.open]);var _=P.useCallback(function(C){return Promise.resolve(n==null?void 0:n(C)).then(function(){C.type==="OPEN"&&cancelAnimationFrame(h.current)})},[n]),E=P.useCallback(function(C){return Promise.resolve(r==null?void 0:r(C)).then(function(){C.type==="CLOSE"&&(h.current=requestAnimationFrame(function(){return f(!1)}))})},[r]);return d?Sn.createElement(IB,{"data-rsbs-portal":!0},Sn.createElement(iq,Zn({},o,{lastSnapRef:g,ref:e,initialState:b.current,onSpringStart:_,onSpringEnd:E}))):null});const uq=({item:t,clothingSets:e,onClose:n,onUpdate:r,onGenerateFrom:s,onRemoveSet:o,onDelete:u,getItemWearCount:d})=>{const[f,h]=P.useState({analysis:t.analysis,category:t.category,color:t.color,material:t.material}),[g,b]=P.useState(!1),[_,E]=P.useState(window.innerWidth<768),[C,N]=P.useState(!1),[D,U]=P.useState(!1),M=document.documentElement.classList.contains("dark"),z=e.find(O=>O.itemIds.includes(t.id));P.useEffect(()=>{h({analysis:t.analysis,category:t.category,color:t.color,material:t.material}),N(!1),requestAnimationFrame(()=>{requestAnimationFrame(()=>{N(!0)})})},[t]),P.useEffect(()=>{const O=()=>E(window.innerWidth<768);return window.addEventListener("resize",O),()=>window.removeEventListener("resize",O)},[]),P.useEffect(()=>{if(!_){const O=j=>{j.key==="Escape"&&n()};return window.addEventListener("keydown",O),()=>window.removeEventListener("keydown",O)}},[_,n]);const G=O=>{const{name:j,value:ve}=O.target;h(Ce=>({...Ce,[j]:ve}))},K=O=>{O.preventDefault(),r({...t,...f}),b(!0),setTimeout(()=>{b(!1)},2e3)},H=()=>{U(!0)},A=()=>{u(t.id),U(!1),n()},S=()=>{U(!1)},R=O=>{O.stopPropagation(),r({...t,isFavorite:!t.isFavorite})},L=y.jsxs("div",{className:"bg-white dark:bg-raisin-black text-raisin-black dark:text-snow",children:[y.jsx("div",{className:"relative px-4 pt-2 pb-4",children:y.jsx("img",{src:t.imageSrc,alt:t.analysis,className:"w-full h-auto max-h-[40vh] object-contain rounded-lg"})}),y.jsxs("form",{onSubmit:K,className:"p-6",children:[y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{htmlFor:"analysis",className:"block text-sm font-medium text-gray-500 dark:text-gray-400",children:"Description"}),y.jsx("textarea",{id:"analysis",name:"analysis",value:f.analysis,onChange:G,rows:3,className:"mt-1 w-full px-3 py-2 bg-snow dark:bg-onyx border border-gray-300 dark:border-gray-700 rounded-md focus:outline-none focus:ring-1 focus:ring-gold focus:border-gold transition-colors text-sm text-raisin-black dark:text-snow"})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-500 dark:text-gray-400",children:"Catgorie"}),y.jsx("select",{id:"category",name:"category",value:f.category,onChange:G,className:"mt-1 w-full appearance-none px-3 py-2 bg-snow dark:bg-onyx border border-gray-300 dark:border-gray-700 rounded-md focus:outline-none focus:ring-1 focus:ring-gold focus:border-gold transition-colors text-sm text-raisin-black dark:text-snow",children:["Hauts","Bas","Chaussures","Accessoires"].map(O=>y.jsx("option",{value:O,children:O},O))})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"color",className:"block text-sm font-medium text-gray-500 dark:text-gray-400",children:"Couleur"}),y.jsx("input",{type:"text",id:"color",name:"color",value:f.color,onChange:G,className:"mt-1 w-full px-3 py-2 bg-snow dark:bg-onyx border border-gray-300 dark:border-gray-700 rounded-md focus:outline-none focus:ring-1 focus:ring-gold focus:border-gold transition-colors text-sm text-raisin-black dark:text-snow"})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"material",className:"block text-sm font-medium text-gray-500 dark:text-gray-400",children:"Matire"}),y.jsx("input",{type:"text",id:"material",name:"material",value:f.material,onChange:G,className:"mt-1 w-full px-3 py-2 bg-snow dark:bg-onyx border border-gray-300 dark:border-gray-700 rounded-md focus:outline-none focus:ring-1 focus:ring-gold focus:border-gold transition-colors text-sm text-raisin-black dark:text-snow"})]})]}),y.jsx("div",{className:"bg-gradient-to-r from-gold/5 to-gold-dark/5 dark:from-gold/10 dark:to-gold-dark/10 p-3 rounded-lg border border-gold/20",children:y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{children:[y.jsx("p",{className:"text-xs font-semibold text-gold dark:text-gold-light uppercase tracking-wider",children:"Statistique"}),y.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-300 mt-1",children:["Port ",y.jsx("span",{className:"font-bold text-lg text-gold",children:d(t.id)})," fois ces 30 derniers jours"]})]}),y.jsx("div",{className:"text-3xl",children:""})]})}),z&&y.jsxs("div",{className:"bg-gold/10 dark:bg-gold/20 p-3 rounded-lg flex items-center justify-between gap-4",children:[y.jsxs("div",{children:[y.jsx("p",{className:"text-xs font-semibold text-gold uppercase tracking-wider",children:"Fait partie de l'ensemble"}),y.jsx("p",{className:"font-medium text-onyx dark:text-snow truncate",title:z.name,children:z.name})]}),y.jsxs("button",{type:"button",onClick:()=>{o(z.id),n()},className:"flex-shrink-0 flex items-center gap-2 px-3 py-1.5 text-sm font-semibold bg-white dark:bg-onyx text-rose-500 border border-rose-500/50 rounded-md hover:bg-rose-500 hover:text-white transition-colors",title:"Dissocier l'ensemble",children:[y.jsx(z5,{}),y.jsx("span",{children:"Dissocier"})]})]})]}),y.jsxs("div",{className:"mt-6 pt-4 border-t border-black/10 dark:border-white/10 flex flex-col sm:flex-row gap-3 justify-between",children:[y.jsxs("button",{type:"button",onClick:H,className:"w-full sm:w-auto flex items-center justify-center gap-2 px-4 py-2.5 bg-red-500/10 text-red-500 font-bold rounded-lg hover:bg-red-500/20 transition-all duration-300",children:[y.jsx(t_,{}),"Supprimer"]}),y.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[y.jsxs("button",{type:"button",onClick:()=>s(t),className:"w-full sm:w-auto flex-1 flex items-center justify-center gap-2 px-4 py-2.5 bg-onyx dark:bg-snow border-2 border-gold text-gold dark:text-onyx font-bold rounded-lg hover:bg-gold/10 dark:hover:bg-onyx/10 transition-all duration-300",children:[y.jsx(Td,{}),"Crer une tenue"]}),y.jsx("button",{type:"submit",disabled:g,className:`w-full sm:w-auto px-6 py-2.5 font-bold rounded-lg transition-all duration-300 flex items-center justify-center gap-2 ${g?"bg-green-600 text-white cursor-not-allowed":"bg-gold text-onyx hover:bg-gold-dark"}`,children:g?y.jsxs(y.Fragment,{children:[y.jsx(n_,{}),"Enregistr !"]}):"Enregistrer"})]})]})]})]}),V=D?YN.createPortal(y.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center p-4 transition-opacity duration-200",style:{zIndex:999999,pointerEvents:"auto"},onClick:S,children:y.jsxs("div",{className:"bg-white dark:bg-raisin-black rounded-2xl shadow-2xl max-w-md w-full p-6 transform transition-all duration-200 scale-100",onClick:O=>O.stopPropagation(),children:[y.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[y.jsx("img",{src:t.imageSrc,alt:t.analysis,className:"w-20 h-20 object-cover rounded-lg flex-shrink-0"}),y.jsxs("div",{className:"flex-1 min-w-0",children:[y.jsx("h3",{className:"text-lg font-bold text-raisin-black dark:text-snow mb-1",children:"Supprimer cet article ?"}),y.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 line-clamp-2",children:t.analysis})]})]}),y.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4 mb-6",children:y.jsxs("div",{className:"flex items-start gap-3",children:[y.jsx("svg",{className:"w-5 h-5 text-red-600 dark:text-red-400 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),y.jsxs("div",{className:"flex-1",children:[y.jsx("p",{className:"text-sm font-semibold text-red-800 dark:text-red-300 mb-1",children:"Cette action est irrversible"}),y.jsx("p",{className:"text-xs text-red-700 dark:text-red-400",children:"L'article sera dfinitivement supprim de votre garde-robe et ne pourra pas tre rcupr."})]})]})}),y.jsxs("div",{className:"flex gap-3",children:[y.jsx("button",{onClick:O=>{O.stopPropagation(),S()},className:"flex-1 px-4 py-2.5 bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 font-semibold rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:"Annuler"}),y.jsx("button",{onClick:O=>{O.stopPropagation(),A()},className:"flex-1 px-4 py-2.5 bg-red-600 text-white font-bold rounded-lg hover:bg-red-700 transition-colors shadow-lg shadow-red-500/30",children:"Supprimer"})]})]})}),document.body):null;return _?y.jsxs(y.Fragment,{children:[y.jsx(Iu,{open:!!t&&!D,onDismiss:n,className:M?"dark":"",header:y.jsxs("div",{className:"flex items-center justify-between w-full px-4 py-2",children:[y.jsx("h2",{className:"text-lg font-bold text-raisin-black dark:text-snow",children:"Dtails de l'article"}),y.jsx("button",{onClick:R,className:"p-1.5 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-full transition-colors","aria-label":"Ajouter aux favoris",children:t.isFavorite?y.jsx(du,{className:"w-6 h-6 text-red-500"}):y.jsx($m,{className:"w-6 h-6"})})]}),defaultSnap:({maxHeight:O})=>O*.85,snapPoints:({maxHeight:O})=>[O*.5,O*.85,O*.95],children:L}),V]}):y.jsxs(y.Fragment,{children:[y.jsx("div",{className:`fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4 transition-opacity duration-200 ${C?"opacity-100":"opacity-0"}`,style:D?{pointerEvents:"none"}:void 0,onClick:n,children:y.jsxs("div",{className:`relative bg-white dark:bg-raisin-black rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto transition-all duration-200 ${C?"opacity-100 scale-100":"opacity-0 scale-95"}`,style:D?{pointerEvents:"none"}:void 0,onClick:O=>O.stopPropagation(),children:[y.jsxs("div",{className:"sticky top-0 bg-white dark:bg-raisin-black border-b border-gray-200 dark:border-gray-700 px-6 py-4 flex items-center justify-between z-10",children:[y.jsx("h2",{className:"text-xl font-bold text-raisin-black dark:text-snow",children:"Dtails de l'article"}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("button",{onClick:R,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-full transition-colors","aria-label":"Ajouter aux favoris",children:t.isFavorite?y.jsx(du,{className:"w-6 h-6 text-red-500"}):y.jsx($m,{className:"w-6 h-6"})}),y.jsx("button",{onClick:n,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-full transition-colors","aria-label":"Fermer",children:y.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),L]})}),V]})},Gk=({clothingItems:t,clothingSets:e,onGeneratePlan:n,isGenerating:r})=>{const[s,o]=P.useState(3),[u,d]=P.useState(""),[f,h]=P.useState(""),g=b=>{b.preventDefault();const _=u||"",E=f?parseFloat(f):void 0;_.trim()&&s>0&&n(s,_,E)};return y.jsxs("form",{onSubmit:g,className:"space-y-6",children:[y.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-4 gap-4 items-end",children:[y.jsxs("div",{className:"sm:col-span-1",children:[y.jsx("label",{htmlFor:"days",className:"block text-sm font-medium text-gray-500 dark:text-gray-400 mb-1 text-center sm:text-left",children:"Dure (jours)"}),y.jsx("input",{id:"days",type:"number",value:s,onChange:b=>o(parseInt(b.target.value,10)||1),min:"1",max:"30",className:"w-full px-4 py-3 bg-snow dark:bg-onyx border-2 border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-gold focus:border-transparent transition-colors text-center",disabled:r,required:!0})]}),y.jsxs("div",{className:"sm:col-span-1",children:[y.jsx("label",{htmlFor:"weight",className:"block text-sm font-medium text-gray-500 dark:text-gray-400 mb-1 text-center sm:text-left",children:"Poids max (kg)"}),y.jsxs("div",{className:"relative",children:[y.jsx("input",{id:"weight",type:"number",value:f,onChange:b=>h(b.target.value),placeholder:"Optionnel",min:"1",max:"50",className:"w-full px-4 py-3 bg-snow dark:bg-onyx border-2 border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-gold focus:border-transparent transition-colors text-center",disabled:r}),y.jsx("span",{className:"absolute right-3 top-3.5 text-gray-400 text-sm",children:"kg"})]})]}),y.jsxs("div",{className:"sm:col-span-2",children:[y.jsx("label",{htmlFor:"vacation-context",className:"block text-sm font-medium text-gray-500 dark:text-gray-400 mb-1 text-center sm:text-left",children:"Destination / Mto"}),y.jsx("input",{id:"vacation-context",type:"text",value:u,onChange:b=>d(b.target.value),placeholder:"Ex: Weekend  Rome, temps doux",className:"w-full px-4 py-3 bg-snow dark:bg-onyx border-2 border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-gold focus:border-transparent transition-colors text-center sm:text-left",disabled:r,required:!0})]})]}),y.jsxs("button",{type:"submit",disabled:r||!(u||"").trim()||s<=0,className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-gold text-onyx font-bold rounded-lg hover:bg-gold-dark transition-all duration-300 disabled:bg-gray-400 dark:disabled:bg-gray-600 disabled:cursor-not-allowed transform hover:scale-105",children:[y.jsx(pI,{}),r?"Analyse du poids...":"Gnrer la valise"]})]})},$k=({plan:t,allClothingItems:e,allClothingSets:n})=>{const r=s=>{const{id:o,description:u}=s;let d=e.find(h=>h.id===o);if(d)return d;let f=n.find(h=>h.id===o);if(f)return f;if(d=e.find(h=>h.analysis===o),d||(d=e.find(h=>h.analysis===u),d))return d};return y.jsx("div",{className:"mt-10",children:y.jsxs("div",{className:"bg-snow dark:bg-onyx border border-black/10 dark:border-white/10 rounded-lg p-5",children:[y.jsx("h3",{className:"font-serif font-bold text-xl text-gold",children:t.titre}),y.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1 mb-5",children:t.resume}),y.jsx("div",{className:"flex flex-wrap gap-3 mb-5",children:t.valise.map((s,o)=>{const u=r(s),d=u?u.imageSrc:null;return y.jsxs("div",{className:"w-20 h-20 bg-gray-200 dark:bg-gray-800 rounded-md shadow-md border-2 border-white dark:border-raisin-black overflow-hidden relative group",title:s.description,children:[d?y.jsx("img",{src:d,alt:s.description,className:"w-full h-full object-cover"}):y.jsx("div",{className:"w-full h-full flex items-center justify-center p-1 text-center",children:y.jsx(mI,{})}),y.jsx("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center p-2",children:y.jsx("p",{className:"text-white text-xs text-center line-clamp-3",children:s.description})})]},o)})}),y.jsx("ul",{className:"list-disc list-inside space-y-1.5 text-sm pt-4 border-t border-black/5 dark:border-white/10",children:t.valise.map((s,o)=>y.jsx("li",{className:"text-gray-700 dark:text-gray-300",children:s.description},o))})]})})},cq="modulepreload",dq=function(t){return"/"+t},u2={},fq=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){let u=function(h){return Promise.all(h.map(g=>Promise.resolve(g).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),f=(d==null?void 0:d.nonce)||(d==null?void 0:d.getAttribute("nonce"));s=u(n.map(h=>{if(h=dq(h),h in u2)return;u2[h]=!0;const g=h.endsWith(".css"),b=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${b}`))return;const _=document.createElement("link");if(_.rel=g?"stylesheet":cq,g||(_.as="script"),_.crossOrigin="",_.href=h,f&&_.setAttribute("nonce",f),document.head.appendChild(_),g)return new Promise((E,C)=>{_.addEventListener("load",E),_.addEventListener("error",()=>C(new Error(`Unable to preload CSS for ${h}`)))})}))}function o(u){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=u,window.dispatchEvent(d),!d.defaultPrevented)throw u}return s.then(u=>{for(const d of u||[])d.status==="rejected"&&o(d.reason);return e().catch(o)})};/*! Capacitor: https://capacitorjs.com/ - MIT License */var yu;(function(t){t.Unimplemented="UNIMPLEMENTED",t.Unavailable="UNAVAILABLE"})(yu||(yu={}));class iu extends Error{constructor(e,n,r){super(e),this.message=e,this.code=n,this.data=r}}const hq=t=>{var e,n;return t!=null&&t.androidBridge?"android":!((n=(e=t==null?void 0:t.webkit)===null||e===void 0?void 0:e.messageHandlers)===null||n===void 0)&&n.bridge?"ios":"web"},mq=t=>{const e=t.CapacitorCustomPlatform||null,n=t.Capacitor||{},r=n.Plugins=n.Plugins||{},s=()=>e!==null?e.name:hq(t),o=()=>s()!=="web",u=b=>{const _=h.get(b);return!!(_!=null&&_.platforms.has(s())||d(b))},d=b=>{var _;return(_=n.PluginHeaders)===null||_===void 0?void 0:_.find(E=>E.name===b)},f=b=>t.console.error(b),h=new Map,g=(b,_={})=>{const E=h.get(b);if(E)return console.warn(`Capacitor plugin "${b}" already registered. Cannot register plugins twice.`),E.proxy;const C=s(),N=d(b);let D;const U=async()=>(!D&&C in _?D=typeof _[C]=="function"?D=await _[C]():D=_[C]:e!==null&&!D&&"web"in _&&(D=typeof _.web=="function"?D=await _.web():D=_.web),D),M=(S,R)=>{var L,V;if(N){const O=N==null?void 0:N.methods.find(j=>R===j.name);if(O)return O.rtype==="promise"?j=>n.nativePromise(b,R.toString(),j):(j,ve)=>n.nativeCallback(b,R.toString(),j,ve);if(S)return(L=S[R])===null||L===void 0?void 0:L.bind(S)}else{if(S)return(V=S[R])===null||V===void 0?void 0:V.bind(S);throw new iu(`"${b}" plugin is not implemented on ${C}`,yu.Unimplemented)}},z=S=>{let R;const L=(...V)=>{const O=U().then(j=>{const ve=M(j,S);if(ve){const Ce=ve(...V);return R=Ce==null?void 0:Ce.remove,Ce}else throw new iu(`"${b}.${S}()" is not implemented on ${C}`,yu.Unimplemented)});return S==="addListener"&&(O.remove=async()=>R()),O};return L.toString=()=>`${S.toString()}() { [capacitor code] }`,Object.defineProperty(L,"name",{value:S,writable:!1,configurable:!1}),L},G=z("addListener"),K=z("removeListener"),H=(S,R)=>{const L=G({eventName:S},R),V=async()=>{const j=await L;K({eventName:S,callbackId:j},R)},O=new Promise(j=>L.then(()=>j({remove:V})));return O.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await V()},O},A=new Proxy({},{get(S,R){switch(R){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return N?H:G;case"removeListener":return K;default:return z(R)}}});return r[b]=A,h.set(b,{name:b,proxy:A,platforms:new Set([...Object.keys(_),...N?[C]:[]])}),A};return n.convertFileSrc||(n.convertFileSrc=b=>b),n.getPlatform=s,n.handleError=f,n.isNativePlatform=o,n.isPluginAvailable=u,n.registerPlugin=g,n.Exception=iu,n.DEBUG=!!n.DEBUG,n.isLoggingEnabled=!!n.isLoggingEnabled,n},pq=t=>t.Capacitor=mq(t),Od=pq(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),nf=Od.registerPlugin;class Jp{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(e,n){let r=!1;this.listeners[e]||(this.listeners[e]=[],r=!0),this.listeners[e].push(n);const o=this.windowListeners[e];o&&!o.registered&&this.addWindowListener(o),r&&this.sendRetainedArgumentsForEvent(e);const u=async()=>this.removeListener(e,n);return Promise.resolve({remove:u})}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,n,r){const s=this.listeners[e];if(!s){if(r){let o=this.retainedEventArguments[e];o||(o=[]),o.push(n),this.retainedEventArguments[e]=o}return}s.forEach(o=>o(n))}hasListeners(e){var n;return!!(!((n=this.listeners[e])===null||n===void 0)&&n.length)}registerWindowListener(e,n){this.windowListeners[n]={registered:!1,windowEventName:e,pluginEventName:n,handler:r=>{this.notifyListeners(n,r)}}}unimplemented(e="not implemented"){return new Od.Exception(e,yu.Unimplemented)}unavailable(e="not available"){return new Od.Exception(e,yu.Unavailable)}async removeListener(e,n){const r=this.listeners[e];if(!r)return;const s=r.indexOf(n);this.listeners[e].splice(s,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){const n=this.retainedEventArguments[e];n&&(delete this.retainedEventArguments[e],n.forEach(r=>{this.notifyListeners(e,r)}))}}const c2=t=>encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),d2=t=>t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class gq extends Jp{async getCookies(){const e=document.cookie,n={};return e.split(";").forEach(r=>{if(r.length<=0)return;let[s,o]=r.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");s=d2(s).trim(),o=d2(o).trim(),n[s]=o}),n}async setCookie(e){try{const n=c2(e.key),r=c2(e.value),s=`; expires=${(e.expires||"").replace("expires=","")}`,o=(e.path||"/").replace("path=",""),u=e.url!=null&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${n}=${r||""}${s}; path=${o}; ${u};`}catch(n){return Promise.reject(n)}}async deleteCookie(e){try{document.cookie=`${e.key}=; Max-Age=0`}catch(n){return Promise.reject(n)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const n of e)document.cookie=n.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}}nf("CapacitorCookies",{web:()=>new gq});const vq=async t=>new Promise((e,n)=>{const r=new FileReader;r.onload=()=>{const s=r.result;e(s.indexOf(",")>=0?s.split(",")[1]:s)},r.onerror=s=>n(s),r.readAsDataURL(t)}),yq=(t={})=>{const e=Object.keys(t);return Object.keys(t).map(s=>s.toLocaleLowerCase()).reduce((s,o,u)=>(s[o]=t[e[u]],s),{})},bq=(t,e=!0)=>t?Object.entries(t).reduce((r,s)=>{const[o,u]=s;let d,f;return Array.isArray(u)?(f="",u.forEach(h=>{d=e?encodeURIComponent(h):h,f+=`${o}=${d}&`}),f.slice(0,-1)):(d=e?encodeURIComponent(u):u,f=`${o}=${d}`),`${r}&${f}`},"").substr(1):null,_q=(t,e={})=>{const n=Object.assign({method:t.method||"GET",headers:t.headers},e),s=yq(t.headers)["content-type"]||"";if(typeof t.data=="string")n.body=t.data;else if(s.includes("application/x-www-form-urlencoded")){const o=new URLSearchParams;for(const[u,d]of Object.entries(t.data||{}))o.set(u,d);n.body=o.toString()}else if(s.includes("multipart/form-data")||t.data instanceof FormData){const o=new FormData;if(t.data instanceof FormData)t.data.forEach((d,f)=>{o.append(f,d)});else for(const d of Object.keys(t.data))o.append(d,t.data[d]);n.body=o;const u=new Headers(n.headers);u.delete("content-type"),n.headers=u}else(s.includes("application/json")||typeof t.data=="object")&&(n.body=JSON.stringify(t.data));return n};class wq extends Jp{async request(e){const n=_q(e,e.webFetchExtra),r=bq(e.params,e.shouldEncodeUrlParams),s=r?`${e.url}?${r}`:e.url,o=await fetch(s,n),u=o.headers.get("content-type")||"";let{responseType:d="text"}=o.ok?e:{};u.includes("application/json")&&(d="json");let f,h;switch(d){case"arraybuffer":case"blob":h=await o.blob(),f=await vq(h);break;case"json":f=await o.json();break;case"document":case"text":default:f=await o.text()}const g={};return o.headers.forEach((b,_)=>{g[_]=b}),{data:f,headers:g,status:o.status,url:o.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}}nf("CapacitorHttp",{web:()=>new wq});var f2;(function(t){t.Dark="DARK",t.Light="LIGHT",t.Default="DEFAULT"})(f2||(f2={}));var h2;(function(t){t.StatusBar="StatusBar",t.NavigationBar="NavigationBar"})(h2||(h2={}));class xq extends Jp{async setStyle(){this.unavailable("not available for web")}async setAnimation(){this.unavailable("not available for web")}async show(){this.unavailable("not available for web")}async hide(){this.unavailable("not available for web")}}nf("SystemBars",{web:()=>new xq});var fp;(function(t){t.Heavy="HEAVY",t.Medium="MEDIUM",t.Light="LIGHT"})(fp||(fp={}));var hp;(function(t){t.Success="SUCCESS",t.Warning="WARNING",t.Error="ERROR"})(hp||(hp={}));const tm=nf("Haptics",{web:()=>fq(()=>import("./web-D0RTQpz7.js"),[]).then(t=>new t.HapticsWeb)}),nm=Od.isNativePlatform(),pr={light:async()=>{if(nm)try{await tm.impact({style:fp.Light})}catch(t){console.warn("Haptics not available:",t)}else"vibrate"in navigator&&navigator.vibrate(10)},medium:async()=>{if(nm)try{await tm.impact({style:fp.Medium})}catch(t){console.warn("Haptics not available:",t)}else"vibrate"in navigator&&navigator.vibrate(20)},success:async()=>{if(nm)try{await tm.notification({type:hp.Success})}catch(t){console.warn("Haptics not available:",t)}else"vibrate"in navigator&&navigator.vibrate([10,50,10])},error:async()=>{if(nm)try{await tm.notification({type:hp.Error})}catch(t){console.warn("Haptics not available:",t)}else"vibrate"in navigator&&navigator.vibrate([50,30,50])}};var ko;(function(t){t.Prompt="PROMPT",t.Camera="CAMERA",t.Photos="PHOTOS"})(ko||(ko={}));var md;(function(t){t.Rear="REAR",t.Front="FRONT"})(md||(md={}));var m2;(function(t){t.Uri="uri",t.Base64="base64",t.DataUrl="dataUrl"})(m2||(m2={}));class Eq extends Jp{async getPhoto(e){return new Promise(async(n,r)=>{if(e.webUseInput||e.source===ko.Photos)this.fileInputExperience(e,n,r);else if(e.source===ko.Prompt){let s=document.querySelector("pwa-action-sheet");s||(s=document.createElement("pwa-action-sheet"),document.body.appendChild(s)),s.header=e.promptLabelHeader||"Photo",s.cancelable=!1,s.options=[{title:e.promptLabelPhoto||"From Photos"},{title:e.promptLabelPicture||"Take Picture"}],s.addEventListener("onSelection",async o=>{o.detail===0?this.fileInputExperience(e,n,r):this.cameraExperience(e,n,r)})}else this.cameraExperience(e,n,r)})}async pickImages(e){return new Promise(async(n,r)=>{this.multipleFileInputExperience(n,r)})}async cameraExperience(e,n,r){if(customElements.get("pwa-camera-modal")){const s=document.createElement("pwa-camera-modal");s.facingMode=e.direction===md.Front?"user":"environment",document.body.appendChild(s);try{await s.componentOnReady(),s.addEventListener("onPhoto",async o=>{const u=o.detail;u===null?r(new iu("User cancelled photos app")):u instanceof Error?r(u):n(await this._getCameraPhoto(u,e)),s.dismiss(),document.body.removeChild(s)}),s.present()}catch{this.fileInputExperience(e,n,r)}}else console.error("Unable to load PWA Element 'pwa-camera-modal'. See the docs: https://capacitorjs.com/docs/web/pwa-elements."),this.fileInputExperience(e,n,r)}fileInputExperience(e,n,r){let s=document.querySelector("#_capacitor-camera-input");const o=()=>{var u;(u=s.parentNode)===null||u===void 0||u.removeChild(s)};s||(s=document.createElement("input"),s.id="_capacitor-camera-input",s.type="file",s.hidden=!0,document.body.appendChild(s),s.addEventListener("change",u=>{const d=s.files[0];let f="jpeg";if(d.type==="image/png"?f="png":d.type==="image/gif"&&(f="gif"),e.resultType==="dataUrl"||e.resultType==="base64"){const h=new FileReader;h.addEventListener("load",()=>{if(e.resultType==="dataUrl")n({dataUrl:h.result,format:f});else if(e.resultType==="base64"){const g=h.result.split(",")[1];n({base64String:g,format:f})}o()}),h.readAsDataURL(d)}else n({webPath:URL.createObjectURL(d),format:f}),o()}),s.addEventListener("cancel",u=>{r(new iu("User cancelled photos app")),o()})),s.accept="image/*",s.capture=!0,e.source===ko.Photos||e.source===ko.Prompt?s.removeAttribute("capture"):e.direction===md.Front?s.capture="user":e.direction===md.Rear&&(s.capture="environment"),s.click()}multipleFileInputExperience(e,n){let r=document.querySelector("#_capacitor-camera-input-multiple");const s=()=>{var o;(o=r.parentNode)===null||o===void 0||o.removeChild(r)};r||(r=document.createElement("input"),r.id="_capacitor-camera-input-multiple",r.type="file",r.hidden=!0,r.multiple=!0,document.body.appendChild(r),r.addEventListener("change",o=>{const u=[];for(let d=0;d<r.files.length;d++){const f=r.files[d];let h="jpeg";f.type==="image/png"?h="png":f.type==="image/gif"&&(h="gif"),u.push({webPath:URL.createObjectURL(f),format:h})}e({photos:u}),s()}),r.addEventListener("cancel",o=>{n(new iu("User cancelled photos app")),s()})),r.accept="image/*",r.click()}_getCameraPhoto(e,n){return new Promise((r,s)=>{const o=new FileReader,u=e.type.split("/")[1];n.resultType==="uri"?r({webPath:URL.createObjectURL(e),format:u,saved:!1}):(o.readAsDataURL(e),o.onloadend=()=>{const d=o.result;n.resultType==="dataUrl"?r({dataUrl:d,format:u,saved:!1}):r({base64String:d.split(",")[1],format:u,saved:!1})},o.onerror=d=>{s(d)})})}async checkPermissions(){if(typeof navigator>"u"||!navigator.permissions)throw this.unavailable("Permissions API not available in this browser");try{return{camera:(await window.navigator.permissions.query({name:"camera"})).state,photos:"granted"}}catch{throw this.unavailable("Camera permissions are not available in this browser")}}async requestPermissions(){throw this.unimplemented("Not implemented on web.")}async pickLimitedLibraryPhotos(){throw this.unavailable("Not implemented on web.")}async getLimitedLibraryPhotos(){throw this.unavailable("Not implemented on web.")}}const p2=nf("Camera",{web:()=>new Eq}),g2=()=>Od.isNativePlatform(),Tq=({onFilesSelected:t,isAnalyzing:e,isOtherModalOpen:n})=>{const[r,s]=P.useState(!1),o=P.useRef(null),u=P.useRef(null),d=b=>{const _=Array.from(b.target.files||[]);_.length>0&&(pr.success(),t(_),s(!1)),b.target.value=""},f=()=>{pr.medium(),s(!r)},h=async()=>{var b;if(g2())try{pr.light();const _=await p2.getPhoto({quality:90,allowEditing:!1,resultType:"Base64",source:ko.Camera}),E=_.base64String||"",C=`image/${_.format}`,N=atob(E),D=new Array(N.length);for(let G=0;G<N.length;G++)D[G]=N.charCodeAt(G);const U=new Uint8Array(D),M=new Blob([U],{type:C}),z=new File([M],`photo_${Date.now()}.${_.format}`,{type:C});pr.success(),t([z]),s(!1)}catch(_){console.error("Erreur camra:",_),pr.error()}else(b=o.current)==null||b.click()},g=async()=>{var b;if(g2())try{pr.light();const _=await p2.pickImages({quality:90,limit:10}),E=[];for(let C=0;C<_.photos.length;C++){const N=_.photos[C],D=N.base64String||N.webPath;if(D){const U=`image/${N.format}`,M=D.includes("base64,")?D.split("base64,")[1]:D,z=atob(M),G=new Array(z.length);for(let S=0;S<z.length;S++)G[S]=z.charCodeAt(S);const K=new Uint8Array(G),H=new Blob([K],{type:U}),A=new File([H],`photo_${Date.now()}_${C}.${N.format}`,{type:U});E.push(A)}}E.length>0&&(pr.success(),t(E),s(!1))}catch(_){console.error("Erreur galerie:",_),pr.error()}else(b=u.current)==null||b.click()};return n?null:y.jsxs(y.Fragment,{children:[y.jsx("input",{ref:o,type:"file",accept:"image/*",capture:"environment",multiple:!0,onChange:d,className:"hidden"}),y.jsx("input",{ref:u,type:"file",accept:"image/*",multiple:!0,onChange:d,className:"hidden"}),r&&y.jsx("div",{className:"md:hidden fixed inset-0 z-30",onClick:()=>s(!1)}),y.jsxs("div",{className:"md:hidden fixed bottom-24 right-6 z-40",children:[y.jsxs("div",{className:`absolute bottom-20 right-0 transition-all duration-300 origin-bottom-right ${r?"opacity-100 scale-100 translate-y-0":"opacity-0 scale-75 translate-y-4 pointer-events-none"}`,children:[y.jsxs("div",{className:"bg-white dark:bg-raisin-black rounded-2xl shadow-2xl border border-black/10 dark:border-white/10 overflow-hidden w-56",children:[y.jsxs("button",{type:"button",onClick:h,className:"w-full flex items-center gap-3 p-4 hover:bg-gold/10 active:bg-gold/20 transition-colors cursor-pointer border-b border-black/5 dark:border-white/5 text-left",children:[y.jsx("div",{className:"w-10 h-10 bg-gold rounded-full flex items-center justify-center flex-shrink-0",children:y.jsxs("svg",{className:"w-5 h-5 text-onyx",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]})}),y.jsxs("div",{children:[y.jsx("p",{className:"font-semibold text-sm",children:"Appareil Photo"}),y.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Prendre une photo"})]})]}),y.jsxs("button",{type:"button",onClick:g,className:"w-full flex items-center gap-3 p-4 hover:bg-gray-100 dark:hover:bg-gray-800 active:bg-gray-200 dark:active:bg-gray-700 transition-colors cursor-pointer text-left",children:[y.jsx("div",{className:"w-10 h-10 bg-gray-200 dark:bg-gray-700 rounded-full flex items-center justify-center flex-shrink-0",children:y.jsx("svg",{className:"w-5 h-5 text-gray-600 dark:text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),y.jsxs("div",{children:[y.jsx("p",{className:"font-semibold text-sm",children:"Galerie"}),y.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Choisir des photos"})]})]})]}),y.jsx("div",{className:"absolute -bottom-2 right-6 w-4 h-4 bg-white dark:bg-raisin-black rotate-45 border-r border-b border-black/10 dark:border-white/10"})]}),y.jsx("button",{onClick:f,disabled:e,className:`
            relative w-16 h-16 
            bg-gradient-to-r from-gold to-gold-dark text-onyx 
            rounded-full shadow-2xl 
            transition-all duration-300 ease-out
            flex items-center justify-center
            disabled:opacity-50 disabled:cursor-not-allowed 
            active:scale-90
            ${r?"rotate-45 shadow-gold/50 ring-4 ring-gold/30":"rotate-0 hover:scale-105 hover:shadow-gold/30"}
          `,"aria-label":r?"Fermer le menu":"Ajouter un vtement",children:e?y.jsxs("svg",{className:"animate-spin h-8 w-8",fill:"none",viewBox:"0 0 24 24",children:[y.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),y.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):y.jsx("svg",{className:"w-8 h-8 transition-transform duration-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M12 4v16m8-8H4"})})})]})]})},Sq=({onAnalyzeWardrobe:t,onScrollToOutfits:e,onScrollToVacation:n,onStartSetCreation:r,onShowFavorites:s,onShowWornOutfits:o,isAnalyzingWardrobe:u,clothingCount:d,favoriteOutfitCount:f,wornOutfitCount:h})=>y.jsxs("div",{className:"space-y-4 pb-24",children:[y.jsxs("div",{className:"text-center py-6",children:[y.jsxs("h2",{className:"text-3xl font-serif font-bold mb-2",children:[y.jsx("span",{className:"text-gold",children:"Ma"})," Garde-Robe"]}),y.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:[d," vtement",d>1?"s":""," dans votre collection"]})]}),y.jsxs("div",{className:"space-y-3 px-4",children:[d>=3&&y.jsx("button",{onClick:t,disabled:u,className:"w-full bg-gradient-to-r from-gold/10 to-gold-dark/10 border-2 border-gold/30 rounded-2xl p-5 text-left transition-all active:scale-98 disabled:opacity-50",children:y.jsxs("div",{className:"flex items-start gap-4",children:[y.jsx("div",{className:"w-12 h-12 bg-gold rounded-xl flex items-center justify-center flex-shrink-0",children:u?y.jsxs("svg",{className:"animate-spin h-6 w-6 text-onyx",fill:"none",viewBox:"0 0 24 24",children:[y.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),y.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):y.jsx("svg",{className:"w-6 h-6 text-onyx",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})})}),y.jsxs("div",{className:"flex-1",children:[y.jsx("h3",{className:"text-lg font-bold mb-1",children:" Analyser ma garde-robe"}),y.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Dcouvrez quelles pices acheter pour plus de polyvalence"})]})]})}),y.jsx("button",{onClick:e,className:"w-full bg-gradient-to-r from-purple-500/10 to-pink-500/10 border-2 border-purple-500/30 rounded-2xl p-5 text-left transition-all active:scale-98",children:y.jsxs("div",{className:"flex items-start gap-4",children:[y.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-purple-500 to-pink-500 rounded-xl flex items-center justify-center flex-shrink-0",children:y.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zm0 0h12a2 2 0 002-2v-4a2 2 0 00-2-2h-2.343M11 7.343l1.657-1.657a2 2 0 012.828 0l2.829 2.829a2 2 0 010 2.828l-8.486 8.485M7 17h.01"})})}),y.jsxs("div",{className:"flex-1",children:[y.jsx("h3",{className:"text-lg font-bold mb-1",children:" Crateur de Tenues"}),y.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Gnrez des looks personnaliss avec l'IA"})]})]})}),y.jsx("button",{onClick:n,className:"w-full bg-gradient-to-r from-blue-500/10 to-cyan-500/10 border-2 border-blue-500/30 rounded-2xl p-5 text-left transition-all active:scale-98",children:y.jsxs("div",{className:"flex items-start gap-4",children:[y.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-500 to-cyan-500 rounded-xl flex items-center justify-center flex-shrink-0",children:y.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})})}),y.jsxs("div",{className:"flex-1",children:[y.jsx("h3",{className:"text-lg font-bold mb-1",children:" Planificateur de Valise"}),y.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Prparez votre valise optimale pour votre voyage"})]})]})})]}),y.jsx("div",{className:"px-4 pt-6",children:y.jsxs("div",{className:"bg-gray-100 dark:bg-gray-800 rounded-2xl p-4",children:[y.jsx("h4",{className:"font-semibold mb-3 text-sm text-gray-600 dark:text-gray-400",children:"Aperu rapide"}),y.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[y.jsxs("button",{onClick:o,className:"bg-white dark:bg-raisin-black rounded-xl p-3 text-center flex flex-col items-center justify-center hover:bg-gray-50 dark:hover:bg-raisin-black/50 transition-colors active:scale-95",children:[y.jsx("div",{className:"text-blue-500",children:y.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),y.jsx("p",{className:"text-2xl font-bold",children:h}),y.jsx("p",{className:"text-xs text-gray-500 mt-0.5 font-medium",children:"Portes (7j)"})]}),y.jsxs("button",{onClick:r,className:"bg-white dark:bg-raisin-black rounded-xl p-3 text-center flex flex-col items-center justify-center hover:bg-gray-50 dark:hover:bg-raisin-black/50 transition-colors active:scale-95",children:[y.jsx("div",{className:"text-green-500",children:y.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.536a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})})}),y.jsx("p",{className:"text-xs text-gray-500 mt-1.5 font-medium",children:"Crer un ensemble"})]}),y.jsxs("button",{onClick:s,className:"bg-white dark:bg-raisin-black rounded-xl p-3 text-center flex flex-col items-center justify-center hover:bg-gray-50 dark:hover:bg-raisin-black/50 transition-colors active:scale-95",children:[y.jsx("div",{className:"text-red-500",children:y.jsx($m,{})}),y.jsx("p",{className:"text-2xl font-bold",children:f}),y.jsx("p",{className:"text-xs text-gray-500 mt-0.5 font-medium",children:"Favorites"})]})]})]})})]}),Aq=({activeTab:t,onTabChange:e,counts:n})=>{const r=[{id:"home",label:"Home",icon:y.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),count:null},{id:"hauts",label:"Hauts",icon:y.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})}),count:n.hauts},{id:"bas",label:"Bas",icon:y.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"})}),count:n.bas},{id:"chaussures",label:"Chaussures",icon:y.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 10l-2 1m0 0l-2-1m2 1v2.5M20 7l-2 1m2-1l-2-1m2 1v2.5M14 4l-2-1-2 1M4 7l2-1M4 7l2 1M4 7v2.5M12 21l-2-1m2 1l2-1m-2 1v-2.5M6 18l-2-1v-2.5M18 18l2-1v-2.5"})}),count:n.chaussures},{id:"accessoires",label:"Accessoires",icon:y.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})}),count:n.accessoires}];return y.jsx("nav",{className:"md:hidden fixed bottom-0 left-0 right-0 bg-white dark:bg-raisin-black border-t border-black/10 dark:border-white/10 z-30 pb-8",children:y.jsx("div",{className:"flex justify-around items-center h-16",children:r.map(s=>{const o=t===s.id;return y.jsxs("button",{onClick:()=>{pr.light(),e(s.id)},className:`flex flex-col items-center justify-center gap-1 px-3 py-2 transition-all flex-1 ${o?"text-gold":"text-gray-500 dark:text-gray-400"}`,children:[y.jsxs("div",{className:"relative",children:[s.icon,s.count!==null&&s.count>0&&y.jsx("span",{className:`absolute -top-1 -right-1 text-[10px] font-bold px-1.5 py-0.5 rounded-full ${o?"bg-gold text-onyx":"bg-gray-300 dark:bg-gray-600 text-gray-700 dark:text-gray-300"}`,children:s.count})]}),y.jsx("span",{className:`text-xs font-medium ${o?"font-bold":""}`,children:s.label})]},s.id)})})})},Cq=({analysis:t,onClose:e})=>{if(!t)return null;const n={high:"bg-red-500/10 text-red-600 dark:text-red-400 border-red-500/20",medium:"bg-yellow-500/10 text-yellow-600 dark:text-yellow-400 border-yellow-500/20",low:"bg-green-500/10 text-green-600 dark:text-green-400 border-green-500/20"},r={high:"Priorit haute",medium:"Priorit moyenne",low:"Bonne ide"};return y.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:y.jsxs("div",{className:"bg-white dark:bg-raisin-black rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[y.jsx("div",{className:"sticky top-0 bg-gradient-to-r from-gold to-gold-dark p-6 rounded-t-2xl",children:y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsx("h2",{className:"text-2xl font-serif font-bold text-onyx",children:" Suggestions d'Achats"}),y.jsx("button",{onClick:e,className:"p-2 hover:bg-black/10 rounded-full transition",children:y.jsx("svg",{className:"w-6 h-6 text-onyx",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),y.jsxs("div",{className:"p-6 space-y-6",children:[y.jsxs("div",{className:"bg-gold/5 border border-gold/20 rounded-xl p-4",children:[y.jsx("h3",{className:"font-semibold text-lg mb-2",children:" Analyse de votre garde-robe"}),y.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:t.summary})]}),y.jsxs("div",{children:[y.jsxs("h3",{className:"font-semibold text-lg mb-3 flex items-center gap-2",children:[y.jsx("span",{className:"text-green-500",children:""})," Points forts"]}),y.jsx("div",{className:"grid gap-2",children:t.strengths.map((s,o)=>y.jsxs("div",{className:"flex items-start gap-2 text-sm",children:[y.jsx("span",{className:"text-green-500 mt-0.5",children:""}),y.jsx("span",{children:s})]},o))})]}),y.jsxs("div",{children:[y.jsxs("h3",{className:"font-semibold text-lg mb-3 flex items-center gap-2",children:[y.jsx("span",{className:"text-orange-500",children:""})," Opportunits d'amlioration"]}),y.jsx("div",{className:"grid gap-2",children:t.gaps.map((s,o)=>y.jsxs("div",{className:"flex items-start gap-2 text-sm",children:[y.jsx("span",{className:"text-orange-500 mt-0.5",children:""}),y.jsx("span",{children:s})]},o))})]}),y.jsxs("div",{children:[y.jsxs("h3",{className:"font-semibold text-xl mb-4 flex items-center gap-2",children:[y.jsx("span",{children:""})," Pices recommandes"]}),y.jsx("div",{className:"grid gap-4",children:t.suggestions.map((s,o)=>y.jsxs("div",{className:"border border-black/10 dark:border-white/10 rounded-xl p-5 hover:shadow-lg transition-shadow",children:[y.jsxs("div",{className:"flex justify-between items-start mb-3",children:[y.jsxs("div",{children:[y.jsx("h4",{className:"font-bold text-lg",children:s.description}),y.jsx("p",{className:"text-sm text-gray-500",children:s.category})]}),y.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold border ${n[s.priority]}`,children:r[s.priority]})]}),y.jsxs("p",{className:"text-sm mb-3 text-gray-700 dark:text-gray-300",children:[y.jsx("span",{className:"font-semibold",children:"Pourquoi ?"})," ",s.reason]}),y.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[s.estimatedPrice&&y.jsxs("div",{className:"flex items-center gap-2 text-sm text-gold font-semibold",children:[y.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),s.estimatedPrice]}),y.jsxs("a",{href:`https://www.google.com/search?q=${encodeURIComponent(s.searchQuery+" achat en ligne")}&tbm=shop`,target:"_blank",rel:"noopener noreferrer",className:"ml-auto inline-flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-blue-500 to-blue-600 text-white text-sm font-semibold rounded-lg hover:from-blue-600 hover:to-blue-700 transition-all shadow-sm hover:shadow-md",children:[y.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),"Rechercher en ligne"]})]})]},o))})]})]})]})})},Rq=({open:t,clothingItems:e,clothingSets:n,onGenerate:r,isGenerating:s,suggestedOutfits:o,onClose:u,weatherInfo:d,weatherError:f,favoriteOutfits:h,onToggleFavorite:g,onGenerateVisual:b,generatingVisualFor:_,selectedOutfit:E,onSelectOutfit:C})=>{const N=document.documentElement.classList.contains("dark"),D=P.useRef(null);return P.useEffect(()=>{!s&&o.length>0&&D.current&&D.current.scrollIntoView({behavior:"smooth",block:"nearest"})},[s,o.length]),y.jsx(Iu,{open:t,onDismiss:u,className:N?"dark":"",header:y.jsxs("div",{className:"flex items-center justify-between w-full",children:[y.jsx("h2",{className:"text-xl font-bold text-raisin-black dark:text-snow",children:" Crateur de Tenues"}),y.jsx("button",{onClick:u,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-full transition-colors",children:y.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),defaultSnap:({maxHeight:U})=>U*.65,snapPoints:({minHeight:U,maxHeight:M})=>[U,M*.65,M*.85],children:y.jsxs("div",{className:"p-6 space-y-6 bg-white dark:bg-raisin-black text-raisin-black dark:text-snow",children:[y.jsx(KN,{clothingItems:e,clothingSets:n,onGenerate:r,isGenerating:s,weatherInfo:d,weatherError:f}),s&&y.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[y.jsxs("svg",{className:"animate-spin h-10 w-10 text-gold",fill:"none",viewBox:"0 0 24 24",children:[y.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),y.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),y.jsx("p",{className:"mt-4 text-sm text-gray-500 dark:text-gray-400 font-medium",children:"L'IA compose vos tenues..."})]}),y.jsx("div",{ref:D,children:o.length>0&&y.jsx(eu,{outfits:o,allClothingItems:e,allClothingSets:n,favoriteOutfits:h,onToggleFavorite:g,onGenerateVisual:b,generatingVisualFor:_,selectedOutfit:E,onSelectOutfit:C})})]})})},Iq=({open:t,clothingItems:e,clothingSets:n,onGeneratePlan:r,isGenerating:s,vacationPlan:o,onCreateSet:u,onClose:d})=>{const f=document.documentElement.classList.contains("dark");return y.jsx(Iu,{open:t,onDismiss:d,className:f?"dark":"",header:y.jsxs("div",{className:"flex items-center justify-between w-full",children:[y.jsx("h2",{className:"text-xl font-bold text-raisin-black dark:text-snow",children:" Planificateur de Valise"}),y.jsx("button",{onClick:d,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-full transition-colors",children:y.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),defaultSnap:({maxHeight:h})=>h*.6,snapPoints:({maxHeight:h})=>[h*.55,h*.85],children:y.jsxs("div",{className:"p-6 space-y-6 bg-white dark:bg-raisin-black text-raisin-black dark:text-snow min-h-[45vh]",children:[y.jsx(Gk,{clothingItems:e,clothingSets:n,onGeneratePlan:r,isGenerating:s}),s&&y.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[y.jsxs("svg",{className:"animate-spin h-10 w-10 text-gold",fill:"none",viewBox:"0 0 24 24",children:[y.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),y.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),y.jsx("p",{className:"mt-4 text-sm text-gray-500 dark:text-gray-400 font-medium",children:"Prparation de votre valise..."})]}),o&&y.jsx($k,{plan:o,allClothingItems:e,allClothingSets:n,onCreateSet:u})]})})},Nq=({open:t,clothingItems:e,clothingSets:n,onClose:r,onCreateSet:s})=>{const[o,u]=P.useState(new Set),d=new Set(n.flatMap(E=>E.itemIds)),h=e.filter(E=>!d.has(E.id)).reduce((E,C)=>(E[C.category]||(E[C.category]=[]),E[C.category].push(C),E),{}),g=E=>{u(C=>{const N=new Set(C);return N.has(E)?N.delete(E):N.add(E),N})},b=()=>{if(o.size<2){alert("Veuillez slectionner au moins 2 articles.");return}const E=window.prompt("Donnez un nom  cet ensemble :");E&&s(E,Array.from(o))},_=document.documentElement.classList.contains("dark");return y.jsx(Iu,{open:t,onDismiss:r,className:_?"dark":"",header:y.jsxs("div",{className:"flex items-center justify-between w-full",children:[y.jsx("h2",{className:"text-xl font-bold text-raisin-black dark:text-snow",children:" Crer un ensemble"}),y.jsx("button",{onClick:r,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-full transition-colors",children:y.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),footer:o.size>0&&y.jsx("div",{className:"p-4 border-t border-black/10 dark:border-white/10 bg-white dark:bg-raisin-black",children:y.jsxs("button",{onClick:b,disabled:o.size<2,className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-gold text-onyx font-bold rounded-lg hover:bg-gold-dark transition-all duration-300 disabled:bg-gray-400 dark:disabled:bg-gray-600",children:[y.jsx(Fp,{}),"Lier ",o.size," article",o.size>1?"s":""]})}),defaultSnap:({maxHeight:E})=>E*.6,snapPoints:({maxHeight:E})=>[E*.6,E*.85],children:y.jsxs("div",{className:"p-4 bg-white dark:bg-raisin-black text-raisin-black dark:text-snow",children:[y.jsx("p",{className:"text-sm text-center text-gray-500 dark:text-gray-400 mb-4",children:"Slectionnez les articles que vous souhaitez lier (ex: une veste et son pantalon)."}),y.jsx("div",{className:"space-y-4",children:Object.keys(h).map(E=>h[E].length>0&&y.jsxs("div",{children:[y.jsx("h3",{className:"font-semibold text-lg mb-2",children:E}),y.jsx("div",{className:"grid grid-cols-3 gap-3",children:h[E].map(C=>{const N=o.has(C.id);return y.jsxs("button",{onClick:()=>g(C.id),className:"relative rounded-xl overflow-hidden shadow-lg cursor-pointer active:scale-95 transition-transform border-2",style:{borderColor:N?"#D4AF37":"transparent"},children:[N&&y.jsx("div",{className:"absolute top-1 right-1 p-0.5 bg-gold rounded-full text-onyx z-10",children:y.jsx(n_,{})}),y.jsx("div",{className:"aspect-square",children:y.jsx("img",{src:C.imageSrc,alt:C.analysis,className:"w-full h-full object-cover"})}),y.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 to-transparent"}),y.jsx("p",{className:"absolute bottom-1 left-1 right-1 text-white text-xs font-medium line-clamp-2 p-1",children:C.analysis})]},C.id)})})]},E))})]})})},kq=(t,e)=>{const n=Ka(Xr,"users",t,"items"),r=Vp(n);return zp(r,o=>{const u=o.docs.map(d=>({id:d.id,...d.data()}));e(u)},o=>{console.error("Erreur (items listener):",o)})},Dq=async(t,e)=>{try{const n=Ka(Xr,"users",t,"items");return(await Up(n,e)).id}catch(n){throw console.error("Erreur lors de l'ajout d'un vtement:",n),n}},v2=async(t,e,n)=>{try{const r=Su(Xr,"users",t,"items",e);await FL(r,n)}catch(r){throw console.error("Erreur lors de la mise  jour d'un vtement:",r),r}},y2=async(t,e)=>{try{const n=Su(Xr,"users",t,"items",e);await Kb(n)}catch(n){throw console.error("Erreur lors de la suppression d'un vtement:",n),n}},Oq=(t,e)=>{const n=Ka(Xr,"users",t,"favoriteOutfits"),r=Vp(n);return zp(r,o=>{const u=o.docs.map(d=>({id:d.id,...d.data()}));e(u)},o=>{console.error("Erreur (favoriteOutfits listener):",o)})},Pq=async(t,e)=>{try{const n=Ka(Xr,"users",t,"favoriteOutfits");return(await Up(n,e)).id}catch(n){throw console.error("Erreur lors de l'ajout d'une tenue favorite:",n),n}},jq=async(t,e)=>{try{const n=Su(Xr,"users",t,"favoriteOutfits",e);await Kb(n)}catch(n){throw console.error("Erreur lors de la suppression d'une tenue favorite:",n),n}},Mq=(t,e)=>{const n=Ka(Xr,"users",t,"sets"),r=Vp(n);return zp(r,o=>{const u=o.docs.map(d=>({id:d.id,...d.data()}));e(u)},o=>{console.error("Erreur (sets listener):",o)})},Vq=async(t,e)=>{try{const n=Ka(Xr,"users",t,"sets");return(await Up(n,e)).id}catch(n){throw console.error("Erreur lors de l'ajout d'un ensemble:",n),n}},Lq=async(t,e)=>{try{const n=Su(Xr,"users",t,"sets",e);await Kb(n)}catch(n){throw console.error("Erreur lors de la suppression d'un ensemble:",n),n}},Uq=async(t,e,n,r)=>{try{const s=Ka(Xr,"users",t,"wearHistory");return(await Up(s,{outfitTitle:e,outfitDescription:n,itemIds:r,wornAt:Date.now()})).id}catch(s){throw console.error("Erreur lors de l'ajout de l'historique de port:",s),s}},zq=(t,e)=>{const n=Ka(Xr,"users",t,"wearHistory"),r=Date.now()-720*60*60*1e3,s=Vp(n,VL("wornAt",">=",r));return zp(s,u=>{const d=u.docs.map(f=>({id:f.id,...f.data()}));e(d)},u=>{console.error("Erreur (wearHistory listener):",u)})},Bq=async(t,e,n)=>{try{const r=cI(hI,`users/${t}/clothing/${n}.jpg`);return await Q6(r,e,"data_url"),await uI(r)}catch(r){throw console.error("Erreur upload vtement:",r),r}},Fq=async(t,e)=>{try{const n=await Hq(e,1024),r=cI(hI,`users/${t}/profile/model_photo.jpg`);return await W6(r,n),await uI(r)}catch(n){throw console.error("Erreur upload photo profil:",n),n}},Hq=(t,e)=>new Promise((n,r)=>{const s=new FileReader;s.readAsDataURL(t),s.onload=o=>{var d;const u=new Image;u.src=(d=o.target)==null?void 0:d.result,u.onload=()=>{const f=e/u.width,h=document.createElement("canvas");h.width=e,h.height=u.height*f;const g=h.getContext("2d");g?(g.drawImage(u,0,0,h.width,h.height),h.toBlob(b=>{b?n(b):r(new Error("Blob creation failed"))},"image/jpeg",.85)):r(new Error("Canvas error"))}},s.onerror=o=>r(o)}),Kk=P.createContext(void 0),qq=t=>new Promise((e,n)=>{const r=new FileReader;r.readAsDataURL(t),r.onload=s=>{var u;const o=new Image;o.src=(u=s.target)==null?void 0:u.result,o.onload=()=>{const d=document.createElement("canvas"),f=800,h=f/o.width;d.width=f,d.height=o.height*h;const g=d.getContext("2d");g?(g.drawImage(o,0,0,d.width,d.height),e(d.toDataURL("image/jpeg",.7))):n(new Error("Canvas context error"))},o.onerror=d=>n(d)},r.onerror=s=>n(s)}),Gq=({children:t,user:e})=>{const[n,r]=P.useState([]),[s,o]=P.useState([]),[u,d]=P.useState([]),[f,h]=P.useState([]),[g,b]=P.useState(localStorage.getItem("dressmup_user_model_url")),[_,E]=P.useState(!1),[C,N]=P.useState(!0);P.useEffect(()=>{g&&localStorage.setItem("dressmup_user_model_url",g)},[g]),P.useEffect(()=>{if(e){const O=kq(e.uid,Q=>{r(Q),N(!1)}),j=Mq(e.uid,Q=>{o(Q)}),ve=Oq(e.uid,Q=>{d(Q)}),Ce=zq(e.uid,Q=>{h(Q)});return()=>{O(),j(),ve(),Ce()}}else r([]),o([]),d([]),h([]),N(!1)},[e]);const D=P.useCallback(async O=>{if(e)try{const j=await Fq(e.uid,O);b(j)}catch(j){throw console.error("Erreur mise  jour photo modle:",j),j}},[e]),U=P.useCallback(async O=>{if(!(O.length===0||!e)){E(!0);try{const j=O.map(de=>qq(de)),ve=await Promise.all(j),Ce=ve.map(de=>de.split(",")[1]),Q=await S5(Ce),se=Math.min(Q.length,O.length);for(let de=0;de<se;de++){const xe=Q[de];let Ee="";try{Ee=await Dq(e.uid,{...xe,createdAt:Date.now()});const B=await Bq(e.uid,ve[de],Ee);await v2(e.uid,Ee,{imageSrc:B})}catch(B){console.error(`chec pour ${O[de].name}.`,B),Ee&&await y2(e.uid,Ee)}}}catch(j){console.error("Erreur lot:",j)}finally{E(!1)}}},[e]),M=P.useCallback(async O=>{e&&await y2(e.uid,O)},[e]),z=P.useCallback(async O=>{e&&await v2(e.uid,O.id,O)},[e]),G=P.useCallback(async O=>{if(!e)return;const{id:j,...ve}=O;await Pq(e.uid,ve)},[e]),K=P.useCallback(async O=>{e&&await jq(e.uid,O)},[e]),H=P.useCallback(async(O,j)=>{var Q;if(!e)return;const ve=((Q=n.find(se=>se.id===j[0]))==null?void 0:Q.imageSrc)||"",Ce={name:O,itemIds:j,imageSrc:ve};await Vq(e.uid,Ce)},[e,n]),A=P.useCallback(async O=>{e&&await Lq(e.uid,O)},[e]),S=P.useCallback(async(O,j,ve)=>{e&&await Uq(e.uid,O,j,ve)},[e]),R=P.useCallback(O=>f.filter(j=>j.itemIds.includes(O)).length,[f]),L=P.useCallback(()=>{const O=Date.now()-6048e5;return f.filter(j=>j.wornAt>=O).sort((j,ve)=>ve.wornAt-j.wornAt)},[f]),V={clothingItems:n,clothingSets:s,favoriteOutfits:u,wearHistory:f,userModelImage:g,setUserModelImage:b,updateUserModelPhoto:D,isAnalyzing:_,analyzeClothingItems:U,deleteClothingItem:M,updateClothingItem:z,createClothingSet:H,deleteClothingSet:A,addFavoriteOutfit:G,deleteFavoriteOutfit:K,recordOutfitWear:S,getItemWearCount:R,getWornOutfitsLast7Days:L,loading:C};return y.jsx(Kk.Provider,{value:V,children:t})},$q=()=>{const t=P.useContext(Kk);if(t===void 0)throw new Error("useWardrobe doit tre utilis  l'intrieur d'un WardrobeProvider");return t},Kq={openWeatherApiKey:"074ebc9404ca1a72d5b0759070161539"},Yq=({open:t,onClose:e,allClothingItems:n,allClothingSets:r,favoriteOutfits:s,onToggleFavorite:o,onGenerateVisual:u,generatingVisualFor:d,selectedOutfit:f,onSelectOutfit:h})=>{const g=document.documentElement.classList.contains("dark");return y.jsx(Iu,{open:t,onDismiss:e,className:g?"dark":"",header:y.jsxs("div",{className:"flex items-center justify-between w-full",children:[y.jsx("h2",{className:"text-xl font-bold text-raisin-black dark:text-snow",children:" Tenues Favorites"}),y.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-full transition-colors",children:y.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),defaultSnap:({maxHeight:b})=>b*.65,snapPoints:({maxHeight:b})=>[b*.65,b*.85],children:y.jsx("div",{className:"p-6 bg-white dark:bg-raisin-black text-raisin-black dark:text-snow",children:s.length>0?y.jsx(eu,{outfits:s,allClothingItems:n,allClothingSets:r,favoriteOutfits:s,onToggleFavorite:o,onGenerateVisual:u,generatingVisualFor:d,selectedOutfit:f,onSelectOutfit:h}):y.jsxs("div",{className:"text-center py-12",children:[y.jsx("p",{className:"text-gray-500",children:"Vous n'avez pas encore de tenues favorites."}),y.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Cliquez sur le cur  sur une tenue gnre pour l'ajouter."})]})})})},Wq=({open:t,onClose:e,allClothingItems:n,allClothingSets:r,wornOutfits:s,favoriteOutfits:o,onToggleFavorite:u,onGenerateVisual:d,generatingVisualFor:f,selectedOutfit:h,onSelectOutfit:g})=>{const b=document.documentElement.classList.contains("dark"),_=P.useMemo(()=>s.map(E=>{const C=E.itemIds.map(N=>{const D=n.find(U=>U.id===N);return D?{id:D.id,description:D.analysis}:{id:N,description:"Article supprim"}});return{titre:E.outfitTitle,description:E.outfitDescription,vetements:C}}),[s,n]);return y.jsx(Iu,{open:t,onDismiss:e,className:b?"dark":"",header:y.jsxs("div",{className:"flex items-center justify-between w-full",children:[y.jsx("h2",{className:"text-xl font-bold text-raisin-black dark:text-snow",children:" Tenues Portes"}),y.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-full transition-colors",children:y.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),defaultSnap:({maxHeight:E})=>E*.65,snapPoints:({maxHeight:E})=>[E*.65,E*.85],children:y.jsx("div",{className:"p-6 bg-white dark:bg-raisin-black text-raisin-black dark:text-snow",children:_.length>0?y.jsxs(y.Fragment,{children:[y.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Vos tenues portes ces 7 derniers jours"}),y.jsx(eu,{outfits:_,allClothingItems:n,allClothingSets:r,favoriteOutfits:o,onToggleFavorite:u,onGenerateVisual:d,generatingVisualFor:f,selectedOutfit:h,onSelectOutfit:g})]}):y.jsxs("div",{className:"text-center py-12",children:[y.jsx("div",{className:"text-6xl mb-4",children:""}),y.jsx("p",{className:"text-gray-500 font-medium",children:"Vous n'avez pas encore port de tenue cette semaine."}),y.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Slectionnez une tenue en cliquant sur  pour l'ajouter  votre historique"})]})})})},rm=!1,xo=t=>{const e=t instanceof Error?t.message:String(t);return e.includes("API_KEY_HTTP_REFERRER_BLOCKED")||e.includes("403")?" Accs refus par Google : Domaine non autoris. Vrifiez la console Google Cloud.":e.includes("429")||e.includes("payment method")||e.includes("throttled")?" Limite de gnration atteinte. Veuillez attendre quelques secondes ou ajouter un moyen de paiement sur Replicate.":e.includes("prediction")?" Erreur lors de la gnration visuelle. Le service est peut-tre surcharg.":e.includes("404")?" Modle introuvable. Veuillez ressayer plus tard.":e.includes("API_KEY_INVALID")?" Cl API invalide. Vrifiez votre configuration.":e},Qq=()=>{const[t,e]=P.useState(null),[n,r]=P.useState(null),[s,o]=P.useState([]),[u,d]=P.useState(null),[f,h]=P.useState(!1),[g,b]=P.useState(null),[_,E]=P.useState(!1),[C,N]=P.useState(null),[D,U]=P.useState(!1),[M,z]=P.useState("home"),[G,K]=P.useState(!1),[H,A]=P.useState(!1),[S,R]=P.useState(!1),[L,V]=P.useState(!1),[O,j]=P.useState(!1),[ve,Ce]=P.useState(!1),[Q,se]=P.useState(null),[de,xe]=P.useState(null),[Ee,B]=P.useState(!1),[Z,ee]=P.useState(0),[re,me]=P.useState(null),[Pe,Se]=P.useState(null),[Nt,wt]=P.useState(!1),[jn,yr]=P.useState(!1),[Pt,Mn]=P.useState(""),[wn,Cn]=P.useState("favorites");P.useEffect(()=>{if(n){const he=n.includes("Accs refus")?1e4:5e3,_e=setTimeout(()=>r(null),he);return()=>clearTimeout(_e)}},[n]);const[rr,Zr]=P.useState(()=>!localStorage.getItem("dressmup_onboarding_complete")),{clothingItems:br,clothingSets:_r,isAnalyzing:Rn,analyzeClothingItems:ir,deleteClothingItem:vi,createClothingSet:Mr,updateClothingItem:yt,deleteClothingSet:dn,favoriteOutfits:ke,addFavoriteOutfit:kt,deleteFavoriteOutfit:Gt,userModelImage:Wt,recordOutfitWear:yi,getItemWearCount:Wa,getWornOutfitsLast7Days:xn,loading:sr}=$q(),[jt,ae]=P.useState(null),fe=Sn.useMemo(()=>(br||[]).sort((_e,Le)=>(Le.isFavorite?1:0)-(_e.isFavorite?1:0)),[br]),ye=P.useCallback(he=>{const _e=ke.find(Le=>Le.titre===he.titre&&Le.description===he.description);_e?(Gt(_e.id),ae("Retir des favoris"),pr.light()):(kt(he),ae("Ajout aux favoris "),pr.success()),setTimeout(()=>ae(null),2e3)},[ke,kt,Gt]),Ue=P.useCallback(he=>{if((u==null?void 0:u.titre)===he.titre&&(u==null?void 0:u.description)===he.description)d(null),ae("Slection annule"),pr.light();else{d(he),ae("Tenue choisie "),pr.success();const Le=he.vetements.map(Ct=>Ct.id);yi(he.titre,he.description,Le)}setTimeout(()=>ae(null),2e3)},[u,yi]),De=Sn.useMemo(()=>_r||[],[_r]),Ke=Sn.useMemo(()=>new Set(De.flatMap(he=>he.itemIds||[])),[De]),qe=P.useMemo(()=>xn(),[xn]);P.useEffect(()=>{const he=async _e=>{const Le=_e.coords.latitude,Ct=_e.coords.longitude,Er=Kq.openWeatherApiKey,ar=`https://api.openweathermap.org/data/2.5/weather?lat=${Le}&lon=${Ct}&appid=${Er}&units=metric&lang=fr`;try{const bi=await fetch(ar);if(!bi.ok)throw new Error("Impossible de rcuprer la mto.");const or=await bi.json(),Tr=`${Math.round(or.main.temp)}C, ${or.weather[0].description},  ${or.name}`;se(Tr),xe(null)}catch{xe("Mto indisponible.")}};navigator.geolocation?navigator.geolocation.getCurrentPosition(he,()=>xe("Activez la golocalisation pour la mto.")):xe("Golocalisation non supporte.")},[]);const Qe=P.useCallback(async(he,_e)=>{if(fe.length===0){r("Veuillez d'abord ajouter des vtements.");return}h(!0),r(null);const Le=Q?`Mto actuelle : ${Q}. Occasion : ${he}`:`Occasion : ${he}`;try{const Ct=await C5(fe,De,Le,_e);o(Ct)}catch(Ct){r(xo(Ct))}finally{h(!1)}},[fe,De,Q]),Xe=P.useCallback(async(he,_e,Le)=>{if(fe.length===0){r("Veuillez d'abord ajouter des vtements.");return}E(!0),r(null);try{const Ct=await k5(fe,De,he,_e,Le);b(Ct)}catch(Ct){r(xo(Ct))}finally{E(!1)}},[fe,De]),Ne=P.useCallback(async()=>{if(fe.length<3){r("Ajoutez au moins 3 vtements pour une analyse.");return}U(!0),r(null);try{const he=await I5(fe,De);N(he)}catch(he){r(xo(he))}finally{U(!1)}},[fe,De]),ze=P.useCallback(async he=>{},[fe,Wt]),rn=P.useCallback(()=>K(!0),[]),wr=P.useCallback(()=>A(!0),[]),Ft=he=>e(he),xt=()=>e(null),lt=he=>{vi(he).catch(_e=>r(xo(_e))),e(null)},Vn=he=>{yt(he).catch(_e=>r(xo(_e))),e(he)},Dt=he=>{const _e=`Focus sur l'article : ${he.analysis}`;Qe(_e,he),e(null),window.innerWidth<768&&K(!0)},sn=P.useCallback((he,_e)=>{Mr(he,_e).catch(Le=>r(xo(Le)))},[Mr]),xr=P.useCallback(he=>{dn(he).catch(_e=>r(xo(_e)))},[dn]);P.useCallback(async()=>{B(!0),pr.medium(),await new Promise(he=>setTimeout(he,1e3)),B(!1),pr.success()},[]);const En={hauts:fe.filter(he=>he.category==="Hauts").length,bas:fe.filter(he=>he.category==="Bas").length,chaussures:fe.filter(he=>he.category==="Chaussures").length,accessoires:fe.filter(he=>he.category==="Accessoires").length},fn=P.useMemo(()=>{if(M==="home")return[];let he=fe.filter(_e=>M==="hauts"?_e.category==="Hauts":M==="bas"?_e.category==="Bas":M==="chaussures"?_e.category==="Chaussures":M==="accessoires"?_e.category==="Accessoires":!1);if(Pt.trim()){const _e=Pt.toLowerCase();he=he.filter(Le=>Le.analysis.toLowerCase().includes(_e)||Le.color.toLowerCase().includes(_e)||Le.material.toLowerCase().includes(_e))}return[...he].sort((_e,Le)=>{switch(wn){case"favorites":return(Le.isFavorite?1:0)-(_e.isFavorite?1:0);case"newest":return(Le.createdAt||0)-(_e.createdAt||0);case"oldest":return(_e.createdAt||0)-(Le.createdAt||0);case"color":return _e.color.localeCompare(Le.color);default:return 0}})},[M,fe,Pt,wn]),Vr=G||H||S||!!t||!!C||!!Pe||ve;return P.useEffect(()=>{const he=document.querySelector("header");he&&(he.style.zIndex=Vr?"10":"50")},[Vr]),P.useEffect(()=>{if(!Rn&&fe.length>Z&&Z>0){const he=fe.length-Z;ae(`${he} vtement${he>1?"s":""} ajout${he>1?"s":""} `),setTimeout(()=>ae(null),2e3)}ee(fe.length)},[Rn,fe.length]),y.jsxs("main",{className:"container mx-auto px-4 lg:px-8 py-10",children:[rm,n&&y.jsxs("div",{className:"bg-red-500/20 border border-red-500 text-red-700 dark:text-red-300 px-4 py-3 rounded-lg relative mb-8 flex items-center justify-between shadow-sm animate-pulse",role:"alert",children:[y.jsxs("div",{className:"flex-1 mr-2",children:[y.jsx("strong",{className:"font-bold block mb-1",children:"Attention :"}),y.jsx("span",{className:"block text-sm leading-relaxed",children:n})]}),y.jsx("button",{onClick:()=>r(null),className:"p-1.5 hover:bg-red-500/30 rounded-full transition-colors flex-shrink-0","aria-label":"Fermer",children:y.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),y.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-10",children:[y.jsxs("div",{className:"lg:col-span-2 space-y-10",children:[rm,fe.length>=3&&y.jsxs("div",{className:"hidden md:block bg-gradient-to-r from-gold/10 to-gold-dark/10 border-2 border-gold/30 rounded-xl p-4 md:p-6 flex flex-col md:flex-row items-start md:items-center gap-4 md:justify-between",children:[y.jsxs("div",{children:[y.jsx("h3",{className:"text-xl font-bold mb-2",children:" Besoin d'inspiration ?"}),y.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Dcouvrez quelles pices acheter pour rendre votre garde-robe plus polyvalente"})]}),y.jsx("button",{onClick:Ne,disabled:D,className:"px-4 md:px-6 py-3 bg-gradient-to-r from-gold to-gold-dark text-onyx rounded-xl hover:shadow-lg hover:shadow-gold/30 transition-all font-bold disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2 text-sm md:text-base flex-shrink-0",children:D?"Analyse...":"Analyser ma garde-robe"})]}),y.jsx("div",{className:"hidden md:block",children:y.jsx(bB,{onAnalyze:ir,isAnalyzing:Rn})}),y.jsx("div",{className:"hidden md:block",children:y.jsx(EB,{clothingItems:fe,clothingSets:De,onItemClick:Ft,onDeleteItem:lt,onCreateSet:sn,isLoading:sr})}),y.jsxs("div",{className:"md:hidden",children:[M==="home"&&y.jsx(Sq,{onAnalyzeWardrobe:Ne,onScrollToOutfits:rn,onScrollToVacation:wr,onStartSetCreation:()=>R(!0),onShowFavorites:()=>V(!0),onShowWornOutfits:()=>j(!0),isAnalyzingWardrobe:D,clothingCount:fe.length,favoriteOutfitCount:ke.length,wornOutfitCount:qe.length}),M!=="home"&&y.jsxs("div",{className:"pb-24",children:[Ee&&y.jsx("div",{className:"flex justify-center py-4",children:y.jsxs("svg",{className:"animate-spin h-6 w-6 text-gold",fill:"none",viewBox:"0 0 24 24",children:[y.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),y.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}),y.jsxs("div",{className:"text-center py-4 px-4",children:[y.jsx("h2",{className:"text-2xl font-bold mb-1 capitalize",children:M}),y.jsxs("p",{className:"text-sm text-gray-500",children:[fn.length," vtement",fn.length>1?"s":""]})]}),y.jsxs("div",{className:"px-4 pb-4 space-y-3",children:[y.jsxs("div",{className:"relative",children:[y.jsx(gI,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),y.jsx("input",{type:"text",value:Pt,onChange:he=>Mn(he.target.value),placeholder:"Rechercher...",className:"w-full pl-10 pr-10 py-2.5 bg-white dark:bg-raisin-black border border-gray-200 dark:border-gray-700 rounded-xl focus:outline-none focus:ring-2 focus:ring-gold focus:border-transparent transition-all"}),Pt&&y.jsx("button",{onClick:()=>Mn(""),className:"absolute right-3 top-1/2 -translate-y-1/2 p-1 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-full transition-colors","aria-label":"Effacer",children:y.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),y.jsxs("div",{className:"relative",children:[y.jsx(vI,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400 pointer-events-none"}),y.jsxs("select",{value:wn,onChange:he=>Cn(he.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-white dark:bg-raisin-black border border-gray-200 dark:border-gray-700 rounded-xl focus:outline-none focus:ring-2 focus:ring-gold focus:border-transparent appearance-none cursor-pointer transition-all",children:[y.jsx("option",{value:"favorites",children:"Favoris d'abord"}),y.jsx("option",{value:"newest",children:"Plus rcents"}),y.jsx("option",{value:"oldest",children:"Plus anciens"}),y.jsx("option",{value:"color",children:"Couleur (A-Z)"})]}),y.jsx(Jc,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400 pointer-events-none"})]})]}),fn.length>0?y.jsx("div",{className:"grid grid-cols-2 gap-3 px-4",children:fn.map(he=>y.jsxs("div",{onClick:()=>Ft(he),className:"relative bg-white dark:bg-gray-800 rounded-xl overflow-hidden shadow-lg cursor-pointer active:scale-95 transition-transform",children:[he.isFavorite?y.jsx("span",{className:"absolute top-2 left-2 p-1.5 bg-black/50 backdrop-blur-sm rounded-full text-red-500 z-10",children:y.jsx(du,{className:"w-4 h-4"})}):Ke.has(he.id)?y.jsx("span",{className:"absolute top-2 left-2 p-1.5 bg-black/50 backdrop-blur-sm rounded-full text-white z-10",children:y.jsx(Fp,{})}):null,y.jsx("div",{className:"aspect-square",children:y.jsx("img",{src:he.imageSrc,alt:he.analysis,loading:"lazy",className:"w-full h-full object-cover"})}),y.jsxs("div",{className:"p-3",children:[y.jsx("p",{className:"text-sm font-medium line-clamp-2",children:he.analysis}),y.jsx("p",{className:"text-xs text-gray-500 mt-1",children:he.color})]})]},he.id))}):y.jsx("div",{className:"text-center py-12 px-4",children:Pt?y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"text-6xl mb-4",children:""}),y.jsxs("p",{className:"text-gray-500 font-medium",children:['Aucun rsultat pour "',Pt,'"']}),y.jsx("button",{onClick:()=>Mn(""),className:"mt-3 text-gold font-medium",children:"Effacer la recherche"})]}):y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"text-6xl mb-4",children:""}),y.jsx("p",{className:"text-gray-500 font-medium",children:"Aucun vtement dans cette catgorie"}),y.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Appuyez sur + pour en ajouter"})]})})]})]})]}),y.jsxs("div",{className:"lg:col-span-1 space-y-10 lg:sticky lg:top-40 hidden md:block",children:[y.jsx("div",{id:"outfit-generator",children:y.jsx(KN,{clothingItems:fe,clothingSets:De,onGenerate:Qe,isGenerating:f,weatherInfo:Q,weatherError:de})}),s.length>0&&y.jsx(eu,{outfits:s,allClothingItems:fe,allClothingSets:De,favoriteOutfits:ke,onToggleFavorite:ye,onGenerateVisual:ze,generatingVisualFor:re,selectedOutfit:u,onSelectOutfit:Ue}),ke.length>0&&y.jsxs("div",{className:"mt-10 border border-black/10 dark:border-white/10 rounded-xl overflow-hidden bg-white dark:bg-raisin-black shadow-sm",children:[y.jsxs("button",{onClick:()=>wt(!Nt),className:"w-full flex items-center justify-between p-5 hover:bg-gray-50 dark:hover:bg-white/5 transition-colors",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx(du,{className:"text-gold w-5 h-5"}),y.jsxs("h2",{className:"text-xl font-serif font-bold text-raisin-black dark:text-snow",children:["Mes Favoris ",y.jsxs("span",{className:"text-sm font-sans font-normal text-gray-500",children:["(",ke.length,")"]})]})]}),y.jsx("div",{className:`transition-transform duration-300 ${Nt?"rotate-180":""} text-gray-400`,children:y.jsx(Jc,{})})]}),Nt&&y.jsx("div",{className:"p-4 border-t border-black/10 dark:border-white/10 bg-snow dark:bg-onyx/50 max-h-[600px] overflow-y-auto custom-scrollbar",children:y.jsx(eu,{outfits:ke,allClothingItems:fe,allClothingSets:De,favoriteOutfits:ke,onToggleFavorite:ye,onGenerateVisual:ze,generatingVisualFor:re,selectedOutfit:u,onSelectOutfit:Ue})})]}),qe.length>0&&y.jsxs("div",{className:"mt-10 border border-black/10 dark:border-white/10 rounded-xl overflow-hidden bg-white dark:bg-raisin-black shadow-sm",children:[y.jsxs("button",{onClick:()=>yr(!jn),className:"w-full flex items-center justify-between p-5 hover:bg-gray-50 dark:hover:bg-white/5 transition-colors",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("svg",{className:"w-5 h-5 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),y.jsxs("h2",{className:"text-xl font-serif font-bold text-raisin-black dark:text-snow",children:["Tenues Portes ",y.jsxs("span",{className:"text-sm font-sans font-normal text-gray-500",children:["(7 derniers jours - ",qe.length,")"]})]})]}),y.jsx("div",{className:`transition-transform duration-300 ${jn?"rotate-180":""} text-gray-400`,children:y.jsx(Jc,{})})]}),jn&&y.jsx("div",{className:"p-4 border-t border-black/10 dark:border-white/10 bg-snow dark:bg-onyx/50 max-h-[600px] overflow-y-auto custom-scrollbar",children:y.jsx(eu,{outfits:qe.map(he=>({titre:he.outfitTitle,description:he.outfitDescription,vetements:he.itemIds.map(_e=>{const Le=fe.find(Ct=>Ct.id===_e);return{id:_e,description:Le?Le.analysis:"Article supprim"}})})),allClothingItems:fe,allClothingSets:De,favoriteOutfits:ke,onToggleFavorite:ye,onGenerateVisual:ze,generatingVisualFor:re,selectedOutfit:u,onSelectOutfit:Ue})})]}),y.jsx("div",{id:"vacation-planner",children:y.jsx(Gk,{clothingItems:fe,clothingSets:De,onGeneratePlan:Xe,isGenerating:_})}),g&&y.jsx($k,{plan:g,allClothingItems:fe,allClothingSets:De,onCreateSet:sn})]})]}),t&&y.jsx(uq,{item:t,clothingSets:De,onClose:xt,onUpdate:Vn,onGenerateFrom:Dt,onRemoveSet:xr,onDelete:lt,getItemWearCount:Wa}),C&&y.jsx(Cq,{analysis:C,onClose:()=>N(null)}),rm,y.jsx(Tq,{onFilesSelected:ir,isAnalyzing:Rn,isOtherModalOpen:Vr}),y.jsx(Aq,{activeTab:M,onTabChange:z,counts:En}),y.jsx(Rq,{open:G,clothingItems:fe,clothingSets:De,onGenerate:Qe,isGenerating:f,suggestedOutfits:s,onClose:()=>K(!1),weatherInfo:Q,weatherError:de,favoriteOutfits:ke,onToggleFavorite:ye,onGenerateVisual:ze,generatingVisualFor:re,selectedOutfit:u,onSelectOutfit:Ue}),y.jsx(Iq,{open:H,clothingItems:fe,clothingSets:De,onGeneratePlan:Xe,isGenerating:_,vacationPlan:g,onCreateSet:sn,onClose:()=>A(!1)}),y.jsx(Nq,{open:S,clothingItems:fe,clothingSets:De,onClose:()=>R(!1),onCreateSet:(he,_e)=>{sn(he,_e),R(!1)}}),y.jsx(Yq,{open:L,onClose:()=>V(!1),allClothingItems:fe,allClothingSets:De,favoriteOutfits:ke,onToggleFavorite:ye,onGenerateVisual:ze,generatingVisualFor:re,selectedOutfit:u,onSelectOutfit:Ue}),y.jsx(Wq,{open:O,onClose:()=>j(!1),allClothingItems:fe,allClothingSets:De,wornOutfits:qe,favoriteOutfits:ke,onToggleFavorite:ye,onGenerateVisual:ze,generatingVisualFor:re,selectedOutfit:u,onSelectOutfit:Ue}),rm,rr&&y.jsx(DO,{onComplete:()=>Zr(!1)}),jt&&y.jsx("div",{className:"fixed bottom-32 md:bottom-8 left-1/2 -translate-x-1/2 z-[100]",children:y.jsxs("div",{className:"bg-raisin-black dark:bg-white text-white dark:text-raisin-black px-6 py-3 rounded-full shadow-2xl font-medium flex items-center gap-2 animate-slide-up",children:[jt.includes("")&&y.jsx("span",{className:"animate-pulse",children:""}),jt.includes("Retir")&&y.jsx("span",{children:""}),jt.includes("ajout")&&!jt.includes("")&&y.jsx("span",{children:""}),y.jsx("span",{children:jt.replace("","").trim()})]})})]})},Xq=()=>{const[t,e]=P.useState(null),[n,r]=P.useState("dark"),[s,o]=P.useState(!1);P.useEffect(()=>{const d=gj(To,f=>{e(f),f&&o(!1)});return()=>d()},[]),P.useEffect(()=>{n==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[n]);const u=()=>{r(d=>d==="light"?"dark":"light")};return y.jsx("div",{className:"min-h-screen bg-snow dark:bg-onyx text-raisin-black dark:text-snow transition-colors duration-300",children:t?y.jsxs(y.Fragment,{children:[y.jsx(B5,{theme:n,toggleTheme:u,children:y.jsx(oS,{user:t})}),y.jsx(Gq,{user:t,children:y.jsx(Qq,{})})]}):s?y.jsx("div",{className:"flex items-center justify-center min-h-screen p-4 animate-slide-up",children:y.jsxs("div",{className:"w-full max-w-md",children:[y.jsx("button",{onClick:()=>o(!1),className:"mb-4 flex items-center gap-2 text-gray-500 hover:text-gold transition-colors text-sm font-medium",children:" Retour"}),y.jsx(oS,{user:t})]})}):y.jsx(yB,{onGetStarted:()=>o(!0)})})},Yk=document.getElementById("root");if(!Yk)throw new Error("L'lment root est introuvable dans le DOM");const Zq=kO.createRoot(Yk);Zq.render(y.jsx(Sn.StrictMode,{children:y.jsx(Xq,{})}));export{fp as I,hp as N,Jp as W};
